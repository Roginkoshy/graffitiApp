function _toArray(e){return _arrayWithHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableRest()}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(l){i=!0,a=l}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _toConsumableArray(e){return _arrayWithoutHoles(e)||_iterableToArray(e)||_unsupportedIterableToArray(e)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArray(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}function _arrayWithoutHoles(e){if(Array.isArray(e))return _arrayLikeToArray(e)}function _createForOfIteratorHelper(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function _construct2(e,t,n){return(_construct2=_isNativeReflectConstruct2()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&_setPrototypeOf2(i,n.prototype),i}).apply(null,arguments)}function _get2(e,t,n){return(_get2="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=_superPropBase(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function _superPropBase(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_getPrototypeOf2(e)););return e}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&_setPrototypeOf2(e,t)}function _setPrototypeOf2(e,t){return(_setPrototypeOf2=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function _createSuper(e){var t=_isNativeReflectConstruct2();return function(){var n,r=_getPrototypeOf2(e);if(t){var i=_getPrototypeOf2(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return _possibleConstructorReturn2(this,n)}}function _possibleConstructorReturn2(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?_assertThisInitialized(e):t}function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function _isNativeReflectConstruct2(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function _getPrototypeOf2(e){return(_getPrototypeOf2=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _classCallCheck2(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _createClass2(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}/*! For license information please see main-es2015.3dc8054e2a391e8670a2.js.LICENSE.txt */(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/sK6":function(e,t,n){var r;window,r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="dist",n(n.s=33)}([function(e,t,n){"use strict";e.exports=function(e,t){var n,r,i,a,o=Object.prototype.hasOwnProperty;for(i=1,a=arguments.length;i<a;i+=1)for(r in n=arguments[i])o.call(n,r)&&(e[r]=n[r]);return e}},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Array}},function(e,t,n){"use strict";var r=n(1),i=n(6),a=n(7);e.exports=function(e,t,n){r(e)?i(e,t,n):a(e,t,n)}},function(e,t,n){"use strict";e.exports=function(e){return void 0===e}},function(e,t,n){"use strict";var r=n(22),i=n(2),a=n(6),o=n(7),s=n(37),l=0;e.exports={getLength:function(e){var t=0;return o(e,(function(){t+=1})),t},map:function(e,t,n){var r=[];return i(e,(function(){r.push(t.apply(n||null,arguments))})),r},filter:function(e,t,n){var r=[];return a(e,(function(e){t.apply(n||null,arguments)&&r.push(e)})),r},generateId:function(){return l+=1},isOldBrowser:r.msie&&r.version<9,sendHostName:function(){s("color-picker","UA-129987462-1")}}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t,n){var i,a;if(n=n||0,!r(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(a=t.length,i=n;n>=0&&i<a;i+=1)if(t[i]===e)return i;return-1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}},function(e,t,n){"use strict";e.exports=function(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}},function(e,t,n){"use strict";var r=n(39),i=n(13),a=n(41),o=n(3),s=n(9),l=n(19),c=n(4);function u(e,t){var n=c.generateId();e=e||{},o(t)&&(t=s.appendHTMLElement("div")),r(t,"tui-view-"+n),this.id=n,this.container=t,this.childs=new l((function(e){return e.id})),this.parent=null}u.prototype.addChild=function(e,t){t&&t.call(e,this),e.parent=this,this.childs.add(e)},u.prototype.removeChild=function(e,t){var n=a(e)?this.childs.items[e]:e;t&&t.call(n,this),this.childs.remove(n.id)},u.prototype.render=function(){this.childs.each((function(e){e.render()}))},u.prototype.recursive=function(e,t){i(e)&&(t||e(this),this.childs.each((function(t){t.recursive(e)})))},u.prototype.resize=function(){for(var e=Array.prototype.slice.call(arguments),t=this.parent;t;)i(t._onResize)&&t._onResize.apply(t,e),t=t.parent},u.prototype._beforeDestroy=function(){},u.prototype._destroy=function(){this._beforeDestroy(),this.container.innerHTML="",this.id=this.parent=this.childs=this.container=null},u.prototype.destroy=function(e){this.childs&&(this.childs.each((function(e){e.destroy(!0),e._destroy()})),this.childs.clear()),e||this._destroy()},u.prototype.getViewBound=function(){var e=this.container.getBoundingClientRect();return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},e.exports=u},function(e,t,n){"use strict";e.exports={appendHTMLElement:function(e,t,n){var r=document.createElement(e);return r.className=n||"",t?t.appendChild(r):document.body.appendChild(r),r}}},function(e,t,n){"use strict";var r=n(0),i=n(20),a=n(11),o=n(21),s=n(1),l=n(13),c=n(2),u=/\s+/g;function h(){this.events=null,this.contexts=null}h.mixin=function(e){r(e.prototype,h.prototype)},h.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},h.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(n[e]=t=[]),n=t),n},h.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},h.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},h.prototype._memorizeContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},h.prototype._forgetContext=function(e){var t,n;i(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},h.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},h.prototype.on=function(e,t,n){var r=this;a(e)?(e=e.split(u),c(e,(function(e){r._bindEvent(e,t,n)}))):o(e)&&(n=t,c(e,(function(e,t){r.on(t,e,n)})))},h.prototype.once=function(e,t,n){var r=this;if(o(e))return n=t,void c(e,(function(e,t){r.once(t,e,n)}));this.on(e,(function i(){t.apply(n,arguments),r.off(e,i,n)}),n)},h.prototype._spliceMatches=function(e,t){var n,r=0;if(s(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},h.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},h.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},h.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler&&t===r.context;return i&&n._forgetContext(r.context),i}},h.prototype._offByEventName=function(e,t){var n=this,r=l(t),i=n._matchHandler(t);e=e.split(u),c(e,(function(e){var t=n._safeEvent(e);r?n._spliceMatches(t,i):(c(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},h.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);c(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},h.prototype._offByObject=function(e,t){var n,r=this;this._indexOfContext(e)<0?c(e,(function(e,t){r.off(t,e)})):a(t)?(n=this._matchContext(e),r._spliceMatches(this._safeEvent(t),n)):l(t)?(n=this._matchHandlerAndContext(t,e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)}))):(n=this._matchContext(e),c(this._safeEvent(),(function(e){r._spliceMatches(e,n)})))},h.prototype.off=function(e,t){a(e)?this._offByEventName(e,t):arguments.length?l(e)?this._offByHandler(e):o(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},h.prototype.fire=function(e){this.invoke.apply(this,arguments)},h.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},h.prototype.hasListener=function(e){return this.getListenerLength(e)>0},h.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=h},function(e,t,n){"use strict";e.exports=function(e){return"string"==typeof e||e instanceof String}},function(e,t,n){"use strict";var r=/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i,i={leadingZero:function(e,t){var n="",r=0;if((e+"").length>t)return e+"";for(;r<t-1;r+=1)n+="0";return(n+e).slice(-1*t)},isValidRGB:function(e){return r.test(e)},hexToRGB:function(e){return!!i.isValidRGB(e)&&(e=e.substring(1),[parseInt(e.substr(0,2),16),parseInt(e.substr(2,2),16),parseInt(e.substr(4,2),16)])},rgbToHEX:function(e,t,n){var r="#"+i.leadingZero(e.toString(16),2)+i.leadingZero(t.toString(16),2)+i.leadingZero(n.toString(16),2);return!!i.isValidRGB(r)&&r},rgbToHSV:function(e,t,n){var r,i,a,o,s,l;if(e/=255,t/=255,n/=255,s=r=Math.max(e,t,n),l=r-(i=Math.min(e,t,n)),o=0===r?0:l/r,r===i)a=0;else{switch(r){case e:a=(t-n)/l+(t<n?6:0);break;case t:a=(n-e)/l+2;break;case n:a=(e-t)/l+4}a/=6}return[Math.round(360*a),Math.round(100*o),Math.round(100*s)]},hsvToRGB:function(e,t,n){var r,i,a,o,s,l,c,u;if(e=Math.max(0,Math.min(360,e)),t=Math.max(0,Math.min(100,t)),n=Math.max(0,Math.min(100,n)),n/=100,0==(t/=100))return r=i=a=n,[Math.round(255*r),Math.round(255*i),Math.round(255*a)];switch(l=n*(1-t),c=n*(1-t*(s=(e/=60)-(o=Math.floor(e)))),u=n*(1-t*(1-s)),o){case 0:r=n,i=u,a=l;break;case 1:r=c,i=n,a=l;break;case 2:r=l,i=n,a=u;break;case 3:r=l,i=c,a=n;break;case 4:r=u,i=l,a=n;break;default:r=n,i=l,a=c}return[Math.round(255*r),Math.round(255*i),Math.round(255*a)]}};e.exports=i},function(e,t,n){"use strict";e.exports=function(e){return e instanceof Function}},function(e,t,n){"use strict";var r=n(11),i=n(2),a=n(26);function o(e,t,n,r){function o(t){n.call(r||e,t||window.event)}"addEventListener"in e?e.addEventListener(t,o):"attachEvent"in e&&e.attachEvent("on"+t,o),function(e,t,n,r){var o=a(e,t),s=!1;i(o,(function(e){return e.handler!==n||(s=!0,!1)})),s||o.push({handler:n,wrappedHandler:r})}(e,t,n,o)}e.exports=function(e,t,n,a){r(t)?i(t.split(/\s+/g),(function(t){o(e,t,n,a)})):i(t,(function(t,r){o(e,r,t,n)}))}},function(e,t,n){"use strict";e.exports=function(e){e.preventDefault?e.preventDefault():e.returnValue=!1}},function(e,t,n){"use strict";e.exports=function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))}},function(e,t,n){"use strict";var r=n(11),i=n(2),a=n(26);function o(e,t,n){var r,o=a(e,t);n?(i(o,(function(i,a){return n!==i.handler||(s(e,t,i.wrappedHandler),r=a,!1)})),o.splice(r,1)):(i(o,(function(n){s(e,t,n.wrappedHandler)})),o.splice(0,o.length))}function s(e,t,n){"removeEventListener"in e?e.removeEventListener(t,n):"detachEvent"in e&&e.detachEvent("on"+t,n)}e.exports=function(e,t,n){r(t)?i(t.split(/\s+/g),(function(t){o(e,t,n)})):i(t,(function(t,n){o(e,n,t)}))}},function(e,t,n){"use strict";var r=n(50);e.exports=function(e,t){var n=r(t.prototype);n.constructor=e,e.prototype=n}},function(e,t,n){"use strict";var r=n(6),i=n(7),a=n(0),o=n(1),s=n(20),l=n(13),c=n(21),u=n(4),h=Array.prototype.slice;function d(e){this.items={},this.length=0,l(e)&&(this.getItemID=e)}d.and=function(e){var t;return e=h.call(arguments),t=e.length,function(n){for(var r=0;r<t;r+=1)if(!e[r].call(null,n))return!1;return!0}},d.or=function(e){var t;return e=h.call(arguments),t=e.length,function(n){for(var r=1,i=e[0].call(null,n);r<t;r+=1)i=i||e[r].call(null,n);return i}},d.merge=function(e){var t={},n=new d(e.getItemID);return r(arguments,(function(e){a(t,e.items)})),n.items=t,n.length=u.getLength(n.items),n},d.prototype.getItemID=function(e){return e._id+""},d.prototype.add=function(e){var t,n;arguments.length>1?r(h.call(arguments),(function(e){this.add(e)}),this):(t=this.getItemID(e),(n=this.items)[t]||(this.length+=1),n[t]=e)},d.prototype.remove=function(e){var t,n,r=[];return this.length?arguments.length>1?r=u.map(h.call(arguments),(function(e){return this.remove(e)}),this):(t=this.items,c(e)&&(e=this.getItemID(e)),t[e]?(this.length-=1,n=t[e],delete t[e],n):r):r},d.prototype.clear=function(){this.items={},this.length=0},d.prototype.has=function(e){var t,n;return!!this.length&&(t=l(e),n=!1,t?this.each((function(t){return!0!==e(t)||(n=!0,!1)})):(e=c(e)?this.getItemID(e):e,n=s(this.items[e])),n)},d.prototype.doWhenHas=function(e,t,n){var r=this.items[e];s(r)&&t.call(n||this,r)},d.prototype.find=function(e){var t=new d;return this.hasOwnProperty("getItemID")&&(t.getItemID=this.getItemID),this.each((function(n){!0===e(n)&&t.add(n)})),t},d.prototype.groupBy=function(e,t){var n,i,a={},s=l(e),c=this.getItemID;if(o(e)){if(r(e,(function(e){a[e+""]=new d(c)})),!t)return a;e=t,s=!0}return this.each((function(t){s?i=e(t):l(i=t[e])&&(i=i.apply(t)),(n=a[i])||(n=a[i]=new d(c)),n.add(t)})),a},d.prototype.single=function(){var e;return this.each((function(t){return e=t,!1}),this),e},d.prototype.sort=function(e){var t=[];return this.each((function(e){t.push(e)})),l(e)&&(t=t.sort(e)),t},d.prototype.each=function(e,t){i(this.items,e,t||this)},d.prototype.toArray=function(){return this.length?u.map(this.items,(function(e){return e})):[]},e.exports=d},function(e,t,n){"use strict";var r=n(3),i=n(36);e.exports=function(e){return!r(e)&&!i(e)}},function(e,t,n){"use strict";e.exports=function(e){return e===Object(e)}},function(e,t,n){"use strict";var r,i,a,o,s,l,c,u,h,d,p={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};window&&window.navigator&&(o=(a=window.navigator).appName.replace(/\s/g,"_"),s=a.userAgent,l=/MSIE\s([0-9]+[.0-9]*)/,c=/Trident.*rv:11\./,u=/Edge\/(\d+)\./,h={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(d={Microsoft_Internet_Explorer:function(){var e=s.match(l);e?(p.msie=!0,p.version=parseFloat(e[1])):p.others=!0},Netscape:function(){var e=!1;if(c.exec(s))p.msie=!0,p.version=11,e=!0;else if(u.exec(s))p.edge=!0,p.version=s.match(u)[1],e=!0;else for(r in h)if(h.hasOwnProperty(r)&&(i=s.match(h[r]))&&i.length>1){p[r]=e=!0,p.version=parseFloat(i[1]||0);break}e||(p.others=!0)}})[o]&&d[o]()),e.exports=p},function(e,t,n){"use strict";var r=n(3);e.exports=function(e){return e&&e.className?r(e.className.baseVal)?e.className:e.className.baseVal:""}},function(e,t,n){"use strict";(function(t){var r=n(10),i=n(42),a=n(44),o=n(47),s=n(28),l=n(17),c=n(14),u=n(15),h=n(0);function d(e,t){c(t,"mousedown",this._onMouseDown,this),this.options=h({distance:10},e),this.container=t,this._isMoved=!1,this._distance=0,this._dragStartFired=!1,this._dragStartEventData=null}d.prototype.destroy=function(){l(this.container,"mousedown",this._onMouseDown),this.options=this.container=this._isMoved=this._distance=this._dragStartFired=this._dragStartEventData=null},d.prototype._toggleDragEvent=function(e){var n=this.container;e?(i(n),c(window,"dragstart",u),c(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp},this)):(a(n),l(window,"dragstart",u),l(t.document,{mousemove:this._onMouseMove,mouseup:this._onMouseUp}))},d.prototype._getEventData=function(e){return{target:s(e),originEvent:e}},d.prototype._onMouseDown=function(e){0===o(e)&&(this._distance=0,this._dragStartFired=!1,this._dragStartEventData=this._getEventData(e),this._toggleDragEvent(!0))},d.prototype._onMouseMove=function(e){var t=this.options.distance;u(e),this._isMoved=!0,this._distance<t?this._distance+=1:this._dragStartFired||(this._dragStartFired=!0,this.invoke("dragStart",this._dragStartEventData))?this.fire("drag",this._getEventData(e)):this._toggleDragEvent(!1)},d.prototype._onMouseUp=function(e){if(this._toggleDragEvent(!1),this._isMoved)return this._isMoved=!1,void this.fire("dragEnd",this._getEventData(e));this.fire("click",this._getEventData(e))},r.mixin(d),e.exports=d}).call(this,n(25))},function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"==typeof window&&(n=window)}e.exports=n},function(e,t,n){"use strict";e.exports=function(e,t){var n,r=e._feEventKey;return r||(r=e._feEventKey={}),(n=r[t])||(n=r[t]=[]),n}},function(e,t,n){"use strict";e.exports=function(e){var t,n,r=document.documentElement.style;for(t=0,n=e.length;t<n;t+=1)if(e[t]in r)return e[t];return!1}},function(e,t,n){"use strict";e.exports=function(e){return e.target||e.srcElement}},function(e,t,n){"use strict";var r=n(10),i=n(28),a=n(17),o=n(14),s=n(30),l=n(0),c=n(18),u=n(9),h=n(12),d=n(8),p=n(51);function f(e,t){this.options=l({cssPrefix:"tui-colorpicker-",preset:["#181818","#282828","#383838","#585858","#B8B8B8","#D8D8D8","#E8E8E8","#F8F8F8","#AB4642","#DC9656","#F7CA88","#A1B56C","#86C1B9","#7CAFC2","#BA8BAF","#A16946"],detailTxt:"Detail"},e),t=u.appendHTMLElement("div",t,this.options.cssPrefix+"palette-container"),d.call(this,e,t)}c(f,d),f.prototype._onClick=function(e){var t=this.options,n=i(e),r={};if(s(n,t.cssPrefix+"palette-button"))return r.color=n.value,void this.fire("_selectColor",r);s(n,t.cssPrefix+"palette-toggle-slider")&&this.fire("_toggleSlider")},f.prototype._onChange=function(e){var t=this.options,n=i(e),r={};s(n,t.cssPrefix+"palette-hex")&&(r.color=n.value,this.fire("_selectColor",r))},f.prototype._beforeDestroy=function(){this._toggleEvent(!1)},f.prototype._toggleEvent=function(e){var t,n=this.options,r=this.container,i=e?o:a;i(r,"click",this._onClick,this),(t=r.querySelector("."+n.cssPrefix+"palette-hex",r))&&i(t,"change",this._onChange,this)},f.prototype.render=function(e){var t,n=this.options;this._toggleEvent(!1),t=p({cssPrefix:n.cssPrefix,preset:n.preset,detailTxt:n.detailTxt,color:e,isValidRGB:h.isValidRGB,getItemClass:function(e){return e?"":" "+n.cssPrefix+"color-transparent"},isSelected:function(t){return t===e?" "+n.cssPrefix+"selected":""}}),this.container.innerHTML=t,this._toggleEvent(!0)},r.mixin(f),e.exports=f},function(e,t,n){"use strict";var r=n(5),i=n(23);e.exports=function(e,t){var n;return e.classList?e.classList.contains(t):(n=i(e).split(/\s+/),r(t,n)>-1)}},function(e,t,n){"use strict";var r=n(10),i=n(53),a=n(54),o=n(30),s=n(0),l=n(18),c=n(9),u=n(32),h=n(12),d=n(8),p=n(24),f=n(57),m=[-7,112],g=[-3,115];function v(e,t){(t=c.appendHTMLElement("div",t,e.cssPrefix+"slider-container")).style.display="none",d.call(this,e,t),this.options=s({color:"#f8f8f8",cssPrefix:"tui-colorpicker-"},e),this._dragDataCache={},this.sliderHandleElement=null,this.huebarHandleElement=null,this.baseColorElement=null,this.drag=new p({distance:0},t),this.drag.on({dragStart:this._onDragStart,drag:this._onDrag,dragEnd:this._onDragEnd,click:this._onClick},this)}l(v,d),v.prototype._beforeDestroy=function(){this.drag.off(),this.drag=this.options=this._dragDataCache=this.sliderHandleElement=this.huebarHandleElement=this.baseColorElement=null},v.prototype.toggle=function(e){this.container.style.display=e?"block":"none"},v.prototype.isVisible=function(){return"block"===this.container.style.display},v.prototype.render=function(e){var t,n,r=this.container,i=this.options,a=f.layout;h.isValidRGB(e)&&(a=(a=(a=(a=a.replace(/{{slider}}/,f.slider)).replace(/{{huebar}}/,f.huebar)).replace(/{{cssPrefix}}/g,i.cssPrefix)).replace(/{{id}}/g,i.id),this.container.innerHTML=a,this.sliderHandleElement=r.querySelector("."+i.cssPrefix+"slider-handle"),this.huebarHandleElement=r.querySelector("."+i.cssPrefix+"huebar-handle"),this.baseColorElement=r.querySelector("."+i.cssPrefix+"slider-basecolor"),t=h.hexToRGB(e),n=h.rgbToHSV.apply(null,t),this.moveHue(n[0],!0),this.moveSaturationAndValue(n[1],n[2],!0))},v.prototype._moveColorSliderHandle=function(e,t,n){var r=this.sliderHandleElement;t=Math.max(m[0],t),t=Math.min(m[1],t),e=Math.max(m[0],e),e=Math.min(m[1],e),u.setTranslateXY(r,e,t),u.setStrokeColor(r,t>50?"white":"black"),n||this.fire("_selectColor",{color:h.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveSaturationAndValue=function(e,t,n){var r,i;e=e||0,t=t||0,r=Math.abs(m[0]),this._moveColorSliderHandle(e*(i=m[1])/100-r,i-t*i/100-r,n)},v.prototype._moveColorSliderByPosition=function(e,t){var n=m[0];this._moveColorSliderHandle(e+n,t+n)},v.prototype.getSaturationAndValue=function(){var e=Math.abs(m[0]),t=e+m[1],n=u.getTranslateXY(this.sliderHandleElement);return[(n[1]+e)/t*100,100-(n[0]+e)/t*100]},v.prototype._moveHueHandle=function(e,t){var n,r,i=this.huebarHandleElement,a=this.baseColorElement;e=Math.max(g[0],e),e=Math.min(g[1],e),u.setTranslateY(i,e),n=h.hsvToRGB(this.getHue(),100,100),r=h.rgbToHEX.apply(null,n),u.setGradientColorStop(a,r),t||this.fire("_selectColor",{color:h.rgbToHEX.apply(null,this.getRGB())})},v.prototype.moveHue=function(e,t){var n;n=Math.abs(g[0]),this._moveHueHandle((n+g[1])*(e=e||0)/359.99-n,t)},v.prototype._moveHueByPosition=function(e){this._moveHueHandle(e+g[0])},v.prototype.getHue=function(){var e,t=u.getTranslateXY(this.huebarHandleElement);return e=Math.abs(g[0]),359.99*(t[0]+e)/(e+g[1])},v.prototype.getHSV=function(){var e=this.getSaturationAndValue();return[this.getHue()].concat(e)},v.prototype.getRGB=function(){return h.hsvToRGB.apply(null,this.getHSV())},v.prototype._prepareColorSliderForMouseEvent=function(e){var t=this.options,n=a(e.target,"."+t.cssPrefix+"slider-part");return this._dragDataCache={isColorSlider:o(n,t.cssPrefix+"slider-left"),parentElement:n}},v.prototype._onClick=function(e){var t=this._prepareColorSliderForMouseEvent(e),n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1]),this._dragDataCache=null},v.prototype._onDragStart=function(e){this._prepareColorSliderForMouseEvent(e)},v.prototype._onDrag=function(e){var t=this._dragDataCache,n=i(e.originEvent,t.parentElement);t.isColorSlider?this._moveColorSliderByPosition(n[0],n[1]):this._moveHueByPosition(n[1])},v.prototype._onDragEnd=function(){this._dragDataCache=null},r.mixin(v),e.exports=v},function(e,t,n){"use strict";var r=n(4).isOldBrowser,i=/[\.\-0-9]+/g;e.exports={getTranslateXY:function(e){var t;return r?(t=e.style,[parseFloat(t.top),parseFloat(t.left)]):(t=e.getAttribute("transform"))?(t=t.match(i),[parseFloat(t[1]),parseFloat(t[0])]):[0,0]},setTranslateXY:function(e,t,n){r?(e.style.left=t+"px",e.style.top=n+"px"):e.setAttribute("transform","translate("+t+","+n+")")},setTranslateY:function(e,t){r?e.style.top=t+"px":e.setAttribute("transform","translate(-6,"+t+")")},setStrokeColor:function(e,t){r?e.strokecolor=t:e.setAttribute("stroke",t)},setGradientColorStop:function(e,t){r?e.color=t:e.setAttribute("stop-color",t)}}},function(e,t,n){n(34),e.exports=n(35)},function(e,t,n){},function(e,t,n){"use strict";var r=n(19),i=n(8),a=n(24),o=n(48),s=n(29),l=n(31),c=n(12),u=n(32);e.exports={Collection:r,View:i,Drag:a,create:o,Palette:s,Slider:l,colorutil:c,svgvml:u}},function(e,t,n){"use strict";e.exports=function(e){return null===e}},function(e,t,n){"use strict";var r=n(3),i=n(38);e.exports=function(e,t){var n=location.hostname,a="TOAST UI "+e+" for "+n+": Statistics",o=window.localStorage.getItem(a);(r(window.tui)||!1!==window.tui.usageStatistics)&&(o&&!function(e){return(new Date).getTime()-e>6048e5}(o)||(window.localStorage.setItem(a,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||i("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}},function(e,t,n){"use strict";var r=n(7);e.exports=function(e,t){var n=document.createElement("img"),i="";return r(t,(function(e,t){i+="&"+t+"="+e})),i=i.substring(1),n.src=e+"?"+i,n.style.display="none",document.body.appendChild(n),document.body.removeChild(n),n}},function(e,t,n){"use strict";var r=n(2),i=n(5),a=n(23),o=n(40);e.exports=function(e){var t,n=Array.prototype.slice.call(arguments,1),s=e.classList,l=[];s?r(n,(function(t){e.classList.add(t)})):((t=a(e))&&(n=[].concat(t.split(/\s+/),n)),r(n,(function(e){i(e,l)<0&&l.push(e)})),o(e,l))}},function(e,t,n){"use strict";var r=n(1),i=n(3);e.exports=function(e,t){t=(t=r(t)?t.join(" "):t).replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),i(e.className.baseVal)?e.className=t:e.className.baseVal=t}},function(e,t,n){"use strict";e.exports=function(e){return"number"==typeof e||e instanceof Number}},function(e,t,n){"use strict";var r=n(14),i=n(15),a=n(43),o=n(27),s="onselectstart"in document,l=o(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),s?r(e,"selectstart",i):(e=e===document?document.documentElement:e,a(e,"prevUserSelect",e.style[l]),e.style[l]="none")}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+r(t),n)}},function(e,t,n){"use strict";var r=n(17),i=n(15),a=n(45),o=n(46),s=n(27),l="onselectstart"in document,c=s(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);e.exports=function(e){e||(e=document),l?r(e,"selectstart",i):((e=e===document?document.documentElement:e).style[c]=a(e,"prevUserSelect")||"auto",o(e,"prevUserSelect"))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(16);e.exports=function(e,t){e.dataset?delete e.dataset[t]:e.removeAttribute("data-"+r(t))}},function(e,t,n){"use strict";var r=n(22),i=n(5),a=["0","1","3","5","7"],o=["2","6"],s=["4"];e.exports=function(e){return r.msie&&r.version<=8?function(e){var t=String(e.button);return i(t,a)>-1?0:i(t,o)>-1?2:i(t,s)>-1?1:null}(e):e.button}},function(e,t,n){"use strict";var r=n(10),i=n(0),a=n(4),o=n(12),s=n(49),l=n(29),c=n(31),u=0;function h(e){var t;if(!(this instanceof h))return new h(e);if(!(e=this.options=i({container:null,color:"#f8f8f8",preset:["#181818","#282828","#383838","#585858","#b8b8b8","#d8d8d8","#e8e8e8","#f8f8f8","#ab4642","#dc9656","#f7ca88","#a1b56c","#86c1b9","#7cafc2","#ba8baf","#a16946"],cssPrefix:"tui-colorpicker-",detailTxt:"Detail",id:u+=1,usageStatistics:!0},e)).container)throw new Error("ColorPicker(): need container option.");t=this.layout=new s(e,e.container),this.palette=new l(e,t.container),this.palette.on({_selectColor:this._onSelectColorInPalette,_toggleSlider:this._onToggleSlider},this),this.slider=new c(e,t.container),this.slider.on("_selectColor",this._onSelectColorInSlider,this),t.addChild(this.palette),t.addChild(this.slider),this.render(e.color),e.usageStatistics&&a.sendHostName()}h.prototype._onSelectColorInPalette=function(e){var t=e.color,n=this.options;o.isValidRGB(t)||""===t?(this.fire("selectColor",{color:t,origin:"palette"}),n.color!==t&&(n.color=t,this.render(t))):this.render()},h.prototype._onToggleSlider=function(){this.slider.toggle(!this.slider.isVisible())},h.prototype._onSelectColorInSlider=function(e){var t=e.color,n=this.options;this.fire("selectColor",{color:t,origin:"slider"}),n.color!==t&&(n.color=t,this.palette.render(t))},h.prototype.setColor=function(e){if(!o.isValidRGB(e))throw new Error("ColorPicker#setColor(): need valid hex string color value");this.options.color=e,this.render(e)},h.prototype.getColor=function(){return this.options.color},h.prototype.toggle=function(e){this.layout.container.style.display=e?"block":"none"},h.prototype.render=function(e){this.layout.render(e||this.options.color)},h.prototype.destroy=function(){this.layout.destroy(),this.options.container.innerHTML="",this.layout=this.slider=this.palette=this.options=null},r.mixin(h),e.exports=h},function(e,t,n){"use strict";var r=n(0),i=n(18),a=n(9),o=n(8);function s(e,t){this.options=r({cssPrefix:"tui-colorpicker-"},e),t=a.appendHTMLElement("div",t,this.options.cssPrefix+"container"),o.call(this,e,t),this.render()}i(s,o),s.prototype.render=function(e){this.recursive((function(t){t.render(e)}),!0)},e.exports=s},function(e,t,n){"use strict";e.exports=function(e){function t(){}return t.prototype=e,new t}},function(e,t,n){"use strict";var r=n(52);e.exports=function(e){var t=['<ul class="{{cssPrefix}}clearfix">',"{{each preset}}",['<li><input class="{{cssPrefix}}palette-button{{isSelected @this}}{{getItemClass @this}}" type="button"',"{{if isValidRGB @this}}",' style="background-color:{{@this}};color:{{@this}}"',"{{/if}}",' title="{{@this}}" value="{{@this}}" /></li>'].join(""),"{{/each}}","</ul>",'<div class="{{cssPrefix}}clearfix" style="overflow:hidden">','<input type="button" class="{{cssPrefix}}palette-toggle-slider" value="{{detailTxt}}" />','<input type="text" class="{{cssPrefix}}palette-hex" value="{{color}}" maxlength="7" />','<span class="{{cssPrefix}}palette-preview" style="background-color:{{color}};color:{{color}}">{{color}}</span>',"</div>"].join("\n");return r(t,e)}},function(e,t,n){"use strict";var r=n(5),i=n(2),a=n(1),o=n(11),s=n(0),l=/{{\s?|\s?}}/g,c=/^[a-zA-Z0-9_@]+\[[a-zA-Z0-9_@"']+\]$/,u=/\[\s?|\s?\]/,h=/^[a-zA-Z_]+\.[a-zA-Z_]+$/,d=/\./,p=/^["']\w+["']$/,f=/"|'/g,m=/^-?\d+\.?\d*$/,g={if:function(e,t,n){var r=function(e,t){var n=[e],r=[],a=0,o=0;return i(t,(function(e,i){0===e.indexOf("if")?a+=1:"/if"===e?a-=1:a||0!==e.indexOf("elseif")&&"else"!==e||(n.push("else"===e?["true"]:e.split(" ").slice(1)),r.push(t.slice(o,i)),o=i+1)})),r.push(t.slice(o)),{exps:n,sourcesInsideIf:r}}(e,t),a=!1,o="";return i(r.exps,(function(e,t){return(a=y(e,n))&&(o=C(r.sourcesInsideIf[t],n)),!a})),o},each:function(e,t,n){var r=y(e,n),o=a(r)?"@index":"@key",l={},c="";return i(r,(function(e,r){l[o]=r,l["@this"]=e,s(n,l),c+=C(t.slice(),n)})),c},with:function(e,t,n){var i=r("as",e),a=e[i+1],o=y(e.slice(0,i),n),l={};return l[a]=o,C(t,s(n,l))||""}},v=3==="a".split(/a/).length?function(e,t){return e.split(t)}:function(e,t){var n,r,i=[],a=0;for(t.global||(t=new RegExp(t,"g")),n=t.exec(e);null!==n;)i.push(e.slice(a,r=n.index)),a=r+n[0].length,n=t.exec(e);return i.push(e.slice(a)),i};function _(e,t){var n,r=t[e];return"true"===e?r=!0:"false"===e?r=!1:p.test(e)?r=e.replace(f,""):c.test(e)?r=_((n=e.split(u))[0],t)[_(n[1],t)]:h.test(e)?r=_((n=e.split(d))[0],t)[n[1]]:m.test(e)&&(r=parseFloat(e)),r}function b(e,t,n){for(var r,i,a=g[e],s=1,l=2,c=t[l];s&&o(c);)0===c.indexOf(e)?s+=1:0===c.indexOf("/"+e)&&(s-=1,r=l),c=t[l+=2];if(s)throw Error(e+" needs {{/"+e+"}} expression.");return t[0]=a(t[0].split(" ").slice(1),((i=t.splice(1,r-0)).pop(),i),n),t}function y(e,t){var n=_(e[0],t);return n instanceof Function?function(e,t,n){var r=[];return i(t,(function(e){r.push(_(e,n))})),e.apply(null,r)}(n,e.slice(1),t):n}function C(e,t){for(var n,r,i,a=1,s=e[a];o(s);)n=s.split(" "),g[r=n[0]]?(i=b(r,e.splice(a,e.length-a),t),e=e.concat(i)):e[a]=y(n,t),s=e[a+=2];return e.join("")}e.exports=function(e,t){return C(v(e,l),t)}},function(e,t,n){"use strict";var r=n(1);e.exports=function(e,t){var n,i=r(e),a=i?e[0]:e.clientX,o=i?e[1]:e.clientY;return t?[a-(n=t.getBoundingClientRect()).left-t.clientLeft,o-n.top-t.clientTop]:[a,o]}},function(e,t,n){"use strict";var r=n(55);e.exports=function(e,t){var n=e.parentNode;if(r(e,t))return e;for(;n&&n!==document;){if(r(n,t))return n;n=n.parentNode}return null}},function(e,t,n){"use strict";var r=n(5),i=n(56),a=Element.prototype,o=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||function(e){return r(this,i((this.document||this.ownerDocument).querySelectorAll(e)))>-1};e.exports=function(e,t){return o.call(e,t)}},function(e,t,n){"use strict";var r=n(6);e.exports=function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],r(e,(function(e){t.push(e)}))}return t}},function(e,t,n){"use strict";(function(t){var r=n(4).isOldBrowser,i=['<div class="{{cssPrefix}}slider-left {{cssPrefix}}slider-part">{{slider}}</div>','<div class="{{cssPrefix}}slider-right {{cssPrefix}}slider-part">{{huebar}}</div>'].join("\n"),a=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-slider">',"<defs>",'<linearGradient id="{{cssPrefix}}svg-fill-color-{{id}}" x1="0%" y1="0%" x2="100%" y2="0%">','<stop offset="0%" stop-color="rgb(255,255,255)" />','<stop class="{{cssPrefix}}slider-basecolor" offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>",'<linearGradient id="{{cssPrefix}}svn-fill-black-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" style="stop-color:rgb(0,0,0);stop-opacity:0" />','<stop offset="100%" style="stop-color:rgb(0,0,0);stop-opacity:1" />',"</linearGradient>","</defs>",'<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svg-fill-color-{{id}})"></rect>','<rect width="100%" height="100%" fill="url(#{{cssPrefix}}svn-fill-black-{{id}})"></rect>','<path transform="translate(0,0)" class="{{cssPrefix}}slider-handle" d="M0 7.5 L15 7.5 M7.5 15 L7.5 0 M2 7 a5.5 5.5 0 1 1 0 1 Z" stroke="black" stroke-width="0.75" fill="none" />',"</svg>"].join("\n"),o=['<div class="{{cssPrefix}}vml-slider">','<v:rect strokecolor="none" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill class="{{cssPrefix}}vml {{cssPrefix}}slider-basecolor" type="gradient" method="none" color="#ff0000" color2="#fff" angle="90" />',"</v:rect>",'<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-slider-bg">','<v:fill type="gradient" method="none" color="black" color2="white" o:opacity2="0%" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}slider-handle" coordsize="1 1" style="width:1px;height:1px;"path="m 0,7 l 14,7 m 7,14 l 7,0 ar 12,12 2,2 z" filled="false" stroked="true" />',"</div>"].join("\n"),s=['<svg class="{{cssPrefix}}svg {{cssPrefix}}svg-huebar">',"<defs>",'<linearGradient id="g-{{id}}" x1="0%" y1="0%" x2="0%" y2="100%">','<stop offset="0%" stop-color="rgb(255,0,0)" />','<stop offset="16.666%" stop-color="rgb(255,255,0)" />','<stop offset="33.333%" stop-color="rgb(0,255,0)" />','<stop offset="50%" stop-color="rgb(0,255,255)" />','<stop offset="66.666%" stop-color="rgb(0,0,255)" />','<stop offset="83.333%" stop-color="rgb(255,0,255)" />','<stop offset="100%" stop-color="rgb(255,0,0)" />',"</linearGradient>","</defs>",'<rect width="18px" height="100%" fill="url(#g-{{id}})"></rect>','<path transform="translate(-6,-3)" class="{{cssPrefix}}huebar-handle" d="M0 0 L4 4 L0 8 L0 0 Z" fill="black" stroke="none" />',"</svg>"].join("\n"),l=['<div class="{{cssPrefix}}vml-huebar">','<v:rect strokecolor="#ccc" class="{{cssPrefix}}vml {{cssPrefix}}vml-huebar-bg">','<v:fill type="gradient" method="none" colors="0% rgb(255,0,0), 16.666% rgb(255,255,0), 33.333% rgb(0,255,0), 50% rgb(0,255,255), 66.666% rgb(0,0,255), 83.333% rgb(255,0,255), 100% rgb(255,0,0)" angle="180" class="{{cssPrefix}}vml" />',"</v:rect>",'<v:shape class="{{cssPrefix}}vml {{cssPrefix}}huebar-handle" coordsize="1 1" style="width:1px;height:1px;position:absolute;z-index:1;right:22px;top:-3px;"path="m 0,0 l 4,4 l 0,8 l 0,0 z" filled="true" fillcolor="black" stroked="false" />',"</div>"].join("\n");r&&t.document.namespaces.add("v","urn:schemas-microsoft-com:vml"),e.exports={layout:i,slider:r?o:a,huebar:r?l:s}}).call(this,n(25))}])},e.exports=r()},0:function(e,t,n){e.exports=n("zUnb")},1:function(e,t){},"1uat":function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),function(){var e=r,t=e.lib.Hasher,n=e.x64,i=n.Word,a=n.WordArray,o=e.algo;function s(){return i.create.apply(i,arguments)}var l=[s(1116352408,3609767458),s(1899447441,602891725),s(3049323471,3964484399),s(3921009573,2173295548),s(961987163,4081628472),s(1508970993,3053834265),s(2453635748,2937671579),s(2870763221,3664609560),s(3624381080,2734883394),s(310598401,1164996542),s(607225278,1323610764),s(1426881987,3590304994),s(1925078388,4068182383),s(2162078206,991336113),s(2614888103,633803317),s(3248222580,3479774868),s(3835390401,2666613458),s(4022224774,944711139),s(264347078,2341262773),s(604807628,2007800933),s(770255983,1495990901),s(1249150122,1856431235),s(1555081692,3175218132),s(1996064986,2198950837),s(2554220882,3999719339),s(2821834349,766784016),s(2952996808,2566594879),s(3210313671,3203337956),s(3336571891,1034457026),s(3584528711,2466948901),s(113926993,3758326383),s(338241895,168717936),s(666307205,1188179964),s(773529912,1546045734),s(1294757372,1522805485),s(1396182291,2643833823),s(1695183700,2343527390),s(1986661051,1014477480),s(2177026350,1206759142),s(2456956037,344077627),s(2730485921,1290863460),s(2820302411,3158454273),s(3259730800,3505952657),s(3345764771,106217008),s(3516065817,3606008344),s(3600352804,1432725776),s(4094571909,1467031594),s(275423344,851169720),s(430227734,3100823752),s(506948616,1363258195),s(659060556,3750685593),s(883997877,3785050280),s(958139571,3318307427),s(1322822218,3812723403),s(1537002063,2003034995),s(1747873779,3602036899),s(1955562222,1575990012),s(2024104815,1125592928),s(2227730452,2716904306),s(2361852424,442776044),s(2428436474,593698344),s(2756734187,3733110249),s(3204031479,2999351573),s(3329325298,3815920427),s(3391569614,3928383900),s(3515267271,566280711),s(3940187606,3454069534),s(4118630271,4000239992),s(116418474,1914138554),s(174292421,2731055270),s(289380356,3203993006),s(460393269,320620315),s(685471733,587496836),s(852142971,1086792851),s(1017036298,365543100),s(1126000580,2618297676),s(1288033470,3409855158),s(1501505948,4234509866),s(1607167915,987167468),s(1816402316,1246189591)],c=[];!function(){for(var e=0;e<80;e++)c[e]=s()}();var u=o.SHA512=t.extend({_doReset:function(){this._hash=new a.init([new i.init(1779033703,4089235720),new i.init(3144134277,2227873595),new i.init(1013904242,4271175723),new i.init(2773480762,1595750129),new i.init(1359893119,2917565137),new i.init(2600822924,725511199),new i.init(528734635,4215389547),new i.init(1541459225,327033209)])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],h=n[6],d=n[7],p=r.high,f=r.low,m=i.high,g=i.low,v=a.high,_=a.low,b=o.high,y=o.low,C=s.high,w=s.low,k=u.high,x=u.low,S=h.high,O=h.low,j=d.high,E=d.low,P=p,M=f,T=m,I=g,A=v,D=_,R=b,F=y,L=C,N=w,B=k,z=x,q=S,U=O,H=j,V=E,W=0;W<80;W++){var G,Y,X=c[W];if(W<16)Y=X.high=0|e[t+2*W],G=X.low=0|e[t+2*W+1];else{var J=c[W-15],K=J.high,$=J.low,Z=($>>>1|K<<31)^($>>>8|K<<24)^($>>>7|K<<25),Q=c[W-2],ee=Q.high,te=Q.low,ne=(te>>>19|ee<<13)^(te<<3|ee>>>29)^(te>>>6|ee<<26),re=c[W-7],ie=c[W-16],ae=ie.low;X.high=Y=(Y=(Y=((K>>>1|$<<31)^(K>>>8|$<<24)^K>>>7)+re.high+((G=Z+re.low)>>>0<Z>>>0?1:0))+((ee>>>19|te<<13)^(ee<<3|te>>>29)^ee>>>6)+((G+=ne)>>>0<ne>>>0?1:0))+ie.high+((G+=ae)>>>0<ae>>>0?1:0),X.low=G}var oe,se=L&B^~L&q,le=N&z^~N&U,ce=P&T^P&A^T&A,ue=(M>>>28|P<<4)^(M<<30|P>>>2)^(M<<25|P>>>7),he=l[W],de=he.low,pe=H+((L>>>14|N<<18)^(L>>>18|N<<14)^(L<<23|N>>>9))+((oe=V+((N>>>14|L<<18)^(N>>>18|L<<14)^(N<<23|L>>>9)))>>>0<V>>>0?1:0),fe=ue+(M&I^M&D^I&D);H=q,V=U,q=B,U=z,B=L,z=N,L=R+(pe=(pe=(pe=pe+se+((oe+=le)>>>0<le>>>0?1:0))+he.high+((oe+=de)>>>0<de>>>0?1:0))+Y+((oe+=G)>>>0<G>>>0?1:0))+((N=F+oe|0)>>>0<F>>>0?1:0)|0,R=A,F=D,A=T,D=I,T=P,I=M,P=pe+(((P>>>28|M<<4)^(P<<30|M>>>2)^(P<<25|M>>>7))+ce+(fe>>>0<ue>>>0?1:0))+((M=oe+fe|0)>>>0<oe>>>0?1:0)|0}f=r.low=f+M,r.high=p+P+(f>>>0<M>>>0?1:0),g=i.low=g+I,i.high=m+T+(g>>>0<I>>>0?1:0),_=a.low=_+D,a.high=v+A+(_>>>0<D>>>0?1:0),y=o.low=y+F,o.high=b+R+(y>>>0<F>>>0?1:0),w=s.low=w+N,s.high=C+L+(w>>>0<N>>>0?1:0),x=u.low=x+z,u.high=k+B+(x>>>0<z>>>0?1:0),O=h.low=O+U,h.high=S+q+(O>>>0<U>>>0?1:0),E=d.low=E+V,d.high=j+H+(E>>>0<V>>>0?1:0)},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[30+(r+128>>>10<<5)]=Math.floor(n/4294967296),t[31+(r+128>>>10<<5)]=n,e.sigBytes=4*t.length,this._process(),this._hash.toX32()},clone:function(){var e=t.clone.call(this);return e._hash=this._hash.clone(),e},blockSize:32});e.SHA512=t._createHelper(u),e.HmacSHA512=t._createHmacHelper(u)}(),r.SHA512)},2:function(e,t){},3:function(e,t){},"3y9D":function(e,t,n){var r,i,a,o,s,l,c;e.exports=(c=n("Ib8C"),a=(i=(r=c).lib).WordArray,s=[],l=r.algo.SHA1=(o=i.Hasher).extend({_doReset:function(){this._hash=new a.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],l=n[4],c=0;c<80;c++){if(c<16)s[c]=0|e[t+c];else{var u=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=u<<1|u>>>31}var h=(r<<5|r>>>27)+l+s[c];h+=c<20?1518500249+(i&a|~i&o):c<40?1859775393+(i^a^o):c<60?(i&a|i&o|a&o)-1894007588:(i^a^o)-899497514,l=o,o=a,a=i<<30|i>>>2,i=r,r=h}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+l|0},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;return t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=Math.floor(n/4294967296),t[15+(r+64>>>9<<4)]=n,e.sigBytes=4*t.length,this._process(),this._hash},clone:function(){var e=o.clone.call(this);return e._hash=this._hash.clone(),e}}),r.SHA1=o._createHelper(l),r.HmacSHA1=o._createHmacHelper(l),c.SHA1)},4:function(e,t){},"5hvy":function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.x64.Word,s=t.algo,l=[],c=[],u=[];!function(){for(var e=1,t=0,n=0;n<24;n++){l[e+5*t]=(n+1)*(n+2)/2%64;var r=(2*e+3*t)%5;e=t%5,t=r}for(e=0;e<5;e++)for(t=0;t<5;t++)c[e+5*t]=t+(2*e+3*t)%5*5;for(var i=1,a=0;a<24;a++){for(var s=0,h=0,d=0;d<7;d++){if(1&i){var p=(1<<d)-1;p<32?h^=1<<p:s^=1<<p-32}128&i?i=i<<1^113:i<<=1}u[a]=o.create(s,h)}}();var h=[];!function(){for(var e=0;e<25;e++)h[e]=o.create()}();var d=s.SHA3=a.extend({cfg:a.cfg.extend({outputLength:512}),_doReset:function(){for(var e=this._state=[],t=0;t<25;t++)e[t]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(e,t){for(var n=this._state,r=this.blockSize/2,i=0;i<r;i++){var a=e[t+2*i],o=e[t+2*i+1];a=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),(T=n[i]).high^=o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),T.low^=a}for(var s=0;s<24;s++){for(var d=0;d<5;d++){for(var p=0,f=0,m=0;m<5;m++)p^=(T=n[d+5*m]).high,f^=T.low;var g=h[d];g.high=p,g.low=f}for(d=0;d<5;d++){var v=h[(d+4)%5],_=h[(d+1)%5],b=_.high,y=_.low;for(p=v.high^(b<<1|y>>>31),f=v.low^(y<<1|b>>>31),m=0;m<5;m++)(T=n[d+5*m]).high^=p,T.low^=f}for(var C=1;C<25;C++){var w=(T=n[C]).high,k=T.low,x=l[C];x<32?(p=w<<x|k>>>32-x,f=k<<x|w>>>32-x):(p=k<<x-32|w>>>64-x,f=w<<x-32|k>>>64-x);var S=h[c[C]];S.high=p,S.low=f}var O=h[0],j=n[0];for(O.high=j.high,O.low=j.low,d=0;d<5;d++)for(m=0;m<5;m++){var E=h[C=d+5*m],P=h[(d+1)%5+5*m],M=h[(d+2)%5+5*m];(T=n[C]).high=E.high^~P.high&M.high,T.low=E.low^~P.low&M.low}var T,I=u[s];(T=n[0]).high^=I.high,T.low^=I.low}},_doFinalize:function(){var t=this._data,n=t.words,r=8*t.sigBytes,a=32*this.blockSize;n[r>>>5]|=1<<24-r%32,n[(e.ceil((r+1)/a)*a>>>5)-1]|=128,t.sigBytes=4*n.length,this._process();for(var o=this._state,s=this.cfg.outputLength/8,l=s/8,c=[],u=0;u<l;u++){var h=o[u],d=h.high,p=h.low;d=16711935&(d<<8|d>>>24)|4278255360&(d<<24|d>>>8),c.push(p=16711935&(p<<8|p>>>24)|4278255360&(p<<24|p>>>8)),c.push(d)}return new i.init(c,s)},clone:function(){for(var e=a.clone.call(this),t=e._state=this._state.slice(0),n=0;n<25;n++)t[n]=t[n].clone();return e}});t.SHA3=a._createHelper(d),t.HmacSHA3=a._createHmacHelper(d)}(Math),r.SHA3)},"6MUB":function(e,t,n){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,n,i){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(r(i))+n;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(r(e))})).join(t):a+encodeURIComponent(r(e[i]))})).join(t):i?encodeURIComponent(r(i))+n+encodeURIComponent(r(e)):""}},"9OqN":function(e,t,n){var r,i,a;e.exports=(a=n("Ib8C"),n("OLod"),a.mode.CTR=(i=(r=a.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._counter;i&&(a=this._counter=i.slice(0),this._iv=void 0);var o=a.slice(0);n.encryptBlock(o,0),a[r-1]=a[r-1]+1|0;for(var s=0;s<r;s++)e[t+s]^=o[s]}}),r.Decryptor=i,r),a.mode.CTR)},ALsQ:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.mode.CFB=function(){var e=r.lib.BlockCipherMode.extend();function t(e,t,n,r){var i,a=this._iv;a?(i=a.slice(0),this._iv=void 0):i=this._prevBlock,r.encryptBlock(i,0);for(var o=0;o<n;o++)e[t+o]^=i[o]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i,r),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);t.call(this,e,n,i,r),this._prevBlock=a}}),e}(),r.mode.CFB)},CxY0:function(e,t,n){"use strict";var r=n("nYho"),i=n("Nehr");function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}t.parse=b,t.resolve=function(e,t){return b(e,!1,!0).resolve(t)},t.resolveObject=function(e,t){return e?b(e,!1,!0).resolveObject(t):t},t.format=function(e){return i.isString(e)&&(e=b(e)),e instanceof a?e.format():a.prototype.format.call(e)},t.Url=a;var o=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,l=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,c=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),u=["'"].concat(c),h=["%","/","?",";","#"].concat(u),d=["/","?","#"],p=/^[+a-z0-9A-Z_-]{0,63}$/,f=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},g={javascript:!0,"javascript:":!0},v={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},_=n("r8II");function b(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),s=-1!==a&&a<e.indexOf("#")?"?":"#",c=e.split(s);c[0]=c[0].replace(/\\/g,"/");var b=e=c.join(s);if(b=b.trim(),!n&&1===e.split("#").length){var y=l.exec(b);if(y)return this.path=b,this.href=b,this.pathname=y[1],y[2]?(this.search=y[2],this.query=t?_.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var C=o.exec(b);if(C){var w=(C=C[0]).toLowerCase();this.protocol=w,b=b.substr(C.length)}if(n||C||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var k="//"===b.substr(0,2);!k||C&&g[C]||(b=b.substr(2),this.slashes=!0)}if(!g[C]&&(k||C&&!v[C])){for(var x,S,O=-1,j=0;j<d.length;j++)-1!==(E=b.indexOf(d[j]))&&(-1===O||E<O)&&(O=E);for(-1!==(S=-1===O?b.lastIndexOf("@"):b.lastIndexOf("@",O))&&(x=b.slice(0,S),b=b.slice(S+1),this.auth=decodeURIComponent(x)),O=-1,j=0;j<h.length;j++){var E;-1!==(E=b.indexOf(h[j]))&&(-1===O||E<O)&&(O=E)}-1===O&&(O=b.length),this.host=b.slice(0,O),b=b.slice(O),this.parseHost(),this.hostname=this.hostname||"";var P="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!P)for(var M=this.hostname.split(/\./),T=(j=0,M.length);j<T;j++){var I=M[j];if(I&&!I.match(p)){for(var A="",D=0,R=I.length;D<R;D++)I.charCodeAt(D)>127?A+="x":A+=I[D];if(!A.match(p)){var F=M.slice(0,j),L=M.slice(j+1),N=I.match(f);N&&(F.push(N[1]),L.unshift(N[2])),L.length&&(b="/"+L.join(".")+b),this.hostname=F.join(".");break}}}this.hostname=this.hostname.length>255?"":this.hostname.toLowerCase(),P||(this.hostname=r.toASCII(this.hostname)),this.host=(this.hostname||"")+(this.port?":"+this.port:""),this.href+=this.host,P&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[w])for(j=0,T=u.length;j<T;j++){var B=u[j];if(-1!==b.indexOf(B)){var z=encodeURIComponent(B);z===B&&(z=escape(B)),b=b.split(B).join(z)}}var q=b.indexOf("#");-1!==q&&(this.hash=b.substr(q),b=b.slice(0,q));var U=b.indexOf("?");return-1!==U?(this.search=b.substr(U),this.query=b.substr(U+1),t&&(this.query=_.parse(this.query)),b=b.slice(0,U)):t&&(this.search="",this.query={}),b&&(this.pathname=b),v[w]&&this.hostname&&!this.pathname&&(this.pathname="/"),(this.pathname||this.search)&&(this.path=(this.pathname||"")+(this.search||"")),this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,o="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(o=_.stringify(this.query));var s=this.search||o&&"?"+o||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||v[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),s&&"?"!==s.charAt(0)&&(s="?"+s),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(s=s.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(b(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),o=0;o<r.length;o++){var s=r[o];n[s]=this[s]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var l=Object.keys(e),c=0;c<l.length;c++){var u=l[c];"protocol"!==u&&(n[u]=e[u])}return v[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!v[e.protocol]){for(var h=Object.keys(e),d=0;d<h.length;d++){var p=h[d];n[p]=e[p]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||g[e.protocol])n.pathname=e.pathname;else{for(var f=(e.pathname||"").split("/");f.length&&!(e.host=f.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==f[0]&&f.unshift(""),f.length<2&&f.unshift(""),n.pathname=f.join("/")}return n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,(n.pathname||n.search)&&(n.path=(n.pathname||"")+(n.search||"")),n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var m=n.pathname&&"/"===n.pathname.charAt(0),_=e.host||e.pathname&&"/"===e.pathname.charAt(0),b=_||m||n.host&&e.pathname,y=b,C=n.pathname&&n.pathname.split("/")||[],w=(f=e.pathname&&e.pathname.split("/")||[],n.protocol&&!v[n.protocol]);if(w&&(n.hostname="",n.port=null,n.host&&(""===C[0]?C[0]=n.host:C.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===f[0]?f[0]=e.host:f.unshift(e.host)),e.host=null),b=b&&(""===f[0]||""===C[0])),_)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,C=f;else if(f.length)C||(C=[]),C.pop(),C=C.concat(f),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return w&&(n.hostname=n.host=C.shift(),(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!C.length)return n.pathname=null,n.path=n.search?"/"+n.search:null,n.href=n.format(),n;for(var k=C.slice(-1)[0],x=(n.host||e.host||C.length>1)&&("."===k||".."===k)||""===k,S=0,O=C.length;O>=0;O--)"."===(k=C[O])?C.splice(O,1):".."===k?(C.splice(O,1),S++):S&&(C.splice(O,1),S--);if(!b&&!y)for(;S--;S)C.unshift("..");!b||""===C[0]||C[0]&&"/"===C[0].charAt(0)||C.unshift(""),x&&"/"!==C.join("/").substr(-1)&&C.push("");var j,E=""===C[0]||C[0]&&"/"===C[0].charAt(0);return w&&(n.hostname=n.host=E?"":C.length?C.shift():"",(j=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=j.shift(),n.host=n.hostname=j.shift())),(b=b||n.host&&C.length)&&!E&&C.unshift(""),C.length?n.pathname=C.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=s.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},E4JC:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=[],i=[],a=[],o=e.algo.Rabbit=t.extend({_doReset:function(){for(var e=this._key.words,t=this.cfg.iv,n=0;n<4;n++)e[n]=16711935&(e[n]<<8|e[n]>>>24)|4278255360&(e[n]<<24|e[n]>>>8);var r=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],i=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];for(this._b=0,n=0;n<4;n++)s.call(this);for(n=0;n<8;n++)i[n]^=r[n+4&7];if(t){var a=t.words,o=a[0],l=a[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(i[0]^=c,i[1]^=h,i[2]^=u,i[3]^=d,i[4]^=c,i[5]^=h,i[6]^=u,i[7]^=d,n=0;n<4;n++)s.call(this)}},_doProcessBlock:function(e,t){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16;a[n]=((o*o>>>17)+o*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.Rabbit=t._createHelper(o)}(),r.Rabbit)},ELcG:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=i.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),l=i.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),c=i.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),u=i.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),h=i.create([0,1518500249,1859775393,2400959708,2840853838]),d=i.create([1352829926,1548603684,1836072691,2053994217,0]),p=o.RIPEMD160=a.extend({_doReset:function(){this._hash=i.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a,o,p,y,C,w,k,x,S,O,j,E=this._hash.words,P=h.words,M=d.words,T=s.words,I=l.words,A=c.words,D=u.words;for(w=a=E[0],k=o=E[1],x=p=E[2],S=y=E[3],O=C=E[4],n=0;n<80;n+=1)j=a+e[t+T[n]]|0,j+=n<16?f(o,p,y)+P[0]:n<32?m(o,p,y)+P[1]:n<48?g(o,p,y)+P[2]:n<64?v(o,p,y)+P[3]:_(o,p,y)+P[4],j=(j=b(j|=0,A[n]))+C|0,a=C,C=y,y=b(p,10),p=o,o=j,j=w+e[t+I[n]]|0,j+=n<16?_(k,x,S)+M[0]:n<32?v(k,x,S)+M[1]:n<48?g(k,x,S)+M[2]:n<64?m(k,x,S)+M[3]:f(k,x,S)+M[4],j=(j=b(j|=0,D[n]))+O|0,w=O,O=S,S=b(x,10),x=k,k=j;j=E[1]+p+S|0,E[1]=E[2]+y+O|0,E[2]=E[3]+C+w|0,E[3]=E[4]+a+k|0,E[4]=E[0]+o+x|0,E[0]=j},_doFinalize:function(){var e=this._data,t=e.words,n=8*this._nDataBytes,r=8*e.sigBytes;t[r>>>5]|=128<<24-r%32,t[14+(r+64>>>9<<4)]=16711935&(n<<8|n>>>24)|4278255360&(n<<24|n>>>8),e.sigBytes=4*(t.length+1),this._process();for(var i=this._hash,a=i.words,o=0;o<5;o++){var s=a[o];a[o]=16711935&(s<<8|s>>>24)|4278255360&(s<<24|s>>>8)}return i},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function f(e,t,n){return e^t^n}function m(e,t,n){return e&t|~e&n}function g(e,t,n){return(e|~t)^n}function v(e,t,n){return e&n|t&~n}function _(e,t,n){return e^(t|~n)}function b(e,t){return e<<t|e>>>32-t}t.RIPEMD160=a._createHelper(p),t.HmacRIPEMD160=a._createHmacHelper(p)}(Math),r.RIPEMD160)},ETIr:function(e,t,n){var r,i;e.exports=(i=n("Ib8C"),r=i.lib.WordArray,i.enc.Base64={stringify:function(e){var t=e.words,n=e.sigBytes,r=this._map;e.clamp();for(var i=[],a=0;a<n;a+=3)for(var o=(t[a>>>2]>>>24-a%4*8&255)<<16|(t[a+1>>>2]>>>24-(a+1)%4*8&255)<<8|t[a+2>>>2]>>>24-(a+2)%4*8&255,s=0;s<4&&a+.75*s<n;s++)i.push(r.charAt(o>>>6*(3-s)&63));var l=r.charAt(64);if(l)for(;i.length%4;)i.push(l);return i.join("")},parse:function(e){var t=e.length,n=this._map,i=this._reverseMap;if(!i){i=this._reverseMap=[];for(var a=0;a<n.length;a++)i[n.charCodeAt(a)]=a}var o=n.charAt(64);if(o){var s=e.indexOf(o);-1!==s&&(t=s)}return function(e,t,n){for(var i=[],a=0,o=0;o<t;o++)if(o%4){var s=n[e.charCodeAt(o-1)]<<o%4*2,l=n[e.charCodeAt(o)]>>>6-o%4*2;i[a>>>2]|=(s|l)<<24-a%4*8,a++}return r.create(i,a)}(e,t,i)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},i.enc.Base64)},"F+F2":function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){if("function"==typeof ArrayBuffer){var e=r.lib.WordArray,t=e.init;(e.init=function(e){if(e instanceof ArrayBuffer&&(e=new Uint8Array(e)),(e instanceof Int8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)&&(e=new Uint8Array(e.buffer,e.byteOffset,e.byteLength)),e instanceof Uint8Array){for(var n=e.byteLength,r=[],i=0;i<n;i++)r[i>>>2]|=e[i]<<24-i%4*8;t.call(this,r,n)}else t.apply(this,arguments)}).prototype=e}}(),r.lib.WordArray)},GRuw:function(e,t,n){var r,i,a,o,s,l;e.exports=(l=n("Ib8C"),n("lPiR"),i=(r=l).lib.WordArray,s=(a=r.algo).SHA224=(o=a.SHA256).extend({_doReset:function(){this._hash=new i.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var e=o._doFinalize.call(this);return e.sigBytes-=4,e}}),r.SHA224=o._createHelper(s),r.HmacSHA224=o._createHmacHelper(s),l.SHA224)},Ib8C:function(e,t,n){var r;e.exports=r=r||function(e,t){var r;if("undefined"!=typeof window&&window.crypto&&(r=window.crypto),!r&&"undefined"!=typeof window&&window.msCrypto&&(r=window.msCrypto),!r&&"undefined"!=typeof global&&global.crypto&&(r=global.crypto),!r)try{r=n(1)}catch(g){}var i=function(){if(r){if("function"==typeof r.getRandomValues)try{return r.getRandomValues(new Uint32Array(1))[0]}catch(g){}if("function"==typeof r.randomBytes)try{return r.randomBytes(4).readInt32LE()}catch(g){}}throw new Error("Native crypto module could not be used to get secure random number.")},a=Object.create||function(){function e(){}return function(t){var n;return e.prototype=t,n=new e,e.prototype=null,n}}(),o={},s=o.lib={},l=s.Base={extend:function(e){var t=a(this);return e&&t.mixIn(e),t.hasOwnProperty("init")&&this.init!==t.init||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},c=s.WordArray=l.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||h).stringify(this)},concat:function(e){var t=this.words,n=e.words,r=this.sigBytes,i=e.sigBytes;if(this.clamp(),r%4)for(var a=0;a<i;a++)t[r+a>>>2]|=(n[a>>>2]>>>24-a%4*8&255)<<24-(r+a)%4*8;else for(a=0;a<i;a+=4)t[r+a>>>2]=n[a>>>2];return this.sigBytes+=i,this},clamp:function(){var t=this.words,n=this.sigBytes;t[n>>>2]&=4294967295<<32-n%4*8,t.length=e.ceil(n/4)},clone:function(){var e=l.clone.call(this);return e.words=this.words.slice(0),e},random:function(e){for(var t=[],n=0;n<e;n+=4)t.push(i());return new c.init(t,e)}}),u=o.enc={},h=u.Hex={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++){var a=t[i>>>2]>>>24-i%4*8&255;r.push((a>>>4).toString(16)),r.push((15&a).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n[r>>>3]|=parseInt(e.substr(r,2),16)<<24-r%8*4;return new c.init(n,t/2)}},d=u.Latin1={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i++)r.push(String.fromCharCode(t[i>>>2]>>>24-i%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,n=[],r=0;r<t;r++)n[r>>>2]|=(255&e.charCodeAt(r))<<24-r%4*8;return new c.init(n,t)}},p=u.Utf8={stringify:function(e){try{return decodeURIComponent(escape(d.stringify(e)))}catch(t){throw new Error("Malformed UTF-8 data")}},parse:function(e){return d.parse(unescape(encodeURIComponent(e)))}},f=s.BufferedBlockAlgorithm=l.extend({reset:function(){this._data=new c.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=p.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var n,r=this._data,i=r.words,a=r.sigBytes,o=this.blockSize,s=a/(4*o),l=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*o,u=e.min(4*l,a);if(l){for(var h=0;h<l;h+=o)this._doProcessBlock(i,h);n=i.splice(0,l),r.sigBytes-=u}return new c.init(n,u)},clone:function(){var e=l.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0}),m=(s.Hasher=f.extend({cfg:l.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){f.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,n){return new e.init(n).finalize(t)}},_createHmacHelper:function(e){return function(t,n){return new m.HMAC.init(e,n).finalize(t)}}}),o.algo={});return o}(Math)},K3mO:function(e,t,n){var r,i,a,o,s,l,c;e.exports=(c=n("Ib8C"),n("3y9D"),n("WYAk"),o=(i=(r=c).lib).WordArray,l=(s=r.algo).EvpKDF=(a=i.Base).extend({cfg:a.extend({keySize:4,hasher:s.MD5,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n,r=this.cfg,i=r.hasher.create(),a=o.create(),s=a.words,l=r.keySize,c=r.iterations;s.length<l;){n&&i.update(n),n=i.update(e).finalize(t),i.reset();for(var u=1;u<c;u++)n=i.finalize(n),i.reset();a.concat(n)}return a.sigBytes=4*l,a}}),r.EvpKDF=function(e,t,n){return l.create(n).compute(e,t)},c.EvpKDF)},KmYQ:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.ZeroPadding={pad:function(e,t){var n=4*t;e.clamp(),e.sigBytes+=n-(e.sigBytes%n||n)},unpad:function(e){var t=e.words,n=e.sigBytes-1;for(n=e.sigBytes-1;n>=0;n--)if(t[n>>>2]>>>24-n%4*8&255){e.sigBytes=n+1;break}}},r.pad.ZeroPadding)},MlIO:function(e,t,n){var r,i,a,o,s;e.exports=(s=n("Ib8C"),i=(r=s.lib).Base,a=r.WordArray,(o=s.x64={}).Word=i.extend({init:function(e,t){this.high=e,this.low=t}}),o.WordArray=i.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:8*e.length},toX32:function(){for(var e=this.words,t=e.length,n=[],r=0;r<t;r++){var i=e[r];n.push(i.high),n.push(i.low)}return a.create(n,this.sigBytes)},clone:function(){for(var e=i.clone.call(this),t=e.words=this.words.slice(0),n=t.length,r=0;r<n;r++)t[r]=t[r].clone();return e}}),s)},NFKh:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("MlIO"),n("F+F2"),n("qM6L"),n("ETIr"),n("cv67"),n("3y9D"),n("lPiR"),n("GRuw"),n("1uat"),n("uGsb"),n("5hvy"),n("ELcG"),n("WYAk"),n("e7zE"),n("K3mO"),n("OLod"),n("ALsQ"),n("9OqN"),n("qu8F"),n("S6kV"),n("gb/T"),n("qBft"),n("oRuE"),n("jO9C"),n("KmYQ"),n("uGxW"),n("bQjk"),n("wZgz"),n("pA7S"),n("w7YG"),n("E4JC"),n("PVpz"),r)},Nehr:function(e,t,n){"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},OLod:function(e,t,n){var r,i,a,o,s,l,c,u,h,d,p,f,m,g,v,_,b,y,C;e.exports=(r=n("Ib8C"),n("K3mO"),void(r.lib.Cipher||(i=r,a=i.lib,o=a.Base,s=a.WordArray,l=a.BufferedBlockAlgorithm,c=i.enc,u=c.Base64,h=i.algo.EvpKDF,d=a.Cipher=l.extend({cfg:o.extend(),createEncryptor:function(e,t){return this.create(this._ENC_XFORM_MODE,e,t)},createDecryptor:function(e,t){return this.create(this._DEC_XFORM_MODE,e,t)},init:function(e,t,n){this.cfg=this.cfg.extend(n),this._xformMode=e,this._key=t,this.reset()},reset:function(){l.reset.call(this),this._doReset()},process:function(e){return this._append(e),this._process()},finalize:function(e){return e&&this._append(e),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function e(e){return"string"==typeof e?C:b}return function(t){return{encrypt:function(n,r,i){return e(r).encrypt(t,n,r,i)},decrypt:function(n,r,i){return e(r).decrypt(t,n,r,i)}}}}()}),a.StreamCipher=d.extend({_doFinalize:function(){return this._process(!0)},blockSize:1}),p=i.mode={},f=a.BlockCipherMode=o.extend({createEncryptor:function(e,t){return this.Encryptor.create(e,t)},createDecryptor:function(e,t){return this.Decryptor.create(e,t)},init:function(e,t){this._cipher=e,this._iv=t}}),m=p.CBC=function(){var e=f.extend();function t(e,t,n){var r,i=this._iv;i?(r=i,this._iv=void 0):r=this._prevBlock;for(var a=0;a<n;a++)e[t+a]^=r[a]}return e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize;t.call(this,e,n,i),r.encryptBlock(e,n),this._prevBlock=e.slice(n,n+i)}}),e.Decryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=e.slice(n,n+i);r.decryptBlock(e,n),t.call(this,e,n,i),this._prevBlock=a}}),e}(),g=(i.pad={}).Pkcs7={pad:function(e,t){for(var n=4*t,r=n-e.sigBytes%n,i=r<<24|r<<16|r<<8|r,a=[],o=0;o<r;o+=4)a.push(i);var l=s.create(a,r);e.concat(l)},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},a.BlockCipher=d.extend({cfg:d.cfg.extend({mode:m,padding:g}),reset:function(){var e;d.reset.call(this);var t=this.cfg,n=t.iv,r=t.mode;this._xformMode==this._ENC_XFORM_MODE?e=r.createEncryptor:(e=r.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==e?this._mode.init(this,n&&n.words):(this._mode=e.call(r,this,n&&n.words),this._mode.__creator=e)},_doProcessBlock:function(e,t){this._mode.processBlock(e,t)},_doFinalize:function(){var e,t=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(t.pad(this._data,this.blockSize),e=this._process(!0)):(e=this._process(!0),t.unpad(e)),e},blockSize:4}),v=a.CipherParams=o.extend({init:function(e){this.mixIn(e)},toString:function(e){return(e||this.formatter).stringify(this)}}),_=(i.format={}).OpenSSL={stringify:function(e){var t=e.ciphertext,n=e.salt;return(n?s.create([1398893684,1701076831]).concat(n).concat(t):t).toString(u)},parse:function(e){var t,n=u.parse(e),r=n.words;return 1398893684==r[0]&&1701076831==r[1]&&(t=s.create(r.slice(2,4)),r.splice(0,4),n.sigBytes-=16),v.create({ciphertext:n,salt:t})}},b=a.SerializableCipher=o.extend({cfg:o.extend({format:_}),encrypt:function(e,t,n,r){r=this.cfg.extend(r);var i=e.createEncryptor(n,r),a=i.finalize(t),o=i.cfg;return v.create({ciphertext:a,key:n,iv:o.iv,algorithm:e,mode:o.mode,padding:o.padding,blockSize:e.blockSize,formatter:r.format})},decrypt:function(e,t,n,r){return r=this.cfg.extend(r),t=this._parse(t,r.format),e.createDecryptor(n,r).finalize(t.ciphertext)},_parse:function(e,t){return"string"==typeof e?t.parse(e,this):e}}),y=(i.kdf={}).OpenSSL={execute:function(e,t,n,r){r||(r=s.random(8));var i=h.create({keySize:t+n}).compute(e,r),a=s.create(i.words.slice(t),4*n);return i.sigBytes=4*t,v.create({key:i,iv:a,salt:r})}},C=a.PasswordBasedCipher=b.extend({cfg:b.cfg.extend({kdf:y}),encrypt:function(e,t,n,r){var i=(r=this.cfg.extend(r)).kdf.execute(n,e.keySize,e.ivSize);r.iv=i.iv;var a=b.encrypt.call(this,e,t,i.key,r);return a.mixIn(i),a},decrypt:function(e,t,n,r){r=this.cfg.extend(r),t=this._parse(t,r.format);var i=r.kdf.execute(n,e.keySize,e.ivSize,t.salt);return r.iv=i.iv,b.decrypt.call(this,e,t,i.key,r)}}))))},PSD3:function(e,t,n){e.exports=function(){"use strict";function e(t){return(e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(t)}function t(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function r(e,t,r){return t&&n(e.prototype,t),r&&n(e,r),e}function i(){return(i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e,t,n){return(l=s()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&o(i,n.prototype),i}).apply(null,arguments)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(e,t,n){return(u="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=a(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}var h=function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){return Array.prototype.slice.call(e)},p=function(e){console.warn("".concat("SweetAlert2:"," ").concat(e))},f=function(e){console.error("".concat("SweetAlert2:"," ").concat(e))},m=[],g=function(e){return"function"==typeof e?e():e},v=function(e){return e&&"function"==typeof e.toPromise},_=function(e){return v(e)?e.toPromise():Promise.resolve(e)},b=function(e){return e&&Promise.resolve(e)===e},y=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),C=function(t){return t instanceof Element||function(t){return"object"===e(t)&&t.jquery}(t)},w=function(e){var t={};for(var n in e)t[e[n]]="swal2-"+e[n];return t},k=w(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","toast-column","show","hide","close","title","header","content","html-container","actions","confirm","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),x=w(["success","warning","info","question","error"]),S=function(){return document.body.querySelector(".".concat(k.container))},O=function(e){var t=S();return t?t.querySelector(e):null},j=function(e){return O(".".concat(e))},E=function(){return j(k.popup)},P=function(){var e=E();return d(e.querySelectorAll(".".concat(k.icon)))},M=function(){var e=P().filter((function(e){return le(e)}));return e.length?e[0]:null},T=function(){return j(k.title)},I=function(){return j(k.content)},A=function(){return j(k.image)},D=function(){return j(k["progress-steps"])},R=function(){return j(k["validation-message"])},F=function(){return O(".".concat(k.actions," .").concat(k.confirm))},L=function(){return O(".".concat(k.actions," .").concat(k.cancel))},N=function(){return j(k.actions)},B=function(){return j(k.header)},z=function(){return j(k.footer)},q=function(){return j(k["timer-progress-bar"])},U=function(){return j(k.close)},H=function(){var e=d(E().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((function(e,t){return(e=parseInt(e.getAttribute("tabindex")))>(t=parseInt(t.getAttribute("tabindex")))?1:e<t?-1:0})),t=d(E().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter((function(e){return"-1"!==e.getAttribute("tabindex")}));return function(e){for(var t=[],n=0;n<e.length;n++)-1===t.indexOf(e[n])&&t.push(e[n]);return t}(e.concat(t)).filter((function(e){return le(e)}))},V=function(){return!W()&&!document.body.classList.contains(k["no-backdrop"])},W=function(){return document.body.classList.contains(k["toast-shown"])},G=function(){return E().hasAttribute("data-loading")},Y={previousBodyPadding:null},X=function(e,t){if(e.textContent="",t){var n=(new DOMParser).parseFromString(t,"text/html");d(n.querySelector("head").childNodes).forEach((function(t){e.appendChild(t)})),d(n.querySelector("body").childNodes).forEach((function(t){e.appendChild(t)}))}},J=function(e,t){if(!t)return!1;for(var n=t.split(/\s+/),r=0;r<n.length;r++)if(!e.classList.contains(n[r]))return!1;return!0},K=function(t,n,r){if(function(e,t){d(e.classList).forEach((function(n){-1===h(k).indexOf(n)&&-1===h(x).indexOf(n)&&-1===h(t.showClass).indexOf(n)&&e.classList.remove(n)}))}(t,n),n.customClass&&n.customClass[r]){if("string"!=typeof n.customClass[r]&&!n.customClass[r].forEach)return p("Invalid type of customClass.".concat(r,'! Expected string or iterable object, got "').concat(e(n.customClass[r]),'"'));te(t,n.customClass[r])}};function $(e,t){if(!t)return null;switch(t){case"select":case"textarea":case"file":return re(e,k[t]);case"checkbox":return e.querySelector(".".concat(k.checkbox," input"));case"radio":return e.querySelector(".".concat(k.radio," input:checked"))||e.querySelector(".".concat(k.radio," input:first-child"));case"range":return e.querySelector(".".concat(k.range," input"));default:return re(e,k.input)}}var Z,Q=function(e){if(e.focus(),"file"!==e.type){var t=e.value;e.value="",e.value=t}},ee=function(e,t,n){e&&t&&("string"==typeof t&&(t=t.split(/\s+/).filter(Boolean)),t.forEach((function(t){e.forEach?e.forEach((function(e){n?e.classList.add(t):e.classList.remove(t)})):n?e.classList.add(t):e.classList.remove(t)})))},te=function(e,t){ee(e,t,!0)},ne=function(e,t){ee(e,t,!1)},re=function(e,t){for(var n=0;n<e.childNodes.length;n++)if(J(e.childNodes[n],t))return e.childNodes[n]},ie=function(e,t,n){n||0===parseInt(n)?e.style[t]="number"==typeof n?"".concat(n,"px"):n:e.style.removeProperty(t)},ae=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex";e.style.opacity="",e.style.display=t},oe=function(e){e.style.opacity="",e.style.display="none"},se=function(e,t,n){t?ae(e,n):oe(e)},le=function(e){return!(!e||!(e.offsetWidth||e.offsetHeight||e.getClientRects().length))},ce=function(e){return!!(e.scrollHeight>e.clientHeight)},ue=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.getPropertyValue("animation-duration")||"0"),r=parseFloat(t.getPropertyValue("transition-duration")||"0");return n>0||r>0},he=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=q();le(n)&&(t&&(n.style.transition="none",n.style.width="100%"),setTimeout((function(){n.style.transition="width ".concat(e/1e3,"s linear"),n.style.width="0%"}),10))},de=function(){return"undefined"==typeof window||"undefined"==typeof document},pe='\n <div aria-labelledby="'.concat(k.title,'" aria-describedby="').concat(k.content,'" class="').concat(k.popup,'" tabindex="-1">\n   <div class="').concat(k.header,'">\n     <ul class="').concat(k["progress-steps"],'"></ul>\n     <div class="').concat(k.icon," ").concat(x.error,'"></div>\n     <div class="').concat(k.icon," ").concat(x.question,'"></div>\n     <div class="').concat(k.icon," ").concat(x.warning,'"></div>\n     <div class="').concat(k.icon," ").concat(x.info,'"></div>\n     <div class="').concat(k.icon," ").concat(x.success,'"></div>\n     <img class="').concat(k.image,'" />\n     <h2 class="').concat(k.title,'" id="').concat(k.title,'"></h2>\n     <button type="button" class="').concat(k.close,'"></button>\n   </div>\n   <div class="').concat(k.content,'">\n     <div id="').concat(k.content,'" class="').concat(k["html-container"],'"></div>\n     <input class="').concat(k.input,'" />\n     <input type="file" class="').concat(k.file,'" />\n     <div class="').concat(k.range,'">\n       <input type="range" />\n       <output></output>\n     </div>\n     <select class="').concat(k.select,'"></select>\n     <div class="').concat(k.radio,'"></div>\n     <label for="').concat(k.checkbox,'" class="').concat(k.checkbox,'">\n       <input type="checkbox" />\n       <span class="').concat(k.label,'"></span>\n     </label>\n     <textarea class="').concat(k.textarea,'"></textarea>\n     <div class="').concat(k["validation-message"],'" id="').concat(k["validation-message"],'"></div>\n   </div>\n   <div class="').concat(k.actions,'">\n     <button type="button" class="').concat(k.confirm,'">OK</button>\n     <button type="button" class="').concat(k.cancel,'">Cancel</button>\n   </div>\n   <div class="').concat(k.footer,'"></div>\n   <div class="').concat(k["timer-progress-bar-container"],'">\n     <div class="').concat(k["timer-progress-bar"],'"></div>\n   </div>\n </div>\n').replace(/(^|\n)\s*/g,""),fe=function(e){bt.isVisible()&&Z!==e.target.value&&bt.resetValidationMessage(),Z=e.target.value},me=function(t,n){t instanceof HTMLElement?n.appendChild(t):"object"===e(t)?ge(t,n):t&&X(n,t)},ge=function(e,t){e.jquery?ve(t,e):X(t,e.toString())},ve=function(e,t){if(e.textContent="",0 in t)for(var n=0;n in t;n++)e.appendChild(t[n].cloneNode(!0));else e.appendChild(t.cloneNode(!0))},_e=function(){if(de())return!1;var e=document.createElement("div"),t={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd oanimationend",animation:"animationend"};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&void 0!==e.style[n])return t[n];return!1}();function be(e,t,n){var r;se(e,n["show".concat((r=t,r.charAt(0).toUpperCase()+r.slice(1)),"Button")],"inline-block"),X(e,n["".concat(t,"ButtonText")]),e.setAttribute("aria-label",n["".concat(t,"ButtonAriaLabel")]),e.className=k[t],K(e,n,"".concat(t,"Button")),te(e,n["".concat(t,"ButtonClass")])}var ye={promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap},Ce=["input","file","range","select","radio","checkbox","textarea"],we=function(e,t){e.placeholder&&!t.inputPlaceholder||(e.placeholder=t.inputPlaceholder)},ke=function(e){var t=k[e]?k[e]:k.input;return re(I(),t)},xe={};xe.text=xe.email=xe.password=xe.number=xe.tel=xe.url=function(t,n){return"string"==typeof n.inputValue||"number"==typeof n.inputValue?t.value=n.inputValue:b(n.inputValue)||p('Unexpected type of inputValue! Expected "string", "number" or "Promise", got "'.concat(e(n.inputValue),'"')),we(t,n),t.type=n.input,t},xe.file=function(e,t){return we(e,t),e},xe.range=function(e,t){var n=e.querySelector("input"),r=e.querySelector("output");return n.value=t.inputValue,n.type=t.input,r.value=t.inputValue,e},xe.select=function(e,t){if(e.textContent="",t.inputPlaceholder){var n=document.createElement("option");X(n,t.inputPlaceholder),n.value="",n.disabled=!0,n.selected=!0,e.appendChild(n)}return e},xe.radio=function(e){return e.textContent="",e},xe.checkbox=function(e,t){var n=$(I(),"checkbox");n.value=1,n.id=k.checkbox,n.checked=Boolean(t.inputValue);var r=e.querySelector("span");return X(r,t.inputPlaceholder),e},xe.textarea=function(e,t){if(e.value=t.inputValue,we(e,t),"MutationObserver"in window){var n=parseInt(window.getComputedStyle(E()).width),r=parseInt(window.getComputedStyle(E()).paddingLeft)+parseInt(window.getComputedStyle(E()).paddingRight);new MutationObserver((function(){var t=e.offsetWidth+r;E().style.width=t>n?"".concat(t,"px"):null})).observe(e,{attributes:!0,attributeFilter:["style"]})}return e};var Se=function(e){return'<div class="'.concat(k["icon-content"],'">').concat(e,"</div>")},Oe=[],je=function(){return S()&&S().getAttribute("data-queue-step")},Ee=function(e,t){!function(e,t){var n=E();ie(n,"width",t.width),ie(n,"padding",t.padding),t.background&&(n.style.background=t.background),function(e,t){e.className="".concat(k.popup," ").concat(le(e)?t.showClass.popup:""),t.toast?(te([document.documentElement,document.body],k["toast-shown"]),te(e,k.toast)):te(e,k.modal),K(e,t,"popup"),"string"==typeof t.customClass&&te(e,t.customClass),t.icon&&te(e,k["icon-".concat(t.icon)])}(n,t)}(0,t),function(e,t){var n=S();if(n){!function(e,t){"string"==typeof t?e.style.background=t:t||te([document.documentElement,document.body],k["no-backdrop"])}(n,t.backdrop),!t.backdrop&&t.allowOutsideClick&&p('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),function(e,t){t in k?te(e,k[t]):(p('The "position" parameter is not valid, defaulting to "center"'),te(e,k.center))}(n,t.position),function(e,t){if(t&&"string"==typeof t){var n="grow-".concat(t);n in k&&te(e,k[n])}}(n,t.grow),K(n,t,"container");var r=document.body.getAttribute("data-swal2-queue-step");r&&(n.setAttribute("data-queue-step",r),document.body.removeAttribute("data-swal2-queue-step"))}}(0,t),function(e,t){var n=B();K(n,t,"header"),function(e,t){var n=D();if(!t.progressSteps||0===t.progressSteps.length)return oe(n);ae(n),n.textContent="";var r=parseInt(void 0===t.currentProgressStep?je():t.currentProgressStep);r>=t.progressSteps.length&&p("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),t.progressSteps.forEach((function(e,i){var a=function(e){var t=document.createElement("li");return te(t,k["progress-step"]),X(t,e),t}(e);if(n.appendChild(a),i===r&&te(a,k["active-progress-step"]),i!==t.progressSteps.length-1){var o=function(e){var t=document.createElement("li");return te(t,k["progress-step-line"]),e.progressStepsDistance&&(t.style.width=e.progressStepsDistance),t}(t);n.appendChild(o)}}))}(0,t),function(e,t){var n=ye.innerParams.get(e);if(n&&t.icon===n.icon&&M())K(M(),t,"icon");else if(function(){for(var e=P(),t=0;t<e.length;t++)oe(e[t])}(),t.icon)if(-1!==Object.keys(x).indexOf(t.icon)){var r=O(".".concat(k.icon,".").concat(x[t.icon]));ae(r),function(e,t){e.textContent="",X(e,t.iconHtml?Se(t.iconHtml):"success"===t.icon?'\n      <div class="swal2-success-circular-line-left"></div>\n      <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n      <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n      <div class="swal2-success-circular-line-right"></div>\n    ':"error"===t.icon?'\n      <span class="swal2-x-mark">\n        <span class="swal2-x-mark-line-left"></span>\n        <span class="swal2-x-mark-line-right"></span>\n      </span>\n    ':Se({question:"?",warning:"!",info:"i"}[t.icon]))}(r,t),function(){for(var e=E(),t=window.getComputedStyle(e).getPropertyValue("background-color"),n=e.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix"),r=0;r<n.length;r++)n[r].style.backgroundColor=t}(),K(r,t,"icon"),te(r,t.showClass.icon)}else f('Unknown icon! Expected "success", "error", "warning", "info" or "question", got "'.concat(t.icon,'"'))}(e,t),function(e,t){var n=A();if(!t.imageUrl)return oe(n);ae(n,""),n.setAttribute("src",t.imageUrl),n.setAttribute("alt",t.imageAlt),ie(n,"width",t.imageWidth),ie(n,"height",t.imageHeight),n.className=k.image,K(n,t,"image")}(0,t),function(e,t){var n=T();se(n,t.title||t.titleText),t.title&&me(t.title,n),t.titleText&&(n.innerText=t.titleText),K(n,t,"title")}(0,t),function(e,t){var n=U();X(n,t.closeButtonHtml),K(n,t,"closeButton"),se(n,t.showCloseButton),n.setAttribute("aria-label",t.closeButtonAriaLabel)}(0,t)}(e,t),function(e,t){var n=I().querySelector("#".concat(k.content));t.html?(me(t.html,n),ae(n,"block")):t.text?(n.textContent=t.text,ae(n,"block")):oe(n),function(e,t){var n=I(),r=ye.innerParams.get(e),i=!r||t.input!==r.input;Ce.forEach((function(e){var r=k[e],a=re(n,r);(function(e,t){var n=$(I(),e);if(n)for(var r in function(e){for(var t=0;t<e.attributes.length;t++){var n=e.attributes[t].name;-1===["type","value","style"].indexOf(n)&&e.removeAttribute(n)}}(n),t)"range"===e&&"placeholder"===r||n.setAttribute(r,t[r])})(e,t.inputAttributes),a.className=r,i&&oe(a)})),t.input&&(i&&function(e){if(!xe[e.input])return f('Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "'.concat(e.input,'"'));var t=ke(e.input),n=xe[e.input](t,e);ae(n),setTimeout((function(){Q(n)}))}(t),function(e){var t=ke(e.input);e.customClass&&te(t,e.customClass.input)}(t))}(e,t),K(I(),t,"content")}(e,t),function(e,t){var n=N(),r=F(),i=L();t.showConfirmButton||t.showCancelButton||oe(n),K(n,t,"actions"),be(r,"confirm",t),be(i,"cancel",t),t.buttonsStyling?function(e,t,n){if(te([e,t],k.styled),n.confirmButtonColor&&(e.style.backgroundColor=n.confirmButtonColor),n.cancelButtonColor&&(t.style.backgroundColor=n.cancelButtonColor),!G()){var r=window.getComputedStyle(e).getPropertyValue("background-color");e.style.borderLeftColor=r,e.style.borderRightColor=r}}(r,i,t):(ne([r,i],k.styled),r.style.backgroundColor=r.style.borderLeftColor=r.style.borderRightColor="",i.style.backgroundColor=i.style.borderLeftColor=i.style.borderRightColor=""),t.reverseButtons&&r.parentNode.insertBefore(i,r)}(0,t),function(e,t){var n=z();se(n,t.footer),t.footer&&me(t.footer,n),K(n,t,"footer")}(0,t),"function"==typeof t.onRender&&t.onRender(E())},Pe=function(){return F()&&F().click()},Me=function(){var e=E();e||bt.fire(),e=E();var t=N(),n=F();ae(t),ae(n,"inline-block"),te([e,t],k.loading),n.disabled=!0,e.setAttribute("data-loading",!0),e.setAttribute("aria-busy",!0),e.focus()},Te={},Ie=function(){if(Te.timeout)return function(){var e=q(),t=parseInt(window.getComputedStyle(e).width);e.style.removeProperty("transition"),e.style.width="100%";var n=parseInt(window.getComputedStyle(e).width),r=parseInt(t/n*100);e.style.removeProperty("transition"),e.style.width="".concat(r,"%")}(),Te.timeout.stop()},Ae=function(){if(Te.timeout){var e=Te.timeout.start();return he(e),e}},De={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconHtml:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:void 0,target:"body",backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showCancelButton:!1,preConfirm:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusCancel:!1,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",showLoaderOnConfirm:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputValue:"",inputOptions:{},inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,onBeforeOpen:void 0,onOpen:void 0,onRender:void 0,onClose:void 0,onAfterClose:void 0,onDestroy:void 0,scrollbarPadding:!0},Re=["title","titleText","text","html","footer","icon","hideClass","customClass","allowOutsideClick","allowEscapeKey","showConfirmButton","showCancelButton","confirmButtonText","confirmButtonAriaLabel","confirmButtonColor","cancelButtonText","cancelButtonAriaLabel","cancelButtonColor","buttonsStyling","reverseButtons","imageUrl","imageWidth","imageHeight","imageAlt","progressSteps","currentProgressStep","onClose","onAfterClose","onDestroy"],Fe={animation:'showClass" and "hideClass'},Le=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusCancel","heightAuto","keydownListenerCapture"],Ne=function(e){return Object.prototype.hasOwnProperty.call(De,e)},Be=function(e){return Fe[e]},ze=function(e){Ne(e)||p('Unknown parameter "'.concat(e,'"'))},qe=function(e){-1!==Le.indexOf(e)&&p('The parameter "'.concat(e,'" is incompatible with toasts'))},Ue=function(e){var t,n,r;Be(e)&&(t=e,n=Be(e),r='"'.concat(t,'" is deprecated and will be removed in the next major release. Please use "').concat(n,'" instead.'),-1===m.indexOf(r)&&(m.push(r),p(r)))},He=Object.freeze({isValidParameter:Ne,isUpdatableParameter:function(e){return-1!==Re.indexOf(e)},isDeprecatedParameter:Be,argsToParams:function(t){var n={};return"object"!==e(t[0])||C(t[0])?["title","html","icon"].forEach((function(r,i){var a=t[i];"string"==typeof a||C(a)?n[r]=a:void 0!==a&&f("Unexpected type of ".concat(r,'! Expected "string" or "Element", got ').concat(e(a)))})):i(n,t[0]),n},isVisible:function(){return le(E())},clickConfirm:Pe,clickCancel:function(){return L()&&L().click()},getContainer:S,getPopup:E,getTitle:T,getContent:I,getHtmlContainer:function(){return j(k["html-container"])},getImage:A,getIcon:M,getIcons:P,getCloseButton:U,getActions:N,getConfirmButton:F,getCancelButton:L,getHeader:B,getFooter:z,getTimerProgressBar:q,getFocusableElements:H,getValidationMessage:R,isLoading:G,fire:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return l(e,n)},mixin:function(e){return function(n){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,n);var l,h,d=(l=p,h=s(),function(){var e,t=a(l);if(h){var n=a(this).constructor;e=Reflect.construct(t,arguments,n)}else e=t.apply(this,arguments);return c(this,e)});function p(){return t(this,p),d.apply(this,arguments)}return r(p,[{key:"_main",value:function(t){return u(a(p.prototype),"_main",this).call(this,i({},e,t))}}]),p}(this)},queue:function(e){var t=this;Oe=e;var n=function(e,t){Oe=[],e(t)},r=[];return new Promise((function(e){!function i(a,o){a<Oe.length?(document.body.setAttribute("data-swal2-queue-step",a),t.fire(Oe[a]).then((function(t){void 0!==t.value?(r.push(t.value),i(a+1,o)):n(e,{dismiss:t.dismiss})}))):n(e,{value:r})}(0)}))},getQueueStep:je,insertQueueStep:function(e,t){return t&&t<Oe.length?Oe.splice(t,0,e):Oe.push(e)},deleteQueueStep:function(e){void 0!==Oe[e]&&Oe.splice(e,1)},showLoading:Me,enableLoading:Me,getTimerLeft:function(){return Te.timeout&&Te.timeout.getTimerLeft()},stopTimer:Ie,resumeTimer:Ae,toggleTimer:function(){var e=Te.timeout;return e&&(e.running?Ie():Ae())},increaseTimer:function(e){if(Te.timeout){var t=Te.timeout.increase(e);return he(t,!0),t}},isTimerRunning:function(){return Te.timeout&&Te.timeout.isRunning()}});function Ve(){var e=ye.innerParams.get(this);if(e){var t=ye.domCache.get(this);e.showConfirmButton||(oe(t.confirmButton),e.showCancelButton||oe(t.actions)),ne([t.popup,t.actions],k.loading),t.popup.removeAttribute("aria-busy"),t.popup.removeAttribute("data-loading"),t.confirmButton.disabled=!1,t.cancelButton.disabled=!1}}var We=function(){return!!window.MSInputMethodContext&&!!document.documentMode},Ge=function(){var e=S(),t=E();e.style.removeProperty("align-items"),t.offsetTop<0&&(e.style.alignItems="flex-start")},Ye={swalPromiseResolve:new WeakMap};function Xe(e,t,n,r){n?Ze(e,r):(new Promise((function(e){var t=window.scrollX,n=window.scrollY;Te.restoreFocusTimeout=setTimeout((function(){Te.previousActiveElement&&Te.previousActiveElement.focus?(Te.previousActiveElement.focus(),Te.previousActiveElement=null):document.body&&document.body.focus(),e()}),100),void 0!==t&&void 0!==n&&window.scrollTo(t,n)})).then((function(){return Ze(e,r)})),Te.keydownTarget.removeEventListener("keydown",Te.keydownHandler,{capture:Te.keydownListenerCapture}),Te.keydownHandlerAdded=!1),t.parentNode&&!document.body.getAttribute("data-swal2-queue-step")&&t.parentNode.removeChild(t),V()&&(null!==Y.previousBodyPadding&&(document.body.style.paddingRight="".concat(Y.previousBodyPadding,"px"),Y.previousBodyPadding=null),function(){if(J(document.body,k.iosfix)){var e=parseInt(document.body.style.top,10);ne(document.body,k.iosfix),document.body.style.top="",document.body.scrollTop=-1*e}}(),"undefined"!=typeof window&&We()&&window.removeEventListener("resize",Ge),d(document.body.children).forEach((function(e){e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")}))),ne([document.documentElement,document.body],[k.shown,k["height-auto"],k["no-backdrop"],k["toast-shown"],k["toast-column"]])}function Je(e){var t=E();if(t){var n=ye.innerParams.get(this);if(n&&!J(t,n.hideClass.popup)){var r=Ye.swalPromiseResolve.get(this);ne(t,n.showClass.popup),te(t,n.hideClass.popup);var i=S();ne(i,n.showClass.backdrop),te(i,n.hideClass.backdrop),Ke(this,t,n),void 0!==e?(e.isDismissed=void 0!==e.dismiss,e.isConfirmed=void 0===e.dismiss):e={isDismissed:!0,isConfirmed:!1},r(e||{})}}}var Ke=function(e,t,n){var r=S(),i=_e&&ue(t),a=n.onClose,o=n.onAfterClose;null!==a&&"function"==typeof a&&a(t),i?$e(e,t,r,o):Xe(e,r,W(),o)},$e=function(e,t,n,r){Te.swalCloseEventFinishedCallback=Xe.bind(null,e,n,W(),r),t.addEventListener(_e,(function(e){e.target===t&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback)}))},Ze=function(e,t){setTimeout((function(){"function"==typeof t&&t(),e._destroy()}))};function Qe(e,t,n){var r=ye.domCache.get(e);t.forEach((function(e){r[e].disabled=n}))}function et(e,t){if(!e)return!1;if("radio"===e.type)for(var n=e.parentNode.parentNode.querySelectorAll("input"),r=0;r<n.length;r++)n[r].disabled=t;else e.disabled=t}var tt=function(){function e(n,r){t(this,e),this.callback=n,this.remaining=r,this.running=!1,this.start()}return r(e,[{key:"start",value:function(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}},{key:"stop",value:function(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date-this.started),this.remaining}},{key:"increase",value:function(e){var t=this.running;return t&&this.stop(),this.remaining+=e,t&&this.start(),this.remaining}},{key:"getTimerLeft",value:function(){return this.running&&(this.stop(),this.start()),this.remaining}},{key:"isRunning",value:function(){return this.running}}]),e}(),nt={email:function(e,t){return/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid email address")},url:function(e,t){return/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{2,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(e)?Promise.resolve():Promise.resolve(t||"Invalid URL")}};function rt(e){var t=E();if(e.target===t){var n=S();t.removeEventListener(_e,rt),n.style.overflowY="auto"}}var it,at={select:function(e,t,n){var r=re(e,k.select),i=function(e,t,r){var i=document.createElement("option");i.value=r,X(i,t),n.inputValue.toString()===r.toString()&&(i.selected=!0),e.appendChild(i)};t.forEach((function(e){var t=e[0],n=e[1];if(Array.isArray(n)){var a=document.createElement("optgroup");a.label=t,a.disabled=!1,r.appendChild(a),n.forEach((function(e){return i(a,e[1],e[0])}))}else i(r,n,t)})),r.focus()},radio:function(e,t,n){var r=re(e,k.radio);t.forEach((function(e){var t=e[0],i=e[1],a=document.createElement("input"),o=document.createElement("label");a.type="radio",a.name=k.radio,a.value=t,n.inputValue.toString()===t.toString()&&(a.checked=!0);var s=document.createElement("span");X(s,i),s.className=k.label,o.appendChild(a),o.appendChild(s),r.appendChild(o)}));var i=r.querySelectorAll("input");i.length&&i[0].focus()}},ot=function(e,t){e.closePopup({value:t})},st=function(e,t,n){t.showLoaderOnConfirm&&Me(),t.preConfirm?(e.resetValidationMessage(),Promise.resolve().then((function(){return _(t.preConfirm(n,t.validationMessage))})).then((function(t){le(R())||!1===t?e.hideLoading():ot(e,void 0===t?n:t)}))):ot(e,n)},lt=function(e,t,n){for(var r=H(),i=0;i<r.length;i++)return(t+=n)===r.length?t=0:-1===t&&(t=r.length-1),r[t].focus();E().focus()},ct=["ArrowLeft","ArrowRight","ArrowUp","ArrowDown","Left","Right","Up","Down"],ut=["Escape","Esc"],ht=!1,dt=function(t,n,r){return new Promise((function(i){var a=function(e){t.closePopup({dismiss:e})};Ye.swalPromiseResolve.set(t,i),n.confirmButton.onclick=function(){return function(e,t){e.disableButtons(),t.input?function(e,t){var n=function(e,t){var n=e.getInput();if(!n)return null;switch(t.input){case"checkbox":return function(e){return e.checked?1:0}(n);case"radio":return function(e){return e.checked?e.value:null}(n);case"file":return function(e){return e.files.length?null!==e.getAttribute("multiple")?e.files:e.files[0]:null}(n);default:return t.inputAutoTrim?n.value.trim():n.value}}(e,t);t.inputValidator?(e.disableInput(),Promise.resolve().then((function(){return _(t.inputValidator(n,t.validationMessage))})).then((function(r){e.enableButtons(),e.enableInput(),r?e.showValidationMessage(r):st(e,t,n)}))):e.getInput().checkValidity()?st(e,t,n):(e.enableButtons(),e.showValidationMessage(t.validationMessage))}(e,t):st(e,t,!0)}(t,r)},n.cancelButton.onclick=function(){return function(e,t){e.disableButtons(),t(y.cancel)}(t,a)},n.closeButton.onclick=function(){return a(y.close)},function(e,t,n){ye.innerParams.get(e).toast?function(e,t,n){t.popup.onclick=function(){var t=ye.innerParams.get(e);t.showConfirmButton||t.showCancelButton||t.showCloseButton||t.input||n(y.close)}}(e,t,n):(function(e){e.popup.onmousedown=function(){e.container.onmouseup=function(t){e.container.onmouseup=void 0,t.target===e.container&&(ht=!0)}}}(t),function(e){e.container.onmousedown=function(){e.popup.onmouseup=function(t){e.popup.onmouseup=void 0,(t.target===e.popup||e.popup.contains(t.target))&&(ht=!0)}}}(t),function(e,t,n){t.container.onclick=function(r){var i=ye.innerParams.get(e);ht?ht=!1:r.target===t.container&&g(i.allowOutsideClick)&&n(y.backdrop)}}(e,t,n))}(t,n,a),function(e,t,n,r){t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1),n.toast||(t.keydownHandler=function(t){return function(e,t,n){var r,i,a=ye.innerParams.get(e);a.stopKeydownPropagation&&t.stopPropagation(),"Enter"===t.key?function(e,t,n){if(!t.isComposing&&t.target&&e.getInput()&&t.target.outerHTML===e.getInput().outerHTML){if(-1!==["textarea","file"].indexOf(n.input))return;Pe(),t.preventDefault()}}(e,t,a):"Tab"===t.key?function(e,t){for(var n=e.target,r=H(),i=-1,a=0;a<r.length;a++)if(n===r[a]){i=a;break}lt(0,i,e.shiftKey?-1:1),e.stopPropagation(),e.preventDefault()}(t):-1!==ct.indexOf(t.key)?(r=F(),i=L(),document.activeElement===r&&le(i)?i.focus():document.activeElement===i&&le(r)&&r.focus()):-1!==ut.indexOf(t.key)&&function(e,t,n){g(t.allowEscapeKey)&&(e.preventDefault(),n(y.esc))}(t,a,n)}(e,t,r)},t.keydownTarget=n.keydownListenerCapture?window:E(),t.keydownListenerCapture=n.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)}(t,Te,r,a),r.toast&&(r.input||r.footer||r.showCloseButton)?te(document.body,k["toast-column"]):ne(document.body,k["toast-column"]),function(t,n){"select"===n.input||"radio"===n.input?function(t,n){var r=I(),i=function(t){return at[n.input](r,function t(n){var r=[];return"undefined"!=typeof Map&&n instanceof Map?n.forEach((function(n,i){var a=n;"object"===e(a)&&(a=t(a)),r.push([i,a])})):Object.keys(n).forEach((function(i){var a=n[i];"object"===e(a)&&(a=t(a)),r.push([i,a])})),r}(t),n)};v(n.inputOptions)||b(n.inputOptions)?(Me(),_(n.inputOptions).then((function(e){t.hideLoading(),i(e)}))):"object"===e(n.inputOptions)?i(n.inputOptions):f("Unexpected type of inputOptions! Expected object, Map or Promise, got ".concat(e(n.inputOptions)))}(t,n):-1!==["text","email","number","tel","textarea"].indexOf(n.input)&&(v(n.inputValue)||b(n.inputValue))&&function(e,t){var n=e.getInput();oe(n),_(t.inputValue).then((function(r){n.value="number"===t.input?parseFloat(r)||0:"".concat(r),ae(n),n.focus(),e.hideLoading()})).catch((function(t){f("Error in inputValue promise: ".concat(t)),n.value="",ae(n),n.focus(),e.hideLoading()}))}(t,n)}(t,r),function(e){var t=S(),n=E();"function"==typeof e.onBeforeOpen&&e.onBeforeOpen(n);var r=window.getComputedStyle(document.body).overflowY;(function(e,t,n){te(e,n.showClass.backdrop),ae(t),te(t,n.showClass.popup),te([document.documentElement,document.body],k.shown),n.heightAuto&&n.backdrop&&!n.toast&&te([document.documentElement,document.body],k["height-auto"])})(t,n,e),function(e,t){_e&&ue(t)?(e.style.overflowY="hidden",t.addEventListener(_e,rt)):e.style.overflowY="auto"}(t,n),V()&&(function(e,t,n){!function(){if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!J(document.body,k.iosfix)){var e=document.body.scrollTop;document.body.style.top="".concat(-1*e,"px"),te(document.body,k.iosfix),function(){var e,t=S();t.ontouchstart=function(t){e=function(e){var t=S();return e===t||!(ce(t)||"INPUT"===e.tagName||ce(I())&&I().contains(e))}(t.target)},t.ontouchmove=function(t){e&&(t.preventDefault(),t.stopPropagation())}}(),navigator.userAgent.match(/(CriOS|FxiOS|EdgiOS|YaBrowser|UCBrowser)/i)||E().scrollHeight>window.innerHeight-44&&(S().style.paddingBottom="".concat(44,"px"))}}(),"undefined"!=typeof window&&We()&&(Ge(),window.addEventListener("resize",Ge)),t&&"hidden"!==n&&null===Y.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(Y.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight="".concat(Y.previousBodyPadding+function(){var e=document.createElement("div");e.className=k["scrollbar-measure"],document.body.appendChild(e);var t=e.getBoundingClientRect().width-e.clientWidth;return document.body.removeChild(e),t}(),"px")),setTimeout((function(){e.scrollTop=0}))}(t,e.scrollbarPadding,r),d(document.body.children).forEach((function(e){e===S()||function(e,t){if("function"==typeof e.contains)return e.contains(t)}(e,S())||(e.hasAttribute("aria-hidden")&&e.setAttribute("data-previous-aria-hidden",e.getAttribute("aria-hidden")),e.setAttribute("aria-hidden","true"))}))),W()||Te.previousActiveElement||(Te.previousActiveElement=document.activeElement),"function"==typeof e.onOpen&&setTimeout((function(){return e.onOpen(n)})),ne(t,k["no-transition"])}(r),pt(Te,r,a),ft(n,r),setTimeout((function(){n.container.scrollTop=0}))}))},pt=function(e,t,n){var r=q();oe(r),t.timer&&(e.timeout=new tt((function(){n("timer"),delete e.timeout}),t.timer),t.timerProgressBar&&(ae(r),setTimeout((function(){e.timeout.running&&he(t.timer)}))))},ft=function(e,t){if(!t.toast)return g(t.allowEnterKey)?t.focusCancel&&le(e.cancelButton)?e.cancelButton.focus():t.focusConfirm&&le(e.confirmButton)?e.confirmButton.focus():void lt(0,-1,1):mt()},mt=function(){document.activeElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()},gt=function(e){for(var t in e)e[t]=new WeakMap},vt=Object.freeze({hideLoading:Ve,disableLoading:Ve,getInput:function(e){var t=ye.innerParams.get(e||this),n=ye.domCache.get(e||this);return n?$(n.content,t.input):null},close:Je,closePopup:Je,closeModal:Je,closeToast:Je,enableButtons:function(){Qe(this,["confirmButton","cancelButton"],!1)},disableButtons:function(){Qe(this,["confirmButton","cancelButton"],!0)},enableInput:function(){return et(this.getInput(),!1)},disableInput:function(){return et(this.getInput(),!0)},showValidationMessage:function(e){var t=ye.domCache.get(this);X(t.validationMessage,e);var n=window.getComputedStyle(t.popup);t.validationMessage.style.marginLeft="-".concat(n.getPropertyValue("padding-left")),t.validationMessage.style.marginRight="-".concat(n.getPropertyValue("padding-right")),ae(t.validationMessage);var r=this.getInput();r&&(r.setAttribute("aria-invalid",!0),r.setAttribute("aria-describedBy",k["validation-message"]),Q(r),te(r,k.inputerror))},resetValidationMessage:function(){var e=ye.domCache.get(this);e.validationMessage&&oe(e.validationMessage);var t=this.getInput();t&&(t.removeAttribute("aria-invalid"),t.removeAttribute("aria-describedBy"),ne(t,k.inputerror))},getProgressSteps:function(){return ye.domCache.get(this).progressSteps},_main:function(e){!function(e){for(var t in e)ze(t),e.toast&&qe(t),Ue(t)}(e),Te.currentInstance&&Te.currentInstance._destroy(),Te.currentInstance=this;var t,n=function(e){var t=i({},De.showClass,e.showClass),n=i({},De.hideClass,e.hideClass),r=i({},De,e);return r.showClass=t,r.hideClass=n,!1===e.animation&&(r.showClass={popup:"swal2-noanimation",backdrop:"swal2-noanimation"},r.hideClass={}),r}(e);(function(e){e.inputValidator||Object.keys(nt).forEach((function(t){e.input===t&&(e.inputValidator=nt[t])}))})(t=n),t.showLoaderOnConfirm&&!t.preConfirm&&p("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),t.animation=g(t.animation),function(e){(!e.target||"string"==typeof e.target&&!document.querySelector(e.target)||"string"!=typeof e.target&&!e.target.appendChild)&&(p('Target parameter is not valid, defaulting to "body"'),e.target="body")}(t),"string"==typeof t.title&&(t.title=t.title.split("\n").join("<br />")),function(e){var t,n=!!(t=S())&&(t.parentNode.removeChild(t),ne([document.documentElement,document.body],[k["no-backdrop"],k["toast-shown"],k["has-column"]]),!0);if(de())f("SweetAlert2 requires document to initialize");else{var r=document.createElement("div");r.className=k.container,n&&te(r,k["no-transition"]),X(r,pe);var i,a,o,s,l,c,u,h,d,p="string"==typeof(i=e.target)?document.querySelector(i):i;p.appendChild(r),function(e){var t=E();t.setAttribute("role",e.toast?"alert":"dialog"),t.setAttribute("aria-live",e.toast?"polite":"assertive"),e.toast||t.setAttribute("aria-modal","true")}(e),function(e){"rtl"===window.getComputedStyle(e).direction&&te(S(),k.rtl)}(p),a=I(),o=re(a,k.input),s=re(a,k.file),l=a.querySelector(".".concat(k.range," input")),c=a.querySelector(".".concat(k.range," output")),u=re(a,k.select),h=a.querySelector(".".concat(k.checkbox," input")),d=re(a,k.textarea),o.oninput=fe,s.onchange=fe,u.onchange=fe,h.onchange=fe,d.oninput=fe,l.oninput=function(e){fe(e),c.value=l.value},l.onchange=function(e){fe(e),l.nextSibling.value=l.value}}}(t),Object.freeze(n),Te.timeout&&(Te.timeout.stop(),delete Te.timeout),clearTimeout(Te.restoreFocusTimeout);var r=function(e){var t={popup:E(),container:S(),content:I(),actions:N(),confirmButton:F(),cancelButton:L(),closeButton:U(),validationMessage:R(),progressSteps:D()};return ye.domCache.set(e,t),t}(this);return Ee(this,n),ye.innerParams.set(this,n),dt(this,r,n)},update:function(e){var t=E(),n=ye.innerParams.get(this);if(!t||J(t,n.hideClass.popup))return p("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");var r={};Object.keys(e).forEach((function(t){bt.isUpdatableParameter(t)?r[t]=e[t]:p('Invalid parameter to update: "'.concat(t,'". Updatable params are listed here: https://github.com/sweetalert2/sweetalert2/blob/master/src/utils/params.js'))}));var a=i({},n,r);Ee(this,a),ye.innerParams.set(this,a),Object.defineProperties(this,{params:{value:i({},this.params,e),writable:!1,enumerable:!0}})},_destroy:function(){var e=ye.domCache.get(this),t=ye.innerParams.get(this);t&&(e.popup&&Te.swalCloseEventFinishedCallback&&(Te.swalCloseEventFinishedCallback(),delete Te.swalCloseEventFinishedCallback),Te.deferDisposalTimer&&(clearTimeout(Te.deferDisposalTimer),delete Te.deferDisposalTimer),"function"==typeof t.onDestroy&&t.onDestroy(),delete this.params,delete Te.keydownHandler,delete Te.keydownTarget,gt(ye),gt(Ye))}}),_t=function(){function e(){if(t(this,e),"undefined"!=typeof window){"undefined"==typeof Promise&&f("This package requires a Promise library, please include a shim to enable it in this browser (See: https://github.com/sweetalert2/sweetalert2/wiki/Migration-from-SweetAlert-to-SweetAlert2#1-ie-support)"),it=this;for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=Object.freeze(this.constructor.argsToParams(r));Object.defineProperties(this,{params:{value:a,writable:!1,enumerable:!0,configurable:!0}});var o=this._main(this.params);ye.promise.set(this,o)}}return r(e,[{key:"then",value:function(e){return ye.promise.get(this).then(e)}},{key:"finally",value:function(e){return ye.promise.get(this).finally(e)}}]),e}();i(_t.prototype,vt),i(_t,He),Object.keys(vt).forEach((function(e){_t[e]=function(){var t;if(it)return(t=it)[e].apply(t,arguments)}})),_t.DismissReason=y,_t.version="9.15.2";var bt=_t;return bt.default=bt,bt}(),void 0!==this&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),"undefined"!=typeof document&&function(e,t){var n=e.createElement("style");if(e.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=t);else try{n.innerHTML=t}catch(e){n.innerText=t}}(document,'.swal2-popup.swal2-toast{flex-direction:row;align-items:center;width:auto;padding:.625em;overflow-y:hidden;background:#fff;box-shadow:0 0 .625em #d9d9d9}.swal2-popup.swal2-toast .swal2-header{flex-direction:row}.swal2-popup.swal2-toast .swal2-title{flex-grow:1;justify-content:flex-start;margin:0 .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{position:static;width:.8em;height:.8em;line-height:.8}.swal2-popup.swal2-toast .swal2-content{justify-content:flex-start;font-size:1em}.swal2-popup.swal2-toast .swal2-icon{width:2em;min-width:2em;height:2em;margin:0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:700}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{font-size:.25em}}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{flex-basis:auto!important;width:auto;height:auto;margin:0 .3125em}.swal2-popup.swal2-toast .swal2-styled{margin:0 .3125em;padding:.3125em .625em;font-size:1em}.swal2-popup.swal2-toast .swal2-styled:focus{box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.8em;left:-.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-toast-animate-success-line-tip .75s;animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-toast-animate-success-line-long .75s;animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{-webkit-animation:swal2-toast-show .5s;animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{-webkit-animation:swal2-toast-hide .1s forwards;animation:swal2-toast-hide .1s forwards}.swal2-container{display:flex;position:fixed;z-index:1060;top:0;right:0;bottom:0;left:0;flex-direction:row;align-items:center;justify-content:center;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:0 0!important}.swal2-container.swal2-top{align-items:flex-start}.swal2-container.swal2-top-left,.swal2-container.swal2-top-start{align-items:flex-start;justify-content:flex-start}.swal2-container.swal2-top-end,.swal2-container.swal2-top-right{align-items:flex-start;justify-content:flex-end}.swal2-container.swal2-center{align-items:center}.swal2-container.swal2-center-left,.swal2-container.swal2-center-start{align-items:center;justify-content:flex-start}.swal2-container.swal2-center-end,.swal2-container.swal2-center-right{align-items:center;justify-content:flex-end}.swal2-container.swal2-bottom{align-items:flex-end}.swal2-container.swal2-bottom-left,.swal2-container.swal2-bottom-start{align-items:flex-end;justify-content:flex-start}.swal2-container.swal2-bottom-end,.swal2-container.swal2-bottom-right{align-items:flex-end;justify-content:flex-end}.swal2-container.swal2-bottom-end>:first-child,.swal2-container.swal2-bottom-left>:first-child,.swal2-container.swal2-bottom-right>:first-child,.swal2-container.swal2-bottom-start>:first-child,.swal2-container.swal2-bottom>:first-child{margin-top:auto}.swal2-container.swal2-grow-fullscreen>.swal2-modal{display:flex!important;flex:1;align-self:stretch;justify-content:center}.swal2-container.swal2-grow-row>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-grow-column{flex:1;flex-direction:column}.swal2-container.swal2-grow-column.swal2-bottom,.swal2-container.swal2-grow-column.swal2-center,.swal2-container.swal2-grow-column.swal2-top{align-items:center}.swal2-container.swal2-grow-column.swal2-bottom-left,.swal2-container.swal2-grow-column.swal2-bottom-start,.swal2-container.swal2-grow-column.swal2-center-left,.swal2-container.swal2-grow-column.swal2-center-start,.swal2-container.swal2-grow-column.swal2-top-left,.swal2-container.swal2-grow-column.swal2-top-start{align-items:flex-start}.swal2-container.swal2-grow-column.swal2-bottom-end,.swal2-container.swal2-grow-column.swal2-bottom-right,.swal2-container.swal2-grow-column.swal2-center-end,.swal2-container.swal2-grow-column.swal2-center-right,.swal2-container.swal2-grow-column.swal2-top-end,.swal2-container.swal2-grow-column.swal2-top-right{align-items:flex-end}.swal2-container.swal2-grow-column>.swal2-modal{display:flex!important;flex:1;align-content:center;justify-content:center}.swal2-container.swal2-no-transition{transition:none!important}.swal2-container:not(.swal2-top):not(.swal2-top-start):not(.swal2-top-end):not(.swal2-top-left):not(.swal2-top-right):not(.swal2-center-start):not(.swal2-center-end):not(.swal2-center-left):not(.swal2-center-right):not(.swal2-bottom):not(.swal2-bottom-start):not(.swal2-bottom-end):not(.swal2-bottom-left):not(.swal2-bottom-right):not(.swal2-grow-fullscreen)>.swal2-modal{margin:auto}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-container .swal2-modal{margin:0!important}}.swal2-popup{display:none;position:relative;box-sizing:border-box;flex-direction:column;justify-content:center;width:32em;max-width:100%;padding:1.25em;border:none;border-radius:.3125em;background:#fff;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:0}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-header{display:flex;flex-direction:column;align-items:center}.swal2-title{position:relative;max-width:100%;margin:0 0 .4em;padding:0;color:#595959;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;flex-wrap:wrap;align-items:center;justify-content:center;width:100%;margin:1.25em auto 0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0,0,0,.1),rgba(0,0,0,.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0,0,0,.2),rgba(0,0,0,.2))}.swal2-actions.swal2-loading .swal2-styled.swal2-confirm{box-sizing:border-box;width:2.5em;height:2.5em;margin:.46875em;padding:0;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:.25em solid transparent;border-radius:100%;border-color:transparent;background-color:transparent!important;color:transparent!important;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-actions.swal2-loading .swal2-styled.swal2-cancel{margin-right:30px;margin-left:30px}.swal2-actions.swal2-loading :not(.swal2-styled).swal2-confirm::after{content:"";display:inline-block;width:15px;height:15px;margin-left:5px;-webkit-animation:swal2-rotate-loading 1.5s linear 0s infinite normal;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border:3px solid #999;border-radius:50%;border-right-color:transparent;box-shadow:1px 1px 1px #fff}.swal2-styled{margin:.3125em;padding:.625em 2em;box-shadow:none;font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#3085d6;color:#fff;font-size:1.0625em}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#aaa;color:#fff;font-size:1.0625em}.swal2-styled:focus{outline:0;box-shadow:0 0 0 1px #fff,0 0 0 3px rgba(50,100,150,.4)}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1.25em 0 0;padding:1em 0 0;border-top:1px solid #eee;color:#545454;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;height:.25em;overflow:hidden;border-bottom-right-radius:.3125em;border-bottom-left-radius:.3125em}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:1.25em auto}.swal2-close{position:absolute;z-index:2;top:0;right:0;align-items:center;justify-content:center;width:1.2em;height:1.2em;padding:0;overflow:hidden;transition:color .1s ease-out;border:none;border-radius:0;background:0 0;color:#ccc;font-family:serif;font-size:2.5em;line-height:1.2;cursor:pointer}.swal2-close:hover{transform:none;background:0 0;color:#f27474}.swal2-close::-moz-focus-inner{border:0}.swal2-content{z-index:1;justify-content:center;margin:0;padding:0;color:#545454;font-size:1.125em;font-weight:400;line-height:normal;text-align:center;word-wrap:break-word}.swal2-checkbox,.swal2-file,.swal2-input,.swal2-radio,.swal2-select,.swal2-textarea{margin:1em auto}.swal2-file,.swal2-input,.swal2-textarea{box-sizing:border-box;width:100%;transition:border-color .3s,box-shadow .3s;border:1px solid #d9d9d9;border-radius:.1875em;background:inherit;box-shadow:inset 0 1px 1px rgba(0,0,0,.06);color:inherit;font-size:1.125em}.swal2-file.swal2-inputerror,.swal2-input.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474!important;box-shadow:0 0 2px #f27474!important}.swal2-file:focus,.swal2-input:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:0;box-shadow:0 0 3px #c4e6f5}.swal2-file::-moz-placeholder,.swal2-input::-moz-placeholder,.swal2-textarea::-moz-placeholder{color:#ccc}.swal2-file:-ms-input-placeholder,.swal2-input:-ms-input-placeholder,.swal2-textarea:-ms-input-placeholder{color:#ccc}.swal2-file::-ms-input-placeholder,.swal2-input::-ms-input-placeholder,.swal2-textarea::-ms-input-placeholder{color:#ccc}.swal2-file::placeholder,.swal2-input::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em auto;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-input[type=number]{max-width:10em}.swal2-file{background:inherit;font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:inherit;color:inherit;font-size:1.125em}.swal2-checkbox,.swal2-radio{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-checkbox label,.swal2-radio label{margin:0 .6em;font-size:1.125em}.swal2-checkbox input,.swal2-radio input{margin:0 .4em}.swal2-validation-message{display:none;align-items:center;justify-content:center;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:1.25em auto 1.875em;border:.25em solid transparent;border-radius:50%;font-family:inherit;line-height:5em;cursor:default;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{-webkit-animation:swal2-animate-error-icon .5s;animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{-webkit-animation:swal2-animate-error-x-mark .5s;animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-.25em;left:-.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{-webkit-animation:swal2-animate-success-line-tip .75s;animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{-webkit-animation:swal2-animate-success-line-long .75s;animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{-webkit-animation:swal2-rotate-success-circular-line 4.25s ease-in;animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{align-items:center;margin:0 0 1.25em;padding:0;background:inherit;font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;width:2em;height:2em;border-radius:2em;background:#3085d6;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#3085d6}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;width:2.5em;height:.4em;margin:0 -1px;background:#3085d6}[class^=swal2]{-webkit-tap-highlight-color:transparent}.swal2-show{-webkit-animation:swal2-show .3s;animation:swal2-show .3s}.swal2-hide{-webkit-animation:swal2-hide .15s forwards;animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{right:auto;left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@supports (-ms-accelerator:true){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@media all and (-ms-high-contrast:none),(-ms-high-contrast:active){.swal2-range input{width:100%!important}.swal2-range output{display:none}}@-moz-document url-prefix(){.swal2-close:focus{outline:2px solid rgba(50,100,150,.4)}}@-webkit-keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@keyframes swal2-toast-show{0%{transform:translateY(-.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0)}}@-webkit-keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@-webkit-keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@-webkit-keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@-webkit-keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@keyframes swal2-show{0%{transform:scale(.7)}45%{transform:scale(1.05)}80%{transform:scale(.95)}100%{transform:scale(1)}}@-webkit-keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(.5);opacity:0}}@-webkit-keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@-webkit-keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@-webkit-keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@-webkit-keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(.4);opacity:0}50%{margin-top:1.625em;transform:scale(.4);opacity:0}80%{margin-top:-.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@-webkit-keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0);opacity:1}}@-webkit-keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}@keyframes swal2-rotate-loading{0%{transform:rotate(0)}100%{transform:rotate(360deg)}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto!important}body.swal2-no-backdrop .swal2-container{top:auto;right:auto;bottom:auto;left:auto;max-width:calc(100% - .625em * 2);background-color:transparent!important}body.swal2-no-backdrop .swal2-container>.swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}body.swal2-no-backdrop .swal2-container.swal2-top{top:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-top-left,body.swal2-no-backdrop .swal2-container.swal2-top-start{top:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-top-end,body.swal2-no-backdrop .swal2-container.swal2-top-right{top:0;right:0}body.swal2-no-backdrop .swal2-container.swal2-center{top:50%;left:50%;transform:translate(-50%,-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-left,body.swal2-no-backdrop .swal2-container.swal2-center-start{top:50%;left:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-center-end,body.swal2-no-backdrop .swal2-container.swal2-center-right{top:50%;right:0;transform:translateY(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom{bottom:0;left:50%;transform:translateX(-50%)}body.swal2-no-backdrop .swal2-container.swal2-bottom-left,body.swal2-no-backdrop .swal2-container.swal2-bottom-start{bottom:0;left:0}body.swal2-no-backdrop .swal2-container.swal2-bottom-end,body.swal2-no-backdrop .swal2-container.swal2-bottom-right{right:0;bottom:0}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll!important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static!important}}body.swal2-toast-shown .swal2-container{background-color:transparent}body.swal2-toast-shown .swal2-container.swal2-top{top:0;right:auto;bottom:auto;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{top:0;right:0;bottom:auto;left:auto}body.swal2-toast-shown .swal2-container.swal2-top-left,body.swal2-toast-shown .swal2-container.swal2-top-start{top:0;right:auto;bottom:auto;left:0}body.swal2-toast-shown .swal2-container.swal2-center-left,body.swal2-toast-shown .swal2-container.swal2-center-start{top:50%;right:auto;bottom:auto;left:0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{top:50%;right:auto;bottom:auto;left:50%;transform:translate(-50%,-50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{top:50%;right:0;bottom:auto;left:auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-left,body.swal2-toast-shown .swal2-container.swal2-bottom-start{top:auto;right:auto;bottom:0;left:0}body.swal2-toast-shown .swal2-container.swal2-bottom{top:auto;right:auto;bottom:0;left:50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{top:auto;right:0;bottom:0;left:auto}body.swal2-toast-column .swal2-toast{flex-direction:column;align-items:stretch}body.swal2-toast-column .swal2-toast .swal2-actions{flex:1;align-self:stretch;height:2.2em;margin-top:.3125em}body.swal2-toast-column .swal2-toast .swal2-loading{justify-content:center}body.swal2-toast-column .swal2-toast .swal2-input{height:2em;margin:.3125em auto;font-size:1em}body.swal2-toast-column .swal2-toast .swal2-validation-message{font-size:1em}')},PVpz:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=[],i=[],a=[],o=e.algo.RabbitLegacy=t.extend({_doReset:function(){var e=this._key.words,t=this.cfg.iv,n=this._X=[e[0],e[3]<<16|e[2]>>>16,e[1],e[0]<<16|e[3]>>>16,e[2],e[1]<<16|e[0]>>>16,e[3],e[2]<<16|e[1]>>>16],r=this._C=[e[2]<<16|e[2]>>>16,4294901760&e[0]|65535&e[1],e[3]<<16|e[3]>>>16,4294901760&e[1]|65535&e[2],e[0]<<16|e[0]>>>16,4294901760&e[2]|65535&e[3],e[1]<<16|e[1]>>>16,4294901760&e[3]|65535&e[0]];this._b=0;for(var i=0;i<4;i++)s.call(this);for(i=0;i<8;i++)r[i]^=n[i+4&7];if(t){var a=t.words,o=a[0],l=a[1],c=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),u=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),h=c>>>16|4294901760&u,d=u<<16|65535&c;for(r[0]^=c,r[1]^=h,r[2]^=u,r[3]^=d,r[4]^=c,r[5]^=h,r[6]^=u,r[7]^=d,i=0;i<4;i++)s.call(this)}},_doProcessBlock:function(e,t){var r=this._X;s.call(this),n[0]=r[0]^r[5]>>>16^r[3]<<16,n[1]=r[2]^r[7]>>>16^r[5]<<16,n[2]=r[4]^r[1]>>>16^r[7]<<16,n[3]=r[6]^r[3]>>>16^r[1]<<16;for(var i=0;i<4;i++)n[i]=16711935&(n[i]<<8|n[i]>>>24)|4278255360&(n[i]<<24|n[i]>>>8),e[t+i]^=n[i]},blockSize:4,ivSize:2});function s(){for(var e=this._X,t=this._C,n=0;n<8;n++)i[n]=t[n];for(t[0]=t[0]+1295307597+this._b|0,t[1]=t[1]+3545052371+(t[0]>>>0<i[0]>>>0?1:0)|0,t[2]=t[2]+886263092+(t[1]>>>0<i[1]>>>0?1:0)|0,t[3]=t[3]+1295307597+(t[2]>>>0<i[2]>>>0?1:0)|0,t[4]=t[4]+3545052371+(t[3]>>>0<i[3]>>>0?1:0)|0,t[5]=t[5]+886263092+(t[4]>>>0<i[4]>>>0?1:0)|0,t[6]=t[6]+1295307597+(t[5]>>>0<i[5]>>>0?1:0)|0,t[7]=t[7]+3545052371+(t[6]>>>0<i[6]>>>0?1:0)|0,this._b=t[7]>>>0<i[7]>>>0?1:0,n=0;n<8;n++){var r=e[n]+t[n],o=65535&r,s=r>>>16;a[n]=((o*o>>>17)+o*s>>>15)+s*s^((4294901760&r)*r|0)+((65535&r)*r|0)}e[0]=a[0]+(a[7]<<16|a[7]>>>16)+(a[6]<<16|a[6]>>>16)|0,e[1]=a[1]+(a[0]<<8|a[0]>>>24)+a[7]|0,e[2]=a[2]+(a[1]<<16|a[1]>>>16)+(a[0]<<16|a[0]>>>16)|0,e[3]=a[3]+(a[2]<<8|a[2]>>>24)+a[1]|0,e[4]=a[4]+(a[3]<<16|a[3]>>>16)+(a[2]<<16|a[2]>>>16)|0,e[5]=a[5]+(a[4]<<8|a[4]>>>24)+a[3]|0,e[6]=a[6]+(a[5]<<16|a[5]>>>16)+(a[4]<<16|a[4]>>>16)|0,e[7]=a[7]+(a[6]<<8|a[6]>>>24)+a[5]|0}e.RabbitLegacy=t._createHelper(o)}(),r.RabbitLegacy)},S6kV:function(e,t,n){var r,i,a;e.exports=(a=n("Ib8C"),n("OLod"),a.mode.OFB=(i=(r=a.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){var n=this._cipher,r=n.blockSize,i=this._iv,a=this._keystream;i&&(a=this._keystream=i.slice(0),this._iv=void 0),n.encryptBlock(a,0);for(var o=0;o<r;o++)e[t+o]^=a[o]}}),r.Decryptor=i,r),a.mode.OFB)},SuO2:function(e,t,n){var r;r=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,n),i.loaded=!0,i.exports}return n.m=e,n.c=t,n.p="dist",n(0)}([function(e,t,n){"use strict";var r={},i=n(1),a=i.extend;a(r,i),a(r,n(3)),a(r,n(2)),a(r,n(4)),a(r,n(5)),a(r,n(6)),a(r,n(7)),a(r,n(8)),a(r,n(9)),r.browser=n(10),r.popup=n(11),r.formatDate=n(12),r.defineClass=n(13),r.defineModule=n(14),r.defineNamespace=n(15),r.CustomEvents=n(16),r.Enum=n(17),r.ExMap=n(18),r.HashMap=n(20),r.Map=n(19),e.exports=r},function(e,t,n){"use strict";var r=n(2),i=n(3),a=0;function o(e,t){var n,a=[],s=[];if(isNaN(e)&&isNaN(t)&&r.isNumber(e)&&r.isNumber(t))return!0;if(e===t)return!0;if(r.isFunction(e)&&r.isFunction(t)||e instanceof Date&&t instanceof Date||e instanceof RegExp&&t instanceof RegExp||e instanceof String&&t instanceof String||e instanceof Number&&t instanceof Number)return e.toString()===t.toString();if(!(e instanceof Object&&t instanceof Object))return!1;if(e.isPrototypeOf(t)||t.isPrototypeOf(e)||e.constructor!==t.constructor||e.prototype!==t.prototype)return!1;if(i.inArray(e,a)>-1||i.inArray(t,s)>-1)return!1;for(n in t){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1}for(n in e){if(t.hasOwnProperty(n)!==e.hasOwnProperty(n))return!1;if(typeof t[n]!=typeof e[n])return!1;if("object"==typeof e[n]||"function"==typeof e[n]){if(a.push(e),s.push(t),!o(e[n],t[n]))return!1;a.pop(),s.pop()}else if(e[n]!==t[n])return!1}return!0}function s(e,t){for(var n=arguments,i=n[0],a=1,o=n.length;a<o;a+=1){if(r.isUndefined(i)||r.isNull(i))return;i=i[n[a]]}return i}e.exports={extend:function(e,t){var n,r,i,a,o=Object.prototype.hasOwnProperty;for(i=1,a=arguments.length;i<a;i+=1)for(r in n=arguments[i])o.call(n,r)&&(e[r]=n[r]);return e},stamp:function(e){return e.__fe_id||(e.__fe_id=a+=1),e.__fe_id},hasStamp:function(e){return r.isExisty(s(e,"__fe_id"))},resetLastId:function(){a=0},keys:Object.prototype.keys||function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push(t);return n},compareJSON:function(e){var t=arguments.length,n=1;if(t<1)return!0;for(;n<t;n+=1)if(!o(e,arguments[n]))return!1;return!0},pick:s}},function(e,t){"use strict";var n=Object.prototype.toString;function r(e){return!i(e)&&!a(e)}function i(e){return void 0===e}function a(e){return null===e}function o(e){return r(e)&&!1!==e}function s(e){return r(e)&&("[object Arguments]"===n.call(e)||!!e.callee)}function l(e){return e instanceof Array}function c(e){return e===Object(e)}function u(e){return e instanceof Function}function h(e){return"string"==typeof e||e instanceof String}function d(e){return!(r(e)&&!function(e){return h(e)&&""===e}(e)&&(l(e)||s(e)?0!==e.length:c(e)&&!u(e)&&function(e){var t;for(t in e)if(e.hasOwnProperty(t))return!0;return!1}(e)))}e.exports={isExisty:r,isUndefined:i,isNull:a,isTruthy:o,isFalsy:function(e){return!o(e)},isArguments:s,isArray:l,isArraySafe:function(e){return"[object Array]"===n.call(e)},isObject:c,isFunction:u,isFunctionSafe:function(e){return"[object Function]"===n.call(e)},isNumber:function(e){return"number"==typeof e||e instanceof Number},isNumberSafe:function(e){return"[object Number]"===n.call(e)},isDate:function(e){return e instanceof Date},isDateSafe:function(e){return"[object Date]"===n.call(e)},isString:h,isStringSafe:function(e){return"[object String]"===n.call(e)},isBoolean:function(e){return"boolean"==typeof e||e instanceof Boolean},isBooleanSafe:function(e){return"[object Boolean]"===n.call(e)},isHTMLNode:function(e){return"object"==typeof HTMLElement?e&&(e instanceof HTMLElement||!!e.nodeType):!(!e||!e.nodeType)},isHTMLTag:function(e){return"object"==typeof HTMLElement?e&&e instanceof HTMLElement:!(!e||!e.nodeType||1!==e.nodeType)},isEmpty:d,isNotEmpty:function(e){return!d(e)}}},function(e,t,n){"use strict";var r=n(4),i=n(2),a=Array.prototype.slice;e.exports={inArray:function(e,t,n){var r,a;if(n=n||0,!i.isArray(t))return-1;if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e,n);for(a=t.length,r=n;n>=0&&r<a;r+=1)if(t[r]===e)return r;return-1},range:function(e,t,n){var r,a=[];for(i.isUndefined(t)&&(t=e||0,e=0),t*=r=(n=n||1)<0?-1:1;e*r<t;e+=n)a.push(e);return a},zip:function(){var e=a.call(arguments),t=[];return r.forEach(e,(function(e){r.forEach(e,(function(e,n){t[n]||(t[n]=[]),t[n].push(e)}))})),t}}},function(e,t,n){"use strict";var r=n(2),i=n(1);function a(e,t,n){var r=0,i=e.length;for(n=n||null;r<i&&!1!==t.call(n,e[r],r,e);r+=1);}function o(e,t,n){var r;for(r in n=n||null,e)if(e.hasOwnProperty(r)&&!1===t.call(n,e[r],r,e))break}function s(e,t,n){r.isArray(e)?a(e,t,n):o(e,t,n)}function l(e,t,n){var r=[];return n=n||null,s(e,(function(){r.push(t.apply(n,arguments))})),r}e.exports={forEachOwnProperties:o,forEachArray:a,forEach:s,toArray:function(e){var t;try{t=Array.prototype.slice.call(e)}catch(n){t=[],a(e,(function(e){t.push(e)}))}return t},map:l,reduce:function(e,t,n){var a,o,s,l=0;for(n=n||null,r.isArray(e)?(o=e.length,s=e[l]):(o=(a=i.keys(e)).length,s=e[a[l+=1]]),l+=1;l<o;l+=1)s=t.call(n,s,e[a?a[l]:l]);return s},filter:function(e,t,n){var i,a;if(n=n||null,!r.isObject(e)||!r.isFunction(t))throw new Error("wrong parameter");return r.isArray(e)?(i=[],a=function(e,t){e.push(t[0])}):(i={},a=function(e,t){e[t[1]]=t[0]}),s(e,(function(){t.apply(n,arguments)&&a(i,arguments)}),n),i},pluck:function(e,t){return l(e,(function(e){return e[t]}))}}},function(e,t){"use strict";e.exports={bind:function(e,t){var n,r=Array.prototype.slice;return e.bind?e.bind.apply(e,r.call(arguments,1)):(n=r.call(arguments,2),function(){return e.apply(t,n.length?n.concat(r.call(arguments)):arguments)})}}},function(e,t){"use strict";function n(e){function t(){}return t.prototype=e,new t}e.exports={createObject:n,inherit:function(e,t){var r=n(t.prototype);r.constructor=e,e.prototype=r}}},function(e,t,n){"use strict";var r=n(4),i=n(1);e.exports={decodeHTMLEntity:function(e){var t={"&quot;":'"',"&amp;":"&","&lt;":"<","&gt;":">","&#39;":"'","&nbsp;":" "};return e.replace(/&amp;|&lt;|&gt;|&quot;|&#39;|&nbsp;/g,(function(e){return t[e]?t[e]:e}))},encodeHTMLEntity:function(e){var t={'"':"quot","&":"amp","<":"lt",">":"gt","'":"#39"};return e.replace(/[<>&"']/g,(function(e){return t[e]?"&"+t[e]+";":e}))},hasEncodableString:function(e){return/[<>&"']/.test(e)},getDuplicatedChar:function(e,t){for(var n,a=0,o=e.length,s={};a<o;a+=1)s[n=e.charAt(a)]=1;for(a=0,o=t.length;a<o;a+=1)s[n=t.charAt(a)]&&(s[n]+=1);return s=r.filter(s,(function(e){return e>1})),(s=i.keys(s).sort()).join("")}}},function(e,t){"use strict";var n={},r=Array.prototype.slice;n.timestamp=function(){return Number(new Date)},n.debounce=function(e,t){var n,i;return t=t||0,function(){i=r.call(arguments),window.clearTimeout(n),n=window.setTimeout((function(){e.apply(null,i)}),t)}},n.throttle=function(e,t){var i,a,o,s,l=!0,c=function(t){e.apply(null,t),i=null};function u(){if(s=r.call(arguments),l)return c(s),void(l=!1);o=n.timestamp(),i=i||o,a(s),o-i>=t&&c(s)}return a=n.debounce(c,t=t||0),u.reset=function(){l=!0,i=null},u},e.exports=n},function(e,t,n){"use strict";var r=n(1),i=n(4),a=n(2);function o(e,t){var n=i.map(r.keys(t),(function(e,n){return(0===n?"":"&")+e+"="+t[e]})).join(""),a=document.createElement("img");return a.src=e+"?"+n,a.style.display="none",document.body.appendChild(a),document.body.removeChild(a),a}e.exports={imagePing:o,sendHostname:function(e,t){var n=location.hostname,r="TOAST UI "+e+" for "+n+": Statistics",i=window.localStorage.getItem(r);(a.isUndefined(window.tui)||!1!==window.tui.usageStatistics)&&(i&&!function(e){return(new Date).getTime()-e>6048e5}(i)||(window.localStorage.setItem(r,(new Date).getTime()),setTimeout((function(){"interactive"!==document.readyState&&"complete"!==document.readyState||o("https://www.google-analytics.com/collect",{v:1,t:"event",tid:t,cid:n,dp:n,dh:e,el:e,ec:"use"})}),1e3)))}}},function(e,t){"use strict";var n,r,i,a,o,s,l,c,u,h,d={chrome:!1,firefox:!1,safari:!1,msie:!1,edge:!1,others:!1,version:0};window&&window.navigator&&(a=(i=window.navigator).appName.replace(/\s/g,"_"),o=i.userAgent,s=/MSIE\s([0-9]+[.0-9]*)/,l=/Trident.*rv:11\./,c=/Edge\/(\d+)\./,u={firefox:/Firefox\/(\d+)\./,chrome:/Chrome\/(\d+)\./,safari:/Version\/([\d.]+).*Safari\/(\d+)/},(h={Microsoft_Internet_Explorer:function(){var e=o.match(s);e?(d.msie=!0,d.version=parseFloat(e[1])):d.others=!0},Netscape:function(){var e=!1;if(l.exec(o))d.msie=!0,d.version=11,e=!0;else if(c.exec(o))d.edge=!0,d.version=o.match(c)[1],e=!0;else for(n in u)if(u.hasOwnProperty(n)&&(r=o.match(u[n]))&&r.length>1){d[n]=e=!0,d.version=parseFloat(r[1]||0);break}e||(d.others=!0)}})[a]&&h[a]()),e.exports=d},function(e,t,n){"use strict";var r=n(4),i=n(2),a=n(5),o=n(10),s=n(1),l=0;function c(){this.openedPopup={},this.closeWithParentPopup={},this.postBridgeUrl=""}c.prototype.getPopupList=function(e){return i.isExisty(e)?this.openedPopup[e]:this.openedPopup},c.prototype.openPopup=function(e,t){var n,r,c;if((t=s.extend({popupName:"popup_"+l+"_"+Number(new Date),popupOptionStr:"",useReload:!0,closeWithParent:!0,method:"get",param:{}},t||{})).method=t.method.toUpperCase(),this.postBridgeUrl=t.postBridgeUrl||this.postBridgeUrl,c="POST"===t.method&&t.param&&o.msie&&11===o.version,!i.isExisty(e))throw new Error("Popup#open() need popup url.");l+=1,t.param&&("GET"===t.method?e=e+(/\?/.test(e)?"&":"?")+this._parameterize(t.param):"POST"===t.method&&(c||(r=this.createForm(e,t.param,t.method,t.popupName),e="about:blank"))),i.isExisty(n=this.openedPopup[t.popupName])?n.closed?this.openedPopup[t.popupName]=n=this._open(c,t.param,e,t.popupName,t.popupOptionStr):(t.useReload&&n.location.replace(e),n.focus()):this.openedPopup[t.popupName]=n=this._open(c,t.param,e,t.popupName,t.popupOptionStr),this.closeWithParentPopup[t.popupName]=t.closeWithParent,(!n||n.closed||i.isUndefined(n.closed))&&alert("please enable popup windows for this website"),t.param&&"POST"===t.method&&!c&&(n&&r.submit(),r.parentNode&&r.parentNode.removeChild(r)),window.onunload=a.bind(this.closeAllPopup,this)},c.prototype.close=function(e,t){var n=t||window;(e=!!i.isExisty(e)&&e)&&(window.onunload=null),n.closed||(n.opener=window.location.href,n.close())},c.prototype.closeAllPopup=function(e){var t=i.isExisty(e);r.forEachOwnProperties(this.openedPopup,(function(e,n){(t&&this.closeWithParentPopup[n]||!t)&&this.close(!1,e)}),this)},c.prototype.focus=function(e){this.getPopupList(e).focus()},c.prototype.parseQuery=function(){var e,t,n={};return e=window.location.search.substr(1),r.forEachArray(e.split("&"),(function(e){t=e.split("="),n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])})),n},c.prototype.createForm=function(e,t,n,i,a){var o,s=document.createElement("form");return a=a||document.body,s.method=n||"POST",s.action=e||"",s.target=i||"",s.style.display="none",r.forEachOwnProperties(t,(function(e,t){(o=document.createElement("input")).name=t,o.type="hidden",o.value=e,s.appendChild(o)})),a.appendChild(s),s},c.prototype._parameterize=function(e){var t=[];return r.forEachOwnProperties(e,(function(e,n){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})),t.join("&")},c.prototype._open=function(e,t,n,r,i){var a;return e?(a=window.open(this.postBridgeUrl,r,i),setTimeout((function(){a.redirect(n,t)}),100)):a=window.open(n,r,i),a},e.exports=new c},function(e,t,n){"use strict";var r=n(2),i=n(1),a=/[\\]*YYYY|[\\]*YY|[\\]*MMMM|[\\]*MMM|[\\]*MM|[\\]*M|[\\]*DD|[\\]*D|[\\]*HH|[\\]*H|[\\]*A/gi,o=["Invalid month","January","February","March","April","May","June","July","August","September","October","November","December"],s=[0,31,28,31,30,31,30,31,31,30,31,30,31],l={M:function(e){return Number(e.month)},MM:function(e){var t=e.month;return Number(t)<10?"0"+t:t},MMM:function(e){return o[Number(e.month)].substr(0,3)},MMMM:function(e){return o[Number(e.month)]},D:function(e){return Number(e.date)},d:function(e){return l.D(e)},DD:function(e){var t=e.date;return Number(t)<10?"0"+t:t},dd:function(e){return l.DD(e)},YY:function(e){return Number(e.year)%100},yy:function(e){return l.YY(e)},YYYY:function(e){var t="20",n=e.year;return n>69&&n<100&&(t="19"),Number(n)<100?t+String(n):n},yyyy:function(e){return l.YYYY(e)},A:function(e){return e.meridiem},a:function(e){return e.meridiem},hh:function(e){var t=e.hour;return Number(t)<10?"0"+t:t},HH:function(e){return l.hh(e)},h:function(e){return String(Number(e.hour))},H:function(e){return l.h(e)},m:function(e){return String(Number(e.minute))},mm:function(e){var t=e.minute;return Number(t)<10?"0"+t:t}};e.exports=function(e,t,n){var o,c,u=i.pick(n,"meridiemSet","AM")||"AM",h=i.pick(n,"meridiemSet","PM")||"PM";return!!function(e,t,n){var r;return e=Number(e),t=Number(t),n=Number(n),(e>-1&&e<100||e>1969&&e<2070)&&t>0&&t<13&&(r=s[t],2===t&&e%4==0&&(e%100==0&&e%400!=0||(r=29)),n>0&&n<=r)}((c=r.isDate(t)?{year:t.getFullYear(),month:t.getMonth()+1,date:t.getDate(),hour:t.getHours(),minute:t.getMinutes()}:{year:t.year,month:t.month,date:t.date,hour:t.hour,minute:t.minute}).year,c.month,c.date)&&(c.meridiem="",/([^\\]|^)[aA]\b/.test(e)&&(o=c.hour>11?h:u,c.hour>12&&(c.hour%=12),0===c.hour&&(c.hour=12),c.meridiem=o),e.replace(a,(function(e){return e.indexOf("\\")>-1?e.replace(/\\/,""):l[e](c)||""})))}},function(e,t,n){"use strict";var r=n(6).inherit,i=n(1).extend;e.exports=function(e,t){var n;return t||(t=e,e=null),n=t.init||function(){},e&&r(n,e),t.hasOwnProperty("static")&&(i(n,t.static),delete t.static),i(n.prototype,t),n}},function(e,t,n){"use strict";var r=n(15),i=n(2);e.exports=function(e,t){var n=t||{};return i.isFunction(n.initialize)&&n.initialize(),r(e,n)}},function(e,t,n){"use strict";var r=n(4),i=n(1);e.exports=function(e,t,n){var a,o,s;return(a=e.split(".")).unshift(window),o=r.reduce(a,(function(e,t){return e[t]=e[t]||{},e[t]})),n?(s=a.pop(),o=i.pick.apply(null,a)[s]=t):i.extend(o,t),o}},function(e,t,n){"use strict";var r=n(4),i=n(2),a=n(1),o=/\s+/g;function s(){this.events=null,this.contexts=null}s.mixin=function(e){a.extend(e.prototype,s.prototype)},s.prototype._getHandlerItem=function(e,t){var n={handler:e};return t&&(n.context=t),n},s.prototype._safeEvent=function(e){var t,n=this.events;return n||(n=this.events={}),e&&((t=n[e])||(n[e]=t=[]),n=t),n},s.prototype._safeContext=function(){var e=this.contexts;return e||(e=this.contexts=[]),e},s.prototype._indexOfContext=function(e){for(var t=this._safeContext(),n=0;t[n];){if(e===t[n][0])return n;n+=1}return-1},s.prototype._memorizeContext=function(e){var t,n;i.isExisty(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1?t[n][1]+=1:t.push([e,1]))},s.prototype._forgetContext=function(e){var t,n;i.isExisty(e)&&(t=this._safeContext(),(n=this._indexOfContext(e))>-1&&(t[n][1]-=1,t[n][1]<=0&&t.splice(n,1)))},s.prototype._bindEvent=function(e,t,n){var r=this._safeEvent(e);this._memorizeContext(n),r.push(this._getHandlerItem(t,n))},s.prototype.on=function(e,t,n){var a=this;i.isString(e)?(e=e.split(o),r.forEach(e,(function(e){a._bindEvent(e,t,n)}))):i.isObject(e)&&(n=t,r.forEach(e,(function(e,t){a.on(t,e,n)})))},s.prototype.once=function(e,t,n){var a=this;if(i.isObject(e))return n=t,void r.forEach(e,(function(e,t){a.once(t,e,n)}));this.on(e,(function r(){t.apply(n,arguments),a.off(e,r,n)}),n)},s.prototype._spliceMatches=function(e,t){var n,r=0;if(i.isArray(e))for(n=e.length;r<n;r+=1)!0===t(e[r])&&(e.splice(r,1),n-=1,r-=1)},s.prototype._matchHandler=function(e){var t=this;return function(n){var r=e===n.handler;return r&&t._forgetContext(n.context),r}},s.prototype._matchContext=function(e){var t=this;return function(n){var r=e===n.context;return r&&t._forgetContext(n.context),r}},s.prototype._matchHandlerAndContext=function(e,t){var n=this;return function(r){var i=e===r.handler&&t===r.context;return i&&n._forgetContext(r.context),i}},s.prototype._offByEventName=function(e,t){var n=this,a=r.forEachArray,s=i.isFunction(t),l=n._matchHandler(t);e=e.split(o),a(e,(function(e){var t=n._safeEvent(e);s?n._spliceMatches(t,l):(a(t,(function(e){n._forgetContext(e.context)})),n.events[e]=[])}))},s.prototype._offByHandler=function(e){var t=this,n=this._matchHandler(e);r.forEach(this._safeEvent(),(function(e){t._spliceMatches(e,n)}))},s.prototype._offByObject=function(e,t){var n,a=this;this._indexOfContext(e)<0?r.forEach(e,(function(e,t){a.off(t,e)})):i.isString(t)?(n=this._matchContext(e),a._spliceMatches(this._safeEvent(t),n)):i.isFunction(t)?(n=this._matchHandlerAndContext(t,e),r.forEach(this._safeEvent(),(function(e){a._spliceMatches(e,n)}))):(n=this._matchContext(e),r.forEach(this._safeEvent(),(function(e){a._spliceMatches(e,n)})))},s.prototype.off=function(e,t){i.isString(e)?this._offByEventName(e,t):arguments.length?i.isFunction(e)?this._offByHandler(e):i.isObject(e)&&this._offByObject(e,t):(this.events={},this.contexts=[])},s.prototype.fire=function(e){this.invoke.apply(this,arguments)},s.prototype.invoke=function(e){var t,n,r,i;if(!this.hasListener(e))return!0;for(t=this._safeEvent(e),n=Array.prototype.slice.call(arguments,1),r=0;t[r];){if(!1===(i=t[r]).handler.apply(i.context,n))return!1;r+=1}return!0},s.prototype.hasListener=function(e){return this.getListenerLength(e)>0},s.prototype.getListenerLength=function(e){return this._safeEvent(e).length},e.exports=s},function(e,t,n){"use strict";var r=n(4),i=n(2),a=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),o=0;function s(e){e&&this.set.apply(this,arguments)}s.prototype.set=function(e){var t=this;i.isArray(e)||(e=r.toArray(arguments)),r.forEach(e,(function(e){t._addItem(e)}))},s.prototype.getName=function(e){var t,n=this;return r.forEach(this,(function(r,i){if(n._isEnumItem(i)&&e===r)return t=i,!1})),t},s.prototype._addItem=function(e){var t;this.hasOwnProperty(e)||(t=this._makeEnumValue(),a?Object.defineProperty(this,e,{enumerable:!0,configurable:!1,writable:!1,value:t}):this[e]=t)},s.prototype._makeEnumValue=function(){var e;return e=o,o+=1,e},s.prototype._isEnumItem=function(e){return i.isNumber(this[e])},e.exports=s},function(e,t,n){"use strict";var r=n(4),i=n(19);function a(e){this._map=new i(e),this.size=this._map.size}r.forEachArray(["get","has","forEach","keys","values","entries"],(function(e){a.prototype[e]=function(){return this._map[e].apply(this._map,arguments)}})),r.forEachArray(["delete","clear"],(function(e){a.prototype[e]=function(){var t=this._map[e].apply(this._map,arguments);return this.size=this._map.size,t}})),a.prototype.set=function(){return this._map.set.apply(this._map,arguments),this.size=this._map.size,this},a.prototype.setObject=function(e){r.forEachOwnProperties(e,(function(e,t){this.set(t,e)}),this)},a.prototype.deleteByKeys=function(e){r.forEachArray(e,(function(e){this.delete(e)}),this)},a.prototype.merge=function(e){e.forEach((function(e,t){this.set(t,e)}),this)},a.prototype.filter=function(e){var t=new a;return this.forEach((function(n,r){e(n,r)&&t.set(r,n)})),t},e.exports=a},function(e,t,n){"use strict";var r=n(4),i=n(2),a=n(3),o=n(10),s=n(5),l={},c={};function u(e,t){this._keys=e,this._valueGetter=t,this._length=this._keys.length,this._index=-1,this._done=!1}function h(e){this._valuesForString={},this._valuesForIndex={},this._keys=[],e&&this._setInitData(e),this.size=0}u.prototype.next=function(){var e={};do{this._index+=1}while(i.isUndefined(this._keys[this._index])&&this._index<this._length);return this._index>=this._length?e.done=!0:(e.done=!1,e.value=this._valueGetter(this._keys[this._index],this._index)),e},h.prototype._setInitData=function(e){if(!i.isArray(e))throw new Error("Only Array is supported.");r.forEachArray(e,(function(e){this.set(e[0],e[1])}),this)},h.prototype._isNaN=function(e){return"number"==typeof e&&e!=e},h.prototype._getKeyIndex=function(e){var t,n=-1;return i.isString(e)?(t=this._valuesForString[e])&&(n=t.keyIndex):n=a.inArray(e,this._keys),n},h.prototype._getOriginKey=function(e){var t=e;return e===l?t=void 0:e===c&&(t=NaN),t},h.prototype._getUniqueKey=function(e){var t=e;return i.isUndefined(e)?t=l:this._isNaN(e)&&(t=c),t},h.prototype._getValueObject=function(e,t){return i.isString(e)?this._valuesForString[e]:(i.isUndefined(t)&&(t=this._getKeyIndex(e)),t>=0?this._valuesForIndex[t]:void 0)},h.prototype._getOriginValue=function(e,t){return this._getValueObject(e,t).origin},h.prototype._getKeyValuePair=function(e,t){return[this._getOriginKey(e),this._getOriginValue(e,t)]},h.prototype._createValueObject=function(e,t){return{keyIndex:t,origin:e}},h.prototype.set=function(e,t){var n,r=this._getUniqueKey(e),a=this._getKeyIndex(r);return a<0&&(a=this._keys.push(r)-1,this.size+=1),n=this._createValueObject(t,a),i.isString(e)?this._valuesForString[e]=n:this._valuesForIndex[a]=n,this},h.prototype.get=function(e){var t=this._getUniqueKey(e),n=this._getValueObject(t);return n&&n.origin},h.prototype.keys=function(){return new u(this._keys,s.bind(this._getOriginKey,this))},h.prototype.values=function(){return new u(this._keys,s.bind(this._getOriginValue,this))},h.prototype.entries=function(){return new u(this._keys,s.bind(this._getKeyValuePair,this))},h.prototype.has=function(e){return!!this._getValueObject(e)},h.prototype.delete=function(e){var t;i.isString(e)?this._valuesForString[e]&&(t=this._valuesForString[e].keyIndex,delete this._valuesForString[e]):(t=this._getKeyIndex(e))>=0&&delete this._valuesForIndex[t],t>=0&&(delete this._keys[t],this.size-=1)},h.prototype.forEach=function(e,t){t=t||this,r.forEachArray(this._keys,(function(n){i.isUndefined(n)||e.call(t,this._getValueObject(n).origin,n,this)}),this)},h.prototype.clear=function(){h.call(this)},window.Map&&(o.firefox&&o.version>=37||o.chrome&&o.version>=42)&&(h=window.Map),e.exports=h},function(e,t,n){"use strict";var r=n(4),i=n(2);function a(e){this.length=0,e&&this.setObject(e)}a.prototype.set=function(e,t){2===arguments.length?this.setKeyValue(e,t):this.setObject(e)},a.prototype.setKeyValue=function(e,t){this.has(e)||(this.length+=1),this[this.encodeKey(e)]=t},a.prototype.setObject=function(e){var t=this;r.forEachOwnProperties(e,(function(e,n){t.setKeyValue(n,e)}))},a.prototype.merge=function(e){var t=this;e.each((function(e,n){t.setKeyValue(n,e)}))},a.prototype.encodeKey=function(e){return"\xe5"+e},a.prototype.decodeKey=function(e){var t=e.split("\xe5");return t[t.length-1]},a.prototype.get=function(e){return this[this.encodeKey(e)]},a.prototype.has=function(e){return this.hasOwnProperty(this.encodeKey(e))},a.prototype.remove=function(e){return arguments.length>1&&(e=r.toArray(arguments)),i.isArray(e)?this.removeByKeyArray(e):this.removeByKey(e)},a.prototype.removeByKey=function(e){var t=this.has(e)?this.get(e):null;return null!==t&&(delete this[this.encodeKey(e)],this.length-=1),t},a.prototype.removeByKeyArray=function(e){var t=[],n=this;return r.forEach(e,(function(e){t.push(n.removeByKey(e))})),t},a.prototype.removeAll=function(){var e=this;this.each((function(t,n){e.remove(n)}))},a.prototype.each=function(e){var t,n=this;r.forEachOwnProperties(this,(function(r,i){if("\xe5"===i.charAt(0)&&(t=e(r,n.decodeKey(i))),!1===t)return t}))},a.prototype.keys=function(){var e=[],t=this;return this.each((function(n,r){e.push(t.decodeKey(r))})),e},a.prototype.find=function(e){var t=[];return this.each((function(n,r){e(n,r)&&t.push(n)})),t},a.prototype.toArray=function(){var e=[];return this.each((function(t){e.push(t)})),e},e.exports=a}])},e.exports=r()},WYAk:function(e,t,n){var r,i;e.exports=(r=n("Ib8C"),i=r.enc.Utf8,void(r.algo.HMAC=r.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=i.parse(t));var n=e.blockSize,r=4*n;t.sigBytes>r&&(t=e.finalize(t)),t.clamp();for(var a=this._oKey=t.clone(),o=this._iKey=t.clone(),s=a.words,l=o.words,c=0;c<n;c++)s[c]^=1549556828,l[c]^=909522486;a.sigBytes=o.sigBytes=r,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher,n=t.finalize(e);return t.reset(),t.finalize(this._oKey.clone().concat(n))}})))},YcCt:function(e,t,n){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,n,i){n=n||"=";var a={};if("string"!=typeof e||0===e.length)return a;var o=/\+/g;e=e.split(t=t||"&");var s=1e3;i&&"number"==typeof i.maxKeys&&(s=i.maxKeys);var l=e.length;s>0&&l>s&&(l=s);for(var c=0;c<l;++c){var u,h,d,p,f=e[c].replace(o,"%20"),m=f.indexOf(n);m>=0?(u=f.substr(0,m),h=f.substr(m+1)):(u=f,h=""),d=decodeURIComponent(u),p=decodeURIComponent(h),r(a,d)?Array.isArray(a[d])?a[d].push(p):a[d]=[a[d],p]:a[d]=p}return a}},YuTi:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},bQjk:function(e,t,n){var r,i,a;e.exports=(a=n("Ib8C"),n("OLod"),r=a.lib.CipherParams,i=a.enc.Hex,a.format.Hex={stringify:function(e){return e.ciphertext.toString(i)},parse:function(e){var t=i.parse(e);return r.create({ciphertext:t})}},a.format.Hex)},cv67:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[];!function(){for(var t=0;t<64;t++)s[t]=4294967296*e.abs(e.sin(t+1))|0}();var l=o.MD5=a.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(e,t){for(var n=0;n<16;n++){var r=t+n,i=e[r];e[r]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8)}var a=this._hash.words,o=e[t+0],l=e[t+1],p=e[t+2],f=e[t+3],m=e[t+4],g=e[t+5],v=e[t+6],_=e[t+7],b=e[t+8],y=e[t+9],C=e[t+10],w=e[t+11],k=e[t+12],x=e[t+13],S=e[t+14],O=e[t+15],j=a[0],E=a[1],P=a[2],M=a[3];j=c(j,E,P,M,o,7,s[0]),M=c(M,j,E,P,l,12,s[1]),P=c(P,M,j,E,p,17,s[2]),E=c(E,P,M,j,f,22,s[3]),j=c(j,E,P,M,m,7,s[4]),M=c(M,j,E,P,g,12,s[5]),P=c(P,M,j,E,v,17,s[6]),E=c(E,P,M,j,_,22,s[7]),j=c(j,E,P,M,b,7,s[8]),M=c(M,j,E,P,y,12,s[9]),P=c(P,M,j,E,C,17,s[10]),E=c(E,P,M,j,w,22,s[11]),j=c(j,E,P,M,k,7,s[12]),M=c(M,j,E,P,x,12,s[13]),P=c(P,M,j,E,S,17,s[14]),j=u(j,E=c(E,P,M,j,O,22,s[15]),P,M,l,5,s[16]),M=u(M,j,E,P,v,9,s[17]),P=u(P,M,j,E,w,14,s[18]),E=u(E,P,M,j,o,20,s[19]),j=u(j,E,P,M,g,5,s[20]),M=u(M,j,E,P,C,9,s[21]),P=u(P,M,j,E,O,14,s[22]),E=u(E,P,M,j,m,20,s[23]),j=u(j,E,P,M,y,5,s[24]),M=u(M,j,E,P,S,9,s[25]),P=u(P,M,j,E,f,14,s[26]),E=u(E,P,M,j,b,20,s[27]),j=u(j,E,P,M,x,5,s[28]),M=u(M,j,E,P,p,9,s[29]),P=u(P,M,j,E,_,14,s[30]),j=h(j,E=u(E,P,M,j,k,20,s[31]),P,M,g,4,s[32]),M=h(M,j,E,P,b,11,s[33]),P=h(P,M,j,E,w,16,s[34]),E=h(E,P,M,j,S,23,s[35]),j=h(j,E,P,M,l,4,s[36]),M=h(M,j,E,P,m,11,s[37]),P=h(P,M,j,E,_,16,s[38]),E=h(E,P,M,j,C,23,s[39]),j=h(j,E,P,M,x,4,s[40]),M=h(M,j,E,P,o,11,s[41]),P=h(P,M,j,E,f,16,s[42]),E=h(E,P,M,j,v,23,s[43]),j=h(j,E,P,M,y,4,s[44]),M=h(M,j,E,P,k,11,s[45]),P=h(P,M,j,E,O,16,s[46]),j=d(j,E=h(E,P,M,j,p,23,s[47]),P,M,o,6,s[48]),M=d(M,j,E,P,_,10,s[49]),P=d(P,M,j,E,S,15,s[50]),E=d(E,P,M,j,g,21,s[51]),j=d(j,E,P,M,k,6,s[52]),M=d(M,j,E,P,f,10,s[53]),P=d(P,M,j,E,C,15,s[54]),E=d(E,P,M,j,l,21,s[55]),j=d(j,E,P,M,b,6,s[56]),M=d(M,j,E,P,O,10,s[57]),P=d(P,M,j,E,v,15,s[58]),E=d(E,P,M,j,x,21,s[59]),j=d(j,E,P,M,m,6,s[60]),M=d(M,j,E,P,w,10,s[61]),P=d(P,M,j,E,p,15,s[62]),E=d(E,P,M,j,y,21,s[63]),a[0]=a[0]+j|0,a[1]=a[1]+E|0,a[2]=a[2]+P|0,a[3]=a[3]+M|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;n[i>>>5]|=128<<24-i%32;var a=e.floor(r/4294967296),o=r;n[15+(i+64>>>9<<4)]=16711935&(a<<8|a>>>24)|4278255360&(a<<24|a>>>8),n[14+(i+64>>>9<<4)]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),t.sigBytes=4*(n.length+1),this._process();for(var s=this._hash,l=s.words,c=0;c<4;c++){var u=l[c];l[c]=16711935&(u<<8|u>>>24)|4278255360&(u<<24|u>>>8)}return s},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});function c(e,t,n,r,i,a,o){var s=e+(t&n|~t&r)+i+o;return(s<<a|s>>>32-a)+t}function u(e,t,n,r,i,a,o){var s=e+(t&r|n&~r)+i+o;return(s<<a|s>>>32-a)+t}function h(e,t,n,r,i,a,o){var s=e+(t^n^r)+i+o;return(s<<a|s>>>32-a)+t}function d(e,t,n,r,i,a,o){var s=e+(n^(t|~r))+i+o;return(s<<a|s>>>32-a)+t}t.MD5=a._createHelper(l),t.HmacMD5=a._createHmacHelper(l)}(Math),r.MD5)},e7zE:function(e,t,n){var r,i,a,o,s,l,c,u;e.exports=(u=n("Ib8C"),n("3y9D"),n("WYAk"),o=(i=(r=u).lib).WordArray,l=(s=r.algo).HMAC,c=s.PBKDF2=(a=i.Base).extend({cfg:a.extend({keySize:4,hasher:s.SHA1,iterations:1}),init:function(e){this.cfg=this.cfg.extend(e)},compute:function(e,t){for(var n=this.cfg,r=l.create(n.hasher,e),i=o.create(),a=o.create([1]),s=i.words,c=a.words,u=n.keySize,h=n.iterations;s.length<u;){var d=r.update(t).finalize(a);r.reset();for(var p=d.words,f=p.length,m=d,g=1;g<h;g++){m=r.finalize(m),r.reset();for(var v=m.words,_=0;_<f;_++)p[_]^=v[_]}i.concat(d),c[0]++}return i.sigBytes=4*u,i}}),r.PBKDF2=function(e,t,n){return c.create(n).compute(e,t)},u.PBKDF2)},epSk:function(e,t,n){var r,i,a,o,s,l,c,u,h,d,p,f,m,g=g||{version:"3.6.0"};if(t.fabric=g,"undefined"!=typeof document&&"undefined"!=typeof window)g.document=document instanceof("undefined"!=typeof HTMLDocument?HTMLDocument:Document)?document:document.implementation.createHTMLDocument(""),g.window=window;else{var v=new(n(2).JSDOM)(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;g.document=v.document,g.jsdomImplForWrapper=n(3).implForWrapper,g.nodeCanvas=n(4).Canvas,g.window=v,DOMParser=g.window.DOMParser}function _(e,t){var n=e.canvas,r=t.targetCanvas,i=r.getContext("2d");i.translate(0,r.height),i.scale(1,-1),i.drawImage(n,0,n.height-r.height,r.width,r.height,0,0,r.width,r.height)}function b(e,t){var n=t.targetCanvas.getContext("2d"),r=t.destinationWidth,i=t.destinationHeight,a=r*i*4,o=new Uint8Array(this.imageBuffer,0,a),s=new Uint8ClampedArray(this.imageBuffer,0,a);e.readPixels(0,0,r,i,e.RGBA,e.UNSIGNED_BYTE,o);var l=new ImageData(s,r,i);n.putImageData(l,0,0)}g.isTouchSupported="ontouchstart"in g.window||"ontouchstart"in g.document||g.window&&g.window.navigator&&g.window.navigator.maxTouchPoints>0,g.isLikelyNode="undefined"!=typeof Buffer&&"undefined"==typeof window,g.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],g.DPI=96,g.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",g.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/gi,g.reNonWord=/[ \n\.,;!\?\-]/,g.fontPaths={},g.iMatrix=[1,0,0,1,0,0],g.svgNS="http://www.w3.org/2000/svg",g.perfLimitSizeTotal=2097152,g.maxCacheSideLimit=4096,g.minCacheSideLimit=256,g.charWidthsCache={},g.textureSize=2048,g.disableStyleCopyPaste=!1,g.enableGLFiltering=!0,g.devicePixelRatio=g.window.devicePixelRatio||g.window.webkitDevicePixelRatio||g.window.mozDevicePixelRatio||1,g.browserShadowBlurConstant=1,g.arcToSegmentsCache={},g.boundsOfCurveCache={},g.cachesBoundsOfCurve=!0,g.forceGLPutImageData=!1,g.initFilterBackend=function(){return g.enableGLFiltering&&g.isWebglSupported&&g.isWebglSupported(g.textureSize)?(console.log("max texture size: "+g.maxTextureSize),new g.WebglFilterBackend({tileSize:g.textureSize})):g.Canvas2dFilterBackend?new g.Canvas2dFilterBackend:void 0},"undefined"!=typeof document&&"undefined"!=typeof window&&(window.fabric=g),function(){function e(e,t){if(this.__eventListeners[e]){var n=this.__eventListeners[e];t?n[n.indexOf(t)]=!1:g.util.array.fill(n,!1)}}function t(e,t){if(this.__eventListeners||(this.__eventListeners={}),1===arguments.length)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this}function n(t,n){if(!this.__eventListeners)return this;if(0===arguments.length)for(t in this.__eventListeners)e.call(this,t);else if(1===arguments.length&&"object"==typeof arguments[0])for(var r in t)e.call(this,r,t[r]);else e.call(this,t,n);return this}function r(e,t){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var r=0,i=n.length;r<i;r++)n[r]&&n[r].call(this,t||{});return this.__eventListeners[e]=n.filter((function(e){return!1!==e})),this}g.Observable={observe:t,stopObserving:n,fire:r,on:t,off:n,trigger:r}}(),g.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var e=0,t=arguments.length;e<t;e++)this._onObjectAdded(arguments[e]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(e,t,n){var r=this._objects;return n?r[t]=e:r.splice(t,0,e),this._onObjectAdded&&this._onObjectAdded(e),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var e,t=this._objects,n=!1,r=0,i=arguments.length;r<i;r++)-1!==(e=t.indexOf(arguments[r]))&&(n=!0,t.splice(e,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[r]));return this.renderOnAddRemove&&n&&this.requestRenderAll(),this},forEachObject:function(e,t){for(var n=this.getObjects(),r=0,i=n.length;r<i;r++)e.call(t,n[r],r,n);return this},getObjects:function(e){return void 0===e?this._objects.concat():this._objects.filter((function(t){return t.type===e}))},item:function(e){return this._objects[e]},isEmpty:function(){return 0===this._objects.length},size:function(){return this._objects.length},contains:function(e){return this._objects.indexOf(e)>-1},complexity:function(){return this._objects.reduce((function(e,t){return e+(t.complexity?t.complexity():0)}),0)}},g.CommonMethods={_setOptions:function(e){for(var t in e)this.set(t,e[t])},_initGradient:function(e,t){!e||!e.colorStops||e instanceof g.Gradient||this.set(t,new g.Gradient(e))},_initPattern:function(e,t,n){!e||!e.source||e instanceof g.Pattern?n&&n():this.set(t,new g.Pattern(e,n))},_initClipping:function(e){if(e.clipTo&&"string"==typeof e.clipTo){var t=g.util.getFunctionBody(e.clipTo);void 0!==t&&(this.clipTo=new Function("ctx",t))}},_setObject:function(e){for(var t in e)this._set(t,e[t])},set:function(e,t){return"object"==typeof e?this._setObject(e):this._set(e,"function"==typeof t&&"clipTo"!==e?t(this.get(e)):t),this},_set:function(e,t){this[e]=t},toggle:function(e){var t=this.get(e);return"boolean"==typeof t&&this.set(e,!t),this},get:function(e){return this[e]}},function(e){var t=Math.sqrt,n=Math.atan2,r=Math.pow,i=Math.PI/180,a=Math.PI/2;g.util={cos:function(e){if(0===e)return 1;switch(e<0&&(e=-e),e/a){case 1:case 3:return 0;case 2:return-1}return Math.cos(e)},sin:function(e){if(0===e)return 0;var t=1;switch(e<0&&(t=-1),e/a){case 1:return t;case 2:return 0;case 3:return-t}return Math.sin(e)},removeFromArray:function(e,t){var n=e.indexOf(t);return-1!==n&&e.splice(n,1),e},getRandomInt:function(e,t){return Math.floor(Math.random()*(t-e+1))+e},degreesToRadians:function(e){return e*i},radiansToDegrees:function(e){return e/i},rotatePoint:function(e,t,n){e.subtractEquals(t);var r=g.util.rotateVector(e,n);return new g.Point(r.x,r.y).addEquals(t)},rotateVector:function(e,t){var n=g.util.sin(t),r=g.util.cos(t);return{x:e.x*r-e.y*n,y:e.x*n+e.y*r}},transformPoint:function(e,t,n){return n?new g.Point(t[0]*e.x+t[2]*e.y,t[1]*e.x+t[3]*e.y):new g.Point(t[0]*e.x+t[2]*e.y+t[4],t[1]*e.x+t[3]*e.y+t[5])},makeBoundingBoxFromPoints:function(e,t){if(t)for(var n=0;n<e.length;n++)e[n]=g.util.transformPoint(e[n],t);var r=[e[0].x,e[1].x,e[2].x,e[3].x],i=g.util.array.min(r),a=g.util.array.max(r)-i,o=[e[0].y,e[1].y,e[2].y,e[3].y],s=g.util.array.min(o);return{left:i,top:s,width:a,height:g.util.array.max(o)-s}},invertTransform:function(e){var t=1/(e[0]*e[3]-e[1]*e[2]),n=[t*e[3],-t*e[1],-t*e[2],t*e[0]],r=g.util.transformPoint({x:e[4],y:e[5]},n,!0);return n[4]=-r.x,n[5]=-r.y,n},toFixed:function(e,t){return parseFloat(Number(e).toFixed(t))},parseUnit:function(e,t){var n=/\D{0,2}$/.exec(e),r=parseFloat(e);switch(t||(t=g.Text.DEFAULT_SVG_FONT_SIZE),n[0]){case"mm":return r*g.DPI/25.4;case"cm":return r*g.DPI/2.54;case"in":return r*g.DPI;case"pt":return r*g.DPI/72;case"pc":return r*g.DPI/72*12;case"em":return r*t;default:return r}},falseFunction:function(){return!1},getKlass:function(e,t){return e=g.util.string.camelize(e.charAt(0).toUpperCase()+e.slice(1)),g.util.resolveNamespace(t)[e]},getSvgAttributes:function(e){var t=["instantiated_by_use","style","id","class"];switch(e){case"linearGradient":t=t.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":t=t.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":t=t.concat(["offset","stop-color","stop-opacity"])}return t},resolveNamespace:function(t){if(!t)return g;var n,r=t.split("."),i=r.length,a=e||g.window;for(n=0;n<i;++n)a=a[r[n]];return a},loadImage:function(e,t,n,r){if(e){var i=g.util.createImage(),a=function(){t&&t.call(n,i),i=i.onload=i.onerror=null};i.onload=a,i.onerror=function(){g.log("Error loading "+i.src),t&&t.call(n,null,!0),i=i.onload=i.onerror=null},0!==e.indexOf("data")&&r&&(i.crossOrigin=r),"data:image/svg"===e.substring(0,14)&&(i.onload=null,g.util.loadImageInDom(i,a)),i.src=e}else t&&t.call(n,e)},loadImageInDom:function(e,t){var n=g.document.createElement("div");n.style.width=n.style.height="1px",n.style.left=n.style.top="-100%",n.style.position="absolute",n.appendChild(e),g.document.querySelector("body").appendChild(n),e.onload=function(){t(),n.parentNode.removeChild(n),n=null}},enlivenObjects:function(e,t,n,r){var i=[],a=0,o=(e=e||[]).length;function s(){++a===o&&t&&t(i.filter((function(e){return e})))}o?e.forEach((function(e,t){e&&e.type?g.util.getKlass(e.type,n).fromObject(e,(function(n,a){a||(i[t]=n),r&&r(e,n,a),s()})):s()})):t&&t(i)},enlivenPatterns:function(e,t){function n(){++i===a&&t&&t(r)}var r=[],i=0,a=(e=e||[]).length;a?e.forEach((function(e,t){e&&e.source?new g.Pattern(e,(function(e){r[t]=e,n()})):(r[t]=e,n())})):t&&t(r)},groupSVGElements:function(e,t,n){var r;return e&&1===e.length?e[0]:(t&&(t.width&&t.height?t.centerPoint={x:t.width/2,y:t.height/2}:(delete t.width,delete t.height)),r=new g.Group(e,t),void 0!==n&&(r.sourcePath=n),r)},populateWithProperties:function(e,t,n){if(n&&"[object Array]"===Object.prototype.toString.call(n))for(var r=0,i=n.length;r<i;r++)n[r]in e&&(t[n[r]]=e[n[r]])},drawDashedLine:function(e,r,i,a,o,s){var l=a-r,c=o-i,u=t(l*l+c*c),h=n(c,l),d=s.length,p=0,f=!0;for(e.save(),e.translate(r,i),e.moveTo(0,0),e.rotate(h),r=0;u>r;)(r+=s[p++%d])>u&&(r=u),e[f?"lineTo":"moveTo"](r,0),f=!f;e.restore()},createCanvasElement:function(){return g.document.createElement("canvas")},copyCanvasElement:function(e){var t=g.util.createCanvasElement();return t.width=e.width,t.height=e.height,t.getContext("2d").drawImage(e,0,0),t},toDataURL:function(e,t,n){return e.toDataURL("image/"+t,n)},createImage:function(){return g.document.createElement("img")},clipContext:function(e,t){t.save(),t.beginPath(),e.clipTo(t),t.clip()},multiplyTransformMatrices:function(e,t,n){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],n?0:e[0]*t[4]+e[2]*t[5]+e[4],n?0:e[1]*t[4]+e[3]*t[5]+e[5]]},qrDecompose:function(e){var a=n(e[1],e[0]),o=r(e[0],2)+r(e[1],2),s=t(o),l=(e[0]*e[3]-e[2]*e[1])/s,c=n(e[0]*e[2]+e[1]*e[3],o);return{angle:a/i,scaleX:s,scaleY:l,skewX:c/i,skewY:0,translateX:e[4],translateY:e[5]}},calcRotateMatrix:function(e){if(!e.angle)return g.iMatrix.concat();var t=g.util.degreesToRadians(e.angle),n=g.util.cos(t),r=g.util.sin(t);return[n,r,-r,n,0,0]},calcDimensionsMatrix:function(e){var t=void 0===e.scaleX?1:e.scaleX,n=void 0===e.scaleY?1:e.scaleY,r=[e.flipX?-t:t,0,0,e.flipY?-n:n,0,0],i=g.util.multiplyTransformMatrices,a=g.util.degreesToRadians;return e.skewX&&(r=i(r,[1,0,Math.tan(a(e.skewX)),1],!0)),e.skewY&&(r=i(r,[1,Math.tan(a(e.skewY)),0,1],!0)),r},composeMatrix:function(e){var t=[1,0,0,1,e.translateX||0,e.translateY||0],n=g.util.multiplyTransformMatrices;return e.angle&&(t=n(t,g.util.calcRotateMatrix(e))),(e.scaleX||e.scaleY||e.skewX||e.skewY||e.flipX||e.flipY)&&(t=n(t,g.util.calcDimensionsMatrix(e))),t},customTransformMatrix:function(e,t,n){return g.util.composeMatrix({scaleX:e,scaleY:t,skewX:n})},resetObjectTransform:function(e){e.scaleX=1,e.scaleY=1,e.skewX=0,e.skewY=0,e.flipX=!1,e.flipY=!1,e.rotate(0)},saveObjectTransform:function(e){return{scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,angle:e.angle,left:e.left,flipX:e.flipX,flipY:e.flipY,top:e.top}},getFunctionBody:function(e){return(String(e).match(/function[^{]*\{([\s\S]*)\}/)||{})[1]},isTransparent:function(e,t,n,r){r>0&&(t>r?t-=r:t=0,n>r?n-=r:n=0);var i,a=!0,o=e.getImageData(t,n,2*r||1,2*r||1),s=o.data.length;for(i=3;i<s&&0!=(a=o.data[i]<=0);i+=4);return o=null,a},parsePreserveAspectRatioAttribute:function(e){var t,n="meet",r=e.split(" ");return r&&r.length&&("meet"!==(n=r.pop())&&"slice"!==n?(t=n,n="meet"):r.length&&(t=r.pop())),{meetOrSlice:n,alignX:"none"!==t?t.slice(1,4):"none",alignY:"none"!==t?t.slice(5,8):"none"}},clearFabricFontCache:function(e){(e=(e||"").toLowerCase())?g.charWidthsCache[e]&&delete g.charWidthsCache[e]:g.charWidthsCache={}},limitDimsByArea:function(e,t){var n=Math.sqrt(t*e),r=Math.floor(t/n);return{x:Math.floor(n),y:r}},capValue:function(e,t,n){return Math.max(e,Math.min(t,n))},findScaleToFit:function(e,t){return Math.min(t.width/e.width,t.height/e.height)},findScaleToCover:function(e,t){return Math.max(t.width/e.width,t.height/e.height)},matrixToSVG:function(e){return"matrix("+e.map((function(e){return g.util.toFixed(e,g.Object.NUM_FRACTION_DIGITS)})).join(" ")+")"}}}(t),function(){var e=Array.prototype.join;function t(t,i,a,o,s,l,c){var u=e.call(arguments);if(g.arcToSegmentsCache[u])return g.arcToSegmentsCache[u];var h=Math.PI,d=c*h/180,p=g.util.sin(d),f=g.util.cos(d),m=0,v=0,_=-f*t*.5-p*i*.5,b=-f*i*.5+p*t*.5,y=(a=Math.abs(a))*a,C=(o=Math.abs(o))*o,w=b*b,k=_*_,x=y*C-y*w-C*k,S=0;if(x<0){var O=Math.sqrt(1-x/(y*C));a*=O,o*=O}else S=(s===l?-1:1)*Math.sqrt(x/(y*w+C*k));var j=S*a*b/o,E=-S*o*_/a,P=f*j-p*E+.5*t,M=p*j+f*E+.5*i,T=r(1,0,(_-j)/a,(b-E)/o),I=r((_-j)/a,(b-E)/o,(-_-j)/a,(-b-E)/o);0===l&&I>0?I-=2*h:1===l&&I<0&&(I+=2*h);for(var A=Math.ceil(Math.abs(I/h*2)),D=[],R=I/A,F=8/3*Math.sin(R/4)*Math.sin(R/4)/Math.sin(R/2),L=T+R,N=0;N<A;N++)D[N]=n(T,L,f,p,a,o,P,M,F,m,v),m=D[N][4],v=D[N][5],T=L,L+=R;return g.arcToSegmentsCache[u]=D,D}function n(e,t,n,r,i,a,o,s,l,c,u){var h=g.util.cos(e),d=g.util.sin(e),p=g.util.cos(t),f=g.util.sin(t),m=n*i*p-r*a*f+o,v=r*i*p+n*a*f+s;return[c+l*(-n*i*d-r*a*h),u+l*(-r*i*d+n*a*h),m+l*(n*i*f+r*a*p),v+l*(r*i*f-n*a*p),m,v]}function r(e,t,n,r){var i=Math.atan2(t,e),a=Math.atan2(r,n);return a>=i?a-i:2*Math.PI-(i-a)}function i(t,n,r,i,a,o,s,l){var c;if(g.cachesBoundsOfCurve&&(c=e.call(arguments),g.boundsOfCurveCache[c]))return g.boundsOfCurveCache[c];var u,h,d,p,f,m,v,_,b=Math.sqrt,y=Math.min,C=Math.max,w=Math.abs,k=[],x=[[],[]];h=6*t-12*r+6*a,u=-3*t+9*r-9*a+3*s,d=3*r-3*t;for(var S=0;S<2;++S)if(S>0&&(h=6*n-12*i+6*o,u=-3*n+9*i-9*o+3*l,d=3*i-3*n),w(u)<1e-12){if(w(h)<1e-12)continue;0<(p=-d/h)&&p<1&&k.push(p)}else(v=h*h-4*d*u)<0||(0<(f=(-h+(_=b(v)))/(2*u))&&f<1&&k.push(f),0<(m=(-h-_)/(2*u))&&m<1&&k.push(m));for(var O,j=k.length,E=j;j--;)x[0][j]=(O=1-(p=k[j]))*O*O*t+3*O*O*p*r+3*O*p*p*a+p*p*p*s,x[1][j]=O*O*O*n+3*O*O*p*i+3*O*p*p*o+p*p*p*l;x[0][E]=t,x[1][E]=n,x[0][E+1]=s,x[1][E+1]=l;var P=[{x:y.apply(null,x[0]),y:y.apply(null,x[1])},{x:C.apply(null,x[0]),y:C.apply(null,x[1])}];return g.cachesBoundsOfCurve&&(g.boundsOfCurveCache[c]=P),P}g.util.drawArc=function(e,n,r,i){for(var a=[[],[],[],[]],o=t(i[5]-n,i[6]-r,i[0],i[1],i[3],i[4],i[2]),s=0,l=o.length;s<l;s++)a[s][0]=o[s][0]+n,a[s][1]=o[s][1]+r,a[s][2]=o[s][2]+n,a[s][3]=o[s][3]+r,a[s][4]=o[s][4]+n,a[s][5]=o[s][5]+r,e.bezierCurveTo.apply(e,a[s])},g.util.getBoundsOfArc=function(e,n,r,a,o,s,l,c,u){for(var h,d=0,p=0,f=[],m=t(c-e,u-n,r,a,s,l,o),g=0,v=m.length;g<v;g++)h=i(d,p,m[g][0],m[g][1],m[g][2],m[g][3],m[g][4],m[g][5]),f.push({x:h[0].x+e,y:h[0].y+n}),f.push({x:h[1].x+e,y:h[1].y+n}),d=m[g][4],p=m[g][5];return f},g.util.getBoundsOfCurve=i}(),function(){var e=Array.prototype.slice;function t(e,t,n){if(e&&0!==e.length){var r=e.length-1,i=t?e[r][t]:e[r];if(t)for(;r--;)n(e[r][t],i)&&(i=e[r][t]);else for(;r--;)n(e[r],i)&&(i=e[r]);return i}}g.util.array={fill:function(e,t){for(var n=e.length;n--;)e[n]=t;return e},invoke:function(t,n){for(var r=e.call(arguments,2),i=[],a=0,o=t.length;a<o;a++)i[a]=r.length?t[a][n].apply(t[a],r):t[a][n].call(t[a]);return i},min:function(e,n){return t(e,n,(function(e,t){return e<t}))},max:function(e,n){return t(e,n,(function(e,t){return e>=t}))}}}(),function(){function e(t,n,r){if(r)if(!g.isLikelyNode&&n instanceof Element)t=n;else if(n instanceof Array){t=[];for(var i=0,a=n.length;i<a;i++)t[i]=e({},n[i],r)}else if(n&&"object"==typeof n)for(var o in n)"canvas"===o?t[o]=e({},n[o]):n.hasOwnProperty(o)&&(t[o]=e({},n[o],r));else t=n;else for(var o in n)t[o]=n[o];return t}g.util.object={extend:e,clone:function(t,n){return e({},t,n)}},g.util.object.extend(g.util,g.Observable)}(),function(){function e(e,t){var n=e.charCodeAt(t);if(isNaN(n))return"";if(n<55296||n>57343)return e.charAt(t);if(55296<=n&&n<=56319){if(e.length<=t+1)throw"High surrogate without following low surrogate";var r=e.charCodeAt(t+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return e.charAt(t)+e.charAt(t+1)}if(0===t)throw"Low surrogate without preceding high surrogate";var i=e.charCodeAt(t-1);if(55296>i||i>56319)throw"Low surrogate without preceding high surrogate";return!1}g.util.string={camelize:function(e){return e.replace(/-+(.)?/g,(function(e,t){return t?t.toUpperCase():""}))},capitalize:function(e,t){return e.charAt(0).toUpperCase()+(t?e.slice(1):e.slice(1).toLowerCase())},escapeXml:function(e){return e.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},graphemeSplit:function(t){var n,r=0,i=[];for(r=0;r<t.length;r++)!1!==(n=e(t,r))&&i.push(n);return i}}}(),function(){var e=Array.prototype.slice,t=function(){},n=function(){for(var e in{toString:1})if("toString"===e)return!1;return!0}(),r=function(e,t,r){for(var i in t)e.prototype[i]=i in e.prototype&&"function"==typeof e.prototype[i]&&(t[i]+"").indexOf("callSuper")>-1?function(e){return function(){var n=this.constructor.superclass;this.constructor.superclass=r;var i=t[e].apply(this,arguments);if(this.constructor.superclass=n,"initialize"!==e)return i}}(i):t[i],n&&(t.toString!==Object.prototype.toString&&(e.prototype.toString=t.toString),t.valueOf!==Object.prototype.valueOf&&(e.prototype.valueOf=t.valueOf))};function i(){}function a(t){for(var n=null,r=this;r.constructor.superclass;){var i=r.constructor.superclass.prototype[t];if(r[t]!==i){n=i;break}r=r.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,e.call(arguments,1)):n.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}g.util.createClass=function(){var n=null,o=e.call(arguments,0);function s(){this.initialize.apply(this,arguments)}"function"==typeof o[0]&&(n=o.shift()),s.superclass=n,s.subclasses=[],n&&(i.prototype=n.prototype,s.prototype=new i,n.subclasses.push(s));for(var l=0,c=o.length;l<c;l++)r(s,o[l],n);return s.prototype.initialize||(s.prototype.initialize=t),s.prototype.constructor=s,s.prototype.callSuper=a,s}}(),r=!!g.document.createElement("div").attachEvent,g.util.addListener=function(e,t,n,i){e&&e.addEventListener(t,n,!r&&i)},g.util.removeListener=function(e,t,n,i){e&&e.removeEventListener(t,n,!r&&i)},g.util.getPointer=function(e){var t=g.util.getScrollLeftTop(e.target),n=function(e){var t=e.changedTouches;return t&&t[0]?t[0]:e}(e);return{x:n.clientX+t.left,y:n.clientY+t.top}},i=g.document.createElement("div"),a=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,o=function(e){return e},"string"==typeof i.style.opacity?o=function(e,t){return e.style.opacity=t,e}:"string"==typeof i.style.filter&&(o=function(e,t){var n=e.style;return e.currentStyle&&!e.currentStyle.hasLayout&&(n.zoom=1),a.test(n.filter)?n.filter=n.filter.replace(a,t=t>=.9999?"":"alpha(opacity="+100*t+")"):n.filter+=" alpha(opacity="+100*t+")",e}),g.util.setStyle=function(e,t){var n=e.style;if(!n)return e;if("string"==typeof t)return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?o(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var r in t)"opacity"===r?o(e,t[r]):n["float"===r||"cssFloat"===r?void 0===n.styleFloat?"cssFloat":"styleFloat":r]=t[r];return e},function(){var e,t,n,r,i=Array.prototype.slice,a=function(e){return i.call(e,0)};try{e=a(g.document.childNodes)instanceof Array}catch(l){}function o(e,t){var n=g.document.createElement(e);for(var r in t)"class"===r?n.className=t[r]:"for"===r?n.htmlFor=t[r]:n.setAttribute(r,t[r]);return n}function s(e){for(var t=0,n=0,r=g.document.documentElement,i=g.document.body||{scrollLeft:0,scrollTop:0};e&&(e.parentNode||e.host)&&((e=e.parentNode||e.host)===g.document?(t=i.scrollLeft||r.scrollLeft||0,n=i.scrollTop||r.scrollTop||0):(t+=e.scrollLeft||0,n+=e.scrollTop||0),1!==e.nodeType||"fixed"!==e.style.position););return{left:t,top:n}}e||(a=function(e){for(var t=new Array(e.length),n=e.length;n--;)t[n]=e[n];return t}),t=g.document.defaultView&&g.document.defaultView.getComputedStyle?function(e,t){var n=g.document.defaultView.getComputedStyle(e,null);return n?n[t]:void 0}:function(e,t){var n=e.style[t];return!n&&e.currentStyle&&(n=e.currentStyle[t]),n},r="userSelect"in(n=g.document.documentElement.style)?"userSelect":"MozUserSelect"in n?"MozUserSelect":"WebkitUserSelect"in n?"WebkitUserSelect":"KhtmlUserSelect"in n?"KhtmlUserSelect":"",g.util.makeElementUnselectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=g.util.falseFunction),r?e.style[r]="none":"string"==typeof e.unselectable&&(e.unselectable="on"),e},g.util.makeElementSelectable=function(e){return void 0!==e.onselectstart&&(e.onselectstart=null),r?e.style[r]="":"string"==typeof e.unselectable&&(e.unselectable=""),e},g.util.getScript=function(e,t){var n=g.document.getElementsByTagName("head")[0],r=g.document.createElement("script"),i=!0;r.onload=r.onreadystatechange=function(e){if(i){if("string"==typeof this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState)return;i=!1,t(e||g.window.event),r=r.onload=r.onreadystatechange=null}},r.src=e,n.appendChild(r)},g.util.getById=function(e){return"string"==typeof e?g.document.getElementById(e):e},g.util.toArray=a,g.util.makeElement=o,g.util.addClass=function(e,t){e&&-1===(" "+e.className+" ").indexOf(" "+t+" ")&&(e.className+=(e.className?" ":"")+t)},g.util.wrapElement=function(e,t,n){return"string"==typeof t&&(t=o(t,n)),e.parentNode&&e.parentNode.replaceChild(t,e),t.appendChild(e),t},g.util.getScrollLeftTop=s,g.util.getElementOffset=function(e){var n,r,i=e&&e.ownerDocument,a={left:0,top:0},o={left:0,top:0},l={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!i)return o;for(var c in l)o[l[c]]+=parseInt(t(e,c),10)||0;return n=i.documentElement,void 0!==e.getBoundingClientRect&&(a=e.getBoundingClientRect()),r=s(e),{left:a.left+r.left-(n.clientLeft||0)+o.left,top:a.top+r.top-(n.clientTop||0)+o.top}},g.util.getElementStyle=t,g.util.getNodeCanvas=function(e){var t=g.jsdomImplForWrapper(e);return t._canvas||t._image},g.util.cleanUpJsdomNode=function(e){if(g.isLikelyNode){var t=g.jsdomImplForWrapper(e);t&&(t._image=null,t._canvas=null,t._currentSrc=null,t._attributes=null,t._classList=null)}}}(),function(){function e(){}g.util.request=function(t,n){n||(n={});var r=n.method?n.method.toUpperCase():"GET",i=n.onComplete||function(){},a=new g.window.XMLHttpRequest,o=n.body||n.parameters;return a.onreadystatechange=function(){4===a.readyState&&(i(a),a.onreadystatechange=e)},"GET"===r&&(o=null,"string"==typeof n.parameters&&(t=function(e,t){return e+(/\?/.test(e)?"&":"?")+t}(t,n.parameters))),a.open(r,t,!0),"POST"!==r&&"PUT"!==r||a.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),a.send(o),a}}(),g.log=console.log,g.warn=console.warn,function(){function e(){return!1}function t(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t}var n=g.window.requestAnimationFrame||g.window.webkitRequestAnimationFrame||g.window.mozRequestAnimationFrame||g.window.oRequestAnimationFrame||g.window.msRequestAnimationFrame||function(e){return g.window.setTimeout(e,1e3/60)},r=g.window.cancelAnimationFrame||g.window.clearTimeout;function i(){return n.apply(g.window,arguments)}g.util.animate=function(n){i((function(r){n||(n={});var a,o=r||+new Date,s=n.duration||500,l=o+s,c=n.onChange||e,u=n.abort||e,h=n.onComplete||e,d=n.easing||t,p="startValue"in n?n.startValue:0,f="endValue"in n?n.endValue:100,m=n.byValue||f-p;n.onStart&&n.onStart(),function e(t){var n=(a=t||+new Date)>l?s:a-o,r=n/s,g=d(n,p,m,s),v=Math.abs((g-p)/m);if(!u())return a>l?(c(f,1,1),void h(f,1,1)):(c(g,v,r),void i(e));h(f,1,1)}(o)}))},g.util.requestAnimFrame=i,g.util.cancelAnimFrame=function(){return r.apply(g.window,arguments)}}(),g.util.animateColor=function(e,t,n,r){var i=new g.Color(e).getSource(),a=new g.Color(t).getSource();g.util.animate(g.util.object.extend(r=r||{},{duration:n||500,startValue:i,endValue:a,byValue:a,easing:function(e,t,n,i){var a,o,s,l;return a=t,o=n,s=r.colorEasing?r.colorEasing(e,i):1-Math.cos(e/i*(Math.PI/2)),l="rgba("+parseInt(a[0]+s*(o[0]-a[0]),10)+","+parseInt(a[1]+s*(o[1]-a[1]),10)+","+parseInt(a[2]+s*(o[2]-a[2]),10),(l+=","+(a&&o?parseFloat(a[3]+s*(o[3]-a[3])):1))+")"}}))},function(){function e(e,t,n,r){return e<Math.abs(t)?(e=t,r=n/4):r=0===t&&0===e?n/(2*Math.PI)*Math.asin(1):n/(2*Math.PI)*Math.asin(t/e),{a:e,c:t,p:n,s:r}}function t(e,t,n){return e.a*Math.pow(2,10*(t-=1))*Math.sin((t*n-e.s)*(2*Math.PI)/e.p)}function n(e,t,n,i){return n-r(i-e,0,n,i)+t}function r(e,t,n,r){return(e/=r)<1/2.75?n*(7.5625*e*e)+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}g.util.ease={easeInQuad:function(e,t,n,r){return n*(e/=r)*e+t},easeOutQuad:function(e,t,n,r){return-n*(e/=r)*(e-2)+t},easeInOutQuad:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},easeInCubic:function(e,t,n,r){return n*(e/=r)*e*e+t},easeOutCubic:function(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t},easeInOutCubic:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},easeInQuart:function(e,t,n,r){return n*(e/=r)*e*e*e+t},easeOutQuart:function(e,t,n,r){return-n*((e=e/r-1)*e*e*e-1)+t},easeInOutQuart:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},easeInQuint:function(e,t,n,r){return n*(e/=r)*e*e*e*e+t},easeOutQuint:function(e,t,n,r){return n*((e=e/r-1)*e*e*e*e+1)+t},easeInOutQuint:function(e,t,n,r){return(e/=r/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},easeInSine:function(e,t,n,r){return-n*Math.cos(e/r*(Math.PI/2))+n+t},easeOutSine:function(e,t,n,r){return n*Math.sin(e/r*(Math.PI/2))+t},easeInOutSine:function(e,t,n,r){return-n/2*(Math.cos(Math.PI*e/r)-1)+t},easeInExpo:function(e,t,n,r){return 0===e?t:n*Math.pow(2,10*(e/r-1))+t},easeOutExpo:function(e,t,n,r){return e===r?t+n:n*(1-Math.pow(2,-10*e/r))+t},easeInOutExpo:function(e,t,n,r){return 0===e?t:e===r?t+n:(e/=r/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},easeInCirc:function(e,t,n,r){return-n*(Math.sqrt(1-(e/=r)*e)-1)+t},easeOutCirc:function(e,t,n,r){return n*Math.sqrt(1-(e=e/r-1)*e)+t},easeInOutCirc:function(e,t,n,r){return(e/=r/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},easeInElastic:function(n,r,i,a){var o=0;return 0===n?r:1==(n/=a)?r+i:(o||(o=.3*a),-t(e(i,i,o,1.70158),n,a)+r)},easeOutElastic:function(t,n,r,i){var a=0;if(0===t)return n;if(1==(t/=i))return n+r;a||(a=.3*i);var o=e(r,r,a,1.70158);return o.a*Math.pow(2,-10*t)*Math.sin((t*i-o.s)*(2*Math.PI)/o.p)+o.c+n},easeInOutElastic:function(n,r,i,a){var o=0;if(0===n)return r;if(2==(n/=a/2))return r+i;o||(o=a*(.3*1.5));var s=e(i,i,o,1.70158);return n<1?-.5*t(s,n,a)+r:s.a*Math.pow(2,-10*(n-=1))*Math.sin((n*a-s.s)*(2*Math.PI)/s.p)*.5+s.c+r},easeInBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*(e/=r)*e*((i+1)*e-i)+t},easeOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),n*((e=e/r-1)*e*((i+1)*e+i)+1)+t},easeInOutBack:function(e,t,n,r,i){return void 0===i&&(i=1.70158),(e/=r/2)<1?n/2*(e*e*((1+(i*=1.525))*e-i))+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},easeInBounce:n,easeOutBounce:r,easeInOutBounce:function(e,t,i,a){return e<a/2?.5*n(2*e,0,i,a)+t:.5*r(2*e-a,0,i,a)+.5*i+t}}}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,a=t.util.parseUnit,o=t.util.multiplyTransformMatrices,s={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform"},l={stroke:"strokeOpacity",fill:"fillOpacity"};function c(e){return e in s?s[e]:e}function u(e,n,r,i){var s,l="[object Array]"===Object.prototype.toString.call(n);if("fill"!==e&&"stroke"!==e||"none"!==n)if("vector-effect"===e)n="non-scaling-stroke"===n;else if("strokeDashArray"===e)n="none"===n?null:n.replace(/,/g," ").split(/\s+/).map(parseFloat);else if("transformMatrix"===e)n=r&&r.transformMatrix?o(r.transformMatrix,t.parseTransformAttribute(n)):t.parseTransformAttribute(n);else if("visible"===e)n="none"!==n&&"hidden"!==n,r&&!1===r.visible&&(n=!1);else if("opacity"===e)n=parseFloat(n),r&&void 0!==r.opacity&&(n*=r.opacity);else if("textAnchor"===e)n="start"===n?"left":"end"===n?"right":"center";else if("charSpacing"===e)s=a(n,i)/i*1e3;else if("paintFirst"===e){var c=n.indexOf("fill"),u=n.indexOf("stroke");n="fill",(c>-1&&u>-1&&u<c||-1===c&&u>-1)&&(n="stroke")}else{if("href"===e||"xlink:href"===e)return n;s=l?n.map(a):a(n,i)}else n="";return!l&&isNaN(s)?n:s}function h(e){return new RegExp("^("+e.join("|")+")\\b","i")}function d(e,t){var n,r,i,a=[];for(r=0,i=t.length;r<i;r++)n=e.getElementsByTagName(t[r]),a=a.concat(Array.prototype.slice.call(n));return a}function p(e,t){var n,r=!0;return(n=f(e,t.pop()))&&t.length&&(r=function(e,t){for(var n,r=!0;e.parentNode&&1===e.parentNode.nodeType&&t.length;)r&&(n=t.pop()),r=f(e=e.parentNode,n);return 0===t.length}(e,t)),n&&r&&0===t.length}function f(e,t){var n,r,i=e.nodeName,a=e.getAttribute("class"),o=e.getAttribute("id");if(n=new RegExp("^"+i,"i"),t=t.replace(n,""),o&&t.length&&(n=new RegExp("#"+o+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"")),a&&t.length)for(r=(a=a.split(" ")).length;r--;)n=new RegExp("\\."+a[r]+"(?![a-zA-Z\\-]+)","i"),t=t.replace(n,"");return 0===t.length}function m(e,t){var n;if(e.getElementById&&(n=e.getElementById(t)),n)return n;var r,i,a,o=e.getElementsByTagName("*");for(i=0,a=o.length;i<a;i++)if(t===(r=o[i]).getAttribute("id"))return r}t.svgValidTagNamesRegEx=h(["path","circle","polygon","polyline","ellipse","rect","line","image","text"]),t.svgViewBoxElementsRegEx=h(["symbol","image","marker","pattern","view","svg"]),t.svgInvalidAncestorsRegEx=h(["pattern","defs","symbol","metadata","clipPath","mask","desc"]),t.svgValidParentsRegEx=h(["symbol","g","a","svg","clipPath","defs"]),t.cssRules={},t.gradientDefs={},t.clipPaths={},t.parseTransformAttribute=function(){function e(e,n,r){e[r]=Math.tan(t.util.degreesToRadians(n[0]))}var n=t.iMatrix,r=t.reNum,i="(?:\\s+,?\\s*|,\\s*)",a="(?:(?:(matrix)\\s*\\(\\s*("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")"+i+"("+r+")\\s*\\))|(?:(translate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(scale)\\s*\\(\\s*("+r+")(?:"+i+"("+r+"))?\\s*\\))|(?:(rotate)\\s*\\(\\s*("+r+")(?:"+i+"("+r+")"+i+"("+r+"))?\\s*\\))|(?:(skewX)\\s*\\(\\s*("+r+")\\s*\\))|(?:(skewY)\\s*\\(\\s*("+r+")\\s*\\)))",o=new RegExp("^\\s*(?:(?:"+a+"(?:"+i+"*"+a+")*)?)\\s*$"),s=new RegExp(a,"g");return function(r){var i=n.concat(),l=[];if(!r||r&&!o.test(r))return i;r.replace(s,(function(r){var o=new RegExp(a).exec(r).filter((function(e){return!!e})),s=o[1],c=o.slice(2).map(parseFloat);switch(s){case"translate":!function(e,t){e[4]=t[0],2===t.length&&(e[5]=t[1])}(i,c);break;case"rotate":c[0]=t.util.degreesToRadians(c[0]),function(e,n){var r=t.util.cos(n[0]),i=t.util.sin(n[0]),a=0,o=0;3===n.length&&(a=n[1],o=n[2]),e[0]=r,e[1]=i,e[2]=-i,e[3]=r,e[4]=a-(r*a-i*o),e[5]=o-(i*a+r*o)}(i,c);break;case"scale":!function(e,t){var n=2===t.length?t[1]:t[0];e[0]=t[0],e[3]=n}(i,c);break;case"skewX":e(i,c,2);break;case"skewY":e(i,c,1);break;case"matrix":i=c}l.push(i.concat()),i=n.concat()}));for(var c=l[0];l.length>1;)l.shift(),c=t.util.multiplyTransformMatrices(c,l[0]);return c}}();var g=new RegExp("^\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*,?\\s*("+t.reNum+"+)\\s*$");function v(e){var n,r,i,o,s,l,c=e.getAttribute("viewBox"),u=1,h=1,d=e.getAttribute("width"),p=e.getAttribute("height"),f=e.getAttribute("x")||0,m=e.getAttribute("y")||0,v=e.getAttribute("preserveAspectRatio")||"",_=!c||!t.svgViewBoxElementsRegEx.test(e.nodeName)||!(c=c.match(g)),b=!d||!p||"100%"===d||"100%"===p,y=_&&b,C={},w="",k=0,x=0;if(C.width=0,C.height=0,C.toBeParsed=y,y)return C;if(_)return C.width=a(d),C.height=a(p),C;if(n=-parseFloat(c[1]),r=-parseFloat(c[2]),i=parseFloat(c[3]),o=parseFloat(c[4]),C.minX=n,C.minY=r,C.viewBoxWidth=i,C.viewBoxHeight=o,b?(C.width=i,C.height=o):(C.width=a(d),C.height=a(p),u=C.width/i,h=C.height/o),"none"!==(v=t.util.parsePreserveAspectRatioAttribute(v)).alignX&&("meet"===v.meetOrSlice&&(h=u=u>h?h:u),"slice"===v.meetOrSlice&&(h=u=u>h?u:h),k=C.width-i*u,x=C.height-o*u,"Mid"===v.alignX&&(k/=2),"Mid"===v.alignY&&(x/=2),"Min"===v.alignX&&(k=0),"Min"===v.alignY&&(x=0)),1===u&&1===h&&0===n&&0===r&&0===f&&0===m)return C;if((f||m)&&(w=" translate("+a(f)+" "+a(m)+") "),C.viewboxTransform=t.parseTransformAttribute(s=w+" matrix("+u+" 0 0 "+h+" "+(n*u+k)+" "+(r*h+x)+") "),"svg"===e.nodeName){for(l=e.ownerDocument.createElementNS(t.svgNS,"g");e.firstChild;)l.appendChild(e.firstChild);e.appendChild(l)}else s=(l=e).getAttribute("transform")+s;return l.setAttribute("transform",s),C}function _(e,t){var n=m(e,t.getAttribute("xlink:href").substr(1));if(n&&n.getAttribute("xlink:href")&&_(e,n),["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"].forEach((function(e){n&&!t.hasAttribute(e)&&n.hasAttribute(e)&&t.setAttribute(e,n.getAttribute(e))})),!t.children.length)for(var r=n.cloneNode(!0);r.firstChild;)t.appendChild(r.firstChild);t.removeAttribute("xlink:href")}t.parseSVGDocument=function(e,n,i,a){if(e){!function(e){for(var n=d(e,["use","svg:use"]),r=0;n.length&&r<n.length;){var i,a,o,s,l=n[r],c=(l.getAttribute("xlink:href")||l.getAttribute("href")).substr(1),u=l.getAttribute("x")||0,h=l.getAttribute("y")||0,p=m(e,c).cloneNode(!0),f=(p.getAttribute("transform")||"")+" translate("+u+", "+h+")",g=n.length,_=t.svgNS;if(v(p),/^svg$/i.test(p.nodeName)){var b=p.ownerDocument.createElementNS(_,"g");for(a=0,s=(o=p.attributes).length;a<s;a++)i=o.item(a),b.setAttributeNS(_,i.nodeName,i.nodeValue);for(;p.firstChild;)b.appendChild(p.firstChild);p=b}for(a=0,s=(o=l.attributes).length;a<s;a++)"x"!==(i=o.item(a)).nodeName&&"y"!==i.nodeName&&"xlink:href"!==i.nodeName&&"href"!==i.nodeName&&("transform"===i.nodeName?f=i.nodeValue+" "+f:p.setAttribute(i.nodeName,i.nodeValue));p.setAttribute("transform",f),p.setAttribute("instantiated_by_use","1"),p.removeAttribute("id"),l.parentNode.replaceChild(p,l),n.length===g&&r++}}(e);var o,s,l=t.Object.__uid++,c=v(e),u=t.util.toArray(e.getElementsByTagName("*"));if(c.crossOrigin=a&&a.crossOrigin,c.svgUid=l,0===u.length&&t.isLikelyNode){var h=[];for(o=0,s=(u=e.selectNodes('//*[name(.)!="svg"]')).length;o<s;o++)h[o]=u[o];u=h}var p=u.filter((function(e){return v(e),t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))&&!function(e,t){for(;e&&(e=e.parentNode);)if(e.nodeName&&t.test(e.nodeName.replace("svg:",""))&&!e.getAttribute("instantiated_by_use"))return!0;return!1}(e,t.svgInvalidAncestorsRegEx)}));if(!p||p&&!p.length)n&&n([],{});else{var f={};u.filter((function(e){return"clipPath"===e.nodeName.replace("svg:","")})).forEach((function(e){var n=e.getAttribute("id");f[n]=t.util.toArray(e.getElementsByTagName("*")).filter((function(e){return t.svgValidTagNamesRegEx.test(e.nodeName.replace("svg:",""))}))})),t.gradientDefs[l]=t.getGradientDefs(e),t.cssRules[l]=t.getCSSRules(e),t.clipPaths[l]=f,t.parseElements(p,(function(e,r){n&&(n(e,c,r,u),delete t.gradientDefs[l],delete t.cssRules[l],delete t.clipPaths[l])}),r(c),i,a)}}};var b=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+t.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+t.reNum+"))?\\s+(.*)");n(t,{parseFontDeclaration:function(e,t){var n=e.match(b);if(n){var r=n[1],i=n[3],o=n[4],s=n[5],l=n[6];r&&(t.fontStyle=r),i&&(t.fontWeight=isNaN(parseFloat(i))?i:parseFloat(i)),o&&(t.fontSize=a(o)),l&&(t.fontFamily=l),s&&(t.lineHeight="normal"===s?1:s)}},getGradientDefs:function(e){var t,n=d(e,["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"]),r=0,i={};for(r=n.length;r--;)(t=n[r]).getAttribute("xlink:href")&&_(e,t),i[t.getAttribute("id")]=t;return i},parseAttributes:function(e,r,o){if(e){var s,h,d,f={};void 0===o&&(o=e.getAttribute("svgUid")),e.parentNode&&t.svgValidParentsRegEx.test(e.parentNode.nodeName)&&(f=t.parseAttributes(e.parentNode,r,o));var m=r.reduce((function(t,n){return(s=e.getAttribute(n))&&(t[n]=s),t}),{}),g=n(function(e,n){var r={};for(var i in t.cssRules[n])if(p(e,i.split(" ")))for(var a in t.cssRules[n][i])r[a]=t.cssRules[n][i][a];return r}(e,o),t.parseStyleAttribute(e));m=n(m,g),g["clip-path"]&&e.setAttribute("clip-path",g["clip-path"]),h=d=f.fontSize||t.Text.DEFAULT_SVG_FONT_SIZE,m["font-size"]&&(m["font-size"]=h=a(m["font-size"],d));var v,_,b={};for(var y in m)_=u(v=c(y),m[y],f,h),b[v]=_;b&&b.font&&t.parseFontDeclaration(b.font,b);var C=n(f,b);return t.svgValidParentsRegEx.test(e.nodeName)?C:function(e){for(var n in l)if(void 0!==e[l[n]]&&""!==e[n]){if(void 0===e[n]){if(!t.Object.prototype[n])continue;e[n]=t.Object.prototype[n]}if(0!==e[n].indexOf("url(")){var r=new t.Color(e[n]);e[n]=r.setAlpha(i(r.getAlpha()*e[l[n]],2)).toRgba()}}return e}(C)}},parseElements:function(e,n,r,i,a){new t.ElementsParser(e,n,r,i,a).parse()},parseStyleAttribute:function(e){var t={},n=e.getAttribute("style");return n?("string"==typeof n?function(e,t){var n,r;e.replace(/;\s*$/,"").split(";").forEach((function(e){var i=e.split(":");n=i[0].trim().toLowerCase(),r=i[1].trim(),t[n]=r}))}(n,t):function(e,t){for(var n in e)void 0!==e[n]&&(t[n.toLowerCase()]=e[n])}(n,t),t):t},parsePointsAttribute:function(e){if(!e)return null;var t,n,r=[];for(t=0,n=(e=(e=e.replace(/,/g," ").trim()).split(/\s+/)).length;t<n;t+=2)r.push({x:parseFloat(e[t]),y:parseFloat(e[t+1])});return r},getCSSRules:function(e){var n,r,i=e.getElementsByTagName("style"),a={};for(n=0,r=i.length;n<r;n++){var o=i[n].textContent||i[n].text;""!==(o=o.replace(/\/\*[\s\S]*?\*\//g,"")).trim()&&o.match(/[^{]*\{[\s\S]*?\}/g).map((function(e){return e.trim()})).forEach((function(e){var i=e.match(/([\s\S]*?)\s*\{([^}]*)\}/),o={},s=i[2].trim().replace(/;$/,"").split(/\s*;\s*/);for(n=0,r=s.length;n<r;n++){var l=s[n].split(/\s*:\s*/);o[l[0]]=l[1]}(e=i[1]).split(",").forEach((function(e){""!==(e=e.replace(/^svg/i,"").trim())&&(a[e]?t.util.object.extend(a[e],o):a[e]=t.util.object.clone(o))}))}))}return a},loadSVGFromURL:function(e,n,r,i){e=e.replace(/^\n\s*/,"").trim(),new t.util.request(e,{method:"get",onComplete:function(e){var a=e.responseXML;if(a&&!a.documentElement&&t.window.ActiveXObject&&e.responseText&&((a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(e.responseText.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,""))),!a||!a.documentElement)return n&&n(null),!1;t.parseSVGDocument(a.documentElement,(function(e,t,r,i){n&&n(e,t,r,i)}),r,i)}})},loadSVGFromString:function(e,n,r,i){var a;if(e=e.trim(),void 0!==t.window.DOMParser){var o=new t.window.DOMParser;o&&o.parseFromString&&(a=o.parseFromString(e,"text/xml"))}else t.window.ActiveXObject&&((a=new ActiveXObject("Microsoft.XMLDOM")).async="false",a.loadXML(e.replace(/<!DOCTYPE[\s\S]*?(\[[\s\S]*\])*?>/i,"")));t.parseSVGDocument(a.documentElement,(function(e,t,r,i){n(e,t,r,i)}),r,i)}})}(t),g.ElementsParser=function(e,t,n,r,i,a){this.elements=e,this.callback=t,this.options=n,this.reviver=r,this.svgUid=n&&n.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=a},(s=g.ElementsParser.prototype).parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},s.createObjects=function(){var e=this;this.elements.forEach((function(t,n){t.setAttribute("svgUid",e.svgUid),e.createObject(t,n)}))},s.findTag=function(e){return g[g.util.string.capitalize(e.tagName.replace("svg:",""))]},s.createObject=function(e,t){var n=this.findTag(e);if(n&&n.fromElement)try{n.fromElement(e,this.createCallback(t,e),this.options)}catch(r){g.log(r)}else this.checkIfDone()},s.createCallback=function(e,t){var n=this;return function(r){var i;n.resolveGradient(r,t,"fill"),n.resolveGradient(r,t,"stroke"),r instanceof g.Image&&r._originalElement&&(i=r.parsePreserveAspectRatioAttribute(t)),r._removeTransformMatrix(i),n.resolveClipPath(r,t),n.reviver&&n.reviver(t,r),n.instances[e]=r,n.checkIfDone()}},s.extractPropertyDefinition=function(e,t,n){var r=e[t],i=this.regexUrl;if(i.test(r)){i.lastIndex=0;var a=i.exec(r)[1];return i.lastIndex=0,g[n][this.svgUid][a]}},s.resolveGradient=function(e,t,n){var r=this.extractPropertyDefinition(e,n,"gradientDefs");if(r){var i=t.getAttribute(n+"-opacity"),a=g.Gradient.fromElement(r,e,i,this.options);e.set(n,a)}},s.createClipPathCallback=function(e,t){return function(e){e._removeTransformMatrix(),e.fillRule=e.clipRule,t.push(e)}},s.resolveClipPath=function(e,t){var n,r,i,a,o=this.extractPropertyDefinition(e,"clipPath","clipPaths");if(o){i=[],r=g.util.invertTransform(e.calcTransformMatrix());for(var s=o[0].parentNode,l=t;l.parentNode&&l.getAttribute("clip-path")!==e.clipPath;)l=l.parentNode;l.parentNode.appendChild(s);for(var c=0;c<o.length;c++)this.findTag(n=o[c]).fromElement(n,this.createClipPathCallback(e,i),this.options);o=1===i.length?i[0]:new g.Group(i),a=g.util.multiplyTransformMatrices(r,o.calcTransformMatrix()),o.clipPath&&this.resolveClipPath(o,l);var u=g.util.qrDecompose(a);o.flipX=!1,o.flipY=!1,o.set("scaleX",u.scaleX),o.set("scaleY",u.scaleY),o.angle=u.angle,o.skewX=u.skewX,o.skewY=0,o.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),e.clipPath=o}},s.checkIfDone=function(){0==--this.numElements&&(this.instances=this.instances.filter((function(e){return null!=e})),this.callback(this.instances,this.elements))},function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e,t){this.x=e,this.y=t}t.Point?t.warn("fabric.Point is already defined"):(t.Point=n,n.prototype={type:"point",constructor:n,add:function(e){return new n(this.x+e.x,this.y+e.y)},addEquals:function(e){return this.x+=e.x,this.y+=e.y,this},scalarAdd:function(e){return new n(this.x+e,this.y+e)},scalarAddEquals:function(e){return this.x+=e,this.y+=e,this},subtract:function(e){return new n(this.x-e.x,this.y-e.y)},subtractEquals:function(e){return this.x-=e.x,this.y-=e.y,this},scalarSubtract:function(e){return new n(this.x-e,this.y-e)},scalarSubtractEquals:function(e){return this.x-=e,this.y-=e,this},multiply:function(e){return new n(this.x*e,this.y*e)},multiplyEquals:function(e){return this.x*=e,this.y*=e,this},divide:function(e){return new n(this.x/e,this.y/e)},divideEquals:function(e){return this.x/=e,this.y/=e,this},eq:function(e){return this.x===e.x&&this.y===e.y},lt:function(e){return this.x<e.x&&this.y<e.y},lte:function(e){return this.x<=e.x&&this.y<=e.y},gt:function(e){return this.x>e.x&&this.y>e.y},gte:function(e){return this.x>=e.x&&this.y>=e.y},lerp:function(e,t){return void 0===t&&(t=.5),t=Math.max(Math.min(1,t),0),new n(this.x+(e.x-this.x)*t,this.y+(e.y-this.y)*t)},distanceFrom:function(e){var t=this.x-e.x,n=this.y-e.y;return Math.sqrt(t*t+n*n)},midPointFrom:function(e){return this.lerp(e)},min:function(e){return new n(Math.min(this.x,e.x),Math.min(this.y,e.y))},max:function(e){return new n(Math.max(this.x,e.x),Math.max(this.y,e.y))},toString:function(){return this.x+","+this.y},setXY:function(e,t){return this.x=e,this.y=t,this},setX:function(e){return this.x=e,this},setY:function(e){return this.y=e,this},setFromPoint:function(e){return this.x=e.x,this.y=e.y,this},swap:function(e){var t=this.x,n=this.y;this.x=e.x,this.y=e.y,e.x=t,e.y=n},clone:function(){return new n(this.x,this.y)}})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){this.status=e,this.points=[]}t.Intersection?t.warn("fabric.Intersection is already defined"):(t.Intersection=n,t.Intersection.prototype={constructor:n,appendPoint:function(e){return this.points.push(e),this},appendPoints:function(e){return this.points=this.points.concat(e),this}},t.Intersection.intersectLineLine=function(e,r,i,a){var o,s=(a.x-i.x)*(e.y-i.y)-(a.y-i.y)*(e.x-i.x),l=(r.x-e.x)*(e.y-i.y)-(r.y-e.y)*(e.x-i.x),c=(a.y-i.y)*(r.x-e.x)-(a.x-i.x)*(r.y-e.y);if(0!==c){var u=s/c,h=l/c;0<=u&&u<=1&&0<=h&&h<=1?(o=new n("Intersection")).appendPoint(new t.Point(e.x+u*(r.x-e.x),e.y+u*(r.y-e.y))):o=new n}else o=new n(0===s||0===l?"Coincident":"Parallel");return o},t.Intersection.intersectLinePolygon=function(e,t,r){var i,a,o=new n,s=r.length;for(a=0;a<s;a++)i=n.intersectLineLine(e,t,r[a],r[(a+1)%s]),o.appendPoints(i.points);return o.points.length>0&&(o.status="Intersection"),o},t.Intersection.intersectPolygonPolygon=function(e,t){var r,i=new n,a=e.length;for(r=0;r<a;r++){var o=n.intersectLinePolygon(e[r],e[(r+1)%a],t);i.appendPoints(o.points)}return i.points.length>0&&(i.status="Intersection"),i},t.Intersection.intersectPolygonRectangle=function(e,r,i){var a=r.min(i),o=r.max(i),s=new t.Point(o.x,a.y),l=new t.Point(a.x,o.y),c=n.intersectLinePolygon(a,s,e),u=n.intersectLinePolygon(s,o,e),h=n.intersectLinePolygon(o,l,e),d=n.intersectLinePolygon(l,a,e),p=new n;return p.appendPoints(c.points),p.appendPoints(u.points),p.appendPoints(h.points),p.appendPoints(d.points),p.points.length>0&&(p.status="Intersection"),p})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});function n(e){e?this._tryParsingColor(e):this.setSource([0,0,0,1])}function r(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}t.Color?t.warn("fabric.Color is already defined."):(t.Color=n,t.Color.prototype={_tryParsingColor:function(e){var t;e in n.colorNameMap&&(e=n.colorNameMap[e]),"transparent"===e&&(t=[255,255,255,0]),t||(t=n.sourceFromHex(e)),t||(t=n.sourceFromRgb(e)),t||(t=n.sourceFromHsl(e)),t||(t=[0,0,0,1]),t&&this.setSource(t)},_rgbToHsl:function(e,n,r){var i,a,o,s=t.util.array.max([e/=255,n/=255,r/=255]),l=t.util.array.min([e,n,r]);if(o=(s+l)/2,s===l)i=a=0;else{var c=s-l;switch(a=o>.5?c/(2-s-l):c/(s+l),s){case e:i=(n-r)/c+(n<r?6:0);break;case n:i=(r-e)/c+2;break;case r:i=(e-n)/c+4}i/=6}return[Math.round(360*i),Math.round(100*a),Math.round(100*o)]},getSource:function(){return this._source},setSource:function(e){this._source=e},toRgb:function(){var e=this.getSource();return"rgb("+e[0]+","+e[1]+","+e[2]+")"},toRgba:function(){var e=this.getSource();return"rgba("+e[0]+","+e[1]+","+e[2]+","+e[3]+")"},toHsl:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsl("+t[0]+","+t[1]+"%,"+t[2]+"%)"},toHsla:function(){var e=this.getSource(),t=this._rgbToHsl(e[0],e[1],e[2]);return"hsla("+t[0]+","+t[1]+"%,"+t[2]+"%,"+e[3]+")"},toHex:function(){var e,t,n,r=this.getSource();return e=1===(e=r[0].toString(16)).length?"0"+e:e,t=1===(t=r[1].toString(16)).length?"0"+t:t,n=1===(n=r[2].toString(16)).length?"0"+n:n,e.toUpperCase()+t.toUpperCase()+n.toUpperCase()},toHexa:function(){var e,t=this.getSource();return e=1===(e=(e=Math.round(255*t[3])).toString(16)).length?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(e){var t=this.getSource();return t[3]=e,this.setSource(t),this},toGrayscale:function(){var e=this.getSource(),t=parseInt((.3*e[0]+.59*e[1]+.11*e[2]).toFixed(0),10);return this.setSource([t,t,t,e[3]]),this},toBlackWhite:function(e){var t=this.getSource(),n=(.3*t[0]+.59*t[1]+.11*t[2]).toFixed(0),r=t[3];return e=e||127,n=Number(n)<Number(e)?0:255,this.setSource([n,n,n,r]),this},overlayWith:function(e){e instanceof n||(e=new n(e));var t,r=[],i=this.getAlpha(),a=this.getSource(),o=e.getSource();for(t=0;t<3;t++)r.push(Math.round(.5*a[t]+.5*o[t]));return r[3]=i,this.setSource(r),this}},t.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,t.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,t.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,t.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"},t.Color.fromRgb=function(e){return n.fromSource(n.sourceFromRgb(e))},t.Color.sourceFromRgb=function(e){var t=e.match(n.reRGBa);if(t){var r=parseInt(t[1],10)/(/%$/.test(t[1])?100:1)*(/%$/.test(t[1])?255:1),i=parseInt(t[2],10)/(/%$/.test(t[2])?100:1)*(/%$/.test(t[2])?255:1),a=parseInt(t[3],10)/(/%$/.test(t[3])?100:1)*(/%$/.test(t[3])?255:1);return[parseInt(r,10),parseInt(i,10),parseInt(a,10),t[4]?parseFloat(t[4]):1]}},t.Color.fromRgba=n.fromRgb,t.Color.fromHsl=function(e){return n.fromSource(n.sourceFromHsl(e))},t.Color.sourceFromHsl=function(e){var t=e.match(n.reHSLa);if(t){var i,a,o,s=(parseFloat(t[1])%360+360)%360/360,l=parseFloat(t[2])/(/%$/.test(t[2])?100:1),c=parseFloat(t[3])/(/%$/.test(t[3])?100:1);if(0===l)i=a=o=c;else{var u=c<=.5?c*(l+1):c+l-c*l,h=2*c-u;i=r(h,u,s+1/3),a=r(h,u,s),o=r(h,u,s-1/3)}return[Math.round(255*i),Math.round(255*a),Math.round(255*o),t[4]?parseFloat(t[4]):1]}},t.Color.fromHsla=n.fromHsl,t.Color.fromHex=function(e){return n.fromSource(n.sourceFromHex(e))},t.Color.sourceFromHex=function(e){if(e.match(n.reHex)){var t=e.slice(e.indexOf("#")+1),r=3===t.length||4===t.length,i=8===t.length||4===t.length,a=r?t.charAt(0)+t.charAt(0):t.substring(0,2),o=r?t.charAt(1)+t.charAt(1):t.substring(2,4),s=r?t.charAt(2)+t.charAt(2):t.substring(4,6),l=i?r?t.charAt(3)+t.charAt(3):t.substring(6,8):"FF";return[parseInt(a,16),parseInt(o,16),parseInt(s,16),parseFloat((parseInt(l,16)/255).toFixed(2))]}},t.Color.fromSource=function(e){var t=new n;return t.setSource(e),t})}(t),function(){function e(e,t){var n,r,i,a,o=e.getAttribute("style"),s=e.getAttribute("offset")||0;if(s=(s=parseFloat(s)/(/%$/.test(s)?100:1))<0?0:s>1?1:s,o){var l=o.split(/\s*;\s*/);for(""===l[l.length-1]&&l.pop(),a=l.length;a--;){var c=l[a].split(/\s*:\s*/),u=c[0].trim(),h=c[1].trim();"stop-color"===u?n=h:"stop-opacity"===u&&(i=h)}}return n||(n=e.getAttribute("stop-color")||"rgb(0,0,0)"),i||(i=e.getAttribute("stop-opacity")),r=(n=new g.Color(n)).getAlpha(),i=isNaN(parseFloat(i))?1:parseFloat(i),i*=r*t,{offset:s,color:n.toRgb(),opacity:i}}var t=g.util.object.clone;function n(e,t,n,r){var i,a;Object.keys(t).forEach((function(e){"Infinity"===(i=t[e])?a=1:"-Infinity"===i?a=0:(a=parseFloat(t[e],10),"string"==typeof i&&/^(\d+\.\d+)%|(\d+)%$/.test(i)&&(a*=.01,"pixels"===r&&("x1"!==e&&"x2"!==e&&"r2"!==e||(a*=n.viewBoxWidth||n.width),"y1"!==e&&"y2"!==e||(a*=n.viewBoxHeight||n.height)))),t[e]=a}))}g.Gradient=g.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,n=this;Object.keys(e).forEach((function(t){n[t]=e[t]})),this.id?this.id+="_"+g.Object.__uid++:this.id=g.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},"radial"===this.type&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var n=new g.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return g.util.populateWithProperties(this,t,e),t},toSVG:function(e,n){var r,i,a,o,s=t(this.coords,!0),l=(n=n||{},t(this.colorStops,!0)),c=s.r1>s.r2,u=this.gradientTransform?this.gradientTransform.concat():g.iMatrix.concat(),h=-this.offsetX,d=-this.offsetY,p=!!n.additionalTransform,f="pixels"===this.gradientUnits?"userSpaceOnUse":"objectBoundingBox";if(l.sort((function(e,t){return e.offset-t.offset})),"objectBoundingBox"===f?(h/=e.width,d/=e.height):(h+=e.width/2,d+=e.height/2),"path"===e.type&&(h-=e.pathOffset.x,d-=e.pathOffset.y),u[4]-=h,u[5]-=d,o='id="SVGID_'+this.id+'" gradientUnits="'+f+'"',o+=' gradientTransform="'+(p?n.additionalTransform+" ":"")+g.util.matrixToSVG(u)+'" ',"linear"===this.type?a=["<linearGradient ",o,' x1="',s.x1,'" y1="',s.y1,'" x2="',s.x2,'" y2="',s.y2,'">\n']:"radial"===this.type&&(a=["<radialGradient ",o,' cx="',c?s.x1:s.x2,'" cy="',c?s.y1:s.y2,'" r="',c?s.r1:s.r2,'" fx="',c?s.x2:s.x1,'" fy="',c?s.y2:s.y1,'">\n']),"radial"===this.type){if(c)for((l=l.concat()).reverse(),r=0,i=l.length;r<i;r++)l[r].offset=1-l[r].offset;var m=Math.min(s.r1,s.r2);if(m>0){var v=m/Math.max(s.r1,s.r2);for(r=0,i=l.length;r<i;r++)l[r].offset+=v*(1-l[r].offset)}}for(r=0,i=l.length;r<i;r++){var _=l[r];a.push("<stop ",'offset="',100*_.offset+"%",'" style="stop-color:',_.color,void 0!==_.opacity?";stop-opacity: "+_.opacity:";",'"/>\n')}return a.push("linear"===this.type?"</linearGradient>\n":"</radialGradient>\n"),a.join("")},toLive:function(e){var t,n,r,i=g.util.object.clone(this.coords);if(this.type){for("linear"===this.type?t=e.createLinearGradient(i.x1,i.y1,i.x2,i.y2):"radial"===this.type&&(t=e.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2)),n=0,r=this.colorStops.length;n<r;n++){var a=this.colorStops[n].color,o=this.colorStops[n].opacity,s=this.colorStops[n].offset;void 0!==o&&(a=new g.Color(a).setAlpha(o).toRgba()),t.addColorStop(s,a)}return t}}}),g.util.object.extend(g.Gradient,{fromElement:function(t,r,i,a){var o=parseFloat(i)/(/%$/.test(i)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var s,l,c,u,h=t.getElementsByTagName("stop"),d="userSpaceOnUse"===t.getAttribute("gradientUnits")?"pixels":"percentage",p=t.getAttribute("gradientTransform")||"",f=[],m=0,v=0;for("linearGradient"===t.nodeName||"LINEARGRADIENT"===t.nodeName?(s="linear",l=function(e){return{x1:e.getAttribute("x1")||0,y1:e.getAttribute("y1")||0,x2:e.getAttribute("x2")||"100%",y2:e.getAttribute("y2")||0}}(t)):(s="radial",l=function(e){return{x1:e.getAttribute("fx")||e.getAttribute("cx")||"50%",y1:e.getAttribute("fy")||e.getAttribute("cy")||"50%",r1:0,x2:e.getAttribute("cx")||"50%",y2:e.getAttribute("cy")||"50%",r2:e.getAttribute("r")||"50%"}}(t)),c=h.length;c--;)f.push(e(h[c],o));return u=g.parseTransformAttribute(p),n(0,l,a,d),"pixels"===d&&(m=-r.left,v=-r.top),new g.Gradient({id:t.getAttribute("id"),type:s,coords:l,colorStops:f,gradientUnits:d,gradientTransform:u,offsetX:m,offsetY:v})},forObject:function(e,t){return t||(t={}),n(0,t.coords,t.gradientUnits,{viewBoxWidth:100,viewBoxHeight:100}),new g.Gradient(t)}})}(),function(){"use strict";var e=g.util.toFixed;g.Pattern=g.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(e,t){if(e||(e={}),this.id=g.Object.__uid++,this.setOptions(e),!e.source||e.source&&"string"!=typeof e.source)t&&t(this);else if(void 0!==g.util.getFunctionBody(e.source))this.source=new Function(g.util.getFunctionBody(e.source)),t&&t(this);else{var n=this;this.source=g.util.createImage(),g.util.loadImage(e.source,(function(e){n.source=e,t&&t(n)}),null,this.crossOrigin)}},toObject:function(t){var n,r,i=g.Object.NUM_FRACTION_DIGITS;return"function"==typeof this.source?n=String(this.source):"string"==typeof this.source.src?n=this.source.src:"object"==typeof this.source&&this.source.toDataURL&&(n=this.source.toDataURL()),r={type:"pattern",source:n,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:e(this.offsetX,i),offsetY:e(this.offsetY,i),patternTransform:this.patternTransform?this.patternTransform.concat():null},g.util.populateWithProperties(this,r,t),r},toSVG:function(e){var t="function"==typeof this.source?this.source():this.source,n=t.width/e.width,r=t.height/e.height,i=this.offsetX/e.width,a=this.offsetY/e.height,o="";return"repeat-x"!==this.repeat&&"no-repeat"!==this.repeat||(r=1,a&&(r+=Math.abs(a))),"repeat-y"!==this.repeat&&"no-repeat"!==this.repeat||(n=1,i&&(n+=Math.abs(i))),t.src?o=t.src:t.toDataURL&&(o=t.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+i+'" y="'+a+'" width="'+n+'" height="'+r+'">\n<image x="0" y="0" width="'+t.width+'" height="'+t.height+'" xlink:href="'+o+'"></image>\n</pattern>\n'},setOptions:function(e){for(var t in e)this[t]=e[t]},toLive:function(e){var t="function"==typeof this.source?this.source():this.source;if(!t)return"";if(void 0!==t.src){if(!t.complete)return"";if(0===t.naturalWidth||0===t.naturalHeight)return""}return e.createPattern(t,this.repeat)}})}(),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.toFixed;t.Shadow?t.warn("fabric.Shadow is already defined."):(t.Shadow=t.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(e){for(var n in"string"==typeof e&&(e=this._parseShadow(e)),e)this[n]=e[n];this.id=t.Object.__uid++},_parseShadow:function(e){var n=e.trim(),r=t.Shadow.reOffsetsAndBlur.exec(n)||[];return{color:(n.replace(t.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)").trim(),offsetX:parseInt(r[1],10)||0,offsetY:parseInt(r[2],10)||0,blur:parseInt(r[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(e){var r=40,i=40,a=t.Object.NUM_FRACTION_DIGITS,o=t.util.rotateVector({x:this.offsetX,y:this.offsetY},t.util.degreesToRadians(-e.angle)),s=new t.Color(this.color);return e.width&&e.height&&(r=100*n((Math.abs(o.x)+this.blur)/e.width,a)+20,i=100*n((Math.abs(o.y)+this.blur)/e.height,a)+20),e.flipX&&(o.x*=-1),e.flipY&&(o.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+i+'%" height="'+(100+2*i)+'%" x="-'+r+'%" width="'+(100+2*r)+'%" >\n\t<feGaussianBlur in="SourceAlpha" stdDeviation="'+n(this.blur?this.blur/2:0,a)+'"></feGaussianBlur>\n\t<feOffset dx="'+n(o.x,a)+'" dy="'+n(o.y,a)+'" result="oBlur" ></feOffset>\n\t<feFlood flood-color="'+s.toRgb()+'" flood-opacity="'+s.getAlpha()+'"/>\n\t<feComposite in2="oBlur" operator="in" />\n\t<feMerge>\n\t\t<feMergeNode></feMergeNode>\n\t\t<feMergeNode in="SourceGraphic"></feMergeNode>\n\t</feMerge>\n</filter>\n'},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var e={},n=t.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach((function(t){this[t]!==n[t]&&(e[t]=this[t])}),this),e}}),t.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:px)?(?:\s?|$))?(-?\d+(?:px)?(?:\s?|$))?(\d+(?:px)?)?(?:\s?|$)(?:$|\s)/)}(t),function(){"use strict";if(g.StaticCanvas)g.warn("fabric.StaticCanvas is already defined.");else{var e=g.util.object.extend,t=g.util.getElementOffset,n=g.util.removeFromArray,r=g.util.toFixed,i=g.util.transformPoint,a=g.util.invertTransform,o=g.util.getNodeCanvas,s=g.util.createCanvasElement,l=new Error("Could not initialize `canvas` element");g.StaticCanvas=g.util.createClass(g.CommonMethods,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,clipTo:null,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:g.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,onBeforeScaleRotate:function(){},enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(e,t){var n=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(e),this._initOptions(t),this._setImageSmoothing(),this.interactive||this._initRetinaScaling(),t.overlayImage&&this.setOverlayImage(t.overlayImage,n),t.backgroundImage&&this.setBackgroundImage(t.backgroundImage,n),t.backgroundColor&&this.setBackgroundColor(t.backgroundColor,n),t.overlayColor&&this.setOverlayColor(t.overlayColor,n),this.calcOffset()},_isRetinaScaling:function(){return 1!==g.devicePixelRatio&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?g.devicePixelRatio:1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var e=g.devicePixelRatio;this.__initRetinaScaling(e,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(e,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(e,t,n){t.setAttribute("width",this.width*e),t.setAttribute("height",this.height*e),n.scale(e,e)},calcOffset:function(){return this._offset=t(this.lowerCanvasEl),this},setOverlayImage:function(e,t,n){return this.__setBgOverlayImage("overlayImage",e,t,n)},setBackgroundImage:function(e,t,n){return this.__setBgOverlayImage("backgroundImage",e,t,n)},setOverlayColor:function(e,t){return this.__setBgOverlayColor("overlayColor",e,t)},setBackgroundColor:function(e,t){return this.__setBgOverlayColor("backgroundColor",e,t)},_setImageSmoothing:function(){var e=this.getContext();e.imageSmoothingEnabled=e.imageSmoothingEnabled||e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled||e.oImageSmoothingEnabled,e.imageSmoothingEnabled=this.imageSmoothingEnabled},__setBgOverlayImage:function(e,t,n,r){return"string"==typeof t?g.util.loadImage(t,(function(t){if(t){var i=new g.Image(t,r);this[e]=i,i.canvas=this}n&&n(t)}),this,r&&r.crossOrigin):(r&&t.setOptions(r),this[e]=t,t&&(t.canvas=this),n&&n(t)),this},__setBgOverlayColor:function(e,t,n){return this[e]=t,this._initGradient(t,e),this._initPattern(t,e,n),this},_createCanvasElement:function(){var e=s();if(!e)throw l;if(e.style||(e.style={}),void 0===e.getContext)throw l;return e},_initOptions:function(e){var t=this.lowerCanvasEl;this._setOptions(e),this.width=this.width||parseInt(t.width,10)||0,this.height=this.height||parseInt(t.height,10)||0,this.lowerCanvasEl.style&&(t.width=this.width,t.height=this.height,t.style.width=this.width+"px",t.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(e){this.lowerCanvasEl=e&&e.getContext?e:g.util.getById(e)||this._createCanvasElement(),g.util.addClass(this.lowerCanvasEl,"lower-canvas"),this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(e,t){return this.setDimensions({width:e},t)},setHeight:function(e,t){return this.setDimensions({height:e},t)},setDimensions:function(e,t){var n;for(var r in t=t||{},e)n=e[r],t.cssOnly||(this._setBackstoreDimension(r,e[r]),n+="px",this.hasLostContext=!0),t.backstoreOnly||this._setCssDimension(r,n);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this._setImageSmoothing(),this.calcOffset(),t.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(e,t){return this.lowerCanvasEl[e]=t,this.upperCanvasEl&&(this.upperCanvasEl[e]=t),this.cacheCanvasEl&&(this.cacheCanvasEl[e]=t),this[e]=t,this},_setCssDimension:function(e,t){return this.lowerCanvasEl.style[e]=t,this.upperCanvasEl&&(this.upperCanvasEl.style[e]=t),this.wrapperEl&&(this.wrapperEl.style[e]=t),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(e){var t,n,r,i=this._activeObject;for(this.viewportTransform=e,n=0,r=this._objects.length;n<r;n++)(t=this._objects[n]).group||t.setCoords(!1,!0);return i&&"activeSelection"===i.type&&i.setCoords(!1,!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(e,t){var n=e,r=this.viewportTransform.slice(0);e=i(e,a(this.viewportTransform)),r[0]=t,r[3]=t;var o=i(e,r);return r[4]+=n.x-o.x,r[5]+=n.y-o.y,this.setViewportTransform(r)},setZoom:function(e){return this.zoomToPoint(new g.Point(0,0),e),this},absolutePan:function(e){var t=this.viewportTransform.slice(0);return t[4]=-e.x,t[5]=-e.y,this.setViewportTransform(t)},relativePan:function(e){return this.absolutePan(new g.Point(-e.x-this.viewportTransform[4],-e.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(e){this.stateful&&e.setupState(),e._set("canvas",this),e.setCoords(),this.fire("object:added",{target:e}),e.fire("added")},_onObjectRemoved:function(e){this.fire("object:removed",{target:e}),e.fire("removed"),delete e.canvas},clearContext:function(e){return e.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this._objects.length=0,this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){return this.renderCanvas(this.contextContainer,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=g.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var e={},t=this.width,n=this.height,r=a(this.viewportTransform);return e.tl=i({x:0,y:0},r),e.br=i({x:t,y:n},r),e.tr=new g.Point(e.br.x,e.tl.y),e.bl=new g.Point(e.tl.x,e.br.y),this.vptCoords=e,e},cancelRequestedRender:function(){this.isRendering&&(g.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(e,t){var n=this.viewportTransform,r=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(e),this.fire("before:render",{ctx:e}),this.clipTo&&g.util.clipContext(this,e),this._renderBackground(e),e.save(),e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this._renderObjects(e,t),e.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.clipTo&&e.restore(),r&&(r.canvas=this,r.shouldCache(),r._transformDone=!0,r.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(e)),this._renderOverlay(e),this.controlsAboveOverlay&&this.interactive&&this.drawControls(e),this.fire("after:render",{ctx:e})},drawClipPathOnCanvas:function(e){var t=this.viewportTransform,n=this.clipPath;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5]),e.globalCompositeOperation="destination-in",n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},_renderObjects:function(e,t){var n,r;for(n=0,r=t.length;n<r;++n)t[n]&&t[n].render(e)},_renderBackgroundOrOverlay:function(e,t){var n=this[t+"Color"],r=this[t+"Image"],i=this.viewportTransform,a=this[t+"Vpt"];if(n||r){if(n){e.save(),e.beginPath(),e.moveTo(0,0),e.lineTo(this.width,0),e.lineTo(this.width,this.height),e.lineTo(0,this.height),e.closePath(),e.fillStyle=n.toLive?n.toLive(e,this):n,a&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),e.transform(1,0,0,1,n.offsetX||0,n.offsetY||0);var o=n.gradientTransform||n.patternTransform;o&&e.transform(o[0],o[1],o[2],o[3],o[4],o[5]),e.fill(),e.restore()}r&&(e.save(),a&&e.transform(i[0],i[1],i[2],i[3],i[4],i[5]),r.render(e),e.restore())}},_renderBackground:function(e){this._renderBackgroundOrOverlay(e,"background")},_renderOverlay:function(e){this._renderBackgroundOrOverlay(e,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(e){return this._centerObject(e,new g.Point(this.getCenter().left,e.getCenterPoint().y))},centerObjectV:function(e){return this._centerObject(e,new g.Point(e.getCenterPoint().x,this.getCenter().top))},centerObject:function(e){var t=this.getCenter();return this._centerObject(e,new g.Point(t.left,t.top))},viewportCenterObject:function(e){var t=this.getVpCenter();return this._centerObject(e,t)},viewportCenterObjectH:function(e){var t=this.getVpCenter();return this._centerObject(e,new g.Point(t.x,e.getCenterPoint().y)),this},viewportCenterObjectV:function(e){var t=this.getVpCenter();return this._centerObject(e,new g.Point(e.getCenterPoint().x,t.y))},getVpCenter:function(){var e=this.getCenter(),t=a(this.viewportTransform);return i({x:e.left,y:e.top},t)},_centerObject:function(e,t){return e.setPositionByOrigin(t,"center","center"),e.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(e){return this.toDatalessObject(e)},toObject:function(e){return this._toObjectMethod("toObject",e)},toDatalessObject:function(e){return this._toObjectMethod("toDatalessObject",e)},_toObjectMethod:function(t,n){var r=this.clipPath,i={version:g.version,objects:this._toObjects(t,n)};return r&&(i.clipPath=this._toObject(this.clipPath,t,n)),e(i,this.__serializeBgOverlay(t,n)),g.util.populateWithProperties(this,i,n),i},_toObjects:function(e,t){return this._objects.filter((function(e){return!e.excludeFromExport})).map((function(n){return this._toObject(n,e,t)}),this)},_toObject:function(e,t,n){var r;this.includeDefaultValues||(r=e.includeDefaultValues,e.includeDefaultValues=!1);var i=e[t](n);return this.includeDefaultValues||(e.includeDefaultValues=r),i},__serializeBgOverlay:function(e,t){var n={},r=this.backgroundImage,i=this.overlayImage;return this.backgroundColor&&(n.background=this.backgroundColor.toObject?this.backgroundColor.toObject(t):this.backgroundColor),this.overlayColor&&(n.overlay=this.overlayColor.toObject?this.overlayColor.toObject(t):this.overlayColor),r&&!r.excludeFromExport&&(n.backgroundImage=this._toObject(r,e,t)),i&&!i.excludeFromExport&&(n.overlayImage=this._toObject(i,e,t)),n},svgViewportTransformation:!0,toSVG:function(e,t){e||(e={}),e.reviver=t;var n=[];return this._setSVGPreamble(n,e),this._setSVGHeader(n,e),this.clipPath&&n.push('<g clip-path="url(#'+this.clipPath.clipPathId+')" >\n'),this._setSVGBgOverlayColor(n,"background"),this._setSVGBgOverlayImage(n,"backgroundImage",t),this._setSVGObjects(n,t),this.clipPath&&n.push("</g>\n"),this._setSVGBgOverlayColor(n,"overlay"),this._setSVGBgOverlayImage(n,"overlayImage",t),n.push("</svg>"),n.join("")},_setSVGPreamble:function(e,t){t.suppressPreamble||e.push('<?xml version="1.0" encoding="',t.encoding||"UTF-8",'" standalone="no" ?>\n','<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ','"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n')},_setSVGHeader:function(e,t){var n,i=t.width||this.width,a=t.height||this.height,o='viewBox="0 0 '+this.width+" "+this.height+'" ',s=g.Object.NUM_FRACTION_DIGITS;t.viewBox?o='viewBox="'+t.viewBox.x+" "+t.viewBox.y+" "+t.viewBox.width+" "+t.viewBox.height+'" ':this.svgViewportTransformation&&(o='viewBox="'+r(-(n=this.viewportTransform)[4]/n[0],s)+" "+r(-n[5]/n[3],s)+" "+r(this.width/n[0],s)+" "+r(this.height/n[3],s)+'" '),e.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',i,'" ','height="',a,'" ',o,'xml:space="preserve">\n',"<desc>Created with Fabric.js ",g.version,"</desc>\n","<defs>\n",this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(t),"</defs>\n")},createSVGClipPathMarkup:function(e){var t=this.clipPath;return t?(t.clipPathId="CLIPPATH_"+g.Object.__uid++,'<clipPath id="'+t.clipPathId+'" >\n'+this.clipPath.toClipPathSVG(e.reviver)+"</clipPath>\n"):""},createSVGRefElementsMarkup:function(){var e=this;return["background","overlay"].map((function(t){var n=e[t+"Color"];if(n&&n.toLive){var r=e[t+"Vpt"],i=e.viewportTransform;return n.toSVG({width:e.width/(r?i[0]:1),height:e.height/(r?i[3]:1)},{additionalTransform:r?g.util.matrixToSVG(i):""})}})).join("")},createSVGFontFacesMarkup:function(){var e,t,n,r,i,a,o,s,l="",c={},u=g.fontPaths,h=this._objects;for(o=0,s=h.length;o<s;o++)if(t=(e=h[o]).fontFamily,-1!==e.type.indexOf("text")&&!c[t]&&u[t]&&(c[t]=!0,e.styles))for(i in n=e.styles)for(a in r=n[i])!c[t=r[a].fontFamily]&&u[t]&&(c[t]=!0);for(var d in c)l+=["\t\t@font-face {\n","\t\t\tfont-family: '",d,"';\n","\t\t\tsrc: url('",u[d],"');\n","\t\t}\n"].join("");return l&&(l=['\t<style type="text/css">',"<![CDATA[\n",l,"]]>","</style>\n"].join("")),l},_setSVGObjects:function(e,t){var n,r,i,a=this._objects;for(r=0,i=a.length;r<i;r++)(n=a[r]).excludeFromExport||this._setSVGObject(e,n,t)},_setSVGObject:function(e,t,n){e.push(t.toSVG(n))},_setSVGBgOverlayImage:function(e,t,n){this[t]&&!this[t].excludeFromExport&&this[t].toSVG&&e.push(this[t].toSVG(n))},_setSVGBgOverlayColor:function(e,t){var n=this[t+"Color"],r=this.width,i=this.height;if(n)if(n.toLive){var a=n.repeat,o=g.util.invertTransform(this.viewportTransform),s=this[t+"Vpt"]?g.util.matrixToSVG(o):"";e.push('<rect transform="'+s+" translate(",r/2,",",i/2,')"',' x="',n.offsetX-r/2,'" y="',n.offsetY-i/2,'" ','width="',"repeat-y"===a||"no-repeat"===a?n.source.width:r,'" height="',"repeat-x"===a||"no-repeat"===a?n.source.height:i,'" fill="url(#SVGID_'+n.id+')"',"></rect>\n")}else e.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',n,'"',"></rect>\n")},sendToBack:function(e){if(!e)return this;var t,r,i,a=this._activeObject;if(e===a&&"activeSelection"===e.type)for(t=(i=a._objects).length;t--;)n(this._objects,r=i[t]),this._objects.unshift(r);else n(this._objects,e),this._objects.unshift(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(e){if(!e)return this;var t,r,i,a=this._activeObject;if(e===a&&"activeSelection"===e.type)for(i=a._objects,t=0;t<i.length;t++)n(this._objects,r=i[t]),this._objects.push(r);else n(this._objects,e),this._objects.push(e);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(e,t){if(!e)return this;var r,i,a,o,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(s=l._objects,r=0;r<s.length;r++)(a=this._objects.indexOf(i=s[r]))>0+c&&(o=a-1,n(this._objects,i),this._objects.splice(o,0,i)),c++;else 0!==(a=this._objects.indexOf(e))&&(o=this._findNewLowerIndex(e,a,t),n(this._objects,e),this._objects.splice(o,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(e,t,n){var r,i;if(n){for(r=t,i=t-1;i>=0;--i)if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t-1;return r},bringForward:function(e,t){if(!e)return this;var r,i,a,o,s,l=this._activeObject,c=0;if(e===l&&"activeSelection"===e.type)for(r=(s=l._objects).length;r--;)(a=this._objects.indexOf(i=s[r]))<this._objects.length-1-c&&(o=a+1,n(this._objects,i),this._objects.splice(o,0,i)),c++;else(a=this._objects.indexOf(e))!==this._objects.length-1&&(o=this._findNewUpperIndex(e,a,t),n(this._objects,e),this._objects.splice(o,0,e));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(e,t,n){var r,i,a;if(n){for(r=t,i=t+1,a=this._objects.length;i<a;++i)if(e.intersectsWithObject(this._objects[i])||e.isContainedWithinObject(this._objects[i])||this._objects[i].isContainedWithinObject(e)){r=i;break}}else r=t+1;return r},moveTo:function(e,t){return n(this._objects,e),this._objects.splice(t,0,e),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(g.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject((function(e){e.dispose&&e.dispose()})),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,g.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),e(g.StaticCanvas.prototype,g.Observable),e(g.StaticCanvas.prototype,g.Collection),e(g.StaticCanvas.prototype,g.DataURLExporter),e(g.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(e){var t=s();if(!t||!t.getContext)return null;var n=t.getContext("2d");if(!n)return null;switch(e){case"setLineDash":return void 0!==n.setLineDash;default:return null}}}),g.StaticCanvas.prototype.toJSON=g.StaticCanvas.prototype.toObject,g.isLikelyNode&&(g.StaticCanvas.prototype.createPNGStream=function(){var e=o(this.lowerCanvasEl);return e&&e.createPNGStream()},g.StaticCanvas.prototype.createJPEGStream=function(e){var t=o(this.lowerCanvasEl);return t&&t.createJPEGStream(e)})}}(),g.BaseBrush=g.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,setShadow:function(e){return this.shadow=new g.Shadow(e),this},_setBrushStyles:function(){var e=this.canvas.contextTop;e.strokeStyle=this.color,e.lineWidth=this.width,e.lineCap=this.strokeLineCap,e.miterLimit=this.strokeMiterLimit,e.lineJoin=this.strokeLineJoin,g.StaticCanvas.supports("setLineDash")&&e.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(e){var t=this.canvas.viewportTransform;e.save(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},_setShadow:function(){if(this.shadow){var e=this.canvas,t=this.shadow,n=e.contextTop,r=e.getZoom();e&&e._isRetinaScaling()&&(r*=g.devicePixelRatio),n.shadowColor=t.color,n.shadowBlur=t.blur*r,n.shadowOffsetX=t.offsetX*r,n.shadowOffsetY=t.offsetY*r}},needsFullRender:function(){return new g.Color(this.color).getAlpha()<1||!!this.shadow},_resetShadow:function(){var e=this.canvas.contextTop;e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0}}),g.PencilBrush=g.util.createClass(g.BaseBrush,{decimate:.4,initialize:function(e){this.canvas=e,this._points=[]},_drawSegment:function(e,t,n){var r=t.midPointFrom(n);return e.quadraticCurveTo(t.x,t.y,r.x,r.y),r},onMouseDown:function(e,t){this.canvas._isMainEvent(t.e)&&(this._prepareForDrawing(e),this._captureDrawingPath(e),this._render())},onMouseMove:function(e,t){if(this.canvas._isMainEvent(t.e)&&this._captureDrawingPath(e)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var n=this._points,r=n.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,n[r-2],n[r-1],!0),i.stroke(),i.restore()}},onMouseUp:function(e){return!this.canvas._isMainEvent(e.e)||(this.oldEnd=void 0,this._finalizeAndAddPath(),!1)},_prepareForDrawing:function(e){var t=new g.Point(e.x,e.y);this._reset(),this._addPoint(t),this.canvas.contextTop.moveTo(t.x,t.y)},_addPoint:function(e){return!(this._points.length>1&&e.eq(this._points[this._points.length-1])||(this._points.push(e),0))},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(e){var t=new g.Point(e.x,e.y);return this._addPoint(t)},_render:function(){var e,t,n=this.canvas.contextTop,r=this._points[0],i=this._points[1];if(this._saveAndTransform(n),n.beginPath(),2===this._points.length&&r.x===i.x&&r.y===i.y){var a=this.width/1e3;r=new g.Point(r.x,r.y),i=new g.Point(i.x,i.y),r.x-=a,i.x+=a}for(n.moveTo(r.x,r.y),e=1,t=this._points.length;e<t;e++)this._drawSegment(n,r,i),r=this._points[e],i=this._points[e+1];n.lineTo(r.x,r.y),n.stroke(),n.restore()},convertPointsToSVGPath:function(e){var t,n=[],r=this.width/1e3,i=new g.Point(e[0].x,e[0].y),a=new g.Point(e[1].x,e[1].y),o=e.length,s=1,l=0,c=o>2;for(c&&(s=e[2].x<a.x?-1:e[2].x===a.x?0:1,l=e[2].y<a.y?-1:e[2].y===a.y?0:1),n.push("M ",i.x-s*r," ",i.y-l*r," "),t=1;t<o;t++){if(!i.eq(a)){var u=i.midPointFrom(a);n.push("Q ",i.x," ",i.y," ",u.x," ",u.y," ")}i=e[t],t+1<e.length&&(a=e[t+1])}return c&&(s=i.x>e[t-2].x?1:i.x===e[t-2].x?0:-1,l=i.y>e[t-2].y?1:i.y===e[t-2].y?0:-1),n.push("L ",i.x+s*r," ",i.y+l*r),n},createPath:function(e){var t=new g.Path(e,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,t.setShadow(this.shadow)),t},decimatePoints:function(e,t){if(e.length<=2)return e;var n,r=this.canvas.getZoom(),i=Math.pow(t/r,2),a=e.length-1,o=e[0],s=[o];for(n=1;n<a;n++)Math.pow(o.x-e[n].x,2)+Math.pow(o.y-e[n].y,2)>=i&&s.push(o=e[n]);return 1===s.length&&s.push(new g.Point(s[0].x,s[0].y)),s},_finalizeAndAddPath:function(){this.canvas.contextTop.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var e=this.convertPointsToSVGPath(this._points).join("");if("M 0 0 Q 0 0 0 0 L 0 0"!==e){var t=this.createPath(e);this.canvas.clearContext(this.canvas.contextTop),this.canvas.add(t),this.canvas.requestRenderAll(),t.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:t})}else this.canvas.requestRenderAll()}}),g.CircleBrush=g.util.createClass(g.BaseBrush,{width:10,initialize:function(e){this.canvas=e,this.points=[]},drawDot:function(e){var t=this.addPoint(e),n=this.canvas.contextTop;this._saveAndTransform(n),this.dot(n,t),n.restore()},dot:function(e,t){e.fillStyle=t.fill,e.beginPath(),e.arc(t.x,t.y,t.radius,0,2*Math.PI,!1),e.closePath(),e.fill()},onMouseDown:function(e){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(e)},_render:function(){var e,t,n=this.canvas.contextTop,r=this.points;for(this._saveAndTransform(n),e=0,t=r.length;e<t;e++)this.dot(n,r[e]);n.restore()},onMouseMove:function(e){this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(e),this._render()):this.drawDot(e)},onMouseUp:function(){var e,t,n=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;var r=[];for(e=0,t=this.points.length;e<t;e++){var i=this.points[e],a=new g.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&a.setShadow(this.shadow),r.push(a)}var o=new g.Group(r);o.canvas=this.canvas,this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=n,this.canvas.requestRenderAll()},addPoint:function(e){var t=new g.Point(e.x,e.y),n=g.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,r=new g.Color(this.color).setAlpha(g.util.getRandomInt(0,100)/100).toRgba();return t.radius=n,t.fill=r,this.points.push(t),t}}),g.SprayBrush=g.util.createClass(g.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(e){this.canvas=e,this.sprayChunks=[]},onMouseDown:function(e){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseMove:function(e){this.addSprayChunk(e),this.render(this.sprayChunkPoints)},onMouseUp:function(){var e=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var t=[],n=0,r=this.sprayChunks.length;n<r;n++)for(var i=this.sprayChunks[n],a=0,o=i.length;a<o;a++){var s=new g.Rect({width:i[a].width,height:i[a].width,left:i[a].x+1,top:i[a].y+1,originX:"center",originY:"center",fill:this.color});t.push(s)}this.optimizeOverlapping&&(t=this._getOptimizedRects(t));var l=new g.Group(t);this.shadow&&l.setShadow(this.shadow),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=e,this.canvas.requestRenderAll()},_getOptimizedRects:function(e){var t,n,r,i={};for(n=0,r=e.length;n<r;n++)i[t=e[n].left+""+e[n].top]||(i[t]=e[n]);var a=[];for(t in i)a.push(i[t]);return a},render:function(e){var t,n,r=this.canvas.contextTop;for(r.fillStyle=this.color,this._saveAndTransform(r),t=0,n=e.length;t<n;t++){var i=e[t];void 0!==i.opacity&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var e,t,n=this.canvas.contextTop;for(n.fillStyle=this.color,this._saveAndTransform(n),e=0,t=this.sprayChunks.length;e<t;e++)this.render(this.sprayChunks[e]);n.restore()},addSprayChunk:function(e){this.sprayChunkPoints=[];var t,n,r,i,a=this.width/2;for(i=0;i<this.density;i++){t=g.util.getRandomInt(e.x-a,e.x+a),n=g.util.getRandomInt(e.y-a,e.y+a),r=this.dotWidthVariance?g.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):this.dotWidth;var o=new g.Point(t,n);o.width=r,this.randomOpacity&&(o.opacity=g.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),g.PatternBrush=g.util.createClass(g.PencilBrush,{getPatternSrc:function(){var e=g.util.createCanvasElement(),t=e.getContext("2d");return e.width=e.height=25,t.fillStyle=this.color,t.beginPath(),t.arc(10,10,10,0,2*Math.PI,!1),t.closePath(),t.fill(),e},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(e){var t=this.callSuper("createPath",e),n=t._getLeftTopCoords().scalarAdd(t.strokeWidth/2);return t.stroke=new g.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-n.x,offsetY:-n.y}),t}}),function(){var e=g.util.getPointer,t=g.util.degreesToRadians,n=g.util.radiansToDegrees,r=Math.atan2,i=Math.abs,a=g.StaticCanvas.supports("setLineDash");for(var o in g.Canvas=g.util.createClass(g.StaticCanvas,{initialize:function(e,t){t||(t={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(e,t),this._initInteractive(),this._createCacheCanvas()},uniScaleTransform:!1,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=g.PencilBrush&&new g.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var e,t,n,r=this.getActiveObjects();if(r.length>0&&!this.preserveObjectStacking){t=[],n=[];for(var i=0,a=this._objects.length;i<a;i++)-1===r.indexOf(e=this._objects[i])?t.push(e):n.push(e);r.length>1&&(this._activeObject._objects=n),t.push.apply(t,n)}else t=this._objects;return t},renderAll:function(){return!this.contextTopDirty||this._groupSelector||this.isDrawingMode||(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop),this.renderCanvas(this.contextContainer,this._chooseObjectsToRender()),this},renderTopLayer:function(e){e.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(e),this.contextTopDirty=!0),e.restore()},renderTop:function(){var e=this.contextTop;return this.clearContext(e),this.renderTopLayer(e),this.fire("after:render"),this},_resetCurrentTransform:function(){var e=this._currentTransform;e.target.set({scaleX:e.original.scaleX,scaleY:e.original.scaleY,skewX:e.original.skewX,skewY:e.original.skewY,left:e.original.left,top:e.original.top}),this._shouldCenterTransform(e.target)?("center"!==e.originX&&(e.mouseXSign="right"===e.originX?-1:1),"center"!==e.originY&&(e.mouseYSign="bottom"===e.originY?-1:1),e.originX="center",e.originY="center"):(e.originX=e.original.originX,e.originY=e.original.originY)},containsPoint:function(e,t,n){var r,i=n||this.getPointer(e,!0);return r=t.group&&t.group===this._activeObject&&"activeSelection"===t.group.type?this._normalizePointer(t.group,i):{x:i.x,y:i.y},t.containsPoint(r)||t._findTargetCorner(i)},_normalizePointer:function(e,t){var n=e.calcTransformMatrix(),r=g.util.invertTransform(n),i=this.restorePointerVpt(t);return g.util.transformPoint(i,r)},isTargetTransparent:function(e,t,n){if(e.shouldCache()&&e._cacheCanvas&&e!==this._activeObject){var r=this._normalizePointer(e,{x:t,y:n}),i=Math.max(e.cacheTranslationX+r.x*e.zoomX,0),a=Math.max(e.cacheTranslationY+r.y*e.zoomY,0);return g.util.isTransparent(e._cacheContext,Math.round(i),Math.round(a),this.targetFindTolerance)}var o=this.contextCache,s=e.selectionBackgroundColor,l=this.viewportTransform;return e.selectionBackgroundColor="",this.clearContext(o),o.save(),o.transform(l[0],l[1],l[2],l[3],l[4],l[5]),e.render(o),o.restore(),e===this._activeObject&&e._renderControls(o,{hasBorders:!1,transparentCorners:!1},{hasBorders:!1}),e.selectionBackgroundColor=s,g.util.isTransparent(o,t,n,this.targetFindTolerance)},_isSelectionKeyPressed:function(e){return"[object Array]"===Object.prototype.toString.call(this.selectionKey)?!!this.selectionKey.find((function(t){return!0===e[t]})):e[this.selectionKey]},_shouldClearSelection:function(e,t){var n=this.getActiveObjects(),r=this._activeObject;return!t||t&&r&&n.length>1&&-1===n.indexOf(t)&&r!==t&&!this._isSelectionKeyPressed(e)||t&&!t.evented||t&&!t.selectable&&r&&r!==t},_shouldCenterTransform:function(e){if(e){var t,n=this._currentTransform;return"scale"===n.action||"scaleX"===n.action||"scaleY"===n.action?t=this.centeredScaling||e.centeredScaling:"rotate"===n.action&&(t=this.centeredRotation||e.centeredRotation),t?!n.altKey:n.altKey}},_getOriginFromCorner:function(e,t){var n={x:e.originX,y:e.originY};return"ml"===t||"tl"===t||"bl"===t?n.x="right":"mr"!==t&&"tr"!==t&&"br"!==t||(n.x="left"),"tl"===t||"mt"===t||"tr"===t?n.y="bottom":"bl"!==t&&"mb"!==t&&"br"!==t||(n.y="top"),n},_getActionFromCorner:function(e,t,n){if(!t||!e)return"drag";switch(t){case"mtr":return"rotate";case"ml":case"mr":return n[this.altActionKey]?"skewY":"scaleX";case"mt":case"mb":return n[this.altActionKey]?"skewX":"scaleY";default:return"scale"}},_setupCurrentTransform:function(e,n,r){if(n){var i=this.getPointer(e),a=n._findTargetCorner(this.getPointer(e,!0)),o=this._getActionFromCorner(r,a,e,n),s=this._getOriginFromCorner(n,a);this._currentTransform={target:n,action:o,corner:a,scaleX:n.scaleX,scaleY:n.scaleY,skewX:n.skewX,skewY:n.skewY,offsetX:i.x-n.left,offsetY:i.y-n.top,originX:s.x,originY:s.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:t(n.angle),width:n.width*n.scaleX,mouseXSign:1,mouseYSign:1,shiftKey:e.shiftKey,altKey:e[this.centeredKey],original:g.util.saveObjectTransform(n)},this._currentTransform.original.originX=s.x,this._currentTransform.original.originY=s.y,this._resetCurrentTransform(),this._beforeTransform(e)}},_translateObject:function(e,t){var n=this._currentTransform,r=n.target,i=e-n.offsetX,a=t-n.offsetY,o=!r.get("lockMovementX")&&r.left!==i,s=!r.get("lockMovementY")&&r.top!==a;return o&&r.set("left",i),s&&r.set("top",a),o||s},_changeSkewTransformOrigin:function(e,t,n){var r="originX",i={0:"center"},a=t.target.skewX,o="left",s="right",l="mt"===t.corner||"ml"===t.corner?1:-1,c=1;e=e>0?1:-1,"y"===n&&(a=t.target.skewY,o="top",s="bottom",r="originY"),i[-1]=o,i[1]=s,t.target.flipX&&(c*=-1),t.target.flipY&&(c*=-1),0===a?(t.skewSign=-l*e*c,t[r]=i[-e]):(t.skewSign=a=a>0?1:-1,t[r]=i[a*l*c])},_skewObject:function(e,t,n){var r,i=this._currentTransform,a=i.target,o=a.get("lockSkewingX"),s=a.get("lockSkewingY");if(o&&"x"===n||s&&"y"===n)return!1;var l,c,u=a.getCenterPoint(),h=a.toLocalPoint(new g.Point(e,t),"center","center")[n],d=a.toLocalPoint(new g.Point(i.lastX,i.lastY),"center","center")[n],p=a._getTransformedDimensions();return this._changeSkewTransformOrigin(h-d,i,n),l=a.toLocalPoint(new g.Point(e,t),i.originX,i.originY)[n],c=a.translateToOriginPoint(u,i.originX,i.originY),r=this._setObjectSkew(l,i,n,p),i.lastX=e,i.lastY=t,a.setPositionByOrigin(c,i.originX,i.originY),r},_setObjectSkew:function(e,t,n,r){var i,a,o,s,l,c,u,h,d,p,f=t.target,m=t.skewSign;return"x"===n?(l="y",c="Y",u="X",d=0,p=f.skewY):(l="x",c="X",u="Y",d=f.skewX,p=0),s=f._getTransformedDimensions(d,p),(h=2*Math.abs(e)-s[n])<=2?i=0:(i=m*Math.atan(h/f["scale"+u]/(s[l]/f["scale"+c])),i=g.util.radiansToDegrees(i)),a=f["skew"+u]!==i,f.set("skew"+u,i),0!==f["skew"+c]&&(o=f._getTransformedDimensions(),f.set("scale"+c,i=r[l]/o[l]*f["scale"+c])),a},_scaleObject:function(e,t,n){var r=this._currentTransform,i=r.target,a=i.lockScalingX,o=i.lockScalingY,s=i.lockScalingFlip;if(a&&o)return!1;var l,c=i.translateToOriginPoint(i.getCenterPoint(),r.originX,r.originY),u=i.toLocalPoint(new g.Point(e,t),r.originX,r.originY),h=i._getTransformedDimensions();return this._setLocalMouse(u,r),l=this._setObjectScale(u,r,a,o,n,s,h),i.setPositionByOrigin(c,r.originX,r.originY),l},_setObjectScale:function(e,t,n,r,i,a,o){var s=t.target,l=!1,c=!1,u=!1,h=e.x*s.scaleX/o.x,d=e.y*s.scaleY/o.y,p=s.scaleX!==h,f=s.scaleY!==d;if(t.newScaleX=h,t.newScaleY=d,g.Textbox&&"x"===i&&s instanceof g.Textbox){var m=s.width*(e.x/o.x);return m>=s.getMinWidth()&&(u=m!==s.width,s.set("width",m),u)}return a&&h<=0&&h<s.scaleX&&(l=!0,e.x=0),a&&d<=0&&d<s.scaleY&&(c=!0,e.y=0),"equally"!==i||n||r?i?"x"!==i||s.get("lockUniScaling")?"y"!==i||s.get("lockUniScaling")||c||r||s.set("scaleY",d)&&(u=f):l||n||s.set("scaleX",h)&&(u=p):(l||n||s.set("scaleX",h)&&(u=u||p),c||r||s.set("scaleY",d)&&(u=u||f)):u=this._scaleObjectEqually(e,s,t,o),l||c||this._flipObject(t,i),u},_scaleObjectEqually:function(e,t,n,r){var i,a,o,s=e.y+e.x,l=r.y*n.original.scaleY/t.scaleY+r.x*n.original.scaleX/t.scaleX,c=e.y<0?-1:1;return a=(e.x<0?-1:1)*Math.abs(n.original.scaleX*s/l),o=c*Math.abs(n.original.scaleY*s/l),i=a!==t.scaleX||o!==t.scaleY,t.set("scaleX",a),t.set("scaleY",o),i},_flipObject:function(e,t){e.newScaleX<0&&"y"!==t&&("left"===e.originX?e.originX="right":"right"===e.originX&&(e.originX="left")),e.newScaleY<0&&"x"!==t&&("top"===e.originY?e.originY="bottom":"bottom"===e.originY&&(e.originY="top"))},_setLocalMouse:function(e,t){var n=t.target,r=this.getZoom(),a=n.padding/r;"right"===t.originX?e.x*=-1:"center"===t.originX&&(e.x*=2*t.mouseXSign,e.x<0&&(t.mouseXSign=-t.mouseXSign)),"bottom"===t.originY?e.y*=-1:"center"===t.originY&&(e.y*=2*t.mouseYSign,e.y<0&&(t.mouseYSign=-t.mouseYSign)),i(e.x)>a?e.x<0?e.x+=a:e.x-=a:e.x=0,i(e.y)>a?e.y<0?e.y+=a:e.y-=a:e.y=0},_rotateObject:function(e,t){var i=this._currentTransform,a=i.target,o=a.translateToOriginPoint(a.getCenterPoint(),i.originX,i.originY);if(a.lockRotation)return!1;var s=r(i.ey-o.y,i.ex-o.x),l=r(t-o.y,e-o.x),c=n(l-s+i.theta),u=!0;if(a.snapAngle>0){var h=a.snapAngle,d=a.snapThreshold||h,p=Math.ceil(c/h)*h,f=Math.floor(c/h)*h;Math.abs(c-f)<d?c=f:Math.abs(c-p)<d&&(c=p)}return c<0&&(c=360+c),a.angle===(c%=360)?u=!1:(a.angle=c,a.setPositionByOrigin(o,i.originX,i.originY)),u},setCursor:function(e){this.upperCanvasEl.style.cursor=e},_drawSelection:function(e){var t=this._groupSelector,n=t.left,r=t.top,o=i(n),s=i(r);if(this.selectionColor&&(e.fillStyle=this.selectionColor,e.fillRect(t.ex-(n>0?0:-n),t.ey-(r>0?0:-r),o,s)),this.selectionLineWidth&&this.selectionBorderColor)if(e.lineWidth=this.selectionLineWidth,e.strokeStyle=this.selectionBorderColor,this.selectionDashArray.length>1&&!a){var l=t.ex+.5-(n>0?0:o),c=t.ey+.5-(r>0?0:s);e.beginPath(),g.util.drawDashedLine(e,l,c,l+o,c,this.selectionDashArray),g.util.drawDashedLine(e,l,c+s-1,l+o,c+s-1,this.selectionDashArray),g.util.drawDashedLine(e,l,c,l,c+s,this.selectionDashArray),g.util.drawDashedLine(e,l+o-1,c,l+o-1,c+s,this.selectionDashArray),e.closePath(),e.stroke()}else g.Object.prototype._setLineDash.call(this,e,this.selectionDashArray),e.strokeRect(t.ex+.5-(n>0?0:o),t.ey+.5-(r>0?0:s),o,s)},findTarget:function(e,t){if(!this.skipTargetFind){var n,r,i=this.getPointer(e,!0),a=this._activeObject,o=this.getActiveObjects();if(this.targets=[],o.length>1&&!t&&a===this._searchPossibleTargets([a],i))return a;if(1===o.length&&a._findTargetCorner(i))return a;if(1===o.length&&a===this._searchPossibleTargets([a],i)){if(!this.preserveObjectStacking)return a;n=a,r=this.targets,this.targets=[]}var s=this._searchPossibleTargets(this._objects,i);return e[this.altSelectionKey]&&s&&n&&s!==n&&(s=n,this.targets=r),s}},_checkTarget:function(e,t,n){if(t&&t.visible&&t.evented&&this.containsPoint(null,t,e)){if(!this.perPixelTargetFind&&!t.perPixelTargetFind||t.isEditing)return!0;if(!this.isTargetTransparent(t,n.x,n.y))return!0}},_searchPossibleTargets:function(e,t){for(var n,r,i=e.length;i--;){var a=e[i],o=a.group&&"activeSelection"!==a.group.type?this._normalizePointer(a.group,t):t;if(this._checkTarget(o,a,t)){(n=e[i]).subTargetCheck&&n instanceof g.Group&&(r=this._searchPossibleTargets(n._objects,t))&&this.targets.push(r);break}}return n},restorePointerVpt:function(e){return g.util.transformPoint(e,g.util.invertTransform(this.viewportTransform))},getPointer:function(t,n){if(this._absolutePointer&&!n)return this._absolutePointer;if(this._pointer&&n)return this._pointer;var r,i=e(t),a=this.upperCanvasEl,o=a.getBoundingClientRect(),s=o.width||0,l=o.height||0;s&&l||("top"in o&&"bottom"in o&&(l=Math.abs(o.top-o.bottom)),"right"in o&&"left"in o&&(s=Math.abs(o.right-o.left))),this.calcOffset(),i.x=i.x-this._offset.left,i.y=i.y-this._offset.top,n||(i=this.restorePointerVpt(i));var c=this.getRetinaScaling();return 1!==c&&(i.x/=c,i.y/=c),{x:i.x*(r=0===s||0===l?{width:1,height:1}:{width:a.width/s,height:a.height/l}).width,y:i.y*r.height}},_createUpperCanvas:function(){var e=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),t=this.lowerCanvasEl,n=this.upperCanvasEl;n?n.className="":(n=this._createCanvasElement(),this.upperCanvasEl=n),g.util.addClass(n,"upper-canvas "+e),this.wrapperEl.appendChild(n),this._copyCanvasStyle(t,n),this._applyCanvasStyle(n),this.contextTop=n.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=g.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),g.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),g.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(e){var t=this.width||e.width,n=this.height||e.height;g.util.setStyle(e,{position:"absolute",width:t+"px",height:n+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),e.width=t,e.height=n,g.util.makeElementUnselectable(e)},_copyCanvasStyle:function(e,t){t.style.cssText=e.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var e=this._activeObject;return e?"activeSelection"===e.type&&e._objects?e._objects.slice(0):[e]:[]},_onObjectRemoved:function(e){e===this._activeObject&&(this.fire("before:selection:cleared",{target:e}),this._discardActiveObject(),this.fire("selection:cleared",{target:e}),e.fire("deselected")),e===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",e)},_fireSelectionEvents:function(e,t){var n=!1,r=this.getActiveObjects(),i=[],a=[],o={e:t};e.forEach((function(e){-1===r.indexOf(e)&&(n=!0,e.fire("deselected",o),a.push(e))})),r.forEach((function(t){-1===e.indexOf(t)&&(n=!0,t.fire("selected",o),i.push(t))})),e.length>0&&r.length>0?(o.selected=i,o.deselected=a,o.updated=i[0]||a[0],o.target=this._activeObject,n&&this.fire("selection:updated",o)):r.length>0?(1===r.length&&(o.target=i[0],this.fire("object:selected",o)),o.selected=i,o.target=this._activeObject,this.fire("selection:created",o)):e.length>0&&(o.deselected=a,this.fire("selection:cleared",o))},setActiveObject:function(e,t){var n=this.getActiveObjects();return this._setActiveObject(e,t),this._fireSelectionEvents(n,t),this},_setActiveObject:function(e,t){return this._activeObject!==e&&!!this._discardActiveObject(t,e)&&!e.onSelect({e:t})&&(this._activeObject=e,!0)},_discardActiveObject:function(e,t){var n=this._activeObject;if(n){if(n.onDeselect({e:e,object:t}))return!1;this._activeObject=null}return!0},discardActiveObject:function(e){var t=this.getActiveObjects(),n=this.getActiveObject();return t.length&&this.fire("before:selection:cleared",{target:n,e:e}),this._discardActiveObject(e),this._fireSelectionEvents(t,e),this},dispose:function(){var e=this.wrapperEl;return this.removeListeners(),e.removeChild(this.upperCanvasEl),e.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(e){g.util.cleanUpJsdomNode(this[e]),this[e]=void 0}).bind(this)),e.parentNode&&e.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,g.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(e){var t=this._activeObject;t&&t._renderControls(e)},_toObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(e),i=this.callSuper("_toObject",e,t,n);return this._unwindGroupTransformOnObject(e,r),i},_realizeGroupTransformOnObject:function(e){if(e.group&&"activeSelection"===e.group.type&&this._activeObject===e.group){var t={};return["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"].forEach((function(n){t[n]=e[n]})),this._activeObject.realizeTransform(e),t}return null},_unwindGroupTransformOnObject:function(e,t){t&&e.set(t)},_setSVGObject:function(e,t,n){var r=this._realizeGroupTransformOnObject(t);this.callSuper("_setSVGObject",e,t,n),this._unwindGroupTransformOnObject(t,r)},setViewportTransform:function(e){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),g.StaticCanvas.prototype.setViewportTransform.call(this,e)}}),g.StaticCanvas)"prototype"!==o&&(g.Canvas[o]=g.StaticCanvas[o])}(),function(){var e={mt:0,tr:1,mr:2,br:3,mb:4,bl:5,ml:6,tl:7},t=g.util.addListener,n=g.util.removeListener,r={passive:!1};function i(e,t){return e.button&&e.button===t-1}g.util.object.extend(g.Canvas.prototype,{cursorMap:["n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize","nw-resize"],mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(t,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(e,t){var n=this.upperCanvasEl,i=this._getEventPrefix();e(g.window,"resize",this._onResize),e(n,i+"down",this._onMouseDown),e(n,i+"move",this._onMouseMove,r),e(n,i+"out",this._onMouseOut),e(n,i+"enter",this._onMouseEnter),e(n,"wheel",this._onMouseWheel),e(n,"contextmenu",this._onContextMenu),e(n,"dblclick",this._onDoubleClick),e(n,"dragover",this._onDragOver),e(n,"dragenter",this._onDragEnter),e(n,"dragleave",this._onDragLeave),e(n,"drop",this._onDrop),this.enablePointerEvents||e(n,"touchstart",this._onTouchStart,r),"undefined"!=typeof eventjs&&t in eventjs&&(eventjs[t](n,"gesture",this._onGesture),eventjs[t](n,"drag",this._onDrag),eventjs[t](n,"orientation",this._onOrientationChange),eventjs[t](n,"shake",this._onShake),eventjs[t](n,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(n,"remove");var e=this._getEventPrefix();n(g.document,e+"up",this._onMouseUp),n(g.document,"touchend",this._onTouchEnd,r),n(g.document,e+"move",this._onMouseMove,r),n(g.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(e,t){this.__onTransformGesture&&this.__onTransformGesture(e,t)},_onDrag:function(e,t){this.__onDrag&&this.__onDrag(e,t)},_onMouseWheel:function(e){this.__onMouseWheel(e)},_onMouseOut:function(e){var t=this._hoveredTarget;this.fire("mouse:out",{target:t,e:e}),this._hoveredTarget=null,t&&t.fire("mouseout",{e:e});var n=this;this._hoveredTargets.forEach((function(r){n.fire("mouse:out",{target:t,e:e}),r&&t.fire("mouseout",{e:e})})),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach((function(e){e.isEditing&&e.hiddenTextarea.focus()}))},_onMouseEnter:function(e){this.currentTransform||this.findTarget(e)||(this.fire("mouse:over",{target:null,e:e}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(e,t){this.__onOrientationChange&&this.__onOrientationChange(e,t)},_onShake:function(e,t){this.__onShake&&this.__onShake(e,t)},_onLongPress:function(e,t){this.__onLongPress&&this.__onLongPress(e,t)},_onDragOver:function(e){e.preventDefault();var t=this._simpleEventHandler("dragover",e);this._fireEnterLeaveEvents(t,e)},_onContextMenu:function(e){return this.stopContextMenu&&(e.stopPropagation(),e.preventDefault()),!1},_onDoubleClick:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"dblclick"),this._resetTransformEventData(e)},getPointerId:function(e){var t=e.changedTouches;return t?t[0]&&t[0].identifier:this.enablePointerEvents?e.pointerId:-1},_isMainEvent:function(e){return!0===e.isPrimary||!1!==e.isPrimary&&("touchend"===e.type&&0===e.touches.length||!e.changedTouches||e.changedTouches[0].identifier===this.mainTouchId)},_onTouchStart:function(e){e.preventDefault(),null===this.mainTouchId&&(this.mainTouchId=this.getPointerId(e)),this.__onMouseDown(e),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();t(g.document,"touchend",this._onTouchEnd,r),t(g.document,"touchmove",this._onMouseMove,r),n(i,a+"down",this._onMouseDown)},_onMouseDown:function(e){this.__onMouseDown(e),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();n(i,a+"move",this._onMouseMove,r),t(g.document,a+"up",this._onMouseUp),t(g.document,a+"move",this._onMouseMove,r)},_onTouchEnd:function(e){if(!(e.touches.length>0)){this.__onMouseUp(e),this._resetTransformEventData(),this.mainTouchId=null;var i=this._getEventPrefix();n(g.document,"touchend",this._onTouchEnd,r),n(g.document,"touchmove",this._onMouseMove,r);var a=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout((function(){t(a.upperCanvasEl,i+"down",a._onMouseDown),a._willAddMouseDown=0}),400)}},_onMouseUp:function(e){this.__onMouseUp(e),this._resetTransformEventData();var i=this.upperCanvasEl,a=this._getEventPrefix();this._isMainEvent(e)&&(n(g.document,a+"up",this._onMouseUp),n(g.document,a+"move",this._onMouseMove,r),t(i,a+"move",this._onMouseMove,r))},_onMouseMove:function(e){!this.allowTouchScrolling&&e.preventDefault&&e.preventDefault(),this.__onMouseMove(e)},_onResize:function(){this.calcOffset()},_shouldRender:function(e){var t=this._activeObject;return!!(!!t!=!!e||t&&e&&t!==e)},__onMouseUp:function(e){var t,n=this._currentTransform,r=this._groupSelector,a=!1,o=!r||0===r.left&&0===r.top;if(this._cacheTransformEventData(e),t=this._target,this._handleEvent(e,"up:before"),!i(e,3))return i(e,2)?(this.fireMiddleClick&&this._handleEvent(e,"up",2,o),void this._resetTransformEventData()):void(this.isDrawingMode&&this._isCurrentlyDrawing?this._onMouseUpInDrawingMode(e):this._isMainEvent(e)&&(n&&(this._finalizeCurrentTransform(e),a=n.actionPerformed),o||(this._maybeGroupObjects(e),a||(a=this._shouldRender(t))),t&&(t.isMoving=!1),this._setCursorFromEvent(e,t),this._handleEvent(e,"up",1,o),this._groupSelector=null,this._currentTransform=null,t&&(t.__corner=0),a?this.requestRenderAll():o||this.renderTop()));this.fireRightClick&&this._handleEvent(e,"up",3,o)},_simpleEventHandler:function(e,t){var n=this.findTarget(t),r=this.targets,i={e:t,target:n,subTargets:r};if(this.fire(e,i),n&&n.fire(e,i),!r)return n;for(var a=0;a<r.length;a++)r[a].fire(e,i);return n},_handleEvent:function(e,t,n,r){var i=this._target,a=this.targets||[],o={e:e,target:i,subTargets:a,button:n||1,isClick:r||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};this.fire("mouse:"+t,o),i&&i.fire("mouse"+t,o);for(var s=0;s<a.length;s++)a[s].fire("mouse"+t,o)},_finalizeCurrentTransform:function(e){var t,n=this._currentTransform,r=n.target,i={e:e,target:r,transform:n};r._scaling&&(r._scaling=!1),r.setCoords(),(n.actionPerformed||this.stateful&&r.hasStateChanged())&&(n.actionPerformed&&(t=this._addEventOptions(i,n),this._fire(t,i)),this._fire("modified",i))},_addEventOptions:function(e,t){var n,r;switch(t.action){case"scaleX":n="scaled",r="x";break;case"scaleY":n="scaled",r="y";break;case"skewX":n="skewed",r="x";break;case"skewY":n="skewed",r="y";break;case"scale":n="scaled",r="equally";break;case"rotate":n="rotated";break;case"drag":n="moved"}return e.by=r,n},_onMouseDownInDrawingMode:function(e){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(e).requestRenderAll(),this.clipTo&&g.util.clipContext(this,this.contextTop);var t=this.getPointer(e);this.freeDrawingBrush.onMouseDown(t,{e:e,pointer:t}),this._handleEvent(e,"down")},_onMouseMoveInDrawingMode:function(e){if(this._isCurrentlyDrawing){var t=this.getPointer(e);this.freeDrawingBrush.onMouseMove(t,{e:e,pointer:t})}this.setCursor(this.freeDrawingCursor),this._handleEvent(e,"move")},_onMouseUpInDrawingMode:function(e){this.clipTo&&this.contextTop.restore();var t=this.getPointer(e);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:e,pointer:t}),this._handleEvent(e,"up")},__onMouseDown:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"down:before");var t=this._target;if(i(e,3))this.fireRightClick&&this._handleEvent(e,"down",3);else if(i(e,2))this.fireMiddleClick&&this._handleEvent(e,"down",2);else if(this.isDrawingMode)this._onMouseDownInDrawingMode(e);else if(this._isMainEvent(e)&&!this._currentTransform){var n=this._pointer;this._previousPointer=n;var r=this._shouldRender(t),a=this._shouldGroup(e,t);if(this._shouldClearSelection(e,t)?this.discardActiveObject(e):a&&(this._handleGrouping(e,t),t=this._activeObject),!this.selection||t&&(t.selectable||t.isEditing||t===this._activeObject)||(this._groupSelector={ex:n.x,ey:n.y,top:0,left:0}),t){var o=t===this._activeObject;t.selectable&&this.setActiveObject(t,e),t!==this._activeObject||!t.__corner&&a||this._setupCurrentTransform(e,t,o)}this._handleEvent(e,"down"),(r||a)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(e){this._resetTransformEventData(),this._pointer=this.getPointer(e,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(e)||null},_beforeTransform:function(e){var t=this._currentTransform;this.stateful&&t.target.saveState(),this.fire("before:transform",{e:e,transform:t}),t.corner&&this.onBeforeScaleRotate(t.target)},__onMouseMove:function(e){var t,n;if(this._handleEvent(e,"move:before"),this._cacheTransformEventData(e),this.isDrawingMode)this._onMouseMoveInDrawingMode(e);else if(this._isMainEvent(e)){var r=this._groupSelector;r?(r.left=(n=this._pointer).x-r.ex,r.top=n.y-r.ey,this.renderTop()):this._currentTransform?this._transformObject(e):(t=this.findTarget(e)||null,this._setCursorFromEvent(e,t),this._fireOverOutEvents(t,e)),this._handleEvent(e,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(e,t){var n=this._hoveredTarget,r=this._hoveredTargets,i=this.targets,a=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents(i[o],t,{oldTarget:r[o],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=e,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(e,t){var n=this._draggedoverTarget,r=this._hoveredTargets,i=this.targets,a=Math.max(r.length,i.length);this.fireSyntheticInOutEvents(e,t,{oldTarget:n,evtOut:"dragleave",evtIn:"dragenter"});for(var o=0;o<a;o++)this.fireSyntheticInOutEvents(i[o],t,{oldTarget:r[o],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=e},fireSyntheticInOutEvents:function(e,t,n){var r,i,a,o=n.oldTarget,s=o!==e,l=n.canvasEvtIn,c=n.canvasEvtOut;s&&(r={e:t,target:e,previousTarget:o},i={e:t,target:o,nextTarget:e}),a=e&&s,o&&s&&(c&&this.fire(c,i),o.fire(n.evtOut,i)),a&&(l&&this.fire(l,r),e.fire(n.evtIn,r))},__onMouseWheel:function(e){this._cacheTransformEventData(e),this._handleEvent(e,"wheel"),this._resetTransformEventData()},_transformObject:function(e){var t=this.getPointer(e),n=this._currentTransform;n.reset=!1,n.target.isMoving=!0,n.shiftKey=e.shiftKey,n.altKey=e[this.centeredKey],this._beforeScaleTransform(e,n),this._performTransformAction(e,n,t),n.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(e,t,n){var r=n.x,i=n.y,a=t.action,o=!1,s={target:t.target,e:e,transform:t,pointer:n};"rotate"===a?(o=this._rotateObject(r,i))&&this._fire("rotating",s):"scale"===a?(o=this._onScale(e,t,r,i))&&this._fire("scaling",s):"scaleX"===a?(o=this._scaleObject(r,i,"x"))&&this._fire("scaling",s):"scaleY"===a?(o=this._scaleObject(r,i,"y"))&&this._fire("scaling",s):"skewX"===a?(o=this._skewObject(r,i,"x"))&&this._fire("skewing",s):"skewY"===a?(o=this._skewObject(r,i,"y"))&&this._fire("skewing",s):(o=this._translateObject(r,i))&&(this._fire("moving",s),this.setCursor(s.target.moveCursor||this.moveCursor)),t.actionPerformed=t.actionPerformed||o},_fire:function(e,t){this.fire("object:"+e,t),t.target.fire(e,t)},_beforeScaleTransform:function(e,t){if("scale"===t.action||"scaleX"===t.action||"scaleY"===t.action){var n=this._shouldCenterTransform(t.target);(n&&("center"!==t.originX||"center"!==t.originY)||!n&&"center"===t.originX&&"center"===t.originY)&&(this._resetCurrentTransform(),t.reset=!0)}},_onScale:function(e,t,n,r){return this._isUniscalePossible(e,t.target)?(t.currentAction="scale",this._scaleObject(n,r)):(t.reset||"scale"!==t.currentAction||this._resetCurrentTransform(),t.currentAction="scaleEqually",this._scaleObject(n,r,"equally"))},_isUniscalePossible:function(e,t){return(e[this.uniScaleKey]||this.uniScaleTransform)&&!t.get("lockUniScaling")},_setCursorFromEvent:function(e,t){if(!t)return this.setCursor(this.defaultCursor),!1;var n=t.hoverCursor||this.hoverCursor,r=this._activeObject&&"activeSelection"===this._activeObject.type?this._activeObject:null,i=(!r||!r.contains(t))&&t._findTargetCorner(this.getPointer(e,!0));i?this.setCursor(this.getCornerCursor(i,t,e)):(t.subTargetCheck&&this.targets.concat().reverse().map((function(e){n=e.hoverCursor||n})),this.setCursor(n))},getCornerCursor:function(t,n,r){return this.actionIsDisabled(t,n,r)?this.notAllowedCursor:t in e?this._getRotatedCornerCursor(t,n,r):"mtr"===t&&n.hasRotatingPoint?this.rotationCursor:this.defaultCursor},actionIsDisabled:function(e,t,n){return"mt"===e||"mb"===e?n[this.altActionKey]?t.lockSkewingX:t.lockScalingY:"ml"===e||"mr"===e?n[this.altActionKey]?t.lockSkewingY:t.lockScalingX:"mtr"===e?t.lockRotation:this._isUniscalePossible(n,t)?t.lockScalingX&&t.lockScalingY:t.lockScalingX||t.lockScalingY},_getRotatedCornerCursor:function(t,n,r){var i=Math.round(n.angle%360/45);return i<0&&(i+=8),i+=e[t],r[this.altActionKey]&&e[t]%2==0&&(i+=2),this.cursorMap[i%=8]}})}(),l=Math.min,c=Math.max,g.util.object.extend(g.Canvas.prototype,{_shouldGroup:function(e,t){var n=this._activeObject;return n&&this._isSelectionKeyPressed(e)&&t&&t.selectable&&this.selection&&(n!==t||"activeSelection"===n.type)&&!t.onSelect({e:e})},_handleGrouping:function(e,t){var n=this._activeObject;n.__corner||(t!==n||(t=this.findTarget(e,!0))&&t.selectable)&&(n&&"activeSelection"===n.type?this._updateActiveSelection(t,e):this._createActiveSelection(t,e))},_updateActiveSelection:function(e,t){var n=this._activeObject,r=n._objects.slice(0);n.contains(e)?(n.removeWithUpdate(e),this._hoveredTarget=e,this._hoveredTargets=this.targets.concat(),1===n.size()&&this._setActiveObject(n.item(0),t)):(n.addWithUpdate(e),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(r,t)},_createActiveSelection:function(e,t){var n=this.getActiveObjects(),r=this._createGroup(e);this._hoveredTarget=r,this._setActiveObject(r,t),this._fireSelectionEvents(n,t)},_createGroup:function(e){var t=this._objects,n=t.indexOf(this._activeObject)<t.indexOf(e)?[this._activeObject,e]:[e,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new g.ActiveSelection(n,{canvas:this})},_groupSelectedObjects:function(e){var t,n=this._collectObjects(e);1===n.length?this.setActiveObject(n[0],e):n.length>1&&(t=new g.ActiveSelection(n.reverse(),{canvas:this}),this.setActiveObject(t,e))},_collectObjects:function(e){for(var t,n=[],r=this._groupSelector.ex,i=this._groupSelector.ey,a=r+this._groupSelector.left,o=i+this._groupSelector.top,s=new g.Point(l(r,a),l(i,o)),u=new g.Point(c(r,a),c(i,o)),h=!this.selectionFullyContained,d=r===a&&i===o,p=this._objects.length;p--&&!((t=this._objects[p])&&t.selectable&&t.visible&&(h&&t.intersectsWithRect(s,u)||t.isContainedWithinRect(s,u)||h&&t.containsPoint(s)||h&&t.containsPoint(u))&&(n.push(t),d)););return n.length>1&&(n=n.filter((function(t){return!t.onSelect({e:e})}))),n},_maybeGroupObjects:function(e){this.selection&&this._groupSelector&&this._groupSelectedObjects(e),this.setCursor(this.defaultCursor),this._groupSelector=null}}),g.util.object.extend(g.StaticCanvas.prototype,{toDataURL:function(e){e||(e={});var t=e.format||"png",n=e.quality||1,r=(e.multiplier||1)*(e.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(r,e);return g.util.toDataURL(i,t,n)},toCanvasElement:function(e,t){var n=((t=t||{}).width||this.width)*(e=e||1),r=(t.height||this.height)*e,i=this.getZoom(),a=this.width,o=this.height,s=i*e,l=this.viewportTransform,c=this.interactive,u=[s,0,0,s,(l[4]-(t.left||0))*e,(l[5]-(t.top||0))*e],h=this.enableRetinaScaling,d=g.util.createCanvasElement(),p=this.contextTop;return d.width=n,d.height=r,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=u,this.width=n,this.height=r,this.calcViewportBoundaries(),this.renderCanvas(d.getContext("2d"),this._objects),this.viewportTransform=l,this.width=a,this.height=o,this.calcViewportBoundaries(),this.interactive=c,this.enableRetinaScaling=h,this.contextTop=p,d}}),g.util.object.extend(g.StaticCanvas.prototype,{loadFromDatalessJSON:function(e,t,n){return this.loadFromJSON(e,t,n)},loadFromJSON:function(e,t,n){if(e){var r="string"==typeof e?JSON.parse(e):g.util.object.clone(e),i=this,a=r.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete r.clipPath,this._enlivenObjects(r.objects,(function(e){i.clear(),i._setBgOverlay(r,(function(){a?i._enlivenObjects([a],(function(n){i.clipPath=n[0],i.__setupCanvas.call(i,r,e,o,t)})):i.__setupCanvas.call(i,r,e,o,t)}))}),n),this}},__setupCanvas:function(e,t,n,r){var i=this;t.forEach((function(e,t){i.insertAt(e,t)})),this.renderOnAddRemove=n,delete e.objects,delete e.backgroundImage,delete e.overlayImage,delete e.background,delete e.overlay,this._setOptions(e),this.renderAll(),r&&r()},_setBgOverlay:function(e,t){var n={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(e.backgroundImage||e.overlayImage||e.background||e.overlay){var r=function(){n.backgroundImage&&n.overlayImage&&n.backgroundColor&&n.overlayColor&&t&&t()};this.__setBgOverlay("backgroundImage",e.backgroundImage,n,r),this.__setBgOverlay("overlayImage",e.overlayImage,n,r),this.__setBgOverlay("backgroundColor",e.background,n,r),this.__setBgOverlay("overlayColor",e.overlay,n,r)}else t&&t()},__setBgOverlay:function(e,t,n,r){var i=this;if(!t)return n[e]=!0,void(r&&r());"backgroundImage"===e||"overlayImage"===e?g.util.enlivenObjects([t],(function(t){i[e]=t[0],n[e]=!0,r&&r()})):this["set"+g.util.string.capitalize(e,!0)](t,(function(){n[e]=!0,r&&r()}))},_enlivenObjects:function(e,t,n){e&&0!==e.length?g.util.enlivenObjects(e,(function(e){t&&t(e)}),null,n):t&&t([])},_toDataURL:function(e,t){this.clone((function(n){t(n.toDataURL(e))}))},_toDataURLWithMultiplier:function(e,t,n){this.clone((function(r){n(r.toDataURLWithMultiplier(e,t))}))},clone:function(e,t){var n=JSON.stringify(this.toJSON(t));this.cloneWithoutData((function(t){t.loadFromJSON(n,(function(){e&&e(t)}))}))},cloneWithoutData:function(e){var t=g.util.createCanvasElement();t.width=this.width,t.height=this.height;var n=new g.Canvas(t);n.clipTo=this.clipTo,this.backgroundImage?(n.setBackgroundImage(this.backgroundImage.src,(function(){n.renderAll(),e&&e(n)})),n.backgroundImageOpacity=this.backgroundImageOpacity,n.backgroundImageStretch=this.backgroundImageStretch):e&&e(n)}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i=t.util.toFixed,a=t.util.string.capitalize,o=t.util.degreesToRadians,s=t.StaticCanvas.supports("setLineDash");t.Object||(t.Object=t.util.createClass(t.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgba(102,153,255,0.75)",borderDashArray:null,cornerColor:"rgba(102,153,255,0.5)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,transformMatrix:null,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,hasRotatingPoint:!0,rotatingPointOffset:40,perPixelTargetFind:!1,includeDefaultValues:!0,clipTo:null,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockUniScaling:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:!t.isLikelyNode,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow clipTo visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(e){e&&this.setOptions(e)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=t.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(e){var n=t.perfLimitSizeTotal,r=e.width,i=e.height,a=t.maxCacheSideLimit,o=t.minCacheSideLimit;if(r<=a&&i<=a&&r*i<=n)return r<o&&(e.width=o),i<o&&(e.height=o),e;var s=t.util.limitDimsByArea(r/i,n),l=t.util.capValue,c=l(o,s.x,a),u=l(o,s.y,a);return r>c&&(e.zoomX/=r/c,e.width=c,e.capped=!0),i>u&&(e.zoomY/=i/u,e.height=u,e.capped=!0),e},_getCacheCanvasDimensions:function(){var e=this.getTotalObjectScaling(),t=this._getTransformedDimensions(0,0),n=t.x*e.scaleX/this.scaleX,r=t.y*e.scaleY/this.scaleY;return{width:n+2,height:r+2,zoomX:e.scaleX,zoomY:e.scaleY,x:n,y:r}},_updateCacheCanvas:function(){var e=this.canvas;if(this.noScaleCache&&e&&e._currentTransform){var n=e._currentTransform.action;if(this===e._currentTransform.target&&n.slice&&"scale"===n.slice(0,5))return!1}var r,i,a=this._cacheCanvas,o=this._limitCacheSize(this._getCacheCanvasDimensions()),s=t.minCacheSideLimit,l=o.width,c=o.height,u=o.zoomX,h=o.zoomY,d=l!==this.cacheWidth||c!==this.cacheHeight,p=0,f=0,m=!1;if(d){var g=this._cacheCanvas.width,v=this._cacheCanvas.height,_=l>g||c>v;m=_||(l<.9*g||c<.9*v)&&g>s&&v>s,_&&!o.capped&&(l>s||c>s)&&(p=.1*l,f=.1*c)}return!(!d&&this.zoomX===u&&this.zoomY===h||(m?(a.width=Math.ceil(l+p),a.height=Math.ceil(c+f)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,a.width,a.height)),r=o.x/2,i=o.y/2,this.cacheTranslationX=Math.round(a.width/2-r)+r,this.cacheTranslationY=Math.round(a.height/2-i)+i,this.cacheWidth=l,this.cacheHeight=c,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(u,h),this.zoomX=u,this.zoomY=h,0))},setOptions:function(e){this._setOptions(e),this._initGradient(e.fill,"fill"),this._initGradient(e.stroke,"stroke"),this._initClipping(e),this._initPattern(e.fill,"fill"),this._initPattern(e.stroke,"stroke")},transform:function(e){var t;t=this.group&&!this.group._transformDone?this.calcTransformMatrix():this.calcOwnMatrix(),e.transform(t[0],t[1],t[2],t[3],t[4],t[5])},toObject:function(e){var n=t.Object.NUM_FRACTION_DIGITS,r={type:this.type,version:t.version,originX:this.originX,originY:this.originY,left:i(this.left,n),top:i(this.top,n),width:i(this.width,n),height:i(this.height,n),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,n),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeMiterLimit:i(this.strokeMiterLimit,n),scaleX:i(this.scaleX,n),scaleY:i(this.scaleY,n),angle:i(this.angle,n),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,n),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,clipTo:this.clipTo&&String(this.clipTo),backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,transformMatrix:this.transformMatrix?this.transformMatrix.concat():null,skewX:i(this.skewX,n),skewY:i(this.skewY,n)};return this.clipPath&&(r.clipPath=this.clipPath.toObject(e),r.clipPath.inverted=this.clipPath.inverted,r.clipPath.absolutePositioned=this.clipPath.absolutePositioned),t.util.populateWithProperties(this,r,e),this.includeDefaultValues||(r=this._removeDefaultValues(r)),r},toDatalessObject:function(e){return this.toObject(e)},_removeDefaultValues:function(e){var n=t.util.getKlass(e.type).prototype;return n.stateProperties.forEach((function(t){"left"!==t&&"top"!==t&&(e[t]===n[t]&&delete e[t],"[object Array]"===Object.prototype.toString.call(e[t])&&"[object Array]"===Object.prototype.toString.call(n[t])&&0===e[t].length&&0===n[t].length&&delete e[t])})),e},toString:function(){return"#<fabric."+a(this.type)+">"},getObjectScaling:function(){var e=this.scaleX,t=this.scaleY;if(this.group){var n=this.group.getObjectScaling();e*=n.scaleX,t*=n.scaleY}return{scaleX:e,scaleY:t}},getTotalObjectScaling:function(){var e=this.getObjectScaling(),t=e.scaleX,n=e.scaleY;if(this.canvas){var r=this.canvas.getZoom(),i=this.canvas.getRetinaScaling();t*=r*i,n*=r*i}return{scaleX:t,scaleY:n}},getObjectOpacity:function(){var e=this.opacity;return this.group&&(e*=this.group.getObjectOpacity()),e},_set:function(e,n){var r=this[e]!==n,i=!1;return("scaleX"===e||"scaleY"===e)&&(n=this._constrainScale(n)),"scaleX"===e&&n<0?(this.flipX=!this.flipX,n*=-1):"scaleY"===e&&n<0?(this.flipY=!this.flipY,n*=-1):"shadow"!==e||!n||n instanceof t.Shadow?"dirty"===e&&this.group&&this.group.set("dirty",n):n=new t.Shadow(n),this[e]=n,r&&(i=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(e)>-1?(this.dirty=!0,i&&this.group.set("dirty",!0)):i&&this.stateProperties.indexOf(e)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:t.iMatrix.concat()},isNotVisible:function(){return 0===this.opacity||0===this.width&&0===this.height&&0===this.strokeWidth||!this.visible},render:function(e){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(e.save(),this._setupCompositeOperation(e),this.drawSelectionBackground(e),this.transform(e),this._setOpacity(e),this._setShadow(e,this),this.transformMatrix&&e.transform.apply(e,this.transformMatrix),this.clipTo&&t.util.clipContext(this,e),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(e)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(e),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),this.clipTo&&e.restore(),e.restore())},renderCache:function(e){e=e||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,e.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&"transparent"!==this.stroke&&0!==this.strokeWidth},hasFill:function(){return this.fill&&"transparent"!==this.fill},needsItsOwnCache:function(){return!("stroke"!==this.paintFirst||!this.hasFill()||!this.hasStroke()||"object"!=typeof this.shadow)||!!this.clipPath},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(0!==this.shadow.offsetX||0!==this.shadow.offsetY)},drawClipPathOnCache:function(e){var n=this.clipPath;if(e.save(),e.globalCompositeOperation=n.inverted?"destination-out":"destination-in",n.absolutePositioned){var r=t.util.invertTransform(this.calcTransformMatrix());e.transform(r[0],r[1],r[2],r[3],r[4],r[5])}n.transform(e),e.scale(1/n.zoomX,1/n.zoomY),e.drawImage(n._cacheCanvas,-n.cacheTranslationX,-n.cacheTranslationY),e.restore()},drawObject:function(e,t){var n=this.fill,r=this.stroke;t?(this.fill="black",this.stroke="",this._setClippingProperties(e)):(this._renderBackground(e),this._setStrokeStyles(e,this),this._setFillStyles(e,this)),this._render(e),this._drawClipPath(e),this.fill=n,this.stroke=r},_drawClipPath:function(e){var t=this.clipPath;t&&(t.canvas=this.canvas,t.shouldCache(),t._transformDone=!0,t.renderCache({forClipping:!0}),this.drawClipPathOnCache(e))},drawCacheOnCanvas:function(e){e.scale(1/this.zoomX,1/this.zoomY),e.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(e){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!e&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!e){var t=this.cacheWidth/this.zoomX,n=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-t/2,-n/2,t,n)}return!0}return!1},_renderBackground:function(e){if(this.backgroundColor){var t=this._getNonTransformedDimensions();e.fillStyle=this.backgroundColor,e.fillRect(-t.x/2,-t.y/2,t.x,t.y),this._removeShadow(e)}},_setOpacity:function(e){this.group&&!this.group._transformDone?e.globalAlpha=this.getObjectOpacity():e.globalAlpha*=this.opacity},_setStrokeStyles:function(e,t){t.stroke&&(e.lineWidth=t.strokeWidth,e.lineCap=t.strokeLineCap,e.lineDashOffset=t.strokeDashOffset,e.lineJoin=t.strokeLineJoin,e.miterLimit=t.strokeMiterLimit,e.strokeStyle=t.stroke.toLive?t.stroke.toLive(e,this):t.stroke)},_setFillStyles:function(e,t){t.fill&&(e.fillStyle=t.fill.toLive?t.fill.toLive(e,this):t.fill)},_setClippingProperties:function(e){e.globalAlpha=1,e.strokeStyle="transparent",e.fillStyle="#000000"},_setLineDash:function(e,t,n){t&&0!==t.length&&(1&t.length&&t.push.apply(t,t),s?e.setLineDash(t):n&&n(e))},_renderControls:function(e,n){var r,i,a,s=this.getViewportTransform(),l=this.calcTransformMatrix();i=void 0!==(n=n||{}).hasBorders?n.hasBorders:this.hasBorders,a=void 0!==n.hasControls?n.hasControls:this.hasControls,l=t.util.multiplyTransformMatrices(s,l),r=t.util.qrDecompose(l),e.save(),e.translate(r.translateX,r.translateY),e.lineWidth=1*this.borderScaleFactor,this.group||(e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),n.forActiveSelection?(e.rotate(o(r.angle)),i&&this.drawBordersInGroup(e,r,n)):(e.rotate(o(this.angle)),i&&this.drawBorders(e,n)),a&&this.drawControls(e,n),e.restore()},_setShadow:function(e){if(this.shadow){var n,r=this.shadow,i=this.canvas,a=i&&i.viewportTransform[0]||1,o=i&&i.viewportTransform[3]||1;n=r.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),i&&i._isRetinaScaling()&&(a*=t.devicePixelRatio,o*=t.devicePixelRatio),e.shadowColor=r.color,e.shadowBlur=r.blur*t.browserShadowBlurConstant*(a+o)*(n.scaleX+n.scaleY)/4,e.shadowOffsetX=r.offsetX*a*n.scaleX,e.shadowOffsetY=r.offsetY*o*n.scaleY}},_removeShadow:function(e){this.shadow&&(e.shadowColor="",e.shadowBlur=e.shadowOffsetX=e.shadowOffsetY=0)},_applyPatternGradientTransform:function(e,t){if(!t||!t.toLive)return{offsetX:0,offsetY:0};var n=t.gradientTransform||t.patternTransform,r=-this.width/2+t.offsetX||0,i=-this.height/2+t.offsetY||0;return"percentage"===t.gradientUnits?e.transform(this.width,0,0,this.height,r,i):e.transform(1,0,0,1,r,i),n&&e.transform(n[0],n[1],n[2],n[3],n[4],n[5]),{offsetX:r,offsetY:i}},_renderPaintInOrder:function(e){"stroke"===this.paintFirst?(this._renderStroke(e),this._renderFill(e)):(this._renderFill(e),this._renderStroke(e))},_render:function(){},_renderFill:function(e){this.fill&&(e.save(),this._applyPatternGradientTransform(e,this.fill),"evenodd"===this.fillRule?e.fill("evenodd"):e.fill(),e.restore())},_renderStroke:function(e){this.stroke&&0!==this.strokeWidth&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this.strokeUniform&&e.scale(1/this.scaleX,1/this.scaleY),this._setLineDash(e,this.strokeDashArray,this._renderDashedStroke),this.stroke.toLive&&"percentage"===this.stroke.gradientUnits?this._applyPatternForTransformedGradient(e,this.stroke):this._applyPatternGradientTransform(e,this.stroke),e.stroke(),e.restore())},_applyPatternForTransformedGradient:function(e,n){var r,i=this._limitCacheSize(this._getCacheCanvasDimensions()),a=t.util.createCanvasElement(),o=this.canvas.getRetinaScaling(),s=i.x/this.scaleX/o,l=i.y/this.scaleY/o;a.width=s,a.height=l,(r=a.getContext("2d")).beginPath(),r.moveTo(0,0),r.lineTo(s,0),r.lineTo(s,l),r.lineTo(0,l),r.closePath(),r.translate(s/2,l/2),r.scale(i.zoomX/this.scaleX/o,i.zoomY/this.scaleY/o),this._applyPatternGradientTransform(r,n),r.fillStyle=n.toLive(e),r.fill(),e.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),e.scale(o*this.scaleX/i.zoomX,o*this.scaleY/i.zoomY),e.strokeStyle=r.createPattern(a,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var e=t.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",e.scaleX),this.set("scaleY",e.scaleY),this.angle=e.angle,this.skewX=e.skewX,this.skewY=0}},_removeTransformMatrix:function(e){var n=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),n=t.util.transformPoint(n,this.transformMatrix)),this.transformMatrix=null,e&&(this.scaleX*=e.scaleX,this.scaleY*=e.scaleY,this.cropX=e.cropX,this.cropY=e.cropY,n.x+=e.offsetLeft,n.y+=e.offsetTop,this.width=e.width,this.height=e.height),this.setPositionByOrigin(n,"center","center")},clone:function(e,n){var r=this.toObject(n);this.constructor.fromObject?this.constructor.fromObject(r,e):t.Object._fromObject("Object",r,e)},cloneAsImage:function(e,n){var r=this.toCanvasElement(n);return e&&e(new t.Image(r)),this},toCanvasElement:function(e){e||(e={});var n=t.util,r=n.saveObjectTransform(this),i=this.group,a=this.shadow,o=Math.abs,s=(e.multiplier||1)*(e.enableRetinaScaling?t.devicePixelRatio:1);delete this.group,e.withoutTransform&&n.resetObjectTransform(this),e.withoutShadow&&(this.shadow=null);var l,c,u=t.util.createCanvasElement(),h=this.getBoundingRect(!0,!0),d=this.shadow,p={x:0,y:0};d&&(c=d.blur,l=d.nonScaling?{scaleX:1,scaleY:1}:this.getObjectScaling(),p.x=2*Math.round(o(d.offsetX)+c)*o(l.scaleX),p.y=2*Math.round(o(d.offsetY)+c)*o(l.scaleY)),u.width=h.width+p.x,u.height=h.height+p.y,u.width+=u.width%2?2-u.width%2:0,u.height+=u.height%2?2-u.height%2:0;var f=new t.StaticCanvas(u,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});"jpeg"===e.format&&(f.backgroundColor="#fff"),this.setPositionByOrigin(new t.Point(f.width/2,f.height/2),"center","center");var m=this.canvas;f.add(this);var g=f.toCanvasElement(s||1,e);return this.shadow=a,this.canvas=m,i&&(this.group=i),this.set(r).setCoords(),f._objects=[],f.dispose(),f=null,g},toDataURL:function(e){return e||(e={}),t.util.toDataURL(this.toCanvasElement(e),e.format||"png",e.quality||1)},isType:function(e){return this.type===e},complexity:function(){return 1},toJSON:function(e){return this.toObject(e)},setGradient:function(e,n){n||(n={});var r={colorStops:[]};return r.type=n.type||(n.r1||n.r2?"radial":"linear"),r.coords={x1:n.x1,y1:n.y1,x2:n.x2,y2:n.y2},r.gradientUnits=n.gradientUnits||"pixels",(n.r1||n.r2)&&(r.coords.r1=n.r1,r.coords.r2=n.r2),r.gradientTransform=n.gradientTransform,t.Gradient.prototype.addColorStop.call(r,n.colorStops),this.set(e,t.Gradient.forObject(this,r))},setPatternFill:function(e,n){return this.set("fill",new t.Pattern(e,n))},setShadow:function(e){return this.set("shadow",e?new t.Shadow(e):null)},setColor:function(e){return this.set("fill",e),this},rotate:function(e){var t=("center"!==this.originX||"center"!==this.originY)&&this.centeredRotation;return t&&this._setOriginToCenter(),this.set("angle",e),t&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(e,n){n=n||this.canvas.getPointer(e);var r=new t.Point(n.x,n.y),i=this._getLeftTopCoords();return this.angle&&(r=t.util.rotatePoint(r,i,o(-this.angle))),{x:r.x-i.x,y:r.y-i.y}},_setupCompositeOperation:function(e){this.globalCompositeOperation&&(e.globalCompositeOperation=this.globalCompositeOperation)}}),t.util.createAccessors&&t.util.createAccessors(t.Object),n(t.Object.prototype,t.Observable),t.Object.NUM_FRACTION_DIGITS=2,t.Object._fromObject=function(e,n,i,a){var o=t[e];n=r(n,!0),t.util.enlivenPatterns([n.fill,n.stroke],(function(e){void 0!==e[0]&&(n.fill=e[0]),void 0!==e[1]&&(n.stroke=e[1]),t.util.enlivenObjects([n.clipPath],(function(e){n.clipPath=e[0];var t=a?new o(n[a],n):new o(n);i&&i(t)}))}))},t.Object.__uid=0)}(t),u=g.util.degreesToRadians,h={left:-.5,center:0,right:.5},d={top:-.5,center:0,bottom:.5},g.util.object.extend(g.Object.prototype,{translateToGivenOrigin:function(e,t,n,r,i){var a,o,s,l=e.x,c=e.y;return"string"==typeof t?t=h[t]:t-=.5,"string"==typeof r?r=h[r]:r-=.5,"string"==typeof n?n=d[n]:n-=.5,"string"==typeof i?i=d[i]:i-=.5,o=i-n,((a=r-t)||o)&&(s=this._getTransformedDimensions(),l=e.x+a*s.x,c=e.y+o*s.y),new g.Point(l,c)},translateToCenterPoint:function(e,t,n){var r=this.translateToGivenOrigin(e,t,n,"center","center");return this.angle?g.util.rotatePoint(r,e,u(this.angle)):r},translateToOriginPoint:function(e,t,n){var r=this.translateToGivenOrigin(e,"center","center",t,n);return this.angle?g.util.rotatePoint(r,e,u(this.angle)):r},getCenterPoint:function(){var e=new g.Point(this.left,this.top);return this.translateToCenterPoint(e,this.originX,this.originY)},getPointByOrigin:function(e,t){var n=this.getCenterPoint();return this.translateToOriginPoint(n,e,t)},toLocalPoint:function(e,t,n){var r,i,a=this.getCenterPoint();return r=void 0!==t&&void 0!==n?this.translateToGivenOrigin(a,"center","center",t,n):new g.Point(this.left,this.top),i=new g.Point(e.x,e.y),this.angle&&(i=g.util.rotatePoint(i,a,-u(this.angle))),i.subtractEquals(r)},setPositionByOrigin:function(e,t,n){var r=this.translateToCenterPoint(e,t,n),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(e){var t,n,r=u(this.angle),i=this.getScaledWidth(),a=g.util.cos(r)*i,o=g.util.sin(r)*i;this.left+=a*((n="string"==typeof e?h[e]:e-.5)-(t="string"==typeof this.originX?h[this.originX]:this.originX-.5)),this.top+=o*(n-t),this.setCoords(),this.originX=e},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var e=this.getCenterPoint();this.originX="center",this.originY="center",this.left=e.x,this.top=e.y},_resetOrigin:function(){var e=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=e.x,this.top=e.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}}),function(){var e=g.util.degreesToRadians,t=g.util.multiplyTransformMatrices,n=g.util.transformPoint;g.util.object.extend(g.Object.prototype,{oCoords:null,aCoords:null,ownMatrixCache:null,matrixCache:null,getCoords:function(e,t){this.oCoords||this.setCoords();var n=e?this.aCoords:this.oCoords;return function(e){return[new g.Point(e.tl.x,e.tl.y),new g.Point(e.tr.x,e.tr.y),new g.Point(e.br.x,e.br.y),new g.Point(e.bl.x,e.bl.y)]}(t?this.calcCoords(e):n)},intersectsWithRect:function(e,t,n,r){var i=this.getCoords(n,r);return"Intersection"===g.Intersection.intersectPolygonRectangle(i,e,t).status},intersectsWithObject:function(e,t,n){return"Intersection"===g.Intersection.intersectPolygonPolygon(this.getCoords(t,n),e.getCoords(t,n)).status||e.isContainedWithinObject(this,t,n)||this.isContainedWithinObject(e,t,n)},isContainedWithinObject:function(e,t,n){for(var r=this.getCoords(t,n),i=0,a=e._getImageLines(n?e.calcCoords(t):t?e.aCoords:e.oCoords);i<4;i++)if(!e.containsPoint(r[i],a))return!1;return!0},isContainedWithinRect:function(e,t,n,r){var i=this.getBoundingRect(n,r);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,n,r){t=t||this._getImageLines(r?this.calcCoords(n):n?this.aCoords:this.oCoords);var i=this._findCrossPoints(e,t);return 0!==i&&i%2==1},isOnScreen:function(e){if(!this.canvas)return!1;for(var t,n=this.canvas.vptCoords.tl,r=this.canvas.vptCoords.br,i=this.getCoords(!0,e),a=0;a<4;a++)if((t=i[a]).x<=r.x&&t.x>=n.x&&t.y<=r.y&&t.y>=n.y)return!0;return!!this.intersectsWithRect(n,r,!0,e)||this._containsCenterOfCanvas(n,r,e)},_containsCenterOfCanvas:function(e,t,n){return!!this.containsPoint({x:(e.x+t.x)/2,y:(e.y+t.y)/2},null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;return!!this.intersectsWithRect(t,n,!0,e)||this._containsCenterOfCanvas(t,n,e)},_getImageLines:function(e){return{topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}}},_findCrossPoints:function(e,t){var n,r,i,a=0;for(var o in t)if(!((i=t[o]).o.y<e.y&&i.d.y<e.y||i.o.y>=e.y&&i.d.y>=e.y||(r=i.o.x===i.d.x&&i.o.x>=e.x?i.o.x:-(e.y-0*e.x-(i.o.y-(n=(i.d.y-i.o.y)/(i.d.x-i.o.x))*i.o.x))/(0-n),r>=e.x&&(a+=1),2!==a)))break;return a},getBoundingRect:function(e,t){var n=this.getCoords(e,t);return g.util.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:0===e?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var n=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,t){var n=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(r){var i=this._calcRotateMatrix(),a=this._calcTranslateMatrix(),o=t(a,i),s=this.getViewportTransform(),l=r?o:t(s,o),c=this._getTransformedDimensions(),u=c.x/2,h=c.y/2,d=n({x:-u,y:-h},l),p=n({x:u,y:-h},l),f=n({x:-u,y:h},l),m=n({x:u,y:h},l);if(!r){var v=this.padding,_=e(this.angle),b=g.util.cos(_),y=g.util.sin(_),C=b*v,w=y*v,k=C+w,x=C-w;v&&(d.x-=x,d.y-=k,p.x+=k,p.y-=x,f.x-=k,f.y+=x,m.x+=x,m.y+=k);var S=new g.Point((d.x+f.x)/2,(d.y+f.y)/2),O=new g.Point((p.x+d.x)/2,(p.y+d.y)/2),j=new g.Point((m.x+p.x)/2,(m.y+p.y)/2),E=new g.Point((m.x+f.x)/2,(m.y+f.y)/2),P=new g.Point(O.x+y*this.rotatingPointOffset,O.y-b*this.rotatingPointOffset)}var M={tl:d,tr:p,br:m,bl:f};return r||(M.ml=S,M.mt=O,M.mr=j,M.mb=E,M.mtr=P),M},setCoords:function(e,t){return this.oCoords=this.calcCoords(e),t||(this.aCoords=this.calcCoords(!0)),e||this._setCornerCoords&&this._setCornerCoords(),this},_calcRotateMatrix:function(){return g.util.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="";return!e&&this.group&&(t=this.group.transformMatrixKey(e)+"_"),t+this.top+"_"+this.left+"_"+this.scaleX+"_"+this.scaleY+"_"+this.skewX+"_"+this.skewY+"_"+this.angle+"_"+this.originX+"_"+this.originY+"_"+this.width+"_"+this.height+"_"+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){if(e)return this.calcOwnMatrix();var n=this.transformMatrixKey(),r=this.matrixCache||(this.matrixCache={});if(r.key===n)return r.value;var i=this.calcOwnMatrix();return this.group&&(i=t(this.group.calcTransformMatrix(),i)),r.key=n,r.value=i,i},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===e)return t.value;var n=this._calcTranslateMatrix();return this.translateX=n[4],this.translateY=n[5],t.key=e,t.value=g.util.composeMatrix(this),t.value},_calcDimensionsTransformMatrix:function(e,t,n){return g.util.calcDimensionsMatrix({skewX:e,skewY:t,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth;return{x:this.width+e,y:this.height+e}},_getTransformedDimensions:function(e,t){void 0===e&&(e=this.skewX),void 0===t&&(t=this.skewY);var n,r,i=this._getNonTransformedDimensions();if(this.strokeUniform?(n=this.width,r=this.height):(n=i.x,r=i.y),0===e&&0===t)return this._finalizeDimensions(n*this.scaleX,r*this.scaleY);var a=[{x:-(n/=2),y:-(r/=2)},{x:n,y:-r},{x:-n,y:r},{x:n,y:r}],o=g.util.calcDimensionsMatrix({scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY}),s=g.util.makeBoundingBoxFromPoints(a,o);return this._finalizeDimensions(s.width,s.height)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions();return g.util.transformPoint(t,e,!0).scalarAdd(2*this.padding)}})}(),g.util.object.extend(g.Object.prototype,{sendToBack:function(){return this.group?g.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?g.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas.bringToFront(this),this},sendBackwards:function(e){return this.group?g.StaticCanvas.prototype.sendBackwards.call(this.group,this,e):this.canvas.sendBackwards(this,e),this},bringForward:function(e){return this.group?g.StaticCanvas.prototype.bringForward.call(this.group,this,e):this.canvas.bringForward(this,e),this},moveTo:function(e){return this.group&&"activeSelection"!==this.group.type?g.StaticCanvas.prototype.moveTo.call(this.group,this,e):this.canvas.moveTo(this,e),this}}),function(){function e(e,t){if(t){if(t.toLive)return e+": url(#SVGID_"+t.id+"); ";var n=new g.Color(t),r=e+": "+n.toRgb()+"; ",i=n.getAlpha();return 1!==i&&(r+=e+"-opacity: "+i.toString()+"; "),r}return e+": none; "}var t=g.util.toFixed;g.util.object.extend(g.Object.prototype,{getSvgStyles:function(t){var n=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",i=this.strokeDashArray?this.strokeDashArray.join(" "):"none",a=this.strokeDashOffset?this.strokeDashOffset:"0",o=this.strokeLineCap?this.strokeLineCap:"butt",s=this.strokeLineJoin?this.strokeLineJoin:"miter",l=this.strokeMiterLimit?this.strokeMiterLimit:"4",c=void 0!==this.opacity?this.opacity:"1",u=this.visible?"":" visibility: hidden;",h=t?"":this.getSvgFilter(),d=e("fill",this.fill);return[e("stroke",this.stroke),"stroke-width: ",r,"; ","stroke-dasharray: ",i,"; ","stroke-linecap: ",o,"; ","stroke-dashoffset: ",a,"; ","stroke-linejoin: ",s,"; ","stroke-miterlimit: ",l,"; ",d,"fill-rule: ",n,"; ","opacity: ",c,";",h,u].join("")},getSvgSpanStyles:function(t,n){var r=t.fontFamily?"font-family: "+(-1===t.fontFamily.indexOf("'")&&-1===t.fontFamily.indexOf('"')?"'"+t.fontFamily+"'":t.fontFamily)+"; ":"",i=t.strokeWidth?"stroke-width: "+t.strokeWidth+"; ":"",a=(r=r,t.fontSize?"font-size: "+t.fontSize+"px; ":""),o=t.fontStyle?"font-style: "+t.fontStyle+"; ":"",s=t.fontWeight?"font-weight: "+t.fontWeight+"; ":"",l=t.fill?e("fill",t.fill):"",c=t.stroke?e("stroke",t.stroke):"",u=this.getSvgTextDecoration(t);return u&&(u="text-decoration: "+u+"; "),[c,i,r,a,o,s,u,l,t.deltaY?"baseline-shift: "+-t.deltaY+"; ":"",n?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(e){return"overline"in e||"underline"in e||"linethrough"in e?(e.overline?"overline ":"")+(e.underline?"underline ":"")+(e.linethrough?"line-through ":""):""},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(e,t){var n=e?this.calcTransformMatrix():this.calcOwnMatrix();return'transform="'+g.util.matrixToSVG(n)+(t||"")+this.getSvgTransformMatrix()+'" '},getSvgTransformMatrix:function(){return this.transformMatrix?" "+g.util.matrixToSVG(this.transformMatrix):""},_setSVGBg:function(e){if(this.backgroundColor){var n=g.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(this.backgroundColor),' x="',t(-this.width/2,n),'" y="',t(-this.height/2,n),'" width="',t(this.width,n),'" height="',t(this.height,n),'"></rect>\n')}},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(e),{reviver:e})},toClipPathSVG:function(e){return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(e),{reviver:e})},_createBaseClipPathSVGMarkup:function(e,t){var n=(t=t||{}).reviver,r=[this.getSvgTransform(!0,t.additionalTransform||""),this.getSvgCommons()].join(""),i=e.indexOf("COMMON_PARTS");return e[i]=r,n?n(e.join("")):e.join("")},_createBaseSVGMarkup:function(e,t){var n,r,i=(t=t||{}).noStyle,a=t.reviver,o=i?"":'style="'+this.getSvgStyles()+'" ',s=t.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,c=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",u=l&&l.absolutePositioned,h=this.stroke,d=this.fill,p=this.shadow,f=[],m=e.indexOf("COMMON_PARTS"),v=t.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+g.Object.__uid++,r='<clipPath id="'+l.clipPathId+'" >\n'+l.toClipPathSVG(a)+"</clipPath>\n"),u&&f.push("<g ",s,this.getSvgCommons()," >\n"),f.push("<g ",this.getSvgTransform(!1),u?"":s+this.getSvgCommons()," >\n"),n=[o,c,i?"":this.addPaintOrder()," ",v?'transform="'+v+'" ':""].join(""),e[m]=n,d&&d.toLive&&f.push(d.toSVG(this)),h&&h.toLive&&f.push(h.toSVG(this)),p&&f.push(p.toSVG(this)),l&&f.push(r),f.push(e.join("")),f.push("</g>\n"),u&&f.push("</g>\n"),a?a(f.join("")):f.join("")},addPaintOrder:function(){return"fill"!==this.paintFirst?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var e=g.util.object.extend;function t(t,n,r){var i={};r.forEach((function(e){i[e]=t[e]})),e(t[n],i,!0)}g.util.object.extend(g.Object.prototype,{hasStateChanged:function(e){var t="_"+(e=e||"stateProperties");return Object.keys(this[t]).length<this[e].length||!function e(t,n,r){if(t===n)return!0;if(Array.isArray(t)){if(!Array.isArray(n)||t.length!==n.length)return!1;for(var i=0,a=t.length;i<a;i++)if(!e(t[i],n[i]))return!1;return!0}if(t&&"object"==typeof t){var o,s=Object.keys(t);if(!n||"object"!=typeof n||!r&&s.length!==Object.keys(n).length)return!1;for(i=0,a=s.length;i<a;i++)if("canvas"!==(o=s[i])&&!e(t[o],n[o]))return!1;return!0}}(this[t],this,!0)},saveState:function(e){var n=e&&e.propertySet||"stateProperties",r="_"+n;return this[r]?(t(this,r,this[n]),e&&e.stateProperties&&t(this,r,e.stateProperties),this):this.setupState(e)},setupState:function(e){var t=(e=e||{}).propertySet||"stateProperties";return e.propertySet=t,this["_"+t]={},this.saveState(e),this}})}(),function(){var e=g.util.degreesToRadians;g.util.object.extend(g.Object.prototype,{_controlsVisibility:null,_findTargetCorner:function(e){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var t,n,r=e.x,i=e.y;for(var a in this.__corner=0,this.oCoords)if(this.isControlVisible(a)&&("mtr"!==a||this.hasRotatingPoint)&&(!this.get("lockUniScaling")||"mt"!==a&&"mr"!==a&&"mb"!==a&&"ml"!==a)&&(n=this._getImageLines(this.oCoords[a].corner),0!==(t=this._findCrossPoints({x:r,y:i},n))&&t%2==1))return this.__corner=a,a;return!1},_setCornerCoords:function(){var t,n,r=this.oCoords,i=e(45-this.angle),a=.707106*this.cornerSize,o=a*g.util.cos(i),s=a*g.util.sin(i);for(var l in r)r[l].corner={tl:{x:(t=r[l].x)-s,y:(n=r[l].y)-o},tr:{x:t+o,y:n-s},bl:{x:t-o,y:n+s},br:{x:t+s,y:n+o}}},drawSelectionBackground:function(t){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;t.save();var n=this.getCenterPoint(),r=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return t.translate(n.x,n.y),t.scale(1/i[0],1/i[3]),t.rotate(e(this.angle)),t.fillStyle=this.selectionBackgroundColor,t.fillRect(-r.x/2,-r.y/2,r.x,r.y),t.restore(),this},drawBorders:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=1/this.borderScaleFactor,i=n.x+r,a=n.y+r,o=void 0!==t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,s=void 0!==t.hasControls?t.hasControls:this.hasControls,l=void 0!==t.rotatingPointOffset?t.rotatingPointOffset:this.rotatingPointOffset;if(e.save(),e.strokeStyle=t.borderColor||this.borderColor,this._setLineDash(e,t.borderDashArray||this.borderDashArray,null),e.strokeRect(-i/2,-a/2,i,a),o&&this.isControlVisible("mtr")&&s){var c=-a/2;e.beginPath(),e.moveTo(0,c),e.lineTo(0,c-l),e.stroke()}return e.restore(),this},drawBordersInGroup:function(e,t,n){n=n||{};var r=this._getNonTransformedDimensions(),i=g.util.composeMatrix({scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX}),a=g.util.transformPoint(r,i),o=1/this.borderScaleFactor,s=a.x+o,l=a.y+o;return e.save(),this._setLineDash(e,n.borderDashArray||this.borderDashArray,null),e.strokeStyle=n.borderColor||this.borderColor,e.strokeRect(-s/2,-l/2,s,l),e.restore(),this},drawControls:function(e,t){t=t||{};var n=this._calculateCurrentDimensions(),r=n.x,i=n.y,a=t.cornerSize||this.cornerSize,o=-(r+a)/2,s=-(i+a)/2,l=void 0!==t.hasRotatingPoint?t.hasRotatingPoint:this.hasRotatingPoint,c=(void 0!==t.transparentCorners?t.transparentCorners:this.transparentCorners)?"stroke":"fill";return e.save(),e.strokeStyle=e.fillStyle=t.cornerColor||this.cornerColor,this.transparentCorners||(e.strokeStyle=t.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(e,t.cornerDashArray||this.cornerDashArray,null),this._drawControl("tl",e,c,o,s,t),this._drawControl("tr",e,c,o+r,s,t),this._drawControl("bl",e,c,o,s+i,t),this._drawControl("br",e,c,o+r,s+i,t),this.get("lockUniScaling")||(this._drawControl("mt",e,c,o+r/2,s,t),this._drawControl("mb",e,c,o+r/2,s+i,t),this._drawControl("mr",e,c,o+r,s+i/2,t),this._drawControl("ml",e,c,o,s+i/2,t)),l&&this._drawControl("mtr",e,c,o+r/2,s-this.rotatingPointOffset,t),e.restore(),this},_drawControl:function(e,t,n,r,i,a){if(a=a||{},this.isControlVisible(e)){var o=this.cornerSize,s=!this.transparentCorners&&this.cornerStrokeColor;switch(a.cornerStyle||this.cornerStyle){case"circle":t.beginPath(),t.arc(r+o/2,i+o/2,o/2,0,2*Math.PI,!1),t[n](),s&&t.stroke();break;default:this.transparentCorners||t.clearRect(r,i,o,o),t[n+"Rect"](r,i,o,o),s&&t.strokeRect(r,i,o,o)}}},isControlVisible:function(e){return this._getControlsVisibility()[e]},setControlVisible:function(e,t){return this._getControlsVisibility()[e]=t,this},setControlsVisibility:function(e){for(var t in e||(e={}),e)this.setControlVisible(t,e[t]);return this},_getControlsVisibility:function(){return this._controlsVisibility||(this._controlsVisibility={tl:!0,tr:!0,br:!0,bl:!0,ml:!0,mt:!0,mr:!0,mb:!0,mtr:!0}),this._controlsVisibility},onDeselect:function(){},onSelect:function(){}})}(),g.util.object.extend(g.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,i=t.onChange||n,a=this;return g.util.animate({startValue:e.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(t){e.set("left",t),a.requestRenderAll(),i()},onComplete:function(){e.setCoords(),r()}}),this},fxCenterObjectV:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,i=t.onChange||n,a=this;return g.util.animate({startValue:e.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(t){e.set("top",t),a.requestRenderAll(),i()},onComplete:function(){e.setCoords(),r()}}),this},fxRemove:function(e,t){var n=function(){},r=(t=t||{}).onComplete||n,i=t.onChange||n,a=this;return g.util.animate({startValue:e.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(t){e.set("opacity",t),a.requestRenderAll(),i()},onComplete:function(){a.remove(e),r()}}),this}}),g.util.object.extend(g.Object.prototype,{animate:function(){if(arguments[0]&&"object"==typeof arguments[0]){var e,t=[];for(e in arguments[0])t.push(e);for(var n=0,r=t.length;n<r;n++)this._animate(e=t[n],arguments[0][e],arguments[1],n!==r-1)}else this._animate.apply(this,arguments);return this},_animate:function(e,t,n,r){var i,a=this;t=t.toString(),n=n?g.util.object.clone(n):{},~e.indexOf(".")&&(i=e.split("."));var o=i?this.get(i[0])[i[1]]:this.get(e);"from"in n||(n.from=o),t=~t.indexOf("=")?o+parseFloat(t.replace("=","")):parseFloat(t),g.util.animate({startValue:n.from,endValue:t,byValue:n.by,easing:n.easing,duration:n.duration,abort:n.abort&&function(){return n.abort.call(a)},onChange:function(t,o,s){i?a[i[0]][i[1]]=t:a.set(e,t),r||n.onChange&&n.onChange(t,o,s)},onComplete:function(e,t,i){r||(a.setCoords(),n.onComplete&&n.onComplete(e,t,i))}})}}),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.object.clone,i={x1:1,x2:1,y1:1,y2:1},a=t.StaticCanvas.supports("setLineDash");function o(e,t){var n=e.origin,r=e.axis1,i=e.axis2,a=e.dimension,o=t.nearest,s=t.center,l=t.farthest;return function(){switch(this.get(n)){case o:return Math.min(this.get(r),this.get(i));case s:return Math.min(this.get(r),this.get(i))+.5*this.get(a);case l:return Math.max(this.get(r),this.get(i))}}}t.Line?t.warn("fabric.Line is already defined"):(t.Line=t.util.createClass(t.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:t.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(e,t){e||(e=[0,0,0,0]),this.callSuper("initialize",t),this.set("x1",e[0]),this.set("y1",e[1]),this.set("x2",e[2]),this.set("y2",e[3]),this._setWidthHeight(t)},_setWidthHeight:function(e){e||(e={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in e?e.left:this._getLeftToOriginX(),this.top="top"in e?e.top:this._getTopToOriginY()},_set:function(e,t){return this.callSuper("_set",e,t),void 0!==i[e]&&this._setWidthHeight(),this},_getLeftToOriginX:o({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:o({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(e){if(e.beginPath(),!this.strokeDashArray||this.strokeDashArray&&a){var t=this.calcLinePoints();e.moveTo(t.x1,t.y1),e.lineTo(t.x2,t.y2)}e.lineWidth=this.strokeWidth;var n=e.strokeStyle;e.strokeStyle=this.stroke||e.fillStyle,this.stroke&&this._renderStroke(e),e.strokeStyle=n},_renderDashedStroke:function(e){var n=this.calcLinePoints();e.beginPath(),t.util.drawDashedLine(e,n.x1,n.y1,n.x2,n.y2,this.strokeDashArray),e.closePath()},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(e){return n(this.callSuper("toObject",e),this.calcLinePoints())},_getNonTransformedDimensions:function(){var e=this.callSuper("_getNonTransformedDimensions");return"butt"===this.strokeLineCap&&(0===this.width&&(e.y-=this.strokeWidth),0===this.height&&(e.x-=this.strokeWidth)),e},calcLinePoints:function(){var e=this.x1<=this.x2?-1:1,t=this.y1<=this.y2?-1:1;return{x1:e*this.width*.5,x2:e*this.width*-.5,y1:t*this.height*.5,y2:t*this.height*-.5}},_toSVG:function(){var e=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',e.x1,'" y1="',e.y1,'" x2="',e.x2,'" y2="',e.y2,'" />\n']}}),t.Line.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),t.Line.fromElement=function(e,r,i){i=i||{};var a=t.parseAttributes(e,t.Line.ATTRIBUTE_NAMES);r(new t.Line([a.x1||0,a.y1||0,a.x2||0,a.y2||0],n(a,i)))},t.Line.fromObject=function(e,n){var i=r(e,!0);i.points=[e.x1,e.y1,e.x2,e.y2],t.Object._fromObject("Line",i,(function(e){delete e.points,n&&n(e)}),"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.PI;t.Circle?t.warn("fabric.Circle is already defined."):(t.Circle=t.util.createClass(t.Object,{type:"circle",radius:0,startAngle:0,endAngle:2*n,cacheProperties:t.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(e,t){return this.callSuper("_set",e,t),"radius"===e&&this.setRadius(t),this},toObject:function(e){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(e))},_toSVG:function(){var e,r=(this.endAngle-this.startAngle)%(2*n);if(0===r)e=["<circle ","COMMON_PARTS",'cx="0" cy="0" ','r="',this.radius,'" />\n'];else{var i=t.util.cos(this.startAngle)*this.radius,a=t.util.sin(this.startAngle)*this.radius,o=t.util.cos(this.endAngle)*this.radius,s=t.util.sin(this.endAngle)*this.radius;e=['<path d="M '+i+" "+a," A "+this.radius+" "+this.radius," 0 ",+(r>n?"1":"0")+" 1"," "+o+" "+s,'" ',"COMMON_PARTS"," />\n"]}return e},_render:function(e){e.beginPath(),e.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(e)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(e){return this.radius=e,this.set("width",2*e).set("height",2*e)}}),t.Circle.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),t.Circle.fromElement=function(e,n){var r,i=t.parseAttributes(e,t.Circle.ATTRIBUTE_NAMES);if(!("radius"in(r=i)&&r.radius>=0))throw new Error("value of `r` attribute is required and can not be negative");i.left=(i.left||0)-i.radius,i.top=(i.top||0)-i.radius,n(new t.Circle(i))},t.Circle.fromObject=function(e,n){return t.Object._fromObject("Circle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Triangle?t.warn("fabric.Triangle is already defined"):(t.Triangle=t.util.createClass(t.Object,{type:"triangle",width:100,height:100,_render:function(e){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,n),e.lineTo(0,-n),e.lineTo(t,n),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=this.width/2,r=this.height/2;e.beginPath(),t.util.drawDashedLine(e,-n,r,0,-r,this.strokeDashArray),t.util.drawDashedLine(e,0,-r,n,r,this.strokeDashArray),t.util.drawDashedLine(e,n,r,-n,r,this.strokeDashArray),e.closePath()},_toSVG:function(){var e=this.width/2,t=this.height/2;return["<polygon ","COMMON_PARTS",'points="',[-e+" "+t,"0 "+-t,e+" "+t].join(","),'" />']}}),t.Triangle.fromObject=function(e,n){return t.Object._fromObject("Triangle",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=2*Math.PI;t.Ellipse?t.warn("fabric.Ellipse is already defined."):(t.Ellipse=t.util.createClass(t.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this.set("rx",e&&e.rx||0),this.set("ry",e&&e.ry||0)},_set:function(e,t){switch(this.callSuper("_set",e,t),e){case"rx":this.rx=t,this.set("width",2*t);break;case"ry":this.ry=t,this.set("height",2*t)}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,'" />\n']},_render:function(e){e.beginPath(),e.save(),e.transform(1,0,0,this.ry/this.rx,0,0),e.arc(0,0,this.rx,0,n,!1),e.restore(),this._renderPaintInOrder(e)}}),t.Ellipse.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),t.Ellipse.fromElement=function(e,n){var r=t.parseAttributes(e,t.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,n(new t.Ellipse(r))},t.Ellipse.fromObject=function(e,n){return t.Object._fromObject("Ellipse",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend;t.Rect?t.warn("fabric.Rect is already defined"):(t.Rect=t.util.createClass(t.Object,{stateProperties:t.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:t.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(e){this.callSuper("initialize",e),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(e){var t=this.rx?Math.min(this.rx,this.width/2):0,n=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,a=-this.width/2,o=-this.height/2,s=0!==t||0!==n,l=.4477152502;e.beginPath(),e.moveTo(a+t,o),e.lineTo(a+r-t,o),s&&e.bezierCurveTo(a+r-l*t,o,a+r,o+l*n,a+r,o+n),e.lineTo(a+r,o+i-n),s&&e.bezierCurveTo(a+r,o+i-l*n,a+r-l*t,o+i,a+r-t,o+i),e.lineTo(a+t,o+i),s&&e.bezierCurveTo(a+l*t,o+i,a,o+i-l*n,a,o+i-n),e.lineTo(a,o+n),s&&e.bezierCurveTo(a,o+l*n,a+l*t,o,a+t,o),e.closePath(),this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n=-this.width/2,r=-this.height/2,i=this.width,a=this.height;e.beginPath(),t.util.drawDashedLine(e,n,r,n+i,r,this.strokeDashArray),t.util.drawDashedLine(e,n+i,r,n+i,r+a,this.strokeDashArray),t.util.drawDashedLine(e,n+i,r+a,n,r+a,this.strokeDashArray),t.util.drawDashedLine(e,n,r+a,n,r,this.strokeDashArray),e.closePath()},toObject:function(e){return this.callSuper("toObject",["rx","ry"].concat(e))},_toSVG:function(){return["<rect ","COMMON_PARTS",'x="',-this.width/2,'" y="',-this.height/2,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,'" />\n']}}),t.Rect.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),t.Rect.fromElement=function(e,r,i){if(!e)return r(null);i=i||{};var a=t.parseAttributes(e,t.Rect.ATTRIBUTE_NAMES);a.left=a.left||0,a.top=a.top||0,a.height=a.height||0,a.width=a.width||0;var o=new t.Rect(n(i?t.util.object.clone(i):{},a));o.visible=o.visible&&o.width>0&&o.height>0,r(o)},t.Rect.fromObject=function(e,n){return t.Object._fromObject("Rect",e,n)})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.util.array.min,i=t.util.array.max,a=t.util.toFixed;t.Polyline?t.warn("fabric.Polyline is already defined"):(t.Polyline=t.util.createClass(t.Object,{type:"polyline",points:null,cacheProperties:t.Object.prototype.cacheProperties.concat("points"),initialize:function(e,t){t=t||{},this.points=e||[],this.callSuper("initialize",t),this._setPositionDimensions(t)},_setPositionDimensions:function(e){var t,n=this._calcDimensions(e);this.width=n.width,this.height=n.height,e.fromSVG||(t=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),void 0===e.left&&(this.left=e.fromSVG?n.left:t.x),void 0===e.top&&(this.top=e.fromSVG?n.top:t.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var e=this.points,t=r(e,"x")||0,n=r(e,"y")||0;return{left:t,top:n,width:(i(e,"x")||0)-t,height:(i(e,"y")||0)-n}},toObject:function(e){return n(this.callSuper("toObject",e),{points:this.points.concat()})},_toSVG:function(){for(var e=[],n=this.pathOffset.x,r=this.pathOffset.y,i=t.Object.NUM_FRACTION_DIGITS,o=0,s=this.points.length;o<s;o++)e.push(a(this.points[o].x-n,i),",",a(this.points[o].y-r,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',e.join(""),'" />\n']},commonRender:function(e){var t,n=this.points.length,r=this.pathOffset.x,i=this.pathOffset.y;if(!n||isNaN(this.points[n-1].y))return!1;e.beginPath(),e.moveTo(this.points[0].x-r,this.points[0].y-i);for(var a=0;a<n;a++)e.lineTo((t=this.points[a]).x-r,t.y-i);return!0},_render:function(e){this.commonRender(e)&&this._renderPaintInOrder(e)},_renderDashedStroke:function(e){var n,r;e.beginPath();for(var i=0,a=this.points.length;i<a;i++)t.util.drawDashedLine(e,(n=this.points[i]).x,n.y,(r=this.points[i+1]||n).x,r.y,this.strokeDashArray)},complexity:function(){return this.get("points").length}}),t.Polyline.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polyline.fromElementGenerator=function(e){return function(r,i,a){if(!r)return i(null);a||(a={});var o=t.parsePointsAttribute(r.getAttribute("points")),s=t.parseAttributes(r,t[e].ATTRIBUTE_NAMES);s.fromSVG=!0,i(new t[e](o,n(s,a)))}},t.Polyline.fromElement=t.Polyline.fromElementGenerator("Polyline"),t.Polyline.fromObject=function(e,n){return t.Object._fromObject("Polyline",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Polygon?t.warn("fabric.Polygon is already defined"):(t.Polygon=t.util.createClass(t.Polyline,{type:"polygon",_render:function(e){this.commonRender(e)&&(e.closePath(),this._renderPaintInOrder(e))},_renderDashedStroke:function(e){this.callSuper("_renderDashedStroke",e),e.closePath()}}),t.Polygon.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(),t.Polygon.fromElement=t.Polyline.fromElementGenerator("Polygon"),t.Polygon.fromObject=function(e,n){return t.Object._fromObject("Polygon",e,n,"points")})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max,i=t.util.object.extend,a=Object.prototype.toString,o=t.util.drawArc,s=t.util.toFixed,l={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};t.Path?t.warn("fabric.Path is already defined"):(t.Path=t.util.createClass(t.Object,{type:"path",path:null,cacheProperties:t.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:t.Object.prototype.stateProperties.concat("path"),initialize:function(e,n){this.callSuper("initialize",n=n||{}),e||(e=[]);var r="[object Array]"===a.call(e);this.path=r?e:e.match&&e.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi),this.path&&(r||(this.path=this._parsePath()),t.Polyline.prototype._setPositionDimensions.call(this,n))},_renderPathCommands:function(e){var t,n,r,i=null,a=0,s=0,l=0,c=0,u=0,h=0,d=-this.pathOffset.x,p=-this.pathOffset.y;e.beginPath();for(var f=0,m=this.path.length;f<m;++f){switch((t=this.path[f])[0]){case"l":e.lineTo((l+=t[1])+d,(c+=t[2])+p);break;case"L":e.lineTo((l=t[1])+d,(c=t[2])+p);break;case"h":e.lineTo((l+=t[1])+d,c+p);break;case"H":e.lineTo((l=t[1])+d,c+p);break;case"v":e.lineTo(l+d,(c+=t[1])+p);break;case"V":e.lineTo(l+d,(c=t[1])+p);break;case"m":a=l+=t[1],s=c+=t[2],e.moveTo(l+d,c+p);break;case"M":a=l=t[1],s=c=t[2],e.moveTo(l+d,c+p);break;case"c":e.bezierCurveTo(l+t[1]+d,c+t[2]+p,(u=l+t[3])+d,(h=c+t[4])+p,(n=l+t[5])+d,(r=c+t[6])+p),l=n,c=r;break;case"C":e.bezierCurveTo(t[1]+d,t[2]+p,(u=t[3])+d,(h=t[4])+p,(l=t[5])+d,(c=t[6])+p);break;case"s":n=l+t[3],r=c+t[4],null===i[0].match(/[CcSs]/)?(u=l,h=c):(u=2*l-u,h=2*c-h),e.bezierCurveTo(u+d,h+p,l+t[1]+d,c+t[2]+p,n+d,r+p),u=l+t[1],h=c+t[2],l=n,c=r;break;case"S":n=t[3],r=t[4],null===i[0].match(/[CcSs]/)?(u=l,h=c):(u=2*l-u,h=2*c-h),e.bezierCurveTo(u+d,h+p,t[1]+d,t[2]+p,n+d,r+p),l=n,c=r,u=t[1],h=t[2];break;case"q":e.quadraticCurveTo((u=l+t[1])+d,(h=c+t[2])+p,(n=l+t[3])+d,(r=c+t[4])+p),l=n,c=r;break;case"Q":e.quadraticCurveTo(t[1]+d,t[2]+p,(n=t[3])+d,(r=t[4])+p),l=n,c=r,u=t[1],h=t[2];break;case"t":n=l+t[1],r=c+t[2],null===i[0].match(/[QqTt]/)?(u=l,h=c):(u=2*l-u,h=2*c-h),e.quadraticCurveTo(u+d,h+p,n+d,r+p),l=n,c=r;break;case"T":n=t[1],r=t[2],null===i[0].match(/[QqTt]/)?(u=l,h=c):(u=2*l-u,h=2*c-h),e.quadraticCurveTo(u+d,h+p,n+d,r+p),l=n,c=r;break;case"a":o(e,l+d,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+l+d,t[7]+c+p]),l+=t[6],c+=t[7];break;case"A":o(e,l+d,c+p,[t[1],t[2],t[3],t[4],t[5],t[6]+d,t[7]+p]),l=t[6],c=t[7];break;case"z":case"Z":l=a,c=s,e.closePath()}i=t}},_render:function(e){this._renderPathCommands(e),this._renderPaintInOrder(e)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(e){return i(this.callSuper("toObject",e),{path:this.path.map((function(e){return e.slice()}))})},toDatalessObject:function(e){var t=this.toObject(["sourcePath"].concat(e));return t.sourcePath&&delete t.path,t},_toSVG:function(){return["<path ","COMMON_PARTS",'d="',this.path.map((function(e){return e.join(" ")})).join(" "),'" stroke-linecap="round" ',"/>\n"]},_getOffsetTransform:function(){var e=t.Object.NUM_FRACTION_DIGITS;return" translate("+s(-this.pathOffset.x,e)+", "+s(-this.pathOffset.y,e)+")"},toClipPathSVG:function(e){var t=this._getOffsetTransform();return"\t"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},toSVG:function(e){var t=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,additionalTransform:t})},complexity:function(){return this.path.length},_parsePath:function(){for(var e,n,r,i,a,o=[],s=[],u=t.rePathCommand,h=0,d=this.path.length;h<d;h++){for(i=(e=this.path[h]).slice(1).trim(),s.length=0;r=u.exec(i);)s.push(r[0]);a=[e.charAt(0)];for(var p=0,f=s.length;p<f;p++)n=parseFloat(s[p]),isNaN(n)||a.push(n);var m=a[0],g=l[m.toLowerCase()],v=c[m]||m;if(a.length-1>g)for(var _=1,b=a.length;_<b;_+=g)o.push([m].concat(a.slice(_,_+g))),m=v;else o.push(a)}return o},_calcDimensions:function(){for(var e,i,a,o,s=[],l=[],c=null,u=0,h=0,d=0,p=0,f=0,m=0,g=0,v=this.path.length;g<v;++g){switch((e=this.path[g])[0]){case"l":d+=e[1],p+=e[2],o=[];break;case"L":d=e[1],p=e[2],o=[];break;case"h":d+=e[1],o=[];break;case"H":d=e[1],o=[];break;case"v":p+=e[1],o=[];break;case"V":p=e[1],o=[];break;case"m":u=d+=e[1],h=p+=e[2],o=[];break;case"M":u=d=e[1],h=p=e[2],o=[];break;case"c":o=t.util.getBoundsOfCurve(d,p,d+e[1],p+e[2],f=d+e[3],m=p+e[4],i=d+e[5],a=p+e[6]),d=i,p=a;break;case"C":o=t.util.getBoundsOfCurve(d,p,e[1],e[2],f=e[3],m=e[4],e[5],e[6]),d=e[5],p=e[6];break;case"s":i=d+e[3],a=p+e[4],null===c[0].match(/[CcSs]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),o=t.util.getBoundsOfCurve(d,p,f,m,d+e[1],p+e[2],i,a),f=d+e[1],m=p+e[2],d=i,p=a;break;case"S":i=e[3],a=e[4],null===c[0].match(/[CcSs]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),o=t.util.getBoundsOfCurve(d,p,f,m,e[1],e[2],i,a),d=i,p=a,f=e[1],m=e[2];break;case"q":o=t.util.getBoundsOfCurve(d,p,f=d+e[1],m=p+e[2],f,m,i=d+e[3],a=p+e[4]),d=i,p=a;break;case"Q":o=t.util.getBoundsOfCurve(d,p,f=e[1],m=e[2],f,m,e[3],e[4]),d=e[3],p=e[4];break;case"t":i=d+e[1],a=p+e[2],null===c[0].match(/[QqTt]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),o=t.util.getBoundsOfCurve(d,p,f,m,f,m,i,a),d=i,p=a;break;case"T":i=e[1],a=e[2],null===c[0].match(/[QqTt]/)?(f=d,m=p):(f=2*d-f,m=2*p-m),o=t.util.getBoundsOfCurve(d,p,f,m,f,m,i,a),d=i,p=a;break;case"a":o=t.util.getBoundsOfArc(d,p,e[1],e[2],e[3],e[4],e[5],e[6]+d,e[7]+p),d+=e[6],p+=e[7];break;case"A":o=t.util.getBoundsOfArc(d,p,e[1],e[2],e[3],e[4],e[5],e[6],e[7]),d=e[6],p=e[7];break;case"z":case"Z":d=u,p=h}c=e,o.forEach((function(e){s.push(e.x),l.push(e.y)})),s.push(d),l.push(p)}var _=n(s)||0,b=n(l)||0;return{left:_,top:b,width:(r(s)||0)-_,height:(r(l)||0)-b}}}),t.Path.fromObject=function(e,n){"string"==typeof e.sourcePath?t.loadSVGFromURL(e.sourcePath,(function(t){var r=t[0];r.setOptions(e),n&&n(r)})):t.Object._fromObject("Path",e,n,"path")},t.Path.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat(["d"]),t.Path.fromElement=function(e,n,r){var a=t.parseAttributes(e,t.Path.ATTRIBUTE_NAMES);a.fromSVG=!0,n(new t.Path(a.d,i(a,r)))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.array.min,r=t.util.array.max;t.Group||(t.Group=t.util.createClass(t.Object,t.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(e,t,n){t=t||{},this._objects=[],n&&this.callSuper("initialize",t),this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;if(n)this._updateObjectsACoords();else{var i=t&&t.centerPoint;void 0!==t.originX&&(this.originX=t.originX),void 0!==t.originY&&(this.originY=t.originY),i||this._calcBounds(),this._updateObjectsCoords(i),delete t.centerPoint,this.callSuper("initialize",t)}this.setCoords()},_updateObjectsACoords:function(){for(var e=this._objects.length;e--;)this._objects[e].setCoords(!0,!0)},_updateObjectsCoords:function(e){e=e||this.getCenterPoint();for(var t=this._objects.length;t--;)this._updateObjectCoords(this._objects[t],e)},_updateObjectCoords:function(e,t){e.set({left:e.left-t.x,top:e.top-t.y}),e.group=this,e.setCoords(!0,!0)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),e&&(this._objects.push(e),e.group=this,e._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},removeWithUpdate:function(e){return this._restoreObjectsState(),t.util.resetObjectTransform(this),this.remove(e),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(e){this.dirty=!0,e.group=this,e._set("canvas",this.canvas)},_onObjectRemoved:function(e){this.dirty=!0,delete e.group},_set:function(e,n){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(e,n);if("canvas"===e)for(;r--;)this._objects[r]._set(e,n);t.Object.prototype._set.call(this,e,n)},toObject:function(e){var n=this.includeDefaultValues,r=this._objects.map((function(t){var r=t.includeDefaultValues;t.includeDefaultValues=n;var i=t.toObject(e);return t.includeDefaultValues=r,i})),i=t.Object.prototype.toObject.call(this,e);return i.objects=r,i},toDatalessObject:function(e){var n,r=this.sourcePath;if(r)n=r;else{var i=this.includeDefaultValues;n=this._objects.map((function(t){var n=t.includeDefaultValues;t.includeDefaultValues=i;var r=t.toDatalessObject(e);return t.includeDefaultValues=n,r}))}var a=t.Object.prototype.toDatalessObject.call(this,e);return a.objects=n,a},render:function(e){this._transformDone=!0,this.callSuper("render",e),this._transformDone=!1},shouldCache:function(){var e=t.Object.prototype.shouldCache.call(this);if(e)for(var n=0,r=this._objects.length;n<r;n++)if(this._objects[n].willDrawShadow())return this.ownCaching=!1,!1;return e},willDrawShadow:function(){if(this.shadow)return t.Object.prototype.willDrawShadow.call(this);for(var e=0,n=this._objects.length;e<n;e++)if(this._objects[e].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(e){for(var t=0,n=this._objects.length;t<n;t++)this._objects[t].render(e);this._drawClipPath(e)},isCacheDirty:function(e){if(this.callSuper("isCacheDirty",e))return!0;if(!this.statefullCache)return!1;for(var t=0,n=this._objects.length;t<n;t++)if(this._objects[t].isCacheDirty(!0)){if(this._cacheCanvas){var r=this.cacheWidth/this.zoomX,i=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-r/2,-i/2,r,i)}return!0}return!1},_restoreObjectsState:function(){return this._objects.forEach(this._restoreObjectState,this),this},realizeTransform:function(e){var n=e.calcTransformMatrix(),r=t.util.qrDecompose(n),i=new t.Point(r.translateX,r.translateY);return e.flipX=!1,e.flipY=!1,e.set("scaleX",r.scaleX),e.set("scaleY",r.scaleY),e.skewX=r.skewX,e.skewY=r.skewY,e.angle=r.angle,e.setPositionByOrigin(i,"center","center"),e},_restoreObjectState:function(e){return this.realizeTransform(e),e.setCoords(),delete e.group,this},destroy:function(){return this._objects.forEach((function(e){e.set("dirty",!0)})),this._restoreObjectsState()},toActiveSelection:function(){if(this.canvas){var e=this._objects,n=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new t.ActiveSelection([]);return i.set(r),i.type="activeSelection",n.remove(this),e.forEach((function(e){e.group=i,e.dirty=!0,n.add(e)})),i.canvas=n,i._objects=e,n._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){return this.forEachObject((function(e){e.setCoords(!0,!0)})),this},_calcBounds:function(e){for(var t,n,r,i=[],a=[],o=["tr","br","bl","tl"],s=0,l=this._objects.length,c=o.length;s<l;++s)for((t=this._objects[s]).setCoords(!0),r=0;r<c;r++)i.push(t.oCoords[n=o[r]].x),a.push(t.oCoords[n].y);this._getBounds(i,a,e)},_getBounds:function(e,i,a){var o=new t.Point(n(e),n(i)),s=new t.Point(r(e),r(i)),l=o.y||0,c=o.x||0,u=s.y-o.y||0;this.width=s.x-o.x||0,this.height=u,a||this.setPositionByOrigin({x:c,y:l},"left","top")},_toSVG:function(e){for(var t=["<g ","COMMON_PARTS"," >\n"],n=0,r=this._objects.length;n<r;n++)t.push("\t\t",this._objects[n].toSVG(e));return t.push("</g>\n"),t},getSvgStyles:function(){var e=this.visible?"":" visibility: hidden;";return[void 0!==this.opacity&&1!==this.opacity?"opacity: "+this.opacity+";":"",this.getSvgFilter(),e].join("")},toClipPathSVG:function(e){for(var t=[],n=0,r=this._objects.length;n<r;n++)t.push("\t",this._objects[n].toClipPathSVG(e));return this._createBaseClipPathSVGMarkup(t,{reviver:e})}}),t.Group.fromObject=function(e,n){var r=e.objects,i=t.util.object.clone(e,!0);delete i.objects,"string"!=typeof r?t.util.enlivenObjects(r,(function(r){t.util.enlivenObjects([e.clipPath],(function(i){var a=t.util.object.clone(e,!0);a.clipPath=i[0],delete a.objects,n&&n(new t.Group(r,a,!0))}))})):t.loadSVGFromURL(r,(function(a){var o=t.util.groupSVGElements(a,e,r);o.set(i),n&&n(o)}))})}(t),function(e){"use strict";var t=e.fabric||(e.fabric={});t.ActiveSelection||(t.ActiveSelection=t.util.createClass(t.Group,{type:"activeSelection",initialize:function(e,n){n=n||{},this._objects=e||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;n.originX&&(this.originX=n.originX),n.originY&&(this.originY=n.originY),this._calcBounds(),this._updateObjectsCoords(),t.Object.prototype.initialize.call(this,n),this.setCoords()},toGroup:function(){var e=this._objects.concat();this._objects=[];var n=t.Object.prototype.toObject.call(this),r=new t.Group([]);if(delete n.type,r.set(n),e.forEach((function(e){e.canvas.remove(e),e.group=r})),r._objects=e,!this.canvas)return r;var i=this.canvas;return i.add(r),i._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(e,t,n){e.save(),e.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",e,t),void 0===(n=n||{}).hasControls&&(n.hasControls=!1),void 0===n.hasRotatingPoint&&(n.hasRotatingPoint=!1),n.forActiveSelection=!0;for(var r=0,i=this._objects.length;r<i;r++)this._objects[r]._renderControls(e,n);e.restore()}}),t.ActiveSelection.fromObject=function(e,n){t.util.enlivenObjects(e.objects,(function(r){delete e.objects,n&&n(new t.ActiveSelection(r,e,!0))}))})}(t),function(e){"use strict";var t=g.util.object.extend;e.fabric||(e.fabric={}),e.fabric.Image?g.warn("fabric.Image is already defined."):(g.Image=g.util.createClass(g.Object,{type:"image",crossOrigin:"",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:g.Object.prototype.stateProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,initialize:function(e,t){t||(t={}),this.filters=[],this.cacheKey="texture"+g.Object.__uid++,this.callSuper("initialize",t),this._initElement(e,t)},getElement:function(){return this._element||{}},setElement:function(e,t){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=e,this._originalElement=e,this._initConfig(t),0!==this.filters.length&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(e){var t=g.filterBackend;t&&t.evictCachesForKey&&t.evictCachesForKey(e)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(e){g.util.cleanUpJsdomNode(this[e]),this[e]=void 0}).bind(this))},setCrossOrigin:function(e){return this.crossOrigin=e,this._element.crossOrigin=e,this},getOriginalSize:function(){var e=this.getElement();return{width:e.naturalWidth||e.width,height:e.naturalHeight||e.height}},_stroke:function(e){if(this.stroke&&0!==this.strokeWidth){var t=this.width/2,n=this.height/2;e.beginPath(),e.moveTo(-t,-n),e.lineTo(t,-n),e.lineTo(t,n),e.lineTo(-t,n),e.lineTo(-t,-n),e.closePath()}},_renderDashedStroke:function(e){var t=-this.width/2,n=-this.height/2,r=this.width,i=this.height;e.save(),this._setStrokeStyles(e,this),e.beginPath(),g.util.drawDashedLine(e,t,n,t+r,n,this.strokeDashArray),g.util.drawDashedLine(e,t+r,n,t+r,n+i,this.strokeDashArray),g.util.drawDashedLine(e,t+r,n+i,t,n+i,this.strokeDashArray),g.util.drawDashedLine(e,t,n+i,t,n,this.strokeDashArray),e.closePath(),e.restore()},toObject:function(e){var n=[];this.filters.forEach((function(e){e&&n.push(e.toObject())}));var r=t(this.callSuper("toObject",["crossOrigin","cropX","cropY"].concat(e)),{src:this.getSrc(),filters:n});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var e,t=[],n=[],r=-this.width/2,i=-this.height/2,a="";if(this.hasCrop()){var o=g.Object.__uid++;t.push('<clipPath id="imageCrop_'+o+'">\n','\t<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+'" />\n',"</clipPath>\n"),a=' clip-path="url(#imageCrop_'+o+')" '}if(n.push("\t<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',i-this.cropY,'" width="',this._element.width||this._element.naturalWidth,'" height="',this._element.height||this._element.height,'"',a,"></image>\n"),this.stroke||this.strokeDashArray){var s=this.fill;this.fill=null,e=["\t<rect ",'x="',r,'" y="',i,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),'"/>\n'],this.fill=s}return"fill"!==this.paintFirst?t.concat(e,n):t.concat(n,e)},getSrc:function(e){var t=e?this._element:this._originalElement;return t?t.toDataURL?t.toDataURL():this.srcFromAttribute?t.getAttribute("src"):t.src:this.src||""},setSrc:function(e,t,n){return g.util.loadImage(e,(function(e){this.setElement(e,n),this._setWidthHeight(),t&&t(this)}),this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var e=this.resizeFilter,t=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),r=n.scaleX,i=n.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!e||r>t&&i>t)return this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=r,void(this._lastScaleY=i);g.filterBackend||(g.filterBackend=g.initFilterBackend());var o=g.util.createCanvasElement(),s=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,l=a.width,c=a.height;o.width=l,o.height=c,this._element=o,this._lastScaleX=e.scaleX=r,this._lastScaleY=e.scaleY=i,g.filterBackend.applyFilters([e],a,l,c,this._element,s),this._filterScalingX=o.width/this._originalElement.width,this._filterScalingY=o.height/this._originalElement.height},applyFilters:function(e){if(e=(e=e||this.filters||[]).filter((function(e){return e&&!e.isNeutralState()})),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),0===e.length)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var t=this._originalElement,n=t.naturalWidth||t.width,r=t.naturalHeight||t.height;if(this._element===this._originalElement){var i=g.util.createCanvasElement();i.width=n,i.height=r,this._element=i,this._filteredEl=i}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,r),this._lastScaleX=1,this._lastScaleY=1;return g.filterBackend||(g.filterBackend=g.initFilterBackend()),g.filterBackend.applyFilters(e,this._originalElement,n,r,this._element,this.cacheKey),this._originalElement.width===this._element.width&&this._originalElement.height===this._element.height||(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(e){!0!==this.isMoving&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(e),this._renderPaintInOrder(e)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(e){var t=this._element,n=this.width,r=this.height,i=Math.min(t.naturalWidth||t.width,n*this._filterScalingX),a=Math.min(t.naturalHeight||t.height,r*this._filterScalingY),o=-n/2,s=-r/2,l=Math.max(0,this.cropX*this._filterScalingX),c=Math.max(0,this.cropY*this._filterScalingY);t&&e.drawImage(t,l,c,i,a,o,s,n,r)},_needsResize:function(){var e=this.getTotalObjectScaling();return e.scaleX!==this._lastScaleX||e.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(e,t){this.setElement(g.util.getById(e),t),g.util.addClass(this.getElement(),g.Image.CSS_CANVAS)},_initConfig:function(e){e||(e={}),this.setOptions(e),this._setWidthHeight(e),this._element&&this.crossOrigin&&(this._element.crossOrigin=this.crossOrigin)},_initFilters:function(e,t){e&&e.length?g.util.enlivenObjects(e,(function(e){t&&t(e)}),"fabric.Image.filters"):t&&t()},_setWidthHeight:function(e){e||(e={});var t=this.getElement();this.width=e.width||t.naturalWidth||t.width||0,this.height=e.height||t.naturalHeight||t.height||0},parsePreserveAspectRatioAttribute:function(){var e,t=g.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),n=this._element.width,r=this._element.height,i=1,a=1,o=0,s=0,l=0,c=0,u=this.width,h=this.height,d={width:u,height:h};return!t||"none"===t.alignX&&"none"===t.alignY?(i=u/n,a=h/r):("meet"===t.meetOrSlice&&(e=(u-n*(i=a=g.util.findScaleToFit(this._element,d)))/2,"Min"===t.alignX&&(o=-e),"Max"===t.alignX&&(o=e),e=(h-r*a)/2,"Min"===t.alignY&&(s=-e),"Max"===t.alignY&&(s=e)),"slice"===t.meetOrSlice&&(e=n-u/(i=a=g.util.findScaleToCover(this._element,d)),"Mid"===t.alignX&&(l=e/2),"Max"===t.alignX&&(l=e),e=r-h/a,"Mid"===t.alignY&&(c=e/2),"Max"===t.alignY&&(c=e),n=u/i,r=h/a)),{width:n,height:r,scaleX:i,scaleY:a,offsetLeft:o,offsetTop:s,cropX:l,cropY:c}}}),g.Image.CSS_CANVAS="canvas-img",g.Image.prototype.getSvgSrc=g.Image.prototype.getSrc,g.Image.fromObject=function(e,t){var n=g.util.object.clone(e);g.util.loadImage(n.src,(function(e,r){r?t&&t(null,r):g.Image.prototype._initFilters.call(n,n.filters,(function(r){n.filters=r||[],g.Image.prototype._initFilters.call(n,[n.resizeFilter],(function(r){n.resizeFilter=r[0],g.util.enlivenObjects([n.clipPath],(function(r){n.clipPath=r[0];var i=new g.Image(e,n);t(i)}))}))}))}),null,n.crossOrigin)},g.Image.fromURL=function(e,t,n){g.util.loadImage(e,(function(e){t&&t(new g.Image(e,n))}),null,n&&n.crossOrigin)},g.Image.ATTRIBUTE_NAMES=g.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin".split(" ")),g.Image.fromElement=function(e,n,r){var i=g.parseAttributes(e,g.Image.ATTRIBUTE_NAMES);g.Image.fromURL(i["xlink:href"],n,t(r?g.util.object.clone(r):{},i))})}(t),g.util.object.extend(g.Object.prototype,{_getAngleValueForStraighten:function(){var e=this.angle%360;return e>0?90*Math.round((e-1)/90):90*Math.round(e/90)},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(e){var t=function(){},n=(e=e||{}).onComplete||t,r=e.onChange||t,i=this;return g.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(e){i.rotate(e),r()},onComplete:function(){i.setCoords(),n()}}),this}}),g.util.object.extend(g.StaticCanvas.prototype,{straightenObject:function(e){return e.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(e){return e.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function e(e,t){var n="precision "+t+" float;\nvoid main(){}",r=e.createShader(e.FRAGMENT_SHADER);return e.shaderSource(r,n),e.compileShader(r),!!e.getShaderParameter(r,e.COMPILE_STATUS)}function t(e){e&&e.tileSize&&(this.tileSize=e.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}g.isWebglSupported=function(t){if(g.isLikelyNode)return!1;t=t||g.WebglFilterBackend.prototype.tileSize;var n=document.createElement("canvas"),r=n.getContext("webgl")||n.getContext("experimental-webgl"),i=!1;if(r){g.maxTextureSize=r.getParameter(r.MAX_TEXTURE_SIZE),i=g.maxTextureSize>=t;for(var a=["highp","mediump","lowp"],o=0;o<3;o++)if(e(r,a[o])){g.webGlPrecision=a[o];break}}return this.isSupported=i,i},g.WebglFilterBackend=t,t.prototype={tileSize:2048,resources:{},setupGLContext:function(e,t){this.dispose(),this.createWebGLCanvas(e,t),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(e,t)},chooseFastestCopyGLTo2DMethod:function(e,t){var n,r=void 0!==window.performance;try{new ImageData(1,1),n=!0}catch(h){n=!1}var i="undefined"!=typeof ArrayBuffer,a="undefined"!=typeof Uint8ClampedArray;if(r&&n&&i&&a){var o=g.util.createCanvasElement(),s=new ArrayBuffer(e*t*4);if(g.forceGLPutImageData)return this.imageBuffer=s,void(this.copyGLTo2D=b);var l,c,u={imageBuffer:s,destinationWidth:e,destinationHeight:t,targetCanvas:o};o.width=e,o.height=t,l=window.performance.now(),_.call(u,this.gl,u),c=window.performance.now()-l,l=window.performance.now(),b.call(u,this.gl,u),c>window.performance.now()-l?(this.imageBuffer=s,this.copyGLTo2D=b):this.copyGLTo2D=_}},createWebGLCanvas:function(e,t){var n=g.util.createCanvasElement();n.width=e,n.height=t;var r={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},i=n.getContext("webgl",r);i||(i=n.getContext("experimental-webgl",r)),i&&(i.clearColor(0,0,0,0),this.canvas=n,this.gl=i)},applyFilters:function(e,t,n,r,i,a){var o,s=this.gl;a&&(o=this.getCachedTexture(a,t));var l={originalWidth:t.width||t.originalWidth,originalHeight:t.height||t.originalHeight,sourceWidth:n,sourceHeight:r,destinationWidth:n,destinationHeight:r,context:s,sourceTexture:this.createTexture(s,n,r,!o&&t),targetTexture:this.createTexture(s,n,r),originalTexture:o||this.createTexture(s,n,r,!o&&t),passes:e.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:i},c=s.createFramebuffer();return s.bindFramebuffer(s.FRAMEBUFFER,c),e.forEach((function(e){e&&e.applyTo(l)})),function(e){var t=e.targetCanvas,n=e.destinationWidth,r=e.destinationHeight;t.width===n&&t.height===r||(t.width=n,t.height=r)}(l),this.copyGLTo2D(s,l),s.bindTexture(s.TEXTURE_2D,null),s.deleteTexture(l.sourceTexture),s.deleteTexture(l.targetTexture),s.deleteFramebuffer(c),i.getContext("2d").setTransform(1,0,0,1,0,0),l},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(e,t,n,r){var i=e.createTexture();return e.bindTexture(e.TEXTURE_2D,i),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MAG_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_MIN_FILTER,e.NEAREST),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE),r?e.texImage2D(e.TEXTURE_2D,0,e.RGBA,e.RGBA,e.UNSIGNED_BYTE,r):e.texImage2D(e.TEXTURE_2D,0,e.RGBA,t,n,0,e.RGBA,e.UNSIGNED_BYTE,null),i},getCachedTexture:function(e,t){if(this.textureCache[e])return this.textureCache[e];var n=this.createTexture(this.gl,t.width,t.height,t);return this.textureCache[e]=n,n},evictCachesForKey:function(e){this.textureCache[e]&&(this.gl.deleteTexture(this.textureCache[e]),delete this.textureCache[e])},copyGLTo2D:_,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var e=this.gl,t={renderer:"",vendor:""};if(!e)return t;var n=e.getExtension("WEBGL_debug_renderer_info");if(n){var r=e.getParameter(n.UNMASKED_RENDERER_WEBGL),i=e.getParameter(n.UNMASKED_VENDOR_WEBGL);r&&(t.renderer=r.toLowerCase()),i&&(t.vendor=i.toLowerCase())}return this.gpuInfo=t,t}}}(),function(){"use strict";var e=function(){};function t(){}g.Canvas2dFilterBackend=t,t.prototype={evictCachesForKey:e,dispose:e,clearWebGLCaches:e,resources:{},applyFilters:function(e,t,n,r,i){var a=i.getContext("2d");a.drawImage(t,0,0,n,r);var o={sourceWidth:n,sourceHeight:r,imageData:a.getImageData(0,0,n,r),originalEl:t,originalImageData:a.getImageData(0,0,n,r),canvasEl:i,ctx:a,filterBackend:this};return e.forEach((function(e){e.applyTo(o)})),o.imageData.width===n&&o.imageData.height===r||(i.width=o.imageData.width,i.height=o.imageData.height),a.putImageData(o.imageData,0,0),o}}}(),g.Image=g.Image||{},g.Image.filters=g.Image.filters||{},g.Image.filters.BaseFilter=g.util.createClass({type:"BaseFilter",vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvoid main() {\nvTexCoord = aPosition;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:"precision highp float;\nvarying vec2 vTexCoord;\nuniform sampler2D uTexture;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\n}",initialize:function(e){e&&this.setOptions(e)},setOptions:function(e){for(var t in e)this[t]=e[t]},createProgram:function(e,t,n){t=t||this.fragmentSource,n=n||this.vertexSource,"highp"!==g.webGlPrecision&&(t=t.replace(/precision highp float/g,"precision "+g.webGlPrecision+" float"));var r=e.createShader(e.VERTEX_SHADER);if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+e.getShaderInfoLog(r));var i=e.createShader(e.FRAGMENT_SHADER);if(e.shaderSource(i,t),e.compileShader(i),!e.getShaderParameter(i,e.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+e.getShaderInfoLog(i));var a=e.createProgram();if(e.attachShader(a,r),e.attachShader(a,i),e.linkProgram(a),!e.getProgramParameter(a,e.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+e.getProgramInfoLog(a));var o=this.getAttributeLocations(e,a),s=this.getUniformLocations(e,a)||{};return s.uStepW=e.getUniformLocation(a,"uStepW"),s.uStepH=e.getUniformLocation(a,"uStepH"),{program:a,attributeLocations:o,uniformLocations:s}},getAttributeLocations:function(e,t){return{aPosition:e.getAttribLocation(t,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(e,t,n){var r=t.aPosition,i=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,i),e.enableVertexAttribArray(r),e.vertexAttribPointer(r,2,e.FLOAT,!1,0,0),e.bufferData(e.ARRAY_BUFFER,n,e.STATIC_DRAW)},_setupFrameBuffer:function(e){var t,n,r=e.context;e.passes>1?(n=e.destinationHeight,e.sourceWidth===(t=e.destinationWidth)&&e.sourceHeight===n||(r.deleteTexture(e.targetTexture),e.targetTexture=e.filterBackend.createTexture(r,t,n)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,e.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(e){e.passes--,e.pass++;var t=e.targetTexture;e.targetTexture=e.sourceTexture,e.sourceTexture=t},isNeutralState:function(){var e=this.mainParameter,t=g.Image.filters[this.type].prototype;if(e){if(Array.isArray(t[e])){for(var n=t[e].length;n--;)if(this[e][n]!==t[e][n])return!1;return!0}return t[e]===this[e]}return!1},applyTo:function(e){e.webgl?(this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},retrieveShader:function(e){return e.programCache.hasOwnProperty(this.type)||(e.programCache[this.type]=this.createProgram(e.context)),e.programCache[this.type]},applyToWebGL:function(e){var t=e.context,n=this.retrieveShader(e);t.bindTexture(t.TEXTURE_2D,0===e.pass&&e.originalTexture?e.originalTexture:e.sourceTexture),t.useProgram(n.program),this.sendAttributeData(t,n.attributeLocations,e.aPosition),t.uniform1f(n.uniformLocations.uStepW,1/e.sourceWidth),t.uniform1f(n.uniformLocations.uStepH,1/e.sourceHeight),this.sendUniformData(t,n.uniformLocations),t.viewport(0,0,e.destinationWidth,e.destinationHeight),t.drawArrays(t.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(e,t,n){e.activeTexture(n),e.bindTexture(e.TEXTURE_2D,t),e.activeTexture(e.TEXTURE0)},unbindAdditionalTexture:function(e,t){e.activeTexture(t),e.bindTexture(e.TEXTURE_2D,null),e.activeTexture(e.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(e){this[this.mainParameter]=e},sendUniformData:function(){},createHelpLayer:function(e){if(!e.helpLayer){var t=document.createElement("canvas");t.width=e.sourceWidth,t.height=e.sourceHeight,e.helpLayer=t}},toObject:function(){var e={type:this.type},t=this.mainParameter;return t&&(e[t]=this[t]),e},toJSON:function(){return this.toObject()}}),g.Image.filters.BaseFilter.fromObject=function(e,t){var n=new g.Image.filters[e.type](e);return t&&t(n),n},function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.ColorMatrix=(0,t.util.createClass)(n.BaseFilter,{type:"ColorMatrix",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nuniform mat4 uColorMatrix;\nuniform vec4 uConstants;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor *= uColorMatrix;\ncolor += uConstants;\ngl_FragColor = color;\n}",matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(e){this.callSuper("initialize",e),this.matrix=this.matrix.slice(0)},applyTo2d:function(e){var t,n,r,i,a,o=e.imageData.data,s=o.length,l=this.matrix,c=this.colorsOnly;for(a=0;a<s;a+=4)t=o[a],n=o[a+1],r=o[a+2],c?(o[a]=t*l[0]+n*l[1]+r*l[2]+255*l[4],o[a+1]=t*l[5]+n*l[6]+r*l[7]+255*l[9],o[a+2]=t*l[10]+n*l[11]+r*l[12]+255*l[14]):(o[a]=t*l[0]+n*l[1]+r*l[2]+(i=o[a+3])*l[3]+255*l[4],o[a+1]=t*l[5]+n*l[6]+r*l[7]+i*l[8]+255*l[9],o[a+2]=t*l[10]+n*l[11]+r*l[12]+i*l[13]+255*l[14],o[a+3]=t*l[15]+n*l[16]+r*l[17]+i*l[18]+255*l[19])},getUniformLocations:function(e,t){return{uColorMatrix:e.getUniformLocation(t,"uColorMatrix"),uConstants:e.getUniformLocation(t,"uConstants")}},sendUniformData:function(e,t){var n=this.matrix,r=[n[4],n[9],n[14],n[19]];e.uniformMatrix4fv(t.uColorMatrix,!1,[n[0],n[1],n[2],n[3],n[5],n[6],n[7],n[8],n[10],n[11],n[12],n[13],n[15],n[16],n[17],n[18]]),e.uniform4fv(t.uConstants,r)}}),t.Image.filters.ColorMatrix.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Brightness=(0,t.util.createClass)(n.BaseFilter,{type:"Brightness",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBrightness;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += uBrightness;\ngl_FragColor = color;\n}",brightness:0,mainParameter:"brightness",applyTo2d:function(e){if(0!==this.brightness){var t,n=e.imageData.data,r=n.length,i=Math.round(255*this.brightness);for(t=0;t<r;t+=4)n[t]=n[t]+i,n[t+1]=n[t+1]+i,n[t+2]=n[t+2]+i}},getUniformLocations:function(e,t){return{uBrightness:e.getUniformLocation(t,"uBrightness")}},sendUniformData:function(e,t){e.uniform1f(t.uBrightness,this.brightness)}}),t.Image.filters.Brightness.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters;r.Convolute=(0,t.util.createClass)(r.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_3_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[9];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 3.0; h+=1.0) {\nfor (float w = 0.0; w < 3.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_5_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_5_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[25];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 5.0; h+=1.0) {\nfor (float w = 0.0; w < 5.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_7_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_7_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[49];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 7.0; h+=1.0) {\nfor (float w = 0.0; w < 7.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}",Convolute_9_1:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 0);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];\n}\n}\ngl_FragColor = color;\n}",Convolute_9_0:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uMatrix[81];\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = vec4(0, 0, 0, 1);\nfor (float h = 0.0; h < 9.0; h+=1.0) {\nfor (float w = 0.0; w < 9.0; w+=1.0) {\nvec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));\ncolor.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];\n}\n}\nfloat alpha = texture2D(uTexture, vTexCoord).a;\ngl_FragColor = color;\ngl_FragColor.a = alpha;\n}"},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),n=this.type+"_"+t+"_"+(this.opaque?1:0),r=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,r)),e.programCache[n]},applyTo2d:function(e){var t,n,r,i,a,o,s,l,c,u,h,d,p,f=e.imageData,m=f.data,g=this.matrix,v=Math.round(Math.sqrt(g.length)),_=Math.floor(v/2),b=f.width,y=f.height,C=e.ctx.createImageData(b,y),w=C.data,k=this.opaque?1:0;for(h=0;h<y;h++)for(u=0;u<b;u++){for(a=4*(h*b+u),t=0,n=0,r=0,i=0,p=0;p<v;p++)for(d=0;d<v;d++)o=u+d-_,(s=h+p-_)<0||s>y||o<0||o>b||(t+=m[l=4*(s*b+o)]*(c=g[p*v+d]),n+=m[l+1]*c,r+=m[l+2]*c,k||(i+=m[l+3]*c));w[a]=t,w[a+1]=n,w[a+2]=r,w[a+3]=k?m[a+3]:i}e.imageData=C},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return n(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),t.Image.filters.Convolute.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Grayscale=(0,t.util.createClass)(n.BaseFilter,{type:"Grayscale",fragmentSource:{average:"precision highp float;\nuniform sampler2D uTexture;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat average = (color.r + color.b + color.g) / 3.0;\ngl_FragColor = vec4(average, average, average, color.a);\n}",lightness:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;\ngl_FragColor = vec4(average, average, average, col.a);\n}",luminosity:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uMode;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 col = texture2D(uTexture, vTexCoord);\nfloat average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;\ngl_FragColor = vec4(average, average, average, col.a);\n}"},mode:"average",mainParameter:"mode",applyTo2d:function(e){var t,n,r=e.imageData.data,i=r.length,a=this.mode;for(t=0;t<i;t+=4)"average"===a?n=(r[t]+r[t+1]+r[t+2])/3:"lightness"===a?n=(Math.min(r[t],r[t+1],r[t+2])+Math.max(r[t],r[t+1],r[t+2]))/2:"luminosity"===a&&(n=.21*r[t]+.72*r[t+1]+.07*r[t+2]),r[t]=n,r[t+1]=n,r[t+2]=n},retrieveShader:function(e){var t=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,this.fragmentSource[this.mode])),e.programCache[t]},getUniformLocations:function(e,t){return{uMode:e.getUniformLocation(t,"uMode")}},sendUniformData:function(e,t){e.uniform1i(t.uMode,1)},isNeutralState:function(){return!1}}),t.Image.filters.Grayscale.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Invert=(0,t.util.createClass)(n.BaseFilter,{type:"Invert",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform int uInvert;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nif (uInvert == 1) {\ngl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);\n} else {\ngl_FragColor = color;\n}\n}",invert:!0,mainParameter:"invert",applyTo2d:function(e){var t,n=e.imageData.data,r=n.length;for(t=0;t<r;t+=4)n[t]=255-n[t],n[t+1]=255-n[t+1],n[t+2]=255-n[t+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(e,t){return{uInvert:e.getUniformLocation(t,"uInvert")}},sendUniformData:function(e,t){e.uniform1i(t.uInvert,this.invert)}}),t.Image.filters.Invert.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters;r.Noise=(0,t.util.createClass)(r.BaseFilter,{type:"Noise",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uStepH;\nuniform float uNoise;\nuniform float uSeed;\nvarying vec2 vTexCoord;\nfloat rand(vec2 co, float seed, float vScale) {\nreturn fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);\n}\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ncolor.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;\ngl_FragColor = color;\n}",mainParameter:"noise",noise:0,applyTo2d:function(e){if(0!==this.noise){var t,n,r,i=e.imageData.data,a=this.noise;for(t=0,n=i.length;t<n;t+=4)r=(.5-Math.random())*a,i[t]+=r,i[t+1]+=r,i[t+2]+=r}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return n(this.callSuper("toObject"),{noise:this.noise})}}),t.Image.filters.Noise.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Pixelate=(0,t.util.createClass)(n.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uBlocksize;\nuniform float uStepW;\nuniform float uStepH;\nvarying vec2 vTexCoord;\nvoid main() {\nfloat blockW = uBlocksize * uStepW;\nfloat blockH = uBlocksize * uStepW;\nint posX = int(vTexCoord.x / blockW);\nint posY = int(vTexCoord.y / blockH);\nfloat fposX = float(posX);\nfloat fposY = float(posY);\nvec2 squareCoords = vec2(fposX * blockW, fposY * blockH);\nvec4 color = texture2D(uTexture, squareCoords);\ngl_FragColor = color;\n}",applyTo2d:function(e){var t,n,r,i,a,o,s,l,c,u,h,d=e.imageData,p=d.data,f=d.height,m=d.width;for(n=0;n<f;n+=this.blocksize)for(r=0;r<m;r+=this.blocksize)for(i=p[t=4*n*m+4*r],a=p[t+1],o=p[t+2],s=p[t+3],u=Math.min(n+this.blocksize,f),h=Math.min(r+this.blocksize,m),l=n;l<u;l++)for(c=r;c<h;c++)p[t=4*l*m+4*c]=i,p[t+1]=a,p[t+2]=o,p[t+3]=s},isNeutralState:function(){return 1===this.blocksize},getUniformLocations:function(e,t){return{uBlocksize:e.getUniformLocation(t,"uBlocksize"),uStepW:e.getUniformLocation(t,"uStepW"),uStepH:e.getUniformLocation(t,"uStepH")}},sendUniformData:function(e,t){e.uniform1f(t.uBlocksize,this.blocksize)}}),t.Image.filters.Pixelate.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.extend,r=t.Image.filters;r.RemoveColor=(0,t.util.createClass)(r.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uLow;\nuniform vec4 uHigh;\nvarying vec2 vTexCoord;\nvoid main() {\ngl_FragColor = texture2D(uTexture, vTexCoord);\nif(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {\ngl_FragColor.a = 0.0;\n}\n}",distance:.02,useAlpha:!1,applyTo2d:function(e){var n,r,i,a,o=e.imageData.data,s=255*this.distance,l=new t.Color(this.color).getSource(),c=[l[0]-s,l[1]-s,l[2]-s],u=[l[0]+s,l[1]+s,l[2]+s];for(n=0;n<o.length;n+=4)i=o[n+1],a=o[n+2],(r=o[n])>c[0]&&i>c[1]&&a>c[2]&&r<u[0]&&i<u[1]&&a<u[2]&&(o[n+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource(),i=parseFloat(this.distance),a=[r[0]/255+i,r[1]/255+i,r[2]/255+i,1];e.uniform4fv(n.uLow,[0+r[0]/255-i,0+r[1]/255-i,0+r[2]/255-i,1]),e.uniform4fv(n.uHigh,a)},toObject:function(){return n(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),t.Image.filters.RemoveColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters,r=t.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var a in i)n[a]=r(n.ColorMatrix,{type:a,matrix:i[a],mainParameter:!1,colorsOnly:!0}),t.Image.filters[a].fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters;n.BlendColor=(0,t.util.createClass)(n.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:"gl_FragColor.rgb *= uColor.rgb;\n",screen:"gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);\n",add:"gl_FragColor.rgb += uColor.rgb;\n",diff:"gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);\n",subtract:"gl_FragColor.rgb -= uColor.rgb;\n",lighten:"gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);\n",darken:"gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);\n",exclusion:"gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);\n",overlay:"if (uColor.r < 0.5) {\ngl_FragColor.r *= 2.0 * uColor.r;\n} else {\ngl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);\n}\nif (uColor.g < 0.5) {\ngl_FragColor.g *= 2.0 * uColor.g;\n} else {\ngl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);\n}\nif (uColor.b < 0.5) {\ngl_FragColor.b *= 2.0 * uColor.b;\n} else {\ngl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);\n}\n",tint:"gl_FragColor.rgb *= (1.0 - uColor.a);\ngl_FragColor.rgb += uColor.rgb;\n"},buildSource:function(e){return"precision highp float;\nuniform sampler2D uTexture;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\ngl_FragColor = color;\nif (color.a > 0.0) {\n"+this.fragmentSource[e]+"}\n}"},retrieveShader:function(e){var t,n=this.type+"_"+this.mode;return e.programCache.hasOwnProperty(n)||(t=this.buildSource(this.mode),e.programCache[n]=this.createProgram(e.context,t)),e.programCache[n]},applyTo2d:function(e){var n,r,i,a,o,s,l,c=e.imageData.data,u=c.length,h=1-this.alpha;n=(l=new t.Color(this.color).getSource())[0]*this.alpha,r=l[1]*this.alpha,i=l[2]*this.alpha;for(var d=0;d<u;d+=4)switch(a=c[d],o=c[d+1],s=c[d+2],this.mode){case"multiply":c[d]=a*n/255,c[d+1]=o*r/255,c[d+2]=s*i/255;break;case"screen":c[d]=255-(255-a)*(255-n)/255,c[d+1]=255-(255-o)*(255-r)/255,c[d+2]=255-(255-s)*(255-i)/255;break;case"add":c[d]=a+n,c[d+1]=o+r,c[d+2]=s+i;break;case"diff":case"difference":c[d]=Math.abs(a-n),c[d+1]=Math.abs(o-r),c[d+2]=Math.abs(s-i);break;case"subtract":c[d]=a-n,c[d+1]=o-r,c[d+2]=s-i;break;case"darken":c[d]=Math.min(a,n),c[d+1]=Math.min(o,r),c[d+2]=Math.min(s,i);break;case"lighten":c[d]=Math.max(a,n),c[d+1]=Math.max(o,r),c[d+2]=Math.max(s,i);break;case"overlay":c[d]=n<128?2*a*n/255:255-2*(255-a)*(255-n)/255,c[d+1]=r<128?2*o*r/255:255-2*(255-o)*(255-r)/255,c[d+2]=i<128?2*s*i/255:255-2*(255-s)*(255-i)/255;break;case"exclusion":c[d]=n+a-2*n*a/255,c[d+1]=r+o-2*r*o/255,c[d+2]=i+s-2*i*s/255;break;case"tint":c[d]=n+a*h,c[d+1]=r+o*h,c[d+2]=i+s*h}},getUniformLocations:function(e,t){return{uColor:e.getUniformLocation(t,"uColor")}},sendUniformData:function(e,n){var r=new t.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,e.uniform4fv(n.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendColor.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric,n=t.Image.filters;n.BlendImage=(0,t.util.createClass)(n.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:"attribute vec2 aPosition;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nuniform mat3 uTransformMatrix;\nvoid main() {\nvTexCoord = aPosition;\nvTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;\ngl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);\n}",fragmentSource:{multiply:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.rgba *= color2.rgba;\ngl_FragColor = color;\n}",mask:"precision highp float;\nuniform sampler2D uTexture;\nuniform sampler2D uImage;\nuniform vec4 uColor;\nvarying vec2 vTexCoord;\nvarying vec2 vTexCoord2;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec4 color2 = texture2D(uImage, vTexCoord2);\ncolor.a = color2.a;\ngl_FragColor = color;\n}"},retrieveShader:function(e){var t=this.type+"_"+this.mode,n=this.fragmentSource[this.mode];return e.programCache.hasOwnProperty(t)||(e.programCache[t]=this.createProgram(e.context,n)),e.programCache[t]},applyToWebGL:function(e){var t=e.context,n=this.createTexture(e.filterBackend,this.image);this.bindAdditionalTexture(t,n,t.TEXTURE1),this.callSuper("applyToWebGL",e),this.unbindAdditionalTexture(t,t.TEXTURE1)},createTexture:function(e,t){return e.getCachedTexture(t.cacheKey,t._element)},calculateMatrix:function(){var e=this.image;return[1/e.scaleX,0,0,0,1/e.scaleY,0,-e.left/e._element.width,-e.top/e._element.height,1]},applyTo2d:function(e){var n,r,i,a,o,s,l,c,u,h,d,p=e.imageData,f=e.filterBackend.resources,m=p.data,g=m.length,v=p.width,_=p.height,b=this.image;f.blendImage||(f.blendImage=t.util.createCanvasElement()),h=(u=f.blendImage).getContext("2d"),u.width!==v||u.height!==_?(u.width=v,u.height=_):h.clearRect(0,0,v,_),h.setTransform(b.scaleX,0,0,b.scaleY,b.left,b.top),h.drawImage(b._element,0,0,v,_),d=h.getImageData(0,0,v,_).data;for(var y=0;y<g;y+=4)switch(o=m[y],s=m[y+1],l=m[y+2],c=m[y+3],n=d[y],r=d[y+1],i=d[y+2],a=d[y+3],this.mode){case"multiply":m[y]=o*n/255,m[y+1]=s*r/255,m[y+2]=l*i/255,m[y+3]=c*a/255;break;case"mask":m[y+3]=a}},getUniformLocations:function(e,t){return{uTransformMatrix:e.getUniformLocation(t,"uTransformMatrix"),uImage:e.getUniformLocation(t,"uImage")}},sendUniformData:function(e,t){var n=this.calculateMatrix();e.uniform1i(t.uImage,1),e.uniformMatrix3fv(t.uTransformMatrix,!1,n)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),t.Image.filters.BlendImage.fromObject=function(e,n){t.Image.fromObject(e.image,(function(r){var i=t.util.object.clone(e);i.image=r,n(new t.Image.filters.BlendImage(i))}))}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=Math.pow,r=Math.floor,i=Math.sqrt,a=Math.abs,o=Math.round,s=Math.sin,l=Math.ceil,c=t.Image.filters;c.Resize=(0,t.util.createClass)(c.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(e,t){return{uDelta:e.getUniformLocation(t,"uDelta"),uTaps:e.getUniformLocation(t,"uTaps")}},sendUniformData:function(e,t){e.uniform2fv(t.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),e.uniform1fv(t.uTaps,this.taps)},retrieveShader:function(e){var t=this.getFilterWindow(),n=this.type+"_"+t;if(!e.programCache.hasOwnProperty(n)){var r=this.generateShader(t);e.programCache[n]=this.createProgram(e.context,r)}return e.programCache[n]},getFilterWindow:function(){return Math.ceil(this.lanczosLobes/this.tempScale)},getTaps:function(){for(var e=this.lanczosCreate(this.lanczosLobes),t=this.tempScale,n=this.getFilterWindow(),r=new Array(n),i=1;i<=n;i++)r[i-1]=e(i*t);return r},generateShader:function(e){for(var t=new Array(e),n=this.fragmentSourceTOP,r=1;r<=e;r++)t[r-1]=r+".0 * uDelta";return n+="uniform float uTaps["+e+"];\n",n+="void main() {\n",n+="  vec4 color = texture2D(uTexture, vTexCoord);\n",n+="  float sum = 1.0;\n",t.forEach((function(e,t){n+="  color += texture2D(uTexture, vTexCoord + "+e+") * uTaps["+t+"];\n",n+="  color += texture2D(uTexture, vTexCoord - "+e+") * uTaps["+t+"];\n",n+="  sum += 2.0 * uTaps["+t+"];\n"})),n+="  gl_FragColor = color / sum;\n",n+="}"},fragmentSourceTOP:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\n",applyTo:function(e){e.webgl?(e.passes++,this.width=e.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=e.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),e.destinationWidth=this.dW,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceWidth=e.destinationWidth,this.height=e.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),e.destinationHeight=this.dH,this._setupFrameBuffer(e),this.applyToWebGL(e),this._swapTextures(e),e.sourceHeight=e.destinationHeight):this.applyTo2d(e)},isNeutralState:function(){return 1===this.scaleX&&1===this.scaleY},lanczosCreate:function(e){return function(t){if(t>=e||t<=-e)return 0;if(t<1.1920929e-7&&t>-1.1920929e-7)return 1;var n=(t*=Math.PI)/e;return s(t)/t*s(n)/n}},applyTo2d:function(e){var t=e.imageData,n=this.scaleX,r=this.scaleY;this.rcpScaleX=1/n,this.rcpScaleY=1/r;var i,a=t.width,s=t.height,l=o(a*n),c=o(s*r);"sliceHack"===this.resizeType?i=this.sliceByTwo(e,a,s,l,c):"hermite"===this.resizeType?i=this.hermiteFastResize(e,a,s,l,c):"bilinear"===this.resizeType?i=this.bilinearFiltering(e,a,s,l,c):"lanczos"===this.resizeType&&(i=this.lanczosResize(e,a,s,l,c)),e.imageData=i},sliceByTwo:function(e,n,i,a,o){var s,l,c=e.imageData,u=!1,h=!1,d=.5*n,p=.5*i,f=t.filterBackend.resources,m=0,g=0,v=n,_=0;for(f.sliceByTwo||(f.sliceByTwo=document.createElement("canvas")),((s=f.sliceByTwo).width<1.5*n||s.height<i)&&(s.width=1.5*n,s.height=i),(l=s.getContext("2d")).clearRect(0,0,1.5*n,i),l.putImageData(c,0,0),a=r(a),o=r(o);!u||!h;)n=d,i=p,a<r(.5*d)?d=r(.5*d):(d=a,u=!0),o<r(.5*p)?p=r(.5*p):(p=o,h=!0),l.drawImage(s,m,g,n,i,v,_,d,p),m=v,g=_,_+=p;return l.getImageData(m,g,a,o)},lanczosResize:function(e,t,o,s,c){var u=e.imageData.data,h=e.ctx.createImageData(s,c),d=h.data,p=this.lanczosCreate(this.lanczosLobes),f=this.rcpScaleX,m=this.rcpScaleY,g=2/this.rcpScaleX,v=2/this.rcpScaleY,_=l(f*this.lanczosLobes/2),b=l(m*this.lanczosLobes/2),y={},C={},w={};return function e(l){var k,x,S,O,j,E,P,M,T,I,A;for(C.x=(l+.5)*f,w.x=r(C.x),k=0;k<c;k++){for(C.y=(k+.5)*m,w.y=r(C.y),j=0,E=0,P=0,M=0,T=0,x=w.x-_;x<=w.x+_;x++)if(!(x<0||x>=t)){I=r(1e3*a(x-C.x)),y[I]||(y[I]={});for(var D=w.y-b;D<=w.y+b;D++)D<0||D>=o||(A=r(1e3*a(D-C.y)),y[I][A]||(y[I][A]=p(i(n(I*g,2)+n(A*v,2))/1e3)),(S=y[I][A])>0&&(j+=S,E+=S*u[O=4*(D*t+x)],P+=S*u[O+1],M+=S*u[O+2],T+=S*u[O+3]))}d[O=4*(k*s+l)]=E/j,d[O+1]=P/j,d[O+2]=M/j,d[O+3]=T/j}return++l<s?e(l):h}(0)},bilinearFiltering:function(e,t,n,i,a){var o,s,l,c,u,h,d,p,f=0,m=this.rcpScaleX,g=this.rcpScaleY,v=4*(t-1),_=e.imageData.data,b=e.ctx.createImageData(i,a),y=b.data;for(l=0;l<a;l++)for(c=0;c<i;c++)for(u=m*c-(o=r(m*c)),h=g*l-(s=r(g*l)),p=4*(s*t+o),d=0;d<4;d++)y[f++]=_[p+d]*(1-u)*(1-h)+_[p+4+d]*u*(1-h)+_[p+v+d]*h*(1-u)+_[p+v+4+d]*u*h;return b},hermiteFastResize:function(e,t,n,o,s){for(var c=this.rcpScaleX,u=this.rcpScaleY,h=l(c/2),d=l(u/2),p=e.imageData.data,f=e.ctx.createImageData(o,s),m=f.data,g=0;g<s;g++)for(var v=0;v<o;v++){for(var _=4*(v+g*o),b=0,y=0,C=0,w=0,k=0,x=0,S=0,O=(g+.5)*u,j=r(g*u);j<(g+1)*u;j++)for(var E=a(O-(j+.5))/d,P=(v+.5)*c,M=E*E,T=r(v*c);T<(v+1)*c;T++){var I=a(P-(T+.5))/h,A=i(M+I*I);A>1&&A<-1||(b=2*A*A*A-3*A*A+1)>0&&(S+=b*p[3+(I=4*(T+j*t))],C+=b,p[I+3]<255&&(b=b*p[I+3]/250),w+=b*p[I],k+=b*p[I+1],x+=b*p[I+2],y+=b)}m[_]=w/y,m[_+1]=k/y,m[_+2]=x/y,m[_+3]=S/C}return f},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),t.Image.filters.Resize.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Contrast=(0,t.util.createClass)(n.BaseFilter,{type:"Contrast",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uContrast;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));\ncolor.rgb = contrastF * (color.rgb - 0.5) + 0.5;\ngl_FragColor = color;\n}",contrast:0,mainParameter:"contrast",applyTo2d:function(e){if(0!==this.contrast){var t,n=e.imageData.data,r=n.length,i=Math.floor(255*this.contrast),a=259*(i+255)/(255*(259-i));for(t=0;t<r;t+=4)n[t]=a*(n[t]-128)+128,n[t+1]=a*(n[t+1]-128)+128,n[t+2]=a*(n[t+2]-128)+128}},getUniformLocations:function(e,t){return{uContrast:e.getUniformLocation(t,"uContrast")}},sendUniformData:function(e,t){e.uniform1f(t.uContrast,this.contrast)}}),t.Image.filters.Contrast.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Saturation=(0,t.util.createClass)(n.BaseFilter,{type:"Saturation",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform float uSaturation;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nfloat rgMax = max(color.r, color.g);\nfloat rgbMax = max(rgMax, color.b);\ncolor.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;\ncolor.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;\ncolor.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;\ngl_FragColor = color;\n}",saturation:0,mainParameter:"saturation",applyTo2d:function(e){if(0!==this.saturation){var t,n,r=e.imageData.data,i=r.length,a=-this.saturation;for(t=0;t<i;t+=4)n=Math.max(r[t],r[t+1],r[t+2]),r[t]+=n!==r[t]?(n-r[t])*a:0,r[t+1]+=n!==r[t+1]?(n-r[t+1])*a:0,r[t+2]+=n!==r[t+2]?(n-r[t+2])*a:0}},getUniformLocations:function(e,t){return{uSaturation:e.getUniformLocation(t,"uSaturation")}},sendUniformData:function(e,t){e.uniform1f(t.uSaturation,-this.saturation)}}),t.Image.filters.Saturation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Blur=(0,t.util.createClass)(n.BaseFilter,{type:"Blur",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec2 uDelta;\nvarying vec2 vTexCoord;\nconst float nSamples = 15.0;\nvec3 v3offset = vec3(12.9898, 78.233, 151.7182);\nfloat random(vec3 scale) {\nreturn fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);\n}\nvoid main() {\nvec4 color = vec4(0.0);\nfloat total = 0.0;\nfloat offset = random(v3offset);\nfor (float t = -nSamples; t <= nSamples; t++) {\nfloat percent = (t + offset - 0.5) / nSamples;\nfloat weight = 1.0 - abs(percent);\ncolor += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;\ntotal += weight;\n}\ngl_FragColor = color / total;\n}",blur:0,mainParameter:"blur",applyTo:function(e){e.webgl?(this.aspectRatio=e.sourceWidth/e.sourceHeight,e.passes++,this._setupFrameBuffer(e),this.horizontal=!0,this.applyToWebGL(e),this._swapTextures(e),this._setupFrameBuffer(e),this.horizontal=!1,this.applyToWebGL(e),this._swapTextures(e)):this.applyTo2d(e)},applyTo2d:function(e){e.imageData=this.simpleBlur(e)},simpleBlur:function(e){var n,r,i=e.filterBackend.resources,a=e.imageData.width,o=e.imageData.height;i.blurLayer1||(i.blurLayer1=t.util.createCanvasElement(),i.blurLayer2=t.util.createCanvasElement()),r=i.blurLayer2,(n=i.blurLayer1).width===a&&n.height===o||(r.width=n.width=a,r.height=n.height=o);var s,l,c,u,h=n.getContext("2d"),d=r.getContext("2d"),p=.06*this.blur*.5;for(h.putImageData(e.imageData,0,0),d.clearRect(0,0,a,o),u=-15;u<=15;u++)c=p*(l=u/15)*a+(s=(Math.random()-.5)/4),d.globalAlpha=1-Math.abs(l),d.drawImage(n,c,s),h.drawImage(r,0,0),d.globalAlpha=1,d.clearRect(0,0,r.width,r.height);for(u=-15;u<=15;u++)c=p*(l=u/15)*o+(s=(Math.random()-.5)/4),d.globalAlpha=1-Math.abs(l),d.drawImage(n,s,c),h.drawImage(r,0,0),d.globalAlpha=1,d.clearRect(0,0,r.width,r.height);e.ctx.drawImage(n,0,0);var f=e.ctx.getImageData(0,0,n.width,n.height);return h.globalAlpha=1,h.clearRect(0,0,n.width,n.height),f},getUniformLocations:function(e,t){return{delta:e.getUniformLocation(t,"uDelta")}},sendUniformData:function(e,t){var n=this.chooseRightDelta();e.uniform2fv(t.delta,n)},chooseRightDelta:function(){var e,t=1,n=[0,0];return this.horizontal?this.aspectRatio>1&&(t=1/this.aspectRatio):this.aspectRatio<1&&(t=this.aspectRatio),e=t*this.blur*.12,this.horizontal?n[0]=e:n[1]=e,n}}),n.Blur.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Gamma=(0,t.util.createClass)(n.BaseFilter,{type:"Gamma",fragmentSource:"precision highp float;\nuniform sampler2D uTexture;\nuniform vec3 uGamma;\nvarying vec2 vTexCoord;\nvoid main() {\nvec4 color = texture2D(uTexture, vTexCoord);\nvec3 correction = (1.0 / uGamma);\ncolor.r = pow(color.r, correction.r);\ncolor.g = pow(color.g, correction.g);\ncolor.b = pow(color.b, correction.b);\ngl_FragColor = color;\ngl_FragColor.rgb *= color.a;\n}",gamma:[1,1,1],mainParameter:"gamma",initialize:function(e){this.gamma=[1,1,1],n.BaseFilter.prototype.initialize.call(this,e)},applyTo2d:function(e){var t,n=e.imageData.data,r=this.gamma,i=n.length,a=1/r[0],o=1/r[1],s=1/r[2];for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),t=0,i=256;t<i;t++)this.rVals[t]=255*Math.pow(t/255,a),this.gVals[t]=255*Math.pow(t/255,o),this.bVals[t]=255*Math.pow(t/255,s);for(t=0,i=n.length;t<i;t+=4)n[t]=this.rVals[n[t]],n[t+1]=this.gVals[n[t+1]],n[t+2]=this.bVals[n[t+2]]},getUniformLocations:function(e,t){return{uGamma:e.getUniformLocation(t,"uGamma")}},sendUniformData:function(e,t){e.uniform3fv(t.uGamma,this.gamma)}}),t.Image.filters.Gamma.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.Composed=(0,t.util.createClass)(n.BaseFilter,{type:"Composed",subFilters:[],initialize:function(e){this.callSuper("initialize",e),this.subFilters=this.subFilters.slice(0)},applyTo:function(e){e.passes+=this.subFilters.length-1,this.subFilters.forEach((function(t){t.applyTo(e)}))},toObject:function(){return t.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map((function(e){return e.toObject()}))})},isNeutralState:function(){return!this.subFilters.some((function(e){return!e.isNeutralState()}))}}),t.Image.filters.Composed.fromObject=function(e,n){var r=(e.subFilters||[]).map((function(e){return new t.Image.filters[e.type](e)})),i=new t.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.Image.filters;n.HueRotation=(0,t.util.createClass)(n.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var e=this.rotation*Math.PI,n=t.util.cos(e),r=t.util.sin(e),i=Math.sqrt(1/3)*r,a=1-n;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=n+a/3,this.matrix[1]=1/3*a-i,this.matrix[2]=1/3*a+i,this.matrix[5]=1/3*a+i,this.matrix[6]=n+1/3*a,this.matrix[7]=1/3*a-i,this.matrix[10]=1/3*a-i,this.matrix[11]=1/3*a+i,this.matrix[12]=n+1/3*a},isNeutralState:function(e){return this.calculateMatrix(),n.BaseFilter.prototype.isNeutralState.call(this,e)},applyTo:function(e){this.calculateMatrix(),n.BaseFilter.prototype.applyTo.call(this,e)}}),t.Image.filters.HueRotation.fromObject=t.Image.filters.BaseFilter.fromObject}(t),function(e){"use strict";var t=e.fabric||(e.fabric={}),n=t.util.object.clone;t.Text?t.warn("fabric.Text is already defined"):(t.Text=t.util.createClass(t.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:t.Object.prototype.stateProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),cacheProperties:t.Object.prototype.cacheProperties.concat("fontFamily","fontWeight","fontSize","text","underline","overline","linethrough","textAlign","fontStyle","lineHeight","textBackgroundColor","charSpacing","styles"),stroke:null,shadow:null,_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(e,t){this.styles=t&&t.styles||{},this.text=e,this.__skipDimension=!0,this.callSuper("initialize",t),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},getMeasuringContext:function(){return t._measuringContext||(t._measuringContext=this.canvas&&this.canvas.contextCache||t.util.createCanvasElement().getContext("2d")),t._measuringContext},_splitText:function(){var e=this._splitTextIntoLines(this.text);return this.textLines=e.lines,this._textLines=e.graphemeLines,this._unwrappedTextLines=e._unwrappedLines,this._text=e.graphemeText,e},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var e,t,n,r,i,a,o=0,s=this._textLines.length;o<s;o++)if(("justify"===this.textAlign||o!==s-1&&!this.isEndOfWrapping(o))&&(n=0,r=this._textLines[o],(t=this.getLineWidth(o))<this.width&&(a=this.textLines[o].match(this._reSpacesAndTabs)))){e=(this.width-t)/a.length;for(var l=0,c=r.length;l<=c;l++)i=this.__charBounds[o][l],this._reSpaceAndTab.test(r[l])?(i.width+=e,i.kernedWidth+=e,i.left+=n,n+=e):i.left+=n}},isEndOfWrapping:function(e){return e===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var e=this.callSuper("_getCacheCanvasDimensions"),t=this.fontSize;return e.width+=t*e.zoomX,e.height+=t*e.zoomY,e},_render:function(e){this._setTextStyles(e),this._renderTextLinesBackground(e),this._renderTextDecoration(e,"underline"),this._renderText(e),this._renderTextDecoration(e,"overline"),this._renderTextDecoration(e,"linethrough")},_renderText:function(e){"stroke"===this.paintFirst?(this._renderTextStroke(e),this._renderTextFill(e)):(this._renderTextFill(e),this._renderTextStroke(e))},_setTextStyles:function(e,t,n){e.textBaseline="alphabetic",e.font=this._getFontDeclaration(t,n)},calcTextWidth:function(){for(var e=this.getLineWidth(0),t=1,n=this._textLines.length;t<n;t++){var r=this.getLineWidth(t);r>e&&(e=r)}return e},_renderTextLine:function(e,t,n,r,i,a){this._renderChars(e,t,n,r,i,a)},_renderTextLinesBackground:function(e){if(this.textBackgroundColor||this.styleHas("textBackgroundColor")){for(var t,n,r,i,a,o,s=0,l=e.fillStyle,c=this._getLeftOffset(),u=this._getTopOffset(),h=0,d=0,p=0,f=this._textLines.length;p<f;p++)if(t=this.getHeightOfLine(p),this.textBackgroundColor||this.styleHas("textBackgroundColor",p)){r=this._textLines[p],n=this._getLineLeftOffset(p),d=0,h=0,i=this.getValueOfPropertyAt(p,0,"textBackgroundColor");for(var m=0,g=r.length;m<g;m++)a=this.__charBounds[p][m],(o=this.getValueOfPropertyAt(p,m,"textBackgroundColor"))!==i?(e.fillStyle=i,i&&e.fillRect(c+n+h,u+s,d,t/this.lineHeight),h=a.left,d=a.width,i=o):d+=a.kernedWidth;o&&(e.fillStyle=o,e.fillRect(c+n+h,u+s,d,t/this.lineHeight)),s+=t}else s+=t;e.fillStyle=l,this._removeShadow(e)}},getFontCache:function(e){var n=e.fontFamily.toLowerCase();t.charWidthsCache[n]||(t.charWidthsCache[n]={});var r=t.charWidthsCache[n],i=e.fontStyle.toLowerCase()+"_"+(e.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_applyCharStyles:function(e,t,n,r,i){this._setFillStyles(t,i),this._setStrokeStyles(t,i),t.font=this._getFontDeclaration(i)},_measureChar:function(e,t,n,r){var i,a,o,s,l=this.getFontCache(t),c=n+e,u=this._getFontDeclaration(t)===this._getFontDeclaration(r),h=t.fontSize/this.CACHE_FONT_SIZE;if(n&&void 0!==l[n]&&(o=l[n]),void 0!==l[e]&&(s=i=l[e]),u&&void 0!==l[c]&&(s=(a=l[c])-o),void 0===i||void 0===o||void 0===a){var d=this.getMeasuringContext();this._setTextStyles(d,t,!0)}return void 0===i&&(s=i=d.measureText(e).width,l[e]=i),void 0===o&&u&&n&&(o=d.measureText(n).width,l[n]=o),u&&void 0===a&&(a=d.measureText(c).width,l[c]=a,s=a-o),{width:i*h,kernedWidth:s*h}},getHeightOfChar:function(e,t){return this.getValueOfPropertyAt(e,t,"fontSize")},measureLine:function(e){var t=this._measureLine(e);return 0!==this.charSpacing&&(t.width-=this._getWidthOfCharSpacing()),t.width<0&&(t.width=0),t},_measureLine:function(e){var t,n,r,i,a=0,o=this._textLines[e],s=new Array(o.length);for(this.__charBounds[e]=s,t=0;t<o.length;t++)i=this._getGraphemeBox(n=o[t],e,t,r),s[t]=i,a+=i.kernedWidth,r=n;return s[t]={left:i?i.left+i.width:0,width:0,kernedWidth:0,height:this.fontSize},{width:a,numOfSpaces:0}},_getGraphemeBox:function(e,t,n,r,i){var a,o=this.getCompleteStyleDeclaration(t,n),s=r?this.getCompleteStyleDeclaration(t,n-1):{},l=this._measureChar(e,o,r,s),c=l.kernedWidth,u=l.width;0!==this.charSpacing&&(u+=a=this._getWidthOfCharSpacing(),c+=a);var h={width:u,left:0,height:o.fontSize,kernedWidth:c,deltaY:o.deltaY};if(n>0&&!i){var d=this.__charBounds[t][n-1];h.left=d.left+d.width+l.kernedWidth-l.width}return h},getHeightOfLine:function(e){if(this.__lineHeights[e])return this.__lineHeights[e];for(var t=this._textLines[e],n=this.getHeightOfChar(e,0),r=1,i=t.length;r<i;r++)n=Math.max(this.getHeightOfChar(e,r),n);return this.__lineHeights[e]=n*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var e,t=0,n=0,r=this._textLines.length;n<r;n++)e=this.getHeightOfLine(n),t+=n===r-1?e/this.lineHeight:e;return t},_getLeftOffset:function(){return-this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(e,t){e.save();for(var n=0,r=this._getLeftOffset(),i=this._getTopOffset(),a=this._applyPatternGradientTransform(e,"fillText"===t?this.fill:this.stroke),o=0,s=this._textLines.length;o<s;o++){var l=this.getHeightOfLine(o),c=l/this.lineHeight,u=this._getLineLeftOffset(o);this._renderTextLine(t,e,this._textLines[o],r+u-a.offsetX,i+n+c-a.offsetY,o),n+=l}e.restore()},_renderTextFill:function(e){(this.fill||this.styleHas("fill"))&&this._renderTextCommon(e,"fillText")},_renderTextStroke:function(e){(this.stroke&&0!==this.strokeWidth||!this.isEmptyStyles())&&(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(e),e.save(),this._setLineDash(e,this.strokeDashArray),e.beginPath(),this._renderTextCommon(e,"strokeText"),e.closePath(),e.restore())},_renderChars:function(e,t,n,r,i,a){var o,s,l,c,u=this.getHeightOfLine(a),h=-1!==this.textAlign.indexOf("justify"),d="",p=0,f=!h&&0===this.charSpacing&&this.isEmptyStyles(a);if(t.save(),i-=u*this._fontSizeFraction/this.lineHeight,f)return this._renderChar(e,t,a,0,this.textLines[a],r,i,u),void t.restore();for(var m=0,g=n.length-1;m<=g;m++)c=m===g||this.charSpacing,d+=n[m],l=this.__charBounds[a][m],0===p?(r+=l.kernedWidth-l.width,p+=l.width):p+=l.kernedWidth,h&&!c&&this._reSpaceAndTab.test(n[m])&&(c=!0),c||(o=o||this.getCompleteStyleDeclaration(a,m),s=this.getCompleteStyleDeclaration(a,m+1),c=this._hasStyleChanged(o,s)),c&&(this._renderChar(e,t,a,m,d,r,i,u),d="",o=s,r+=p,p=0);t.restore()},_renderChar:function(e,t,n,r,i,a,o){var s=this._getStyleDeclaration(n,r),l=this.getCompleteStyleDeclaration(n,r),c="fillText"===e&&l.fill,u="strokeText"===e&&l.stroke&&l.strokeWidth;(u||c)&&(s&&t.save(),this._applyCharStyles(e,t,n,r,l),s&&s.textBackgroundColor&&this._removeShadow(t),s&&s.deltaY&&(o+=s.deltaY),c&&t.fillText(i,a,o),u&&t.strokeText(i,a,o),s&&t.restore())},setSuperscript:function(e,t){return this._setScript(e,t,this.superscript)},setSubscript:function(e,t){return this._setScript(e,t,this.subscript)},_setScript:function(e,t,n){var r=this.get2DCursorLocation(e,!0),i=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"fontSize"),a=this.getValueOfPropertyAt(r.lineIndex,r.charIndex,"deltaY");return this.setSelectionStyles({fontSize:i*n.size,deltaY:a+i*n.baseline},e,t),this},_hasStyleChanged:function(e,t){return e.fill!==t.fill||e.stroke!==t.stroke||e.strokeWidth!==t.strokeWidth||e.fontSize!==t.fontSize||e.fontFamily!==t.fontFamily||e.fontWeight!==t.fontWeight||e.fontStyle!==t.fontStyle||e.deltaY!==t.deltaY},_hasStyleChangedForSvg:function(e,t){return this._hasStyleChanged(e,t)||e.overline!==t.overline||e.underline!==t.underline||e.linethrough!==t.linethrough},_getLineLeftOffset:function(e){var t=this.getLineWidth(e);return"center"===this.textAlign?(this.width-t)/2:"right"===this.textAlign?this.width-t:"justify-center"===this.textAlign&&this.isEndOfWrapping(e)?(this.width-t)/2:"justify-right"===this.textAlign&&this.isEndOfWrapping(e)?this.width-t:0},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var e=this._forceClearCache;return e||(e=this.hasStateChanged("_dimensionAffectingProps")),e&&(this.dirty=!0,this._forceClearCache=!1),e},getLineWidth:function(e){return this.__lineWidths[e]?this.__lineWidths[e]:(t=""===this._textLines[e]?0:this.measureLine(e).width,this.__lineWidths[e]=t,t);var t},_getWidthOfCharSpacing:function(){return 0!==this.charSpacing?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(e,t,n){var r=this._getStyleDeclaration(e,t);return r&&void 0!==r[n]?r[n]:this[n]},_renderTextDecoration:function(e,t){if(this[t]||this.styleHas(t)){for(var n,r,i,a,o,s,l,c,u,h,d,p,f,m,g,v,_=this._getLeftOffset(),b=this._getTopOffset(),y=this._getWidthOfCharSpacing(),C=0,w=this._textLines.length;C<w;C++)if(n=this.getHeightOfLine(C),this[t]||this.styleHas(t,C)){l=this._textLines[C],m=n/this.lineHeight,a=this._getLineLeftOffset(C),h=0,d=0,c=this.getValueOfPropertyAt(C,0,t),v=this.getValueOfPropertyAt(C,0,"fill"),u=b+m*(1-this._fontSizeFraction),r=this.getHeightOfChar(C,0),o=this.getValueOfPropertyAt(C,0,"deltaY");for(var k=0,x=l.length;k<x;k++)p=this.__charBounds[C][k],f=this.getValueOfPropertyAt(C,k,t),g=this.getValueOfPropertyAt(C,k,"fill"),i=this.getHeightOfChar(C,k),s=this.getValueOfPropertyAt(C,k,"deltaY"),(f!==c||g!==v||i!==r||s!==o)&&d>0?(e.fillStyle=v,c&&v&&e.fillRect(_+a+h,u+this.offsets[t]*r+o,d,this.fontSize/15),h=p.left,d=p.width,c=f,v=g,r=i,o=s):d+=p.kernedWidth;e.fillStyle=g,f&&g&&e.fillRect(_+a+h,u+this.offsets[t]*r+o,d-y,this.fontSize/15),b+=n}else b+=n;this._removeShadow(e)}},_getFontDeclaration:function(e,n){var r=e||this,i=this.fontFamily,a=t.Text.genericFonts.indexOf(i.toLowerCase())>-1,o=void 0===i||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||a?r.fontFamily:'"'+r.fontFamily+'"';return[t.isLikelyNode?r.fontWeight:r.fontStyle,t.isLikelyNode?r.fontStyle:r.fontWeight,n?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(e){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",e)))},_splitTextIntoLines:function(e){for(var n=e.split(this._reNewline),r=new Array(n.length),i=["\n"],a=[],o=0;o<n.length;o++)r[o]=t.util.string.graphemeSplit(n[o]),a=a.concat(r[o],i);return a.pop(),{_unwrappedLines:r,lines:n,graphemeText:a,graphemeLines:r}},toObject:function(e){var t=["text","fontSize","fontWeight","fontFamily","fontStyle","lineHeight","underline","overline","linethrough","textAlign","textBackgroundColor","charSpacing"].concat(e),r=this.callSuper("toObject",t);return r.styles=n(this.styles,!0),r},set:function(e,t){this.callSuper("set",e,t);var n=!1;if("object"==typeof e)for(var r in e)n=n||-1!==this._dimensionAffectingProps.indexOf(r);else n=-1!==this._dimensionAffectingProps.indexOf(e);return n&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),t.Text.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),t.Text.DEFAULT_SVG_FONT_SIZE=16,t.Text.fromElement=function(e,r,i){if(!e)return r(null);var a=t.parseAttributes(e,t.Text.ATTRIBUTE_NAMES),o=a.textAnchor||"left";if((i=t.util.object.extend(i?n(i):{},a)).top=i.top||0,i.left=i.left||0,a.textDecoration){var s=a.textDecoration;-1!==s.indexOf("underline")&&(i.underline=!0),-1!==s.indexOf("overline")&&(i.overline=!0),-1!==s.indexOf("line-through")&&(i.linethrough=!0),delete i.textDecoration}"dx"in a&&(i.left+=a.dx),"dy"in a&&(i.top+=a.dy),"fontSize"in i||(i.fontSize=t.Text.DEFAULT_SVG_FONT_SIZE);var l="";"textContent"in e?l=e.textContent:"firstChild"in e&&null!==e.firstChild&&"data"in e.firstChild&&null!==e.firstChild.data&&(l=e.firstChild.data),l=l.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var c=i.strokeWidth;i.strokeWidth=0;var u=new t.Text(l,i),h=u.getScaledHeight()/u.height,d=((u.height+u.strokeWidth)*u.lineHeight-u.height)*h,p=u.getScaledHeight()+d,f=0;"center"===o&&(f=u.getScaledWidth()/2),"right"===o&&(f=u.getScaledWidth()),u.set({left:u.left-f,top:u.top-(p-u.fontSize*(.07+u._fontSizeFraction))/u.lineHeight,strokeWidth:void 0!==c?c:1}),r(u)},t.Text.fromObject=function(e,n){return t.Object._fromObject("Text",e,n,"text")},t.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],t.util.createAccessors&&t.util.createAccessors(t.Text))}(t),g.util.object.extend(g.Text.prototype,{isEmptyStyles:function(e){if(!this.styles)return!0;if(void 0!==e&&!this.styles[e])return!0;var t=void 0===e?this.styles:{line:this.styles[e]};for(var n in t)for(var r in t[n])for(var i in t[n][r])return!1;return!0},styleHas:function(e,t){if(!this.styles||!e||""===e)return!1;if(void 0!==t&&!this.styles[t])return!1;var n=void 0===t?this.styles:{0:this.styles[t]};for(var r in n)for(var i in n[r])if(void 0!==n[r][i][e])return!0;return!1},cleanStyle:function(e){if(!this.styles||!e||""===e)return!1;var t,n,r=this.styles,i=0,a=!0,o=0;for(var s in r){for(var l in t=0,r[s]){var c;i++,(c=r[s][l]).hasOwnProperty(e)?(n?c[e]!==n&&(a=!1):n=c[e],c[e]===this[e]&&delete c[e]):a=!1,0!==Object.keys(c).length?t++:delete r[s][l]}0===t&&delete r[s]}for(var u=0;u<this._textLines.length;u++)o+=this._textLines[u].length;a&&i===o&&(this[e]=n,this.removeStyle(e))},removeStyle:function(e){if(this.styles&&e&&""!==e){var t,n,r,i=this.styles;for(n in i){for(r in t=i[n])delete t[r][e],0===Object.keys(t[r]).length&&delete t[r];0===Object.keys(t).length&&delete i[n]}}},_extendStyles:function(e,t){var n=this.get2DCursorLocation(e);this._getLineStyle(n.lineIndex)||this._setLineStyle(n.lineIndex),this._getStyleDeclaration(n.lineIndex,n.charIndex)||this._setStyleDeclaration(n.lineIndex,n.charIndex,{}),g.util.object.extend(this._getStyleDeclaration(n.lineIndex,n.charIndex),t)},get2DCursorLocation:function(e,t){void 0===e&&(e=this.selectionStart);for(var n=t?this._unwrappedTextLines:this._textLines,r=n.length,i=0;i<r;i++){if(e<=n[i].length)return{lineIndex:i,charIndex:e};e-=n[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:n[i-1].length<e?n[i-1].length:e}},getSelectionStyles:function(e,t,n){void 0===e&&(e=this.selectionStart||0),void 0===t&&(t=this.selectionEnd||e);for(var r=[],i=e;i<t;i++)r.push(this.getStyleAtPosition(i,n));return r},getStyleAtPosition:function(e,t){var n=this.get2DCursorLocation(e);return(t?this.getCompleteStyleDeclaration(n.lineIndex,n.charIndex):this._getStyleDeclaration(n.lineIndex,n.charIndex))||{}},setSelectionStyles:function(e,t,n){void 0===t&&(t=this.selectionStart||0),void 0===n&&(n=this.selectionEnd||t);for(var r=t;r<n;r++)this._extendStyles(r,e);return this._forceClearCache=!0,this},_getStyleDeclaration:function(e,t){var n=this.styles&&this.styles[e];return n?n[t]:null},getCompleteStyleDeclaration:function(e,t){for(var n,r=this._getStyleDeclaration(e,t)||{},i={},a=0;a<this._styleProperties.length;a++)i[n=this._styleProperties[a]]=void 0===r[n]?this[n]:r[n];return i},_setStyleDeclaration:function(e,t,n){this.styles[e][t]=n},_deleteStyleDeclaration:function(e,t){delete this.styles[e][t]},_getLineStyle:function(e){return!!this.styles[e]},_setLineStyle:function(e){this.styles[e]={}},_deleteLineStyle:function(e){delete this.styles[e]}}),function(){function e(e){e.textDecoration&&(e.textDecoration.indexOf("underline")>-1&&(e.underline=!0),e.textDecoration.indexOf("line-through")>-1&&(e.linethrough=!0),e.textDecoration.indexOf("overline")>-1&&(e.overline=!0),delete e.textDecoration)}g.IText=g.util.createClass(g.Text,g.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"#333",cursorDelay:1e3,cursorDuration:600,caching:!0,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(e,t){this.callSuper("initialize",e,t),this.initBehavior()},setSelectionStart:function(e){e=Math.max(e,0),this._updateAndFire("selectionStart",e)},setSelectionEnd:function(e){e=Math.min(e,this.text.length),this._updateAndFire("selectionEnd",e)},_updateAndFire:function(e,t){this[e]!==t&&(this._fireSelectionChanged(),this[e]=t),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(e){this.clearContextTop(),this.callSuper("render",e),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(e){this.callSuper("_render",e)},clearContextTop:function(e){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var t=this.canvas.contextTop,n=this.canvas.viewportTransform;t.save(),t.transform(n[0],n[1],n[2],n[3],n[4],n[5]),this.transform(t),this.transformMatrix&&t.transform.apply(t,this.transformMatrix),this._clearTextArea(t),e||t.restore()}},renderCursorOrSelection:function(){if(this.isEditing&&this.canvas&&this.canvas.contextTop){var e=this._getCursorBoundaries(),t=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(e,t):this.renderSelection(e,t),t.restore()}},_clearTextArea:function(e){var t=this.width+4,n=this.height+4;e.clearRect(-t/2,-n/2,t,n)},_getCursorBoundaries:function(e){void 0===e&&(e=this.selectionStart);var t=this._getLeftOffset(),n=this._getTopOffset(),r=this._getCursorBoundariesOffsets(e);return{left:t,top:n,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(e){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var t,n,r,i=0,a=0,o=this.get2DCursorLocation(e);r=o.charIndex,n=o.lineIndex;for(var s=0;s<n;s++)i+=this.getHeightOfLine(s);t=this._getLineLeftOffset(n);var l=this.__charBounds[n][r];return l&&(a=l.left),0!==this.charSpacing&&r===this._textLines[n].length&&(a-=this._getWidthOfCharSpacing()),this.cursorOffsetCache={top:i,left:t+(a>0?a:0)},this.cursorOffsetCache},renderCursor:function(e,t){var n=this.get2DCursorLocation(),r=n.lineIndex,i=n.charIndex>0?n.charIndex-1:0,a=this.getValueOfPropertyAt(r,i,"fontSize"),o=this.scaleX*this.canvas.getZoom(),s=this.cursorWidth/o,l=e.topOffset,c=this.getValueOfPropertyAt(r,i,"deltaY");l+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-a*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(e,t),t.fillStyle=this.getValueOfPropertyAt(r,i,"fill"),t.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,t.fillRect(e.left+e.leftOffset-s/2,l+e.top+c,s,a)},renderSelection:function(e,t){for(var n=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,i=-1!==this.textAlign.indexOf("justify"),a=this.get2DCursorLocation(n),o=this.get2DCursorLocation(r),s=a.lineIndex,l=o.lineIndex,c=a.charIndex<0?0:a.charIndex,u=o.charIndex<0?0:o.charIndex,h=s;h<=l;h++){var d,p=this._getLineLeftOffset(h)||0,f=this.getHeightOfLine(h),m=0,g=0;if(h===s&&(m=this.__charBounds[s][c].left),h>=s&&h<l)g=i&&!this.isEndOfWrapping(h)?this.width:this.getLineWidth(h)||5;else if(h===l)if(0===u)g=this.__charBounds[l][u].left;else{var v=this._getWidthOfCharSpacing();g=this.__charBounds[l][u-1].left+this.__charBounds[l][u-1].width-v}d=f,(this.lineHeight<1||h===l&&this.lineHeight>1)&&(f/=this.lineHeight),this.inCompositionMode?(t.fillStyle=this.compositionColor||"black",t.fillRect(e.left+p+m,e.top+e.topOffset+f,g-m,1)):(t.fillStyle=this.selectionColor,t.fillRect(e.left+p+m,e.top+e.topOffset,g-m,f)),e.topOffset+=d}},getCurrentCharFontSize:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fontSize")},getCurrentCharColor:function(){var e=this._getCurrentCharIndex();return this.getValueOfPropertyAt(e.l,e.c,"fill")},_getCurrentCharIndex:function(){var e=this.get2DCursorLocation(this.selectionStart,!0);return{l:e.lineIndex,c:e.charIndex>0?e.charIndex-1:0}}}),g.IText.fromObject=function(t,n){if(e(t),t.styles)for(var r in t.styles)for(var i in t.styles[r])e(t.styles[r][i]);g.Object._fromObject("IText",t,n,"text")}}(),p=g.util.object.clone,g.util.object.extend(g.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var e=this;this.on("added",(function(){var t=e.canvas;t&&(t._hasITextHandlers||(t._hasITextHandlers=!0,e._initCanvasHandlers(t)),t._iTextInstances=t._iTextInstances||[],t._iTextInstances.push(e))}))},initRemovedHandler:function(){var e=this;this.on("removed",(function(){var t=e.canvas;t&&(t._iTextInstances=t._iTextInstances||[],g.util.removeFromArray(t._iTextInstances,e),0===t._iTextInstances.length&&(t._hasITextHandlers=!1,e._removeCanvasHandlers(t)))}))},_initCanvasHandlers:function(e){e._mouseUpITextHandler=function(){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.__isMousedown=!1}))},e.on("mouse:up",e._mouseUpITextHandler)},_removeCanvasHandlers:function(e){e.off("mouse:up",e._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(e,t,n,r){var i;return i={isAborted:!1,abort:function(){this.isAborted=!0}},e.animate("_currentCursorOpacity",t,{duration:n,onComplete:function(){i.isAborted||e[r]()},onChange:function(){e.canvas&&e.selectionStart===e.selectionEnd&&e.renderCursorOrSelection()},abort:function(){return i.isAborted}}),i},_onTickComplete:function(){var e=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout((function(){e._currentTickCompleteState=e._animateCursor(e,0,this.cursorDuration/2,"_tick")}),100)},initDelayedCursor:function(e){var t=this,n=e?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout((function(){t._tick()}),n)},abortCursorAnimation:function(){var e=this._currentTickState||this._currentTickCompleteState,t=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,e&&t&&t.clearContext(t.contextTop||t.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(e){var t=0,n=e-1;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n--;for(;/\S/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findWordBoundaryRight:function(e){var t=0,n=e;if(this._reSpace.test(this._text[n]))for(;this._reSpace.test(this._text[n]);)t++,n++;for(;/\S/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},findLineBoundaryLeft:function(e){for(var t=0,n=e-1;!/\n/.test(this._text[n])&&n>-1;)t++,n--;return e-t},findLineBoundaryRight:function(e){for(var t=0,n=e;!/\n/.test(this._text[n])&&n<this._text.length;)t++,n++;return e+t},searchWordBoundary:function(e,t){for(var n=this._text,r=this._reSpace.test(n[e])?e-1:e,i=n[r],a=g.reNonWord;!a.test(i)&&r>0&&r<n.length;)i=n[r+=t];return a.test(i)&&(r+=1===t?0:1),r},selectWord:function(e){var t=this.searchWordBoundary(e=e||this.selectionStart,-1),n=this.searchWordBoundary(e,1);this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(e){var t=this.findLineBoundaryLeft(e=e||this.selectionStart),n=this.findLineBoundaryRight(e);return this.selectionStart=t,this.selectionEnd=n,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(e){if(!this.isEditing&&this.editable)return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(e),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(e){e._iTextInstances&&e._iTextInstances.forEach((function(e){e.selected=!1,e.isEditing&&e.exitEditing()}))},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(e){if(this.__isMousedown&&this.isEditing){var t=this.getSelectionStartFromPointer(e.e),n=this.selectionStart,r=this.selectionEnd;(t===this.__selectionStartOnMouseDown&&n!==r||n!==t&&r!==t)&&(t>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=t):(this.selectionStart=t,this.selectionEnd=this.__selectionStartOnMouseDown),this.selectionStart===n&&this.selectionEnd===r||(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(e,t,n){var r=n.slice(0,e),i=g.util.string.graphemeSplit(r).length;if(e===t)return{selectionStart:i,selectionEnd:i};var a=n.slice(e,t);return{selectionStart:i,selectionEnd:i+g.util.string.graphemeSplit(a).length}},fromGraphemeToStringSelection:function(e,t,n){var r=n.slice(0,e).join("").length;return e===t?{selectionStart:r,selectionEnd:r}:{selectionStart:r,selectionEnd:r+n.slice(e,t).join("").length}},_updateTextarea:function(){if(this.cursorOffsetCache={},this.hiddenTextarea){if(!this.inCompositionMode){var e=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=e.selectionStart,this.hiddenTextarea.selectionEnd=e.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var e=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=e.selectionEnd,this.inCompositionMode||(this.selectionStart=e.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var e=this._calcTextareaPosition();this.hiddenTextarea.style.left=e.left,this.hiddenTextarea.style.top=e.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var e=this.inCompositionMode?this.compositionStart:this.selectionStart,t=this._getCursorBoundaries(e),n=this.get2DCursorLocation(e),r=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize")*this.lineHeight,i=t.leftOffset,a=this.calcTransformMatrix(),o={x:t.left+i,y:t.top+t.topOffset+r},s=this.canvas.getRetinaScaling(),l=this.canvas.upperCanvasEl,c=l.width/s,u=l.height/s,h=c-r,d=u-r,p=l.clientWidth/c,f=l.clientHeight/u;return o=g.util.transformPoint(o,a),(o=g.util.transformPoint(o,this.canvas.viewportTransform)).x*=p,o.y*=f,o.x<0&&(o.x=0),o.x>h&&(o.x=h),o.y<0&&(o.y=0),o.y>d&&(o.y=d),o.x+=this.canvas._offset.left,o.y+=this.canvas._offset.top,{left:o.x+"px",top:o.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var e=this._textBeforeEdit!==this.text;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,this.hiddenTextarea&&(this.hiddenTextarea.blur&&this.hiddenTextarea.blur(),this.canvas&&this.hiddenTextarea.parentNode.removeChild(this.hiddenTextarea),this.hiddenTextarea=null),this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),e&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),e&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var e in this.styles)this._textLines[e]||delete this.styles[e]},removeStyleFromTo:function(e,t){var n,r,i=this.get2DCursorLocation(e,!0),a=this.get2DCursorLocation(t,!0),o=i.lineIndex,s=i.charIndex,l=a.lineIndex,c=a.charIndex;if(o!==l){if(this.styles[o])for(n=s;n<this._unwrappedTextLines[o].length;n++)delete this.styles[o][n];if(this.styles[l])for(n=c;n<this._unwrappedTextLines[l].length;n++)(r=this.styles[l][n])&&(this.styles[o]||(this.styles[o]={}),this.styles[o][s+n-c]=r);for(n=o+1;n<=l;n++)delete this.styles[n];this.shiftLineStyles(l,o-l)}else if(this.styles[o]){r=this.styles[o];var u,h,d=c-s;for(n=s;n<c;n++)delete r[n];for(h in this.styles[o])(u=parseInt(h,10))>=c&&(r[u-d]=r[h],delete r[h])}},shiftLineStyles:function(e,t){var n=p(this.styles);for(var r in this.styles){var i=parseInt(r,10);i>e&&(this.styles[i+t]=n[i],n[i-t]||delete this.styles[i])}},restartCursorIfNeeded:function(){this._currentTickState&&!this._currentTickState.isAborted&&this._currentTickCompleteState&&!this._currentTickCompleteState.isAborted||this.initDelayedCursor()},insertNewlineStyleObject:function(e,t,n,r){var i,a={},o=!1;for(var s in n||(n=1),this.shiftLineStyles(e,n),this.styles[e]&&(i=this.styles[e][0===t?t:t-1]),this.styles[e]){var l=parseInt(s,10);l>=t&&(o=!0,a[l-t]=this.styles[e][s],delete this.styles[e][s])}for(o?this.styles[e+n]=a:delete this.styles[e+n];n>1;)n--,r&&r[n]?this.styles[e+n]={0:p(r[n])}:i?this.styles[e+n]={0:p(i)}:delete this.styles[e+n];this._forceClearCache=!0},insertCharStyleObject:function(e,t,n,r){this.styles||(this.styles={});var i=this.styles[e],a=i?p(i):{};for(var o in n||(n=1),a){var s=parseInt(o,10);s>=t&&(i[s+n]=a[s],a[s-n]||delete i[s])}if(this._forceClearCache=!0,r)for(;n--;)Object.keys(r[n]).length&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+n]=p(r[n]));else if(i)for(var l=i[t?t-1:1];l&&n--;)this.styles[e][t+n]=p(l)},insertNewStyleBlock:function(e,t,n){for(var r=this.get2DCursorLocation(t,!0),i=[0],a=0,o=0;o<e.length;o++)"\n"===e[o]?i[++a]=0:i[a]++;for(i[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,i[0],n),n=n&&n.slice(i[0]+1)),a&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+i[0],a),o=1;o<a;o++)i[o]>0?this.insertCharStyleObject(r.lineIndex+o,0,i[o],n):n&&(this.styles[r.lineIndex+o][0]=n[0]),n=n&&n.slice(i[o]+1);i[o]>0&&this.insertCharStyleObject(r.lineIndex+o,0,i[o],n)},setSelectionStartEndWithShift:function(e,t,n){n<=e?(t===e?this._selectionDirection="left":"right"===this._selectionDirection&&(this._selectionDirection="left",this.selectionEnd=e),this.selectionStart=n):n>e&&n<t?"right"===this._selectionDirection?this.selectionEnd=n:this.selectionStart=n:(t===e?this._selectionDirection="right":"left"===this._selectionDirection&&(this._selectionDirection="right",this.selectionStart=t),this.selectionEnd=n)},setSelectionInBoundaries:function(){var e=this.text.length;this.selectionStart>e?this.selectionStart=e:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>e?this.selectionEnd=e:this.selectionEnd<0&&(this.selectionEnd=0)}}),g.util.object.extend(g.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(e){if(this.canvas){this.__newClickTime=+new Date;var t=e.pointer;this.isTripleClick(t)&&(this.fire("tripleclick",e),this._stopEvent(e.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=t,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(e){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===e.x&&this.__lastPointer.y===e.y},_stopEvent:function(e){e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(e){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(e.e))},tripleClickHandler:function(e){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(e.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.__isMousedown=!0,this.selected&&this.setCursorByClick(e.e),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(e){!this.canvas||!this.editable||e.e.button&&1!==e.e.button||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(e){if(this.__isMousedown=!1,!(!this.editable||this.group||e.transform&&e.transform.actionPerformed||e.e.button&&1!==e.e.button)){if(this.canvas){var t=this.canvas._activeObject;if(t&&t!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(e.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(e){var t=this.getSelectionStartFromPointer(e);e.shiftKey?this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,t):(this.selectionStart=t,this.selectionEnd=t),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(e){for(var t=this.getLocalPointer(e),n=0,r=0,i=0,a=0,o=0,s=0,l=this._textLines.length;s<l&&i<=t.y;s++)i+=this.getHeightOfLine(s)*this.scaleY,o=s,s>0&&(a+=this._textLines[s-1].length+this.missingNewlineOffset(s-1));r=this._getLineLeftOffset(o)*this.scaleX;for(var c=0,u=this._textLines[o].length;c<u&&(n=r,(r+=this.__charBounds[o][c].kernedWidth*this.scaleX)<=t.x);c++)a++;return this._getNewSelectionStartFromOffset(t,n,r,a,u)},_getNewSelectionStartFromOffset:function(e,t,n,r,i){var a=n-e.x,o=r+(a>e.x-t||a<0?0:1);return this.flipX&&(o=i-o),o>this._text.length&&(o=this._text.length),o}}),g.util.object.extend(g.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=g.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var e=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+e.top+"; left: "+e.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uff70top: "+e.fontSize+";",g.document.body.appendChild(this.hiddenTextarea),g.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),g.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),g.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),g.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),g.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),g.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),g.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),g.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),g.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(g.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(e){if(this.isEditing&&!this.inCompositionMode){if(e.keyCode in this.keysMap)this[this.keysMap[e.keyCode]](e);else{if(!(e.keyCode in this.ctrlKeysMapDown)||!e.ctrlKey&&!e.metaKey)return;this[this.ctrlKeysMapDown[e.keyCode]](e)}e.stopImmediatePropagation(),e.preventDefault(),e.keyCode>=33&&e.keyCode<=40?(this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(e){!this.isEditing||this._copyDone||this.inCompositionMode?this._copyDone=!1:e.keyCode in this.ctrlKeysMapUp&&(e.ctrlKey||e.metaKey)&&(this[this.ctrlKeysMapUp[e.keyCode]](e),e.stopImmediatePropagation(),e.preventDefault(),this.canvas&&this.canvas.requestRenderAll())},onInput:function(e){var t=this.fromPaste;if(this.fromPaste=!1,e&&e.stopPropagation(),this.isEditing){var n,r,i=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,a=this._text.length,o=i.length,s=o-a;if(""===this.hiddenTextarea.value)return this.styles={},this.updateFromTextArea(),this.fire("changed"),void(this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll()));var l=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),c=this.selectionStart>l.selectionStart;this.selectionStart!==this.selectionEnd?(n=this._text.slice(this.selectionStart,this.selectionEnd),s+=this.selectionEnd-this.selectionStart):o<a&&(n=c?this._text.slice(this.selectionEnd+s,this.selectionEnd):this._text.slice(this.selectionStart,this.selectionStart-s)),r=i.slice(l.selectionEnd-s,l.selectionEnd),n&&n.length&&(this.selectionStart!==this.selectionEnd?this.removeStyleFromTo(this.selectionStart,this.selectionEnd):c?this.removeStyleFromTo(this.selectionEnd-n.length,this.selectionEnd):this.removeStyleFromTo(this.selectionEnd,this.selectionEnd+n.length)),r.length&&(t&&r.join("")===g.copiedText&&!g.disableStyleCopyPaste?this.insertNewStyleBlock(r,this.selectionStart,g.copiedTextStyle):this.insertNewStyleBlock(r,this.selectionStart)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(e){this.compositionStart=e.target.selectionStart,this.compositionEnd=e.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(g.copiedText=this.getSelectedText(),g.copiedTextStyle=g.disableStyleCopyPaste?null:this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(e){return e&&e.clipboardData||g.window.clipboardData},_getWidthBeforeCursor:function(e,t){var n,r=this._getLineLeftOffset(e);return t>0&&(r+=(n=this.__charBounds[e][t-1]).left+n.width),r},getDownCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(i===this._textLines.length-1||e.metaKey||34===e.keyCode)return this._text.length-n;var a=r.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i+1,o);return this._textLines[i].slice(a).length+s+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(e,t){return e.shiftKey&&this.selectionStart!==this.selectionEnd&&t?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(e,t){var n=this._getSelectionForOffset(e,t),r=this.get2DCursorLocation(n),i=r.lineIndex;if(0===i||e.metaKey||33===e.keyCode)return-n;var a=r.charIndex,o=this._getWidthBeforeCursor(i,a),s=this._getIndexOnLine(i-1,o),l=this._textLines[i].slice(0,a),c=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+s-l.length+(1-c)},_getIndexOnLine:function(e,t){for(var n,r,i=this._textLines[e],a=this._getLineLeftOffset(e),o=0,s=0,l=i.length;s<l;s++)if((a+=n=this.__charBounds[e][s].width)>t){r=!0;var c=a,u=Math.abs(a-n-t);o=Math.abs(c-t)<u?s:s-1;break}return r||(o=i.length-1),o},moveCursorDown:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",e)},moveCursorUp:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorUpOrDown("Up",e)},_moveCursorUpOrDown:function(e,t){var n=this["get"+e+"CursorOffset"](t,"right"===this._selectionDirection);t.shiftKey?this.moveCursorWithShift(n):this.moveCursorWithoutShift(n),0!==n&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(e){return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,"left"===this._selectionDirection?this.selectionStart+e:this.selectionEnd+e),0!==e},moveCursorWithoutShift:function(e){return e<0?(this.selectionStart+=e,this.selectionEnd=this.selectionStart):(this.selectionEnd+=e,this.selectionStart=this.selectionEnd),0!==e},moveCursorLeft:function(e){0===this.selectionStart&&0===this.selectionEnd||this._moveCursorLeftOrRight("Left",e)},_move:function(e,t,n){var r;if(e.altKey)r=this["findWordBoundary"+n](this[t]);else{if(!e.metaKey&&35!==e.keyCode&&36!==e.keyCode)return this[t]+="Left"===n?-1:1,!0;r=this["findLineBoundary"+n](this[t])}if(void 0!==typeof r&&this[t]!==r)return this[t]=r,!0},_moveLeft:function(e,t){return this._move(e,t,"Left")},_moveRight:function(e,t){return this._move(e,t,"Right")},moveCursorLeftWithoutShift:function(e){var t=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&0!==this.selectionStart&&(t=this._moveLeft(e,"selectionStart")),this.selectionEnd=this.selectionStart,t},moveCursorLeftWithShift:function(e){return"right"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveLeft(e,"selectionEnd"):0!==this.selectionStart?(this._selectionDirection="left",this._moveLeft(e,"selectionStart")):void 0},moveCursorRight:function(e){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",e)},_moveCursorLeftOrRight:function(e,t){var n="moveCursor"+e+"With";this._currentCursorOpacity=1,this[n+=t.shiftKey?"Shift":"outShift"](t)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(e){return"left"===this._selectionDirection&&this.selectionStart!==this.selectionEnd?this._moveRight(e,"selectionStart"):this.selectionEnd!==this._text.length?(this._selectionDirection="right",this._moveRight(e,"selectionEnd")):void 0},moveCursorRightWithoutShift:function(e){var t=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(t=this._moveRight(e,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,t},removeChars:function(e,t){void 0===t&&(t=e+1),this.removeStyleFromTo(e,t),this._text.splice(e,t-e),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(e,t,n,r){void 0===r&&(r=n),r>n&&this.removeStyleFromTo(n,r);var i=g.util.string.graphemeSplit(e);this.insertNewStyleBlock(i,n,t),this._text=[].concat(this._text.slice(0,n),i,this._text.slice(r)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),f=g.util.toFixed,m=/  +/g,g.util.object.extend(g.Text.prototype,{_toSVG:function(){var e=this._getSVGLeftTopOffsets(),t=this._getSVGTextAndBg(e.textTop,e.textLeft);return this._wrapSVGTextAndBg(t)},toSVG:function(e){return this._createBaseSVGMarkup(this._toSVG(),{reviver:e,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(e){var t=this.getSvgTextDecoration(this);return[e.textBgRects.join(""),'\t\t<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",t?'text-decoration="'+t+'" ':"",'style="',this.getSvgStyles(!0),'"',this.addPaintOrder()," >",e.textSpans.join(""),"</text>\n"]},_getSVGTextAndBg:function(e,t){var n,r=[],i=[],a=e;this._setSVGBg(i);for(var o=0,s=this._textLines.length;o<s;o++)n=this._getLineLeftOffset(o),(this.textBackgroundColor||this.styleHas("textBackgroundColor",o))&&this._setSVGTextLineBg(i,o,t+n,a),this._setSVGTextLineText(r,o,t+n,a),a+=this.getHeightOfLine(o);return{textSpans:r,textBgRects:i}},_createTextCharSpan:function(e,t,n,r){var i=e!==e.trim()||e.match(m),a=this.getSvgSpanStyles(t,i),o=a?'style="'+a+'"':"",s=t.deltaY,l="",c=g.Object.NUM_FRACTION_DIGITS;return s&&(l=' dy="'+f(s,c)+'" '),['<tspan x="',f(n,c),'" y="',f(r,c),'" ',l,o,">",g.util.string.escapeXml(e),"</tspan>"].join("")},_setSVGTextLineText:function(e,t,n,r){var i,a,o,s,l,c=this.getHeightOfLine(t),u=-1!==this.textAlign.indexOf("justify"),h="",d=0,p=this._textLines[t];r+=c*(1-this._fontSizeFraction)/this.lineHeight;for(var f=0,m=p.length-1;f<=m;f++)l=f===m||this.charSpacing,h+=p[f],o=this.__charBounds[t][f],0===d?(n+=o.kernedWidth-o.width,d+=o.width):d+=o.kernedWidth,u&&!l&&this._reSpaceAndTab.test(p[f])&&(l=!0),l||(i=i||this.getCompleteStyleDeclaration(t,f),a=this.getCompleteStyleDeclaration(t,f+1),l=this._hasStyleChangedForSvg(i,a)),l&&(s=this._getStyleDeclaration(t,f)||{},e.push(this._createTextCharSpan(h,s,n,r)),h="",i=a,n+=d,d=0)},_pushTextBgRect:function(e,t,n,r,i,a){var o=g.Object.NUM_FRACTION_DIGITS;e.push("\t\t<rect ",this._getFillAttributes(t),' x="',f(n,o),'" y="',f(r,o),'" width="',f(i,o),'" height="',f(a,o),'"></rect>\n')},_setSVGTextLineBg:function(e,t,n,r){for(var i,a,o=this._textLines[t],s=this.getHeightOfLine(t)/this.lineHeight,l=0,c=0,u=this.getValueOfPropertyAt(t,0,"textBackgroundColor"),h=0,d=o.length;h<d;h++)i=this.__charBounds[t][h],(a=this.getValueOfPropertyAt(t,h,"textBackgroundColor"))!==u?(u&&this._pushTextBgRect(e,u,n+c,r,l,s),c=i.left,l=i.width,u=a):l+=i.kernedWidth;a&&this._pushTextBgRect(e,a,n+c,r,l,s)},_getFillAttributes:function(e){var t=e&&"string"==typeof e?new g.Color(e):"";return t&&t.getSource()&&1!==t.getAlpha()?'opacity="'+t.getAlpha()+'" fill="'+t.setAlpha(1).toRgb()+'"':'fill="'+e+'"'},_getSVGLineTopOffset:function(e){for(var t,n=0,r=0;r<e;r++)n+=this.getHeightOfLine(r);return t=this.getHeightOfLine(r),{lineTop:n,offset:(this._fontSizeMult-this._fontSizeFraction)*t/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(e){return g.Object.prototype.getSvgStyles.call(this,e)+" white-space: pre;"}}),function(e){"use strict";var t=e.fabric||(e.fabric={});t.Textbox=t.util.createClass(t.IText,t.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:t.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),-1!==this.textAlign.indexOf("justify")&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(e){for(var t=0,n=0,r=0,i={},a=0;a<e.graphemeLines.length;a++)"\n"===e.graphemeText[r]&&a>0?(n=0,r++,t++):!this.splitByGrapheme&&this._reSpaceAndTab.test(e.graphemeText[r])&&a>0&&(n++,r++),i[a]={line:t,offset:n},r+=e.graphemeLines[a].length,n+=e.graphemeLines[a].length;return i},styleHas:function(e,n){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[n];r&&(n=r.line)}return t.Text.prototype.styleHas.call(this,e,n)},isEmptyStyles:function(e){if(!this.styles)return!0;var t,n,r=0,i=!1,a=this._styleMap[e],o=this._styleMap[e+1];for(var s in a&&(e=a.line,r=a.offset),o&&(i=o.line===e,t=o.offset),n=void 0===e?this.styles:{line:this.styles[e]})for(var l in n[s])if(l>=r&&(!i||l<t))for(var c in n[s][l])return!1;return!0},_getStyleDeclaration:function(e,t){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[e];if(!n)return null;e=n.line,t=n.offset+t}return this.callSuper("_getStyleDeclaration",e,t)},_setStyleDeclaration:function(e,t,n){var r=this._styleMap[e];this.styles[e=r.line][t=r.offset+t]=n},_deleteStyleDeclaration:function(e,t){var n=this._styleMap[e];delete this.styles[e=n.line][t=n.offset+t]},_getLineStyle:function(e){return!!this.styles[this._styleMap[e].line]},_setLineStyle:function(e){this.styles[this._styleMap[e].line]={}},_wrapText:function(e,t){var n,r=[];for(this.isWrapping=!0,n=0;n<e.length;n++)r=r.concat(this._wrapLine(e[n],n,t));return this.isWrapping=!1,r},_measureWord:function(e,t,n){var r,i=0;n=n||0;for(var a=0,o=e.length;a<o;a++)i+=this._getGraphemeBox(e[a],t,a+n,r,!0).kernedWidth,r=e[a];return i},_wrapLine:function(e,n,r,i){var a=0,o=this.splitByGrapheme,s=[],l=[],c=o?t.util.string.graphemeSplit(e):e.split(this._wordJoiners),u="",h=0,d=o?"":" ",p=0,f=0,m=0,g=!0,v=o?0:this._getWidthOfCharSpacing();i=i||0,0===c.length&&c.push([]),r-=i;for(var _=0;_<c.length;_++)u=o?c[_]:t.util.string.graphemeSplit(c[_]),p=this._measureWord(u,n,h),h+=u.length,(a+=f+p-v)>=r&&!g?(s.push(l),l=[],a=p,g=!0):a+=v,g||o||l.push(d),l=l.concat(u),f=this._measureWord([d],n,h),h++,g=!1,p>m&&(m=p);return _&&s.push(l),m+i>this.dynamicMinWidth&&(this.dynamicMinWidth=m-v+i),s},isEndOfWrapping:function(e){return!this._styleMap[e+1]||this._styleMap[e+1].line!==this._styleMap[e].line},missingNewlineOffset:function(e){return this.splitByGrapheme?this.isEndOfWrapping(e)?1:0:1},_splitTextIntoLines:function(e){for(var n=t.Text.prototype._splitTextIntoLines.call(this,e),r=this._wrapText(n.lines,this.width),i=new Array(r.length),a=0;a<r.length;a++)i[a]=r[a].join("");return n.lines=i,n.graphemeLines=r,n},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var e={};for(var t in this._styleMap)this._textLines[t]&&(e[this._styleMap[t].line]=1);for(var t in this.styles)e[t]||delete this.styles[t]},toObject:function(e){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(e))}}),t.Textbox.fromObject=function(e,n){return t.Object._fromObject("Textbox",e,n,"text")}}(t)},"gb/T":function(e,t,n){var r,i;e.exports=(i=n("Ib8C"),n("OLod"),i.mode.ECB=((r=i.lib.BlockCipherMode.extend()).Encryptor=r.extend({processBlock:function(e,t){this._cipher.encryptBlock(e,t)}}),r.Decryptor=r.extend({processBlock:function(e,t){this._cipher.decryptBlock(e,t)}}),r),i.mode.ECB)},jO9C:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso97971={pad:function(e,t){e.concat(r.lib.WordArray.create([2147483648],1)),r.pad.ZeroPadding.pad(e,t)},unpad:function(e){r.pad.ZeroPadding.unpad(e),e.sigBytes--}},r.pad.Iso97971)},lPiR:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(e){var t=r,n=t.lib,i=n.WordArray,a=n.Hasher,o=t.algo,s=[],l=[];!function(){function t(t){for(var n=e.sqrt(t),r=2;r<=n;r++)if(!(t%r))return!1;return!0}function n(e){return 4294967296*(e-(0|e))|0}for(var r=2,i=0;i<64;)t(r)&&(i<8&&(s[i]=n(e.pow(r,.5))),l[i]=n(e.pow(r,1/3)),i++),r++}();var c=[],u=o.SHA256=a.extend({_doReset:function(){this._hash=new i.init(s.slice(0))},_doProcessBlock:function(e,t){for(var n=this._hash.words,r=n[0],i=n[1],a=n[2],o=n[3],s=n[4],u=n[5],h=n[6],d=n[7],p=0;p<64;p++){if(p<16)c[p]=0|e[t+p];else{var f=c[p-15],m=c[p-2];c[p]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+c[p-7]+((m<<15|m>>>17)^(m<<13|m>>>19)^m>>>10)+c[p-16]}var g=r&i^r&a^i&a,v=d+((s<<26|s>>>6)^(s<<21|s>>>11)^(s<<7|s>>>25))+(s&u^~s&h)+l[p]+c[p];d=h,h=u,u=s,s=o+v|0,o=a,a=i,i=r,r=v+(((r<<30|r>>>2)^(r<<19|r>>>13)^(r<<10|r>>>22))+g)|0}n[0]=n[0]+r|0,n[1]=n[1]+i|0,n[2]=n[2]+a|0,n[3]=n[3]+o|0,n[4]=n[4]+s|0,n[5]=n[5]+u|0,n[6]=n[6]+h|0,n[7]=n[7]+d|0},_doFinalize:function(){var t=this._data,n=t.words,r=8*this._nDataBytes,i=8*t.sigBytes;return n[i>>>5]|=128<<24-i%32,n[14+(i+64>>>9<<4)]=e.floor(r/4294967296),n[15+(i+64>>>9<<4)]=r,t.sigBytes=4*n.length,this._process(),this._hash},clone:function(){var e=a.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=a._createHelper(u),t.HmacSHA256=a._createHmacHelper(u)}(Math),r.SHA256)},nYho:function(e,t,n){(function(e){var r;!function(i){"object"==typeof global&&global;var a,o=2147483647,s=/^xn--/,l=/[^\x20-\x7E]/,c=/[\x2E\u3002\uFF0E\uFF61]/g,u={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},h=Math.floor,d=String.fromCharCode;function p(e){throw RangeError(u[e])}function f(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function m(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+f((e=e.replace(c,".")).split("."),t).join(".")}function g(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function v(e){return f(e,(function(e){var t="";return e>65535&&(t+=d((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+d(e)})).join("")}function _(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function b(e,t,n){var r=0;for(e=n?h(e/700):e>>1,e+=h(e/t);e>455;r+=36)e=h(e/35);return h(r+36*e/(e+38))}function y(e){var t,n,r,i,a,s,l,c,u,d,f,m=[],g=e.length,_=0,y=128,C=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&p("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<g;){for(a=_,s=1,l=36;i>=g&&p("invalid-input"),((c=(f=e.charCodeAt(i++))-48<10?f-22:f-65<26?f-65:f-97<26?f-97:36)>=36||c>h((o-_)/s))&&p("overflow"),_+=c*s,!(c<(u=l<=C?1:l>=C+26?26:l-C));l+=36)s>h(o/(d=36-u))&&p("overflow"),s*=d;C=b(_-a,t=m.length+1,0==a),h(_/t)>o-y&&p("overflow"),y+=h(_/t),_%=t,m.splice(_++,0,y)}return v(m)}function C(e){var t,n,r,i,a,s,l,c,u,f,m,v,y,C,w,k=[];for(v=(e=g(e)).length,t=128,n=0,a=72,s=0;s<v;++s)(m=e[s])<128&&k.push(d(m));for(r=i=k.length,i&&k.push("-");r<v;){for(l=o,s=0;s<v;++s)(m=e[s])>=t&&m<l&&(l=m);for(l-t>h((o-n)/(y=r+1))&&p("overflow"),n+=(l-t)*y,t=l,s=0;s<v;++s)if((m=e[s])<t&&++n>o&&p("overflow"),m==t){for(c=n,u=36;!(c<(f=u<=a?1:u>=a+26?26:u-a));u+=36)k.push(d(_(f+(w=c-f)%(C=36-f),0))),c=h(w/C);k.push(d(_(c,0))),a=b(n,y,r==i),n=0,++r}++n,++t}return k.join("")}a={version:"1.3.2",ucs2:{decode:g,encode:v},decode:y,encode:C,toASCII:function(e){return m(e,(function(e){return l.test(e)?"xn--"+C(e):e}))},toUnicode:function(e){return m(e,(function(e){return s.test(e)?y(e.slice(4).toLowerCase()):e}))}},void 0===(r=(function(){return a}).call(t,n,t,e))||(e.exports=r)}()}).call(this,n("YuTi")(e))},oRuE:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.Iso10126={pad:function(e,t){var n=4*t,i=n-e.sigBytes%n;e.concat(r.lib.WordArray.random(i-1)).concat(r.lib.WordArray.create([i<<24],1))},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.pad.Iso10126)},pA7S:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib,n=t.WordArray,i=t.BlockCipher,a=e.algo,o=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],s=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],l=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],c=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],u=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],h=a.DES=i.extend({_doReset:function(){for(var e=this._key.words,t=[],n=0;n<56;n++){var r=o[n]-1;t[n]=e[r>>>5]>>>31-r%32&1}for(var i=this._subKeys=[],a=0;a<16;a++){var c=i[a]=[],u=l[a];for(n=0;n<24;n++)c[n/6|0]|=t[(s[n]-1+u)%28]<<31-n%6,c[4+(n/6|0)]|=t[28+(s[n+24]-1+u)%28]<<31-n%6;for(c[0]=c[0]<<1|c[0]>>>31,n=1;n<7;n++)c[n]=c[n]>>>4*(n-1)+3;c[7]=c[7]<<5|c[7]>>>27}var h=this._invSubKeys=[];for(n=0;n<16;n++)h[n]=i[15-n]},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._subKeys)},decryptBlock:function(e,t){this._doCryptBlock(e,t,this._invSubKeys)},_doCryptBlock:function(e,t,n){this._lBlock=e[t],this._rBlock=e[t+1],d.call(this,4,252645135),d.call(this,16,65535),p.call(this,2,858993459),p.call(this,8,16711935),d.call(this,1,1431655765);for(var r=0;r<16;r++){for(var i=n[r],a=this._lBlock,o=this._rBlock,s=0,l=0;l<8;l++)s|=c[l][((o^i[l])&u[l])>>>0];this._lBlock=o,this._rBlock=a^s}var h=this._lBlock;this._lBlock=this._rBlock,this._rBlock=h,d.call(this,1,1431655765),p.call(this,8,16711935),p.call(this,2,858993459),d.call(this,16,65535),d.call(this,4,252645135),e[t]=this._lBlock,e[t+1]=this._rBlock},keySize:2,ivSize:2,blockSize:2});function d(e,t){var n=(this._lBlock>>>e^this._rBlock)&t;this._rBlock^=n,this._lBlock^=n<<e}function p(e,t){var n=(this._rBlock>>>e^this._lBlock)&t;this._lBlock^=n,this._rBlock^=n<<e}e.DES=i._createHelper(h);var f=a.TripleDES=i.extend({_doReset:function(){var e=this._key.words;if(2!==e.length&&4!==e.length&&e.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var t=e.slice(0,2),r=e.length<4?e.slice(0,2):e.slice(2,4),i=e.length<6?e.slice(0,2):e.slice(4,6);this._des1=h.createEncryptor(n.create(t)),this._des2=h.createEncryptor(n.create(r)),this._des3=h.createEncryptor(n.create(i))},encryptBlock:function(e,t){this._des1.encryptBlock(e,t),this._des2.decryptBlock(e,t),this._des3.encryptBlock(e,t)},decryptBlock:function(e,t){this._des3.decryptBlock(e,t),this._des2.encryptBlock(e,t),this._des1.decryptBlock(e,t)},keySize:6,ivSize:2,blockSize:2});e.TripleDES=i._createHelper(f)}(),r.TripleDES)},"q+JS":function qJS(module,exports,__webpack_require__){var factory;window,factory=function factory(__WEBPACK_EXTERNAL_MODULE_fabric__,__WEBPACK_EXTERNAL_MODULE_tui_code_snippet__,__WEBPACK_EXTERNAL_MODULE_tui_color_picker__){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,(function(t){return e[t]}).bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/dist",n(n.s="./src/index.js")}({"./node_modules/core-js/library/es6/promise.js":function node_modulesCoreJsLibraryEs6PromiseJs(module,exports,__webpack_require__){eval('__webpack_require__(/*! ../modules/es6.object.to-string */ "./node_modules/core-js/library/modules/es6.object.to-string.js");\n__webpack_require__(/*! ../modules/es6.string.iterator */ "./node_modules/core-js/library/modules/es6.string.iterator.js");\n__webpack_require__(/*! ../modules/web.dom.iterable */ "./node_modules/core-js/library/modules/web.dom.iterable.js");\n__webpack_require__(/*! ../modules/es6.promise */ "./node_modules/core-js/library/modules/es6.promise.js");\nmodule.exports = __webpack_require__(/*! ../modules/_core */ "./node_modules/core-js/library/modules/_core.js").Promise;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/es6/promise.js?')},"./node_modules/core-js/library/modules/_a-function.js":function node_modulesCoreJsLibraryModules_aFunctionJs(module,exports){eval("module.exports = function(it){\n  if(typeof it != 'function')throw TypeError(it + ' is not a function!');\n  return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_a-function.js?")},"./node_modules/core-js/library/modules/_add-to-unscopables.js":function node_modulesCoreJsLibraryModules_addToUnscopablesJs(module,exports){eval("module.exports = function(){ /* empty */ };\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_add-to-unscopables.js?")},"./node_modules/core-js/library/modules/_an-instance.js":function node_modulesCoreJsLibraryModules_anInstanceJs(module,exports){eval("module.exports = function(it, Constructor, name, forbiddenField){\n  if(!(it instanceof Constructor) || (forbiddenField !== undefined && forbiddenField in it)){\n    throw TypeError(name + ': incorrect invocation!');\n  } return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_an-instance.js?")},"./node_modules/core-js/library/modules/_an-object.js":function node_modulesCoreJsLibraryModules_anObjectJs(module,exports,__webpack_require__){eval("var isObject = __webpack_require__(/*! ./_is-object */ \"./node_modules/core-js/library/modules/_is-object.js\");\nmodule.exports = function(it){\n  if(!isObject(it))throw TypeError(it + ' is not an object!');\n  return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_an-object.js?")},"./node_modules/core-js/library/modules/_array-includes.js":function node_modulesCoreJsLibraryModules_arrayIncludesJs(module,exports,__webpack_require__){eval('// false -> Array#indexOf\n// true  -> Array#includes\nvar toIObject = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js")\n  , toLength  = __webpack_require__(/*! ./_to-length */ "./node_modules/core-js/library/modules/_to-length.js")\n  , toIndex   = __webpack_require__(/*! ./_to-index */ "./node_modules/core-js/library/modules/_to-index.js");\nmodule.exports = function(IS_INCLUDES){\n  return function($this, el, fromIndex){\n    var O      = toIObject($this)\n      , length = toLength(O.length)\n      , index  = toIndex(fromIndex, length)\n      , value;\n    // Array#includes uses SameValueZero equality algorithm\n    if(IS_INCLUDES && el != el)while(length > index){\n      value = O[index++];\n      if(value != value)return true;\n    // Array#toIndex ignores holes, Array#includes - not\n    } else for(;length > index; index++)if(IS_INCLUDES || index in O){\n      if(O[index] === el)return IS_INCLUDES || index || 0;\n    } return !IS_INCLUDES && -1;\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_array-includes.js?')},"./node_modules/core-js/library/modules/_classof.js":function node_modulesCoreJsLibraryModules_classofJs(module,exports,__webpack_require__){eval("// getting tag from 19.1.3.6 Object.prototype.toString()\nvar cof = __webpack_require__(/*! ./_cof */ \"./node_modules/core-js/library/modules/_cof.js\")\n  , TAG = __webpack_require__(/*! ./_wks */ \"./node_modules/core-js/library/modules/_wks.js\")('toStringTag')\n  // ES3 wrong here\n  , ARG = cof(function(){ return arguments; }()) == 'Arguments';\n\n// fallback for IE11 Script Access Denied error\nvar tryGet = function(it, key){\n  try {\n    return it[key];\n  } catch(e){ /* empty */ }\n};\n\nmodule.exports = function(it){\n  var O, T, B;\n  return it === undefined ? 'Undefined' : it === null ? 'Null'\n    // @@toStringTag case\n    : typeof (T = tryGet(O = Object(it), TAG)) == 'string' ? T\n    // builtinTag case\n    : ARG ? cof(O)\n    // ES3 arguments fallback\n    : (B = cof(O)) == 'Object' && typeof O.callee == 'function' ? 'Arguments' : B;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_classof.js?")},"./node_modules/core-js/library/modules/_cof.js":function node_modulesCoreJsLibraryModules_cofJs(module,exports){eval("var toString = {}.toString;\n\nmodule.exports = function(it){\n  return toString.call(it).slice(8, -1);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_cof.js?")},"./node_modules/core-js/library/modules/_core.js":function node_modulesCoreJsLibraryModules_coreJs(module,exports){eval("var core = module.exports = {version: '2.4.0'};\nif(typeof __e == 'number')__e = core; // eslint-disable-line no-undef\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_core.js?")},"./node_modules/core-js/library/modules/_ctx.js":function node_modulesCoreJsLibraryModules_ctxJs(module,exports,__webpack_require__){eval('// optional / simple context binding\nvar aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js");\nmodule.exports = function(fn, that, length){\n  aFunction(fn);\n  if(that === undefined)return fn;\n  switch(length){\n    case 1: return function(a){\n      return fn.call(that, a);\n    };\n    case 2: return function(a, b){\n      return fn.call(that, a, b);\n    };\n    case 3: return function(a, b, c){\n      return fn.call(that, a, b, c);\n    };\n  }\n  return function(/* ...args */){\n    return fn.apply(that, arguments);\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_ctx.js?')},"./node_modules/core-js/library/modules/_defined.js":function node_modulesCoreJsLibraryModules_definedJs(module,exports){eval('// 7.2.1 RequireObjectCoercible(argument)\nmodule.exports = function(it){\n  if(it == undefined)throw TypeError("Can\'t call method on  " + it);\n  return it;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_defined.js?')},"./node_modules/core-js/library/modules/_descriptors.js":function node_modulesCoreJsLibraryModules_descriptorsJs(module,exports,__webpack_require__){eval("// Thank's IE8 for his funny defineProperty\nmodule.exports = !__webpack_require__(/*! ./_fails */ \"./node_modules/core-js/library/modules/_fails.js\")(function(){\n  return Object.defineProperty({}, 'a', {get: function(){ return 7; }}).a != 7;\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_descriptors.js?")},"./node_modules/core-js/library/modules/_dom-create.js":function node_modulesCoreJsLibraryModules_domCreateJs(module,exports,__webpack_require__){eval('var isObject = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js")\n  , document = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").document\n  // in old IE typeof document.createElement is \'object\'\n  , is = isObject(document) && isObject(document.createElement);\nmodule.exports = function(it){\n  return is ? document.createElement(it) : {};\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_dom-create.js?')},"./node_modules/core-js/library/modules/_enum-bug-keys.js":function node_modulesCoreJsLibraryModules_enumBugKeysJs(module,exports){eval("// IE 8- don't enum bug keys\nmodule.exports = (\n  'constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf'\n).split(',');\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_enum-bug-keys.js?")},"./node_modules/core-js/library/modules/_export.js":function node_modulesCoreJsLibraryModules_exportJs(module,exports,__webpack_require__){eval('var global    = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , core      = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")\n  , ctx       = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")\n  , hide      = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")\n  , PROTOTYPE = \'prototype\';\n\nvar $export = function(type, name, source){\n  var IS_FORCED = type & $export.F\n    , IS_GLOBAL = type & $export.G\n    , IS_STATIC = type & $export.S\n    , IS_PROTO  = type & $export.P\n    , IS_BIND   = type & $export.B\n    , IS_WRAP   = type & $export.W\n    , exports   = IS_GLOBAL ? core : core[name] || (core[name] = {})\n    , expProto  = exports[PROTOTYPE]\n    , target    = IS_GLOBAL ? global : IS_STATIC ? global[name] : (global[name] || {})[PROTOTYPE]\n    , key, own, out;\n  if(IS_GLOBAL)source = name;\n  for(key in source){\n    // contains in native\n    own = !IS_FORCED && target && target[key] !== undefined;\n    if(own && key in exports)continue;\n    // export native or passed\n    out = own ? target[key] : source[key];\n    // prevent global pollution for namespaces\n    exports[key] = IS_GLOBAL && typeof target[key] != \'function\' ? source[key]\n    // bind timers to global for call from export context\n    : IS_BIND && own ? ctx(out, global)\n    // wrap global constructors for prevent change them in library\n    : IS_WRAP && target[key] == out ? (function(C){\n      var F = function(a, b, c){\n        if(this instanceof C){\n          switch(arguments.length){\n            case 0: return new C;\n            case 1: return new C(a);\n            case 2: return new C(a, b);\n          } return new C(a, b, c);\n        } return C.apply(this, arguments);\n      };\n      F[PROTOTYPE] = C[PROTOTYPE];\n      return F;\n    // make static versions for prototype methods\n    })(out) : IS_PROTO && typeof out == \'function\' ? ctx(Function.call, out) : out;\n    // export proto methods to core.%CONSTRUCTOR%.methods.%NAME%\n    if(IS_PROTO){\n      (exports.virtual || (exports.virtual = {}))[key] = out;\n      // export proto methods to core.%CONSTRUCTOR%.prototype.%NAME%\n      if(type & $export.R && expProto && !expProto[key])hide(expProto, key, out);\n    }\n  }\n};\n// type bitmap\n$export.F = 1;   // forced\n$export.G = 2;   // global\n$export.S = 4;   // static\n$export.P = 8;   // proto\n$export.B = 16;  // bind\n$export.W = 32;  // wrap\n$export.U = 64;  // safe\n$export.R = 128; // real proto method for `library` \nmodule.exports = $export;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_export.js?')},"./node_modules/core-js/library/modules/_fails.js":function node_modulesCoreJsLibraryModules_failsJs(module,exports){eval("module.exports = function(exec){\n  try {\n    return !!exec();\n  } catch(e){\n    return true;\n  }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_fails.js?")},"./node_modules/core-js/library/modules/_for-of.js":function node_modulesCoreJsLibraryModules_forOfJs(module,exports,__webpack_require__){eval('var ctx         = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")\n  , call        = __webpack_require__(/*! ./_iter-call */ "./node_modules/core-js/library/modules/_iter-call.js")\n  , isArrayIter = __webpack_require__(/*! ./_is-array-iter */ "./node_modules/core-js/library/modules/_is-array-iter.js")\n  , anObject    = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js")\n  , toLength    = __webpack_require__(/*! ./_to-length */ "./node_modules/core-js/library/modules/_to-length.js")\n  , getIterFn   = __webpack_require__(/*! ./core.get-iterator-method */ "./node_modules/core-js/library/modules/core.get-iterator-method.js")\n  , BREAK       = {}\n  , RETURN      = {};\nvar exports = module.exports = function(iterable, entries, fn, that, ITERATOR){\n  var iterFn = ITERATOR ? function(){ return iterable; } : getIterFn(iterable)\n    , f      = ctx(fn, that, entries ? 2 : 1)\n    , index  = 0\n    , length, step, iterator, result;\n  if(typeof iterFn != \'function\')throw TypeError(iterable + \' is not iterable!\');\n  // fast case for arrays with default iterator\n  if(isArrayIter(iterFn))for(length = toLength(iterable.length); length > index; index++){\n    result = entries ? f(anObject(step = iterable[index])[0], step[1]) : f(iterable[index]);\n    if(result === BREAK || result === RETURN)return result;\n  } else for(iterator = iterFn.call(iterable); !(step = iterator.next()).done; ){\n    result = call(iterator, f, step.value, entries);\n    if(result === BREAK || result === RETURN)return result;\n  }\n};\nexports.BREAK  = BREAK;\nexports.RETURN = RETURN;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_for-of.js?')},"./node_modules/core-js/library/modules/_global.js":function node_modulesCoreJsLibraryModules_globalJs(module,exports){eval("// https://github.com/zloirock/core-js/issues/86#issuecomment-115759028\nvar global = module.exports = typeof window != 'undefined' && window.Math == Math\n  ? window : typeof self != 'undefined' && self.Math == Math ? self : Function('return this')();\nif(typeof __g == 'number')__g = global; // eslint-disable-line no-undef\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_global.js?")},"./node_modules/core-js/library/modules/_has.js":function node_modulesCoreJsLibraryModules_hasJs(module,exports){eval("var hasOwnProperty = {}.hasOwnProperty;\nmodule.exports = function(it, key){\n  return hasOwnProperty.call(it, key);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_has.js?")},"./node_modules/core-js/library/modules/_hide.js":function node_modulesCoreJsLibraryModules_hideJs(module,exports,__webpack_require__){eval('var dP         = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js")\n  , createDesc = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js");\nmodule.exports = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? function(object, key, value){\n  return dP.f(object, key, createDesc(1, value));\n} : function(object, key, value){\n  object[key] = value;\n  return object;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_hide.js?')},"./node_modules/core-js/library/modules/_html.js":function node_modulesCoreJsLibraryModules_htmlJs(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js").document && document.documentElement;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_html.js?')},"./node_modules/core-js/library/modules/_ie8-dom-define.js":function node_modulesCoreJsLibraryModules_ie8DomDefineJs(module,exports,__webpack_require__){eval('module.exports = !__webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") && !__webpack_require__(/*! ./_fails */ "./node_modules/core-js/library/modules/_fails.js")(function(){\n  return Object.defineProperty(__webpack_require__(/*! ./_dom-create */ "./node_modules/core-js/library/modules/_dom-create.js")(\'div\'), \'a\', {get: function(){ return 7; }}).a != 7;\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_ie8-dom-define.js?')},"./node_modules/core-js/library/modules/_invoke.js":function node_modulesCoreJsLibraryModules_invokeJs(module,exports){eval("// fast apply, http://jsperf.lnkit.com/fast-apply/5\nmodule.exports = function(fn, args, that){\n  var un = that === undefined;\n  switch(args.length){\n    case 0: return un ? fn()\n                      : fn.call(that);\n    case 1: return un ? fn(args[0])\n                      : fn.call(that, args[0]);\n    case 2: return un ? fn(args[0], args[1])\n                      : fn.call(that, args[0], args[1]);\n    case 3: return un ? fn(args[0], args[1], args[2])\n                      : fn.call(that, args[0], args[1], args[2]);\n    case 4: return un ? fn(args[0], args[1], args[2], args[3])\n                      : fn.call(that, args[0], args[1], args[2], args[3]);\n  } return              fn.apply(that, args);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_invoke.js?")},"./node_modules/core-js/library/modules/_iobject.js":function node_modulesCoreJsLibraryModules_iobjectJs(module,exports,__webpack_require__){eval("// fallback for non-array-like ES3 and non-enumerable old V8 strings\nvar cof = __webpack_require__(/*! ./_cof */ \"./node_modules/core-js/library/modules/_cof.js\");\nmodule.exports = Object('z').propertyIsEnumerable(0) ? Object : function(it){\n  return cof(it) == 'String' ? it.split('') : Object(it);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iobject.js?")},"./node_modules/core-js/library/modules/_is-array-iter.js":function node_modulesCoreJsLibraryModules_isArrayIterJs(module,exports,__webpack_require__){eval('// check on default Array iterator\nvar Iterators  = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js")\n  , ITERATOR   = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\')\n  , ArrayProto = Array.prototype;\n\nmodule.exports = function(it){\n  return it !== undefined && (Iterators.Array === it || ArrayProto[ITERATOR] === it);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_is-array-iter.js?')},"./node_modules/core-js/library/modules/_is-object.js":function node_modulesCoreJsLibraryModules_isObjectJs(module,exports){eval("module.exports = function(it){\n  return typeof it === 'object' ? it !== null : typeof it === 'function';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_is-object.js?")},"./node_modules/core-js/library/modules/_iter-call.js":function node_modulesCoreJsLibraryModules_iterCallJs(module,exports,__webpack_require__){eval("// call something on iterator step with safe closing on error\nvar anObject = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/library/modules/_an-object.js\");\nmodule.exports = function(iterator, fn, value, entries){\n  try {\n    return entries ? fn(anObject(value)[0], value[1]) : fn(value);\n  // 7.4.6 IteratorClose(iterator, completion)\n  } catch(e){\n    var ret = iterator['return'];\n    if(ret !== undefined)anObject(ret.call(iterator));\n    throw e;\n  }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-call.js?")},"./node_modules/core-js/library/modules/_iter-create.js":function node_modulesCoreJsLibraryModules_iterCreateJs(module,exports,__webpack_require__){"use strict";eval('\nvar create         = __webpack_require__(/*! ./_object-create */ "./node_modules/core-js/library/modules/_object-create.js")\n  , descriptor     = __webpack_require__(/*! ./_property-desc */ "./node_modules/core-js/library/modules/_property-desc.js")\n  , setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")\n  , IteratorPrototype = {};\n\n// 25.1.2.1.1 %IteratorPrototype%[@@iterator]()\n__webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")(IteratorPrototype, __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\'), function(){ return this; });\n\nmodule.exports = function(Constructor, NAME, next){\n  Constructor.prototype = create(IteratorPrototype, {next: descriptor(1, next)});\n  setToStringTag(Constructor, NAME + \' Iterator\');\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-create.js?')},"./node_modules/core-js/library/modules/_iter-define.js":function node_modulesCoreJsLibraryModules_iterDefineJs(module,exports,__webpack_require__){"use strict";eval('\nvar LIBRARY        = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js")\n  , $export        = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js")\n  , redefine       = __webpack_require__(/*! ./_redefine */ "./node_modules/core-js/library/modules/_redefine.js")\n  , hide           = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js")\n  , has            = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , Iterators      = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js")\n  , $iterCreate    = __webpack_require__(/*! ./_iter-create */ "./node_modules/core-js/library/modules/_iter-create.js")\n  , setToStringTag = __webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")\n  , getPrototypeOf = __webpack_require__(/*! ./_object-gpo */ "./node_modules/core-js/library/modules/_object-gpo.js")\n  , ITERATOR       = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\')\n  , BUGGY          = !([].keys && \'next\' in [].keys()) // Safari has buggy iterators w/o `next`\n  , FF_ITERATOR    = \'@@iterator\'\n  , KEYS           = \'keys\'\n  , VALUES         = \'values\';\n\nvar returnThis = function(){ return this; };\n\nmodule.exports = function(Base, NAME, Constructor, next, DEFAULT, IS_SET, FORCED){\n  $iterCreate(Constructor, NAME, next);\n  var getMethod = function(kind){\n    if(!BUGGY && kind in proto)return proto[kind];\n    switch(kind){\n      case KEYS: return function keys(){ return new Constructor(this, kind); };\n      case VALUES: return function values(){ return new Constructor(this, kind); };\n    } return function entries(){ return new Constructor(this, kind); };\n  };\n  var TAG        = NAME + \' Iterator\'\n    , DEF_VALUES = DEFAULT == VALUES\n    , VALUES_BUG = false\n    , proto      = Base.prototype\n    , $native    = proto[ITERATOR] || proto[FF_ITERATOR] || DEFAULT && proto[DEFAULT]\n    , $default   = $native || getMethod(DEFAULT)\n    , $entries   = DEFAULT ? !DEF_VALUES ? $default : getMethod(\'entries\') : undefined\n    , $anyNative = NAME == \'Array\' ? proto.entries || $native : $native\n    , methods, key, IteratorPrototype;\n  // Fix native\n  if($anyNative){\n    IteratorPrototype = getPrototypeOf($anyNative.call(new Base));\n    if(IteratorPrototype !== Object.prototype){\n      // Set @@toStringTag to native iterators\n      setToStringTag(IteratorPrototype, TAG, true);\n      // fix for some old engines\n      if(!LIBRARY && !has(IteratorPrototype, ITERATOR))hide(IteratorPrototype, ITERATOR, returnThis);\n    }\n  }\n  // fix Array#{values, @@iterator}.name in V8 / FF\n  if(DEF_VALUES && $native && $native.name !== VALUES){\n    VALUES_BUG = true;\n    $default = function values(){ return $native.call(this); };\n  }\n  // Define iterator\n  if((!LIBRARY || FORCED) && (BUGGY || VALUES_BUG || !proto[ITERATOR])){\n    hide(proto, ITERATOR, $default);\n  }\n  // Plug for library\n  Iterators[NAME] = $default;\n  Iterators[TAG]  = returnThis;\n  if(DEFAULT){\n    methods = {\n      values:  DEF_VALUES ? $default : getMethod(VALUES),\n      keys:    IS_SET     ? $default : getMethod(KEYS),\n      entries: $entries\n    };\n    if(FORCED)for(key in methods){\n      if(!(key in proto))redefine(proto, key, methods[key]);\n    } else $export($export.P + $export.F * (BUGGY || VALUES_BUG), NAME, methods);\n  }\n  return methods;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-define.js?')},"./node_modules/core-js/library/modules/_iter-detect.js":function node_modulesCoreJsLibraryModules_iterDetectJs(module,exports,__webpack_require__){eval("var ITERATOR     = __webpack_require__(/*! ./_wks */ \"./node_modules/core-js/library/modules/_wks.js\")('iterator')\n  , SAFE_CLOSING = false;\n\ntry {\n  var riter = [7][ITERATOR]();\n  riter['return'] = function(){ SAFE_CLOSING = true; };\n  Array.from(riter, function(){ throw 2; });\n} catch(e){ /* empty */ }\n\nmodule.exports = function(exec, skipClosing){\n  if(!skipClosing && !SAFE_CLOSING)return false;\n  var safe = false;\n  try {\n    var arr  = [7]\n      , iter = arr[ITERATOR]();\n    iter.next = function(){ return {done: safe = true}; };\n    arr[ITERATOR] = function(){ return iter; };\n    exec(arr);\n  } catch(e){ /* empty */ }\n  return safe;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-detect.js?")},"./node_modules/core-js/library/modules/_iter-step.js":function node_modulesCoreJsLibraryModules_iterStepJs(module,exports){eval("module.exports = function(done, value){\n  return {value: value, done: !!done};\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iter-step.js?")},"./node_modules/core-js/library/modules/_iterators.js":function node_modulesCoreJsLibraryModules_iteratorsJs(module,exports){eval("module.exports = {};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_iterators.js?")},"./node_modules/core-js/library/modules/_library.js":function node_modulesCoreJsLibraryModules_libraryJs(module,exports){eval("module.exports = true;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_library.js?")},"./node_modules/core-js/library/modules/_microtask.js":function node_modulesCoreJsLibraryModules_microtaskJs(module,exports,__webpack_require__){eval('var global    = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , macrotask = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js").set\n  , Observer  = global.MutationObserver || global.WebKitMutationObserver\n  , process   = global.process\n  , Promise   = global.Promise\n  , isNode    = __webpack_require__(/*! ./_cof */ "./node_modules/core-js/library/modules/_cof.js")(process) == \'process\';\n\nmodule.exports = function(){\n  var head, last, notify;\n\n  var flush = function(){\n    var parent, fn;\n    if(isNode && (parent = process.domain))parent.exit();\n    while(head){\n      fn   = head.fn;\n      head = head.next;\n      try {\n        fn();\n      } catch(e){\n        if(head)notify();\n        else last = undefined;\n        throw e;\n      }\n    } last = undefined;\n    if(parent)parent.enter();\n  };\n\n  // Node.js\n  if(isNode){\n    notify = function(){\n      process.nextTick(flush);\n    };\n  // browsers with MutationObserver\n  } else if(Observer){\n    var toggle = true\n      , node   = document.createTextNode(\'\');\n    new Observer(flush).observe(node, {characterData: true}); // eslint-disable-line no-new\n    notify = function(){\n      node.data = toggle = !toggle;\n    };\n  // environments with maybe non-completely correct, but existent Promise\n  } else if(Promise && Promise.resolve){\n    var promise = Promise.resolve();\n    notify = function(){\n      promise.then(flush);\n    };\n  // for other environments - macrotask based on:\n  // - setImmediate\n  // - MessageChannel\n  // - window.postMessag\n  // - onreadystatechange\n  // - setTimeout\n  } else {\n    notify = function(){\n      // strange IE + webpack dev server bug - use .call(global)\n      macrotask.call(global, flush);\n    };\n  }\n\n  return function(fn){\n    var task = {fn: fn, next: undefined};\n    if(last)last.next = task;\n    if(!head){\n      head = task;\n      notify();\n    } last = task;\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_microtask.js?')},"./node_modules/core-js/library/modules/_object-create.js":function node_modulesCoreJsLibraryModules_objectCreateJs(module,exports,__webpack_require__){eval("// 19.1.2.2 / 15.2.3.5 Object.create(O [, Properties])\nvar anObject    = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/library/modules/_an-object.js\")\n  , dPs         = __webpack_require__(/*! ./_object-dps */ \"./node_modules/core-js/library/modules/_object-dps.js\")\n  , enumBugKeys = __webpack_require__(/*! ./_enum-bug-keys */ \"./node_modules/core-js/library/modules/_enum-bug-keys.js\")\n  , IE_PROTO    = __webpack_require__(/*! ./_shared-key */ \"./node_modules/core-js/library/modules/_shared-key.js\")('IE_PROTO')\n  , Empty       = function(){ /* empty */ }\n  , PROTOTYPE   = 'prototype';\n\n// Create object with fake `null` prototype: use iframe Object with cleared prototype\nvar createDict = function(){\n  // Thrash, waste and sodomy: IE GC bug\n  var iframe = __webpack_require__(/*! ./_dom-create */ \"./node_modules/core-js/library/modules/_dom-create.js\")('iframe')\n    , i      = enumBugKeys.length\n    , lt     = '<'\n    , gt     = '>'\n    , iframeDocument;\n  iframe.style.display = 'none';\n  __webpack_require__(/*! ./_html */ \"./node_modules/core-js/library/modules/_html.js\").appendChild(iframe);\n  iframe.src = 'javascript:'; // eslint-disable-line no-script-url\n  // createDict = iframe.contentWindow.Object;\n  // html.removeChild(iframe);\n  iframeDocument = iframe.contentWindow.document;\n  iframeDocument.open();\n  iframeDocument.write(lt + 'script' + gt + 'document.F=Object' + lt + '/script' + gt);\n  iframeDocument.close();\n  createDict = iframeDocument.F;\n  while(i--)delete createDict[PROTOTYPE][enumBugKeys[i]];\n  return createDict();\n};\n\nmodule.exports = Object.create || function create(O, Properties){\n  var result;\n  if(O !== null){\n    Empty[PROTOTYPE] = anObject(O);\n    result = new Empty;\n    Empty[PROTOTYPE] = null;\n    // add \"__proto__\" for Object.getPrototypeOf polyfill\n    result[IE_PROTO] = O;\n  } else result = createDict();\n  return Properties === undefined ? result : dPs(result, Properties);\n};\n\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-create.js?")},"./node_modules/core-js/library/modules/_object-dp.js":function node_modulesCoreJsLibraryModules_objectDpJs(module,exports,__webpack_require__){eval("var anObject       = __webpack_require__(/*! ./_an-object */ \"./node_modules/core-js/library/modules/_an-object.js\")\n  , IE8_DOM_DEFINE = __webpack_require__(/*! ./_ie8-dom-define */ \"./node_modules/core-js/library/modules/_ie8-dom-define.js\")\n  , toPrimitive    = __webpack_require__(/*! ./_to-primitive */ \"./node_modules/core-js/library/modules/_to-primitive.js\")\n  , dP             = Object.defineProperty;\n\nexports.f = __webpack_require__(/*! ./_descriptors */ \"./node_modules/core-js/library/modules/_descriptors.js\") ? Object.defineProperty : function defineProperty(O, P, Attributes){\n  anObject(O);\n  P = toPrimitive(P, true);\n  anObject(Attributes);\n  if(IE8_DOM_DEFINE)try {\n    return dP(O, P, Attributes);\n  } catch(e){ /* empty */ }\n  if('get' in Attributes || 'set' in Attributes)throw TypeError('Accessors not supported!');\n  if('value' in Attributes)O[P] = Attributes.value;\n  return O;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-dp.js?")},"./node_modules/core-js/library/modules/_object-dps.js":function node_modulesCoreJsLibraryModules_objectDpsJs(module,exports,__webpack_require__){eval('var dP       = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js")\n  , anObject = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js")\n  , getKeys  = __webpack_require__(/*! ./_object-keys */ "./node_modules/core-js/library/modules/_object-keys.js");\n\nmodule.exports = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js") ? Object.defineProperties : function defineProperties(O, Properties){\n  anObject(O);\n  var keys   = getKeys(Properties)\n    , length = keys.length\n    , i = 0\n    , P;\n  while(length > i)dP.f(O, P = keys[i++], Properties[P]);\n  return O;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-dps.js?')},"./node_modules/core-js/library/modules/_object-gpo.js":function node_modulesCoreJsLibraryModules_objectGpoJs(module,exports,__webpack_require__){eval('// 19.1.2.9 / 15.2.3.2 Object.getPrototypeOf(O)\nvar has         = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , toObject    = __webpack_require__(/*! ./_to-object */ "./node_modules/core-js/library/modules/_to-object.js")\n  , IE_PROTO    = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")(\'IE_PROTO\')\n  , ObjectProto = Object.prototype;\n\nmodule.exports = Object.getPrototypeOf || function(O){\n  O = toObject(O);\n  if(has(O, IE_PROTO))return O[IE_PROTO];\n  if(typeof O.constructor == \'function\' && O instanceof O.constructor){\n    return O.constructor.prototype;\n  } return O instanceof Object ? ObjectProto : null;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-gpo.js?')},"./node_modules/core-js/library/modules/_object-keys-internal.js":function node_modulesCoreJsLibraryModules_objectKeysInternalJs(module,exports,__webpack_require__){eval('var has          = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , toIObject    = __webpack_require__(/*! ./_to-iobject */ "./node_modules/core-js/library/modules/_to-iobject.js")\n  , arrayIndexOf = __webpack_require__(/*! ./_array-includes */ "./node_modules/core-js/library/modules/_array-includes.js")(false)\n  , IE_PROTO     = __webpack_require__(/*! ./_shared-key */ "./node_modules/core-js/library/modules/_shared-key.js")(\'IE_PROTO\');\n\nmodule.exports = function(object, names){\n  var O      = toIObject(object)\n    , i      = 0\n    , result = []\n    , key;\n  for(key in O)if(key != IE_PROTO)has(O, key) && result.push(key);\n  // Don\'t enum bug & hidden keys\n  while(names.length > i)if(has(O, key = names[i++])){\n    ~arrayIndexOf(result, key) || result.push(key);\n  }\n  return result;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-keys-internal.js?')},"./node_modules/core-js/library/modules/_object-keys.js":function node_modulesCoreJsLibraryModules_objectKeysJs(module,exports,__webpack_require__){eval('// 19.1.2.14 / 15.2.3.14 Object.keys(O)\nvar $keys       = __webpack_require__(/*! ./_object-keys-internal */ "./node_modules/core-js/library/modules/_object-keys-internal.js")\n  , enumBugKeys = __webpack_require__(/*! ./_enum-bug-keys */ "./node_modules/core-js/library/modules/_enum-bug-keys.js");\n\nmodule.exports = Object.keys || function keys(O){\n  return $keys(O, enumBugKeys);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_object-keys.js?')},"./node_modules/core-js/library/modules/_property-desc.js":function node_modulesCoreJsLibraryModules_propertyDescJs(module,exports){eval("module.exports = function(bitmap, value){\n  return {\n    enumerable  : !(bitmap & 1),\n    configurable: !(bitmap & 2),\n    writable    : !(bitmap & 4),\n    value       : value\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_property-desc.js?")},"./node_modules/core-js/library/modules/_redefine-all.js":function node_modulesCoreJsLibraryModules_redefineAllJs(module,exports,__webpack_require__){eval('var hide = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");\nmodule.exports = function(target, src, safe){\n  for(var key in src){\n    if(safe && target[key])target[key] = src[key];\n    else hide(target, key, src[key]);\n  } return target;\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_redefine-all.js?')},"./node_modules/core-js/library/modules/_redefine.js":function node_modulesCoreJsLibraryModules_redefineJs(module,exports,__webpack_require__){eval('module.exports = __webpack_require__(/*! ./_hide */ "./node_modules/core-js/library/modules/_hide.js");\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_redefine.js?')},"./node_modules/core-js/library/modules/_set-species.js":function node_modulesCoreJsLibraryModules_setSpeciesJs(module,exports,__webpack_require__){"use strict";eval('\nvar global      = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , core        = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")\n  , dP          = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js")\n  , DESCRIPTORS = __webpack_require__(/*! ./_descriptors */ "./node_modules/core-js/library/modules/_descriptors.js")\n  , SPECIES     = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'species\');\n\nmodule.exports = function(KEY){\n  var C = typeof core[KEY] == \'function\' ? core[KEY] : global[KEY];\n  if(DESCRIPTORS && C && !C[SPECIES])dP.f(C, SPECIES, {\n    configurable: true,\n    get: function(){ return this; }\n  });\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_set-species.js?')},"./node_modules/core-js/library/modules/_set-to-string-tag.js":function node_modulesCoreJsLibraryModules_setToStringTagJs(module,exports,__webpack_require__){eval('var def = __webpack_require__(/*! ./_object-dp */ "./node_modules/core-js/library/modules/_object-dp.js").f\n  , has = __webpack_require__(/*! ./_has */ "./node_modules/core-js/library/modules/_has.js")\n  , TAG = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'toStringTag\');\n\nmodule.exports = function(it, tag, stat){\n  if(it && !has(it = stat ? it : it.prototype, TAG))def(it, TAG, {configurable: true, value: tag});\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_set-to-string-tag.js?')},"./node_modules/core-js/library/modules/_shared-key.js":function node_modulesCoreJsLibraryModules_sharedKeyJs(module,exports,__webpack_require__){eval('var shared = __webpack_require__(/*! ./_shared */ "./node_modules/core-js/library/modules/_shared.js")(\'keys\')\n  , uid    = __webpack_require__(/*! ./_uid */ "./node_modules/core-js/library/modules/_uid.js");\nmodule.exports = function(key){\n  return shared[key] || (shared[key] = uid(key));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_shared-key.js?')},"./node_modules/core-js/library/modules/_shared.js":function node_modulesCoreJsLibraryModules_sharedJs(module,exports,__webpack_require__){eval("var global = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\")\n  , SHARED = '__core-js_shared__'\n  , store  = global[SHARED] || (global[SHARED] = {});\nmodule.exports = function(key){\n  return store[key] || (store[key] = {});\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_shared.js?")},"./node_modules/core-js/library/modules/_species-constructor.js":function node_modulesCoreJsLibraryModules_speciesConstructorJs(module,exports,__webpack_require__){eval('// 7.3.20 SpeciesConstructor(O, defaultConstructor)\nvar anObject  = __webpack_require__(/*! ./_an-object */ "./node_modules/core-js/library/modules/_an-object.js")\n  , aFunction = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js")\n  , SPECIES   = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'species\');\nmodule.exports = function(O, D){\n  var C = anObject(O).constructor, S;\n  return C === undefined || (S = anObject(C)[SPECIES]) == undefined ? D : aFunction(S);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_species-constructor.js?')},"./node_modules/core-js/library/modules/_string-at.js":function node_modulesCoreJsLibraryModules_stringAtJs(module,exports,__webpack_require__){eval('var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js")\n  , defined   = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");\n// true  -> String#at\n// false -> String#codePointAt\nmodule.exports = function(TO_STRING){\n  return function(that, pos){\n    var s = String(defined(that))\n      , i = toInteger(pos)\n      , l = s.length\n      , a, b;\n    if(i < 0 || i >= l)return TO_STRING ? \'\' : undefined;\n    a = s.charCodeAt(i);\n    return a < 0xd800 || a > 0xdbff || i + 1 === l || (b = s.charCodeAt(i + 1)) < 0xdc00 || b > 0xdfff\n      ? TO_STRING ? s.charAt(i) : a\n      : TO_STRING ? s.slice(i, i + 2) : (a - 0xd800 << 10) + (b - 0xdc00) + 0x10000;\n  };\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_string-at.js?')},"./node_modules/core-js/library/modules/_task.js":function node_modulesCoreJsLibraryModules_taskJs(module,exports,__webpack_require__){eval("var ctx                = __webpack_require__(/*! ./_ctx */ \"./node_modules/core-js/library/modules/_ctx.js\")\n  , invoke             = __webpack_require__(/*! ./_invoke */ \"./node_modules/core-js/library/modules/_invoke.js\")\n  , html               = __webpack_require__(/*! ./_html */ \"./node_modules/core-js/library/modules/_html.js\")\n  , cel                = __webpack_require__(/*! ./_dom-create */ \"./node_modules/core-js/library/modules/_dom-create.js\")\n  , global             = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\")\n  , process            = global.process\n  , setTask            = global.setImmediate\n  , clearTask          = global.clearImmediate\n  , MessageChannel     = global.MessageChannel\n  , counter            = 0\n  , queue              = {}\n  , ONREADYSTATECHANGE = 'onreadystatechange'\n  , defer, channel, port;\nvar run = function(){\n  var id = +this;\n  if(queue.hasOwnProperty(id)){\n    var fn = queue[id];\n    delete queue[id];\n    fn();\n  }\n};\nvar listener = function(event){\n  run.call(event.data);\n};\n// Node.js 0.9+ & IE10+ has setImmediate, otherwise:\nif(!setTask || !clearTask){\n  setTask = function setImmediate(fn){\n    var args = [], i = 1;\n    while(arguments.length > i)args.push(arguments[i++]);\n    queue[++counter] = function(){\n      invoke(typeof fn == 'function' ? fn : Function(fn), args);\n    };\n    defer(counter);\n    return counter;\n  };\n  clearTask = function clearImmediate(id){\n    delete queue[id];\n  };\n  // Node.js 0.8-\n  if(__webpack_require__(/*! ./_cof */ \"./node_modules/core-js/library/modules/_cof.js\")(process) == 'process'){\n    defer = function(id){\n      process.nextTick(ctx(run, id, 1));\n    };\n  // Browsers with MessageChannel, includes WebWorkers\n  } else if(MessageChannel){\n    channel = new MessageChannel;\n    port    = channel.port2;\n    channel.port1.onmessage = listener;\n    defer = ctx(port.postMessage, port, 1);\n  // Browsers with postMessage, skip WebWorkers\n  // IE8 has postMessage, but it's sync & typeof its postMessage is 'object'\n  } else if(global.addEventListener && typeof postMessage == 'function' && !global.importScripts){\n    defer = function(id){\n      global.postMessage(id + '', '*');\n    };\n    global.addEventListener('message', listener, false);\n  // IE8-\n  } else if(ONREADYSTATECHANGE in cel('script')){\n    defer = function(id){\n      html.appendChild(cel('script'))[ONREADYSTATECHANGE] = function(){\n        html.removeChild(this);\n        run.call(id);\n      };\n    };\n  // Rest old browsers\n  } else {\n    defer = function(id){\n      setTimeout(ctx(run, id, 1), 0);\n    };\n  }\n}\nmodule.exports = {\n  set:   setTask,\n  clear: clearTask\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_task.js?")},"./node_modules/core-js/library/modules/_to-index.js":function node_modulesCoreJsLibraryModules_toIndexJs(module,exports,__webpack_require__){eval('var toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js")\n  , max       = Math.max\n  , min       = Math.min;\nmodule.exports = function(index, length){\n  index = toInteger(index);\n  return index < 0 ? max(index + length, 0) : min(index, length);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-index.js?')},"./node_modules/core-js/library/modules/_to-integer.js":function node_modulesCoreJsLibraryModules_toIntegerJs(module,exports){eval("// 7.1.4 ToInteger\nvar ceil  = Math.ceil\n  , floor = Math.floor;\nmodule.exports = function(it){\n  return isNaN(it = +it) ? 0 : (it > 0 ? floor : ceil)(it);\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-integer.js?")},"./node_modules/core-js/library/modules/_to-iobject.js":function node_modulesCoreJsLibraryModules_toIobjectJs(module,exports,__webpack_require__){eval('// to indexed object, toObject with fallback for non-array-like ES3 strings\nvar IObject = __webpack_require__(/*! ./_iobject */ "./node_modules/core-js/library/modules/_iobject.js")\n  , defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");\nmodule.exports = function(it){\n  return IObject(defined(it));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-iobject.js?')},"./node_modules/core-js/library/modules/_to-length.js":function node_modulesCoreJsLibraryModules_toLengthJs(module,exports,__webpack_require__){eval('// 7.1.15 ToLength\nvar toInteger = __webpack_require__(/*! ./_to-integer */ "./node_modules/core-js/library/modules/_to-integer.js")\n  , min       = Math.min;\nmodule.exports = function(it){\n  return it > 0 ? min(toInteger(it), 0x1fffffffffffff) : 0; // pow(2, 53) - 1 == 9007199254740991\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-length.js?')},"./node_modules/core-js/library/modules/_to-object.js":function node_modulesCoreJsLibraryModules_toObjectJs(module,exports,__webpack_require__){eval('// 7.1.13 ToObject(argument)\nvar defined = __webpack_require__(/*! ./_defined */ "./node_modules/core-js/library/modules/_defined.js");\nmodule.exports = function(it){\n  return Object(defined(it));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-object.js?')},"./node_modules/core-js/library/modules/_to-primitive.js":function node_modulesCoreJsLibraryModules_toPrimitiveJs(module,exports,__webpack_require__){eval("// 7.1.1 ToPrimitive(input [, PreferredType])\nvar isObject = __webpack_require__(/*! ./_is-object */ \"./node_modules/core-js/library/modules/_is-object.js\");\n// instead of the ES6 spec version, we didn't implement @@toPrimitive case\n// and the second argument - flag - preferred type is a string\nmodule.exports = function(it, S){\n  if(!isObject(it))return it;\n  var fn, val;\n  if(S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(typeof (fn = it.valueOf) == 'function' && !isObject(val = fn.call(it)))return val;\n  if(!S && typeof (fn = it.toString) == 'function' && !isObject(val = fn.call(it)))return val;\n  throw TypeError(\"Can't convert object to primitive value\");\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_to-primitive.js?")},"./node_modules/core-js/library/modules/_uid.js":function node_modulesCoreJsLibraryModules_uidJs(module,exports){eval("var id = 0\n  , px = Math.random();\nmodule.exports = function(key){\n  return 'Symbol('.concat(key === undefined ? '' : key, ')_', (++id + px).toString(36));\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_uid.js?")},"./node_modules/core-js/library/modules/_wks.js":function node_modulesCoreJsLibraryModules_wksJs(module,exports,__webpack_require__){eval("var store      = __webpack_require__(/*! ./_shared */ \"./node_modules/core-js/library/modules/_shared.js\")('wks')\n  , uid        = __webpack_require__(/*! ./_uid */ \"./node_modules/core-js/library/modules/_uid.js\")\n  , Symbol     = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\").Symbol\n  , USE_SYMBOL = typeof Symbol == 'function';\n\nvar $exports = module.exports = function(name){\n  return store[name] || (store[name] =\n    USE_SYMBOL && Symbol[name] || (USE_SYMBOL ? Symbol : uid)('Symbol.' + name));\n};\n\n$exports.store = store;\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/_wks.js?")},"./node_modules/core-js/library/modules/core.get-iterator-method.js":function node_modulesCoreJsLibraryModulesCoreGetIteratorMethodJs(module,exports,__webpack_require__){eval('var classof   = __webpack_require__(/*! ./_classof */ "./node_modules/core-js/library/modules/_classof.js")\n  , ITERATOR  = __webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'iterator\')\n  , Iterators = __webpack_require__(/*! ./_iterators */ "./node_modules/core-js/library/modules/_iterators.js");\nmodule.exports = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js").getIteratorMethod = function(it){\n  if(it != undefined)return it[ITERATOR]\n    || it[\'@@iterator\']\n    || Iterators[classof(it)];\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/core.get-iterator-method.js?')},"./node_modules/core-js/library/modules/es6.array.iterator.js":function node_modulesCoreJsLibraryModulesEs6ArrayIteratorJs(module,exports,__webpack_require__){"use strict";eval("\nvar addToUnscopables = __webpack_require__(/*! ./_add-to-unscopables */ \"./node_modules/core-js/library/modules/_add-to-unscopables.js\")\n  , step             = __webpack_require__(/*! ./_iter-step */ \"./node_modules/core-js/library/modules/_iter-step.js\")\n  , Iterators        = __webpack_require__(/*! ./_iterators */ \"./node_modules/core-js/library/modules/_iterators.js\")\n  , toIObject        = __webpack_require__(/*! ./_to-iobject */ \"./node_modules/core-js/library/modules/_to-iobject.js\");\n\n// 22.1.3.4 Array.prototype.entries()\n// 22.1.3.13 Array.prototype.keys()\n// 22.1.3.29 Array.prototype.values()\n// 22.1.3.30 Array.prototype[@@iterator]()\nmodule.exports = __webpack_require__(/*! ./_iter-define */ \"./node_modules/core-js/library/modules/_iter-define.js\")(Array, 'Array', function(iterated, kind){\n  this._t = toIObject(iterated); // target\n  this._i = 0;                   // next index\n  this._k = kind;                // kind\n// 22.1.5.2.1 %ArrayIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , kind  = this._k\n    , index = this._i++;\n  if(!O || index >= O.length){\n    this._t = undefined;\n    return step(1);\n  }\n  if(kind == 'keys'  )return step(0, index);\n  if(kind == 'values')return step(0, O[index]);\n  return step(0, [index, O[index]]);\n}, 'values');\n\n// argumentsList[@@iterator] is %ArrayProto_values% (9.4.4.6, 9.4.4.7)\nIterators.Arguments = Iterators.Array;\n\naddToUnscopables('keys');\naddToUnscopables('values');\naddToUnscopables('entries');\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.array.iterator.js?")},"./node_modules/core-js/library/modules/es6.object.to-string.js":function node_modulesCoreJsLibraryModulesEs6ObjectToStringJs(module,exports){eval("\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.object.to-string.js?")},"./node_modules/core-js/library/modules/es6.promise.js":function node_modulesCoreJsLibraryModulesEs6PromiseJs(module,exports,__webpack_require__){"use strict";eval('\nvar LIBRARY            = __webpack_require__(/*! ./_library */ "./node_modules/core-js/library/modules/_library.js")\n  , global             = __webpack_require__(/*! ./_global */ "./node_modules/core-js/library/modules/_global.js")\n  , ctx                = __webpack_require__(/*! ./_ctx */ "./node_modules/core-js/library/modules/_ctx.js")\n  , classof            = __webpack_require__(/*! ./_classof */ "./node_modules/core-js/library/modules/_classof.js")\n  , $export            = __webpack_require__(/*! ./_export */ "./node_modules/core-js/library/modules/_export.js")\n  , isObject           = __webpack_require__(/*! ./_is-object */ "./node_modules/core-js/library/modules/_is-object.js")\n  , aFunction          = __webpack_require__(/*! ./_a-function */ "./node_modules/core-js/library/modules/_a-function.js")\n  , anInstance         = __webpack_require__(/*! ./_an-instance */ "./node_modules/core-js/library/modules/_an-instance.js")\n  , forOf              = __webpack_require__(/*! ./_for-of */ "./node_modules/core-js/library/modules/_for-of.js")\n  , speciesConstructor = __webpack_require__(/*! ./_species-constructor */ "./node_modules/core-js/library/modules/_species-constructor.js")\n  , task               = __webpack_require__(/*! ./_task */ "./node_modules/core-js/library/modules/_task.js").set\n  , microtask          = __webpack_require__(/*! ./_microtask */ "./node_modules/core-js/library/modules/_microtask.js")()\n  , PROMISE            = \'Promise\'\n  , TypeError          = global.TypeError\n  , process            = global.process\n  , $Promise           = global[PROMISE]\n  , process            = global.process\n  , isNode             = classof(process) == \'process\'\n  , empty              = function(){ /* empty */ }\n  , Internal, GenericPromiseCapability, Wrapper;\n\nvar USE_NATIVE = !!function(){\n  try {\n    // correct subclassing with @@species support\n    var promise     = $Promise.resolve(1)\n      , FakePromise = (promise.constructor = {})[__webpack_require__(/*! ./_wks */ "./node_modules/core-js/library/modules/_wks.js")(\'species\')] = function(exec){ exec(empty, empty); };\n    // unhandled rejections tracking support, NodeJS Promise without it fails @@species test\n    return (isNode || typeof PromiseRejectionEvent == \'function\') && promise.then(empty) instanceof FakePromise;\n  } catch(e){ /* empty */ }\n}();\n\n// helpers\nvar sameConstructor = function(a, b){\n  // with library wrapper special case\n  return a === b || a === $Promise && b === Wrapper;\n};\nvar isThenable = function(it){\n  var then;\n  return isObject(it) && typeof (then = it.then) == \'function\' ? then : false;\n};\nvar newPromiseCapability = function(C){\n  return sameConstructor($Promise, C)\n    ? new PromiseCapability(C)\n    : new GenericPromiseCapability(C);\n};\nvar PromiseCapability = GenericPromiseCapability = function(C){\n  var resolve, reject;\n  this.promise = new C(function($$resolve, $$reject){\n    if(resolve !== undefined || reject !== undefined)throw TypeError(\'Bad Promise constructor\');\n    resolve = $$resolve;\n    reject  = $$reject;\n  });\n  this.resolve = aFunction(resolve);\n  this.reject  = aFunction(reject);\n};\nvar perform = function(exec){\n  try {\n    exec();\n  } catch(e){\n    return {error: e};\n  }\n};\nvar notify = function(promise, isReject){\n  if(promise._n)return;\n  promise._n = true;\n  var chain = promise._c;\n  microtask(function(){\n    var value = promise._v\n      , ok    = promise._s == 1\n      , i     = 0;\n    var run = function(reaction){\n      var handler = ok ? reaction.ok : reaction.fail\n        , resolve = reaction.resolve\n        , reject  = reaction.reject\n        , domain  = reaction.domain\n        , result, then;\n      try {\n        if(handler){\n          if(!ok){\n            if(promise._h == 2)onHandleUnhandled(promise);\n            promise._h = 1;\n          }\n          if(handler === true)result = value;\n          else {\n            if(domain)domain.enter();\n            result = handler(value);\n            if(domain)domain.exit();\n          }\n          if(result === reaction.promise){\n            reject(TypeError(\'Promise-chain cycle\'));\n          } else if(then = isThenable(result)){\n            then.call(result, resolve, reject);\n          } else resolve(result);\n        } else reject(value);\n      } catch(e){\n        reject(e);\n      }\n    };\n    while(chain.length > i)run(chain[i++]); // variable length - can\'t use forEach\n    promise._c = [];\n    promise._n = false;\n    if(isReject && !promise._h)onUnhandled(promise);\n  });\n};\nvar onUnhandled = function(promise){\n  task.call(global, function(){\n    var value = promise._v\n      , abrupt, handler, console;\n    if(isUnhandled(promise)){\n      abrupt = perform(function(){\n        if(isNode){\n          process.emit(\'unhandledRejection\', value, promise);\n        } else if(handler = global.onunhandledrejection){\n          handler({promise: promise, reason: value});\n        } else if((console = global.console) && console.error){\n          console.error(\'Unhandled promise rejection\', value);\n        }\n      });\n      // Browsers should not trigger `rejectionHandled` event if it was handled here, NodeJS - should\n      promise._h = isNode || isUnhandled(promise) ? 2 : 1;\n    } promise._a = undefined;\n    if(abrupt)throw abrupt.error;\n  });\n};\nvar isUnhandled = function(promise){\n  if(promise._h == 1)return false;\n  var chain = promise._a || promise._c\n    , i     = 0\n    , reaction;\n  while(chain.length > i){\n    reaction = chain[i++];\n    if(reaction.fail || !isUnhandled(reaction.promise))return false;\n  } return true;\n};\nvar onHandleUnhandled = function(promise){\n  task.call(global, function(){\n    var handler;\n    if(isNode){\n      process.emit(\'rejectionHandled\', promise);\n    } else if(handler = global.onrejectionhandled){\n      handler({promise: promise, reason: promise._v});\n    }\n  });\n};\nvar $reject = function(value){\n  var promise = this;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  promise._v = value;\n  promise._s = 2;\n  if(!promise._a)promise._a = promise._c.slice();\n  notify(promise, true);\n};\nvar $resolve = function(value){\n  var promise = this\n    , then;\n  if(promise._d)return;\n  promise._d = true;\n  promise = promise._w || promise; // unwrap\n  try {\n    if(promise === value)throw TypeError("Promise can\'t be resolved itself");\n    if(then = isThenable(value)){\n      microtask(function(){\n        var wrapper = {_w: promise, _d: false}; // wrap\n        try {\n          then.call(value, ctx($resolve, wrapper, 1), ctx($reject, wrapper, 1));\n        } catch(e){\n          $reject.call(wrapper, e);\n        }\n      });\n    } else {\n      promise._v = value;\n      promise._s = 1;\n      notify(promise, false);\n    }\n  } catch(e){\n    $reject.call({_w: promise, _d: false}, e); // wrap\n  }\n};\n\n// constructor polyfill\nif(!USE_NATIVE){\n  // 25.4.3.1 Promise(executor)\n  $Promise = function Promise(executor){\n    anInstance(this, $Promise, PROMISE, \'_h\');\n    aFunction(executor);\n    Internal.call(this);\n    try {\n      executor(ctx($resolve, this, 1), ctx($reject, this, 1));\n    } catch(err){\n      $reject.call(this, err);\n    }\n  };\n  Internal = function Promise(executor){\n    this._c = [];             // <- awaiting reactions\n    this._a = undefined;      // <- checked in isUnhandled reactions\n    this._s = 0;              // <- state\n    this._d = false;          // <- done\n    this._v = undefined;      // <- value\n    this._h = 0;              // <- rejection state, 0 - default, 1 - handled, 2 - unhandled\n    this._n = false;          // <- notify\n  };\n  Internal.prototype = __webpack_require__(/*! ./_redefine-all */ "./node_modules/core-js/library/modules/_redefine-all.js")($Promise.prototype, {\n    // 25.4.5.3 Promise.prototype.then(onFulfilled, onRejected)\n    then: function then(onFulfilled, onRejected){\n      var reaction    = newPromiseCapability(speciesConstructor(this, $Promise));\n      reaction.ok     = typeof onFulfilled == \'function\' ? onFulfilled : true;\n      reaction.fail   = typeof onRejected == \'function\' && onRejected;\n      reaction.domain = isNode ? process.domain : undefined;\n      this._c.push(reaction);\n      if(this._a)this._a.push(reaction);\n      if(this._s)notify(this, false);\n      return reaction.promise;\n    },\n    // 25.4.5.1 Promise.prototype.catch(onRejected)\n    \'catch\': function(onRejected){\n      return this.then(undefined, onRejected);\n    }\n  });\n  PromiseCapability = function(){\n    var promise  = new Internal;\n    this.promise = promise;\n    this.resolve = ctx($resolve, promise, 1);\n    this.reject  = ctx($reject, promise, 1);\n  };\n}\n\n$export($export.G + $export.W + $export.F * !USE_NATIVE, {Promise: $Promise});\n__webpack_require__(/*! ./_set-to-string-tag */ "./node_modules/core-js/library/modules/_set-to-string-tag.js")($Promise, PROMISE);\n__webpack_require__(/*! ./_set-species */ "./node_modules/core-js/library/modules/_set-species.js")(PROMISE);\nWrapper = __webpack_require__(/*! ./_core */ "./node_modules/core-js/library/modules/_core.js")[PROMISE];\n\n// statics\n$export($export.S + $export.F * !USE_NATIVE, PROMISE, {\n  // 25.4.4.5 Promise.reject(r)\n  reject: function reject(r){\n    var capability = newPromiseCapability(this)\n      , $$reject   = capability.reject;\n    $$reject(r);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * (LIBRARY || !USE_NATIVE), PROMISE, {\n  // 25.4.4.6 Promise.resolve(x)\n  resolve: function resolve(x){\n    // instanceof instead of internal slot check because we should fix it without replacement native Promise core\n    if(x instanceof $Promise && sameConstructor(x.constructor, this))return x;\n    var capability = newPromiseCapability(this)\n      , $$resolve  = capability.resolve;\n    $$resolve(x);\n    return capability.promise;\n  }\n});\n$export($export.S + $export.F * !(USE_NATIVE && __webpack_require__(/*! ./_iter-detect */ "./node_modules/core-js/library/modules/_iter-detect.js")(function(iter){\n  $Promise.all(iter)[\'catch\'](empty);\n})), PROMISE, {\n  // 25.4.4.1 Promise.all(iterable)\n  all: function all(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , resolve    = capability.resolve\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      var values    = []\n        , index     = 0\n        , remaining = 1;\n      forOf(iterable, false, function(promise){\n        var $index        = index++\n          , alreadyCalled = false;\n        values.push(undefined);\n        remaining++;\n        C.resolve(promise).then(function(value){\n          if(alreadyCalled)return;\n          alreadyCalled  = true;\n          values[$index] = value;\n          --remaining || resolve(values);\n        }, reject);\n      });\n      --remaining || resolve(values);\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  },\n  // 25.4.4.4 Promise.race(iterable)\n  race: function race(iterable){\n    var C          = this\n      , capability = newPromiseCapability(C)\n      , reject     = capability.reject;\n    var abrupt = perform(function(){\n      forOf(iterable, false, function(promise){\n        C.resolve(promise).then(capability.resolve, reject);\n      });\n    });\n    if(abrupt)reject(abrupt.error);\n    return capability.promise;\n  }\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.promise.js?')},"./node_modules/core-js/library/modules/es6.string.iterator.js":function node_modulesCoreJsLibraryModulesEs6StringIteratorJs(module,exports,__webpack_require__){"use strict";eval('\nvar $at  = __webpack_require__(/*! ./_string-at */ "./node_modules/core-js/library/modules/_string-at.js")(true);\n\n// 21.1.3.27 String.prototype[@@iterator]()\n__webpack_require__(/*! ./_iter-define */ "./node_modules/core-js/library/modules/_iter-define.js")(String, \'String\', function(iterated){\n  this._t = String(iterated); // target\n  this._i = 0;                // next index\n// 21.1.5.2.1 %StringIteratorPrototype%.next()\n}, function(){\n  var O     = this._t\n    , index = this._i\n    , point;\n  if(index >= O.length)return {value: undefined, done: true};\n  point = $at(O, index);\n  this._i += point.length;\n  return {value: point, done: false};\n});\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/es6.string.iterator.js?')},"./node_modules/core-js/library/modules/web.dom.iterable.js":function node_modulesCoreJsLibraryModulesWebDomIterableJs(module,exports,__webpack_require__){eval("__webpack_require__(/*! ./es6.array.iterator */ \"./node_modules/core-js/library/modules/es6.array.iterator.js\");\nvar global        = __webpack_require__(/*! ./_global */ \"./node_modules/core-js/library/modules/_global.js\")\n  , hide          = __webpack_require__(/*! ./_hide */ \"./node_modules/core-js/library/modules/_hide.js\")\n  , Iterators     = __webpack_require__(/*! ./_iterators */ \"./node_modules/core-js/library/modules/_iterators.js\")\n  , TO_STRING_TAG = __webpack_require__(/*! ./_wks */ \"./node_modules/core-js/library/modules/_wks.js\")('toStringTag');\n\nfor(var collections = ['NodeList', 'DOMTokenList', 'MediaList', 'StyleSheetList', 'CSSRuleList'], i = 0; i < 5; i++){\n  var NAME       = collections[i]\n    , Collection = global[NAME]\n    , proto      = Collection && Collection.prototype;\n  if(proto && !proto[TO_STRING_TAG])hide(proto, TO_STRING_TAG, NAME);\n  Iterators[NAME] = Iterators.Array;\n}\n\n//# sourceURL=webpack://tui.ImageEditor/./node_modules/core-js/library/modules/web.dom.iterable.js?")},"./src/css/index.styl":function srcCssIndexStyl(module,exports,__webpack_require__){eval("// extracted by mini-css-extract-plugin\n\n//# sourceURL=webpack://tui.ImageEditor/./src/css/index.styl?")},"./src/index.js":function srcIndexJs(module,exports,__webpack_require__){"use strict";eval('\n\n__webpack_require__(/*! ./js/polyfill */ "./src/js/polyfill.js");\n\nvar _imageEditor = __webpack_require__(/*! ./js/imageEditor */ "./src/js/imageEditor.js");\n\nvar _imageEditor2 = _interopRequireDefault(_imageEditor);\n\n__webpack_require__(/*! ./css/index.styl */ "./src/css/index.styl");\n\n__webpack_require__(/*! ./js/command/addIcon */ "./src/js/command/addIcon.js");\n\n__webpack_require__(/*! ./js/command/addImageObject */ "./src/js/command/addImageObject.js");\n\n__webpack_require__(/*! ./js/command/addObject */ "./src/js/command/addObject.js");\n\n__webpack_require__(/*! ./js/command/addShape */ "./src/js/command/addShape.js");\n\n__webpack_require__(/*! ./js/command/addText */ "./src/js/command/addText.js");\n\n__webpack_require__(/*! ./js/command/applyFilter */ "./src/js/command/applyFilter.js");\n\n__webpack_require__(/*! ./js/command/changeIconColor */ "./src/js/command/changeIconColor.js");\n\n__webpack_require__(/*! ./js/command/changeShape */ "./src/js/command/changeShape.js");\n\n__webpack_require__(/*! ./js/command/changeText */ "./src/js/command/changeText.js");\n\n__webpack_require__(/*! ./js/command/changeTextStyle */ "./src/js/command/changeTextStyle.js");\n\n__webpack_require__(/*! ./js/command/clearObjects */ "./src/js/command/clearObjects.js");\n\n__webpack_require__(/*! ./js/command/flip */ "./src/js/command/flip.js");\n\n__webpack_require__(/*! ./js/command/loadImage */ "./src/js/command/loadImage.js");\n\n__webpack_require__(/*! ./js/command/removeFilter */ "./src/js/command/removeFilter.js");\n\n__webpack_require__(/*! ./js/command/removeObject */ "./src/js/command/removeObject.js");\n\n__webpack_require__(/*! ./js/command/resizeCanvasDimension */ "./src/js/command/resizeCanvasDimension.js");\n\n__webpack_require__(/*! ./js/command/rotate */ "./src/js/command/rotate.js");\n\n__webpack_require__(/*! ./js/command/setObjectProperties */ "./src/js/command/setObjectProperties.js");\n\n__webpack_require__(/*! ./js/command/setObjectPosition */ "./src/js/command/setObjectPosition.js");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _imageEditor2.default;\n\n// commands\n\n//# sourceURL=webpack://tui.ImageEditor/./src/index.js?')},"./src/js/action.js":function srcJsActionJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _imagetracer = __webpack_require__(/*! ./helper/imagetracer */ \"./src/js/helper/imagetracer.js\");\n\nvar _imagetracer2 = _interopRequireDefault(_imagetracer);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nexports.default = {\n\n    /**\n     * Get ui actions\n     * @returns {Object} actions for ui\n     * @private\n     */\n    getActions: function getActions() {\n        return {\n            main: this._mainAction(),\n            shape: this._shapeAction(),\n            crop: this._cropAction(),\n            flip: this._flipAction(),\n            rotate: this._rotateAction(),\n            text: this._textAction(),\n            mask: this._maskAction(),\n            draw: this._drawAction(),\n            icon: this._iconAction(),\n            filter: this._filterAction()\n        };\n    },\n\n\n    /**\n     * Main Action\n     * @returns {Object} actions for ui main\n     * @private\n     */\n    _mainAction: function _mainAction() {\n        var _this = this;\n\n        var exitCropOnAction = function exitCropOnAction() {\n            if (_this.ui.submenu === 'crop') {\n                _this.stopDrawingMode();\n                _this.ui.changeMenu('crop');\n            }\n        };\n        var setAngleRangeBarOnAction = function setAngleRangeBarOnAction(angle) {\n            if (_this.ui.submenu === 'rotate') {\n                _this.ui.rotate.setRangeBarAngle('setAngle', angle);\n            }\n        };\n        var setFilterStateRangeBarOnAction = function setFilterStateRangeBarOnAction(filterOptions) {\n            if (_this.ui.submenu === 'filter') {\n                _this.ui.filter.setFilterState(filterOptions);\n            }\n        };\n        var onEndUndoRedo = function onEndUndoRedo(result) {\n            setAngleRangeBarOnAction(result);\n            setFilterStateRangeBarOnAction(result);\n\n            return result;\n        };\n\n        return (0, _tuiCodeSnippet.extend)({\n            initLoadImage: function initLoadImage(imagePath, imageName) {\n                return _this.loadImageFromURL(imagePath, imageName).then(function (sizeValue) {\n                    exitCropOnAction();\n                    _this.ui.initializeImgUrl = imagePath;\n                    _this.ui.resizeEditor({ imageSize: sizeValue });\n                    _this.clearUndoStack();\n                });\n            },\n            undo: function undo() {\n                if (!_this.isEmptyUndoStack()) {\n                    exitCropOnAction();\n                    _this.deactivateAll();\n                    _this.undo().then(onEndUndoRedo);\n                }\n            },\n            redo: function redo() {\n                if (!_this.isEmptyRedoStack()) {\n                    exitCropOnAction();\n                    _this.deactivateAll();\n                    _this.redo().then(onEndUndoRedo);\n                }\n            },\n            reset: function reset() {\n                exitCropOnAction();\n                _this.loadImageFromURL(_this.ui.initializeImgUrl, 'resetImage').then(function (sizeValue) {\n                    exitCropOnAction();\n                    _this.ui.resizeEditor({ imageSize: sizeValue });\n                    _this.clearUndoStack();\n                });\n            },\n            delete: function _delete() {\n                _this.ui.changeHelpButtonEnabled('delete', false);\n                exitCropOnAction();\n                _this.removeActiveObject();\n                _this.activeObjectId = null;\n            },\n            deleteAll: function deleteAll() {\n                exitCropOnAction();\n                _this.clearObjects();\n                _this.ui.changeHelpButtonEnabled('delete', false);\n                _this.ui.changeHelpButtonEnabled('deleteAll', false);\n            },\n            load: function load(file) {\n                if (!_util2.default.isSupportFileApi()) {\n                    alert('This browser does not support file-api');\n                }\n\n                _this.ui.initializeImgUrl = URL.createObjectURL(file);\n                _this.loadImageFromFile(file).then(function (sizeValue) {\n                    exitCropOnAction();\n                    _this.clearUndoStack();\n                    _this.ui.activeMenuEvent();\n                    _this.ui.resizeEditor({ imageSize: sizeValue });\n                })['catch'](function (message) {\n                    return Promise.reject(message);\n                });\n            },\n            download: function download() {\n                var dataURL = _this.toDataURL();\n                var imageName = _this.getImageName();\n                var blob = void 0,\n                    type = void 0,\n                    w = void 0;\n\n                if (_util2.default.isSupportFileApi() && window.saveAs) {\n                    blob = _util2.default.base64ToBlob(dataURL);\n                    type = blob.type.split('/')[1];\n                    if (imageName.split('.').pop() !== type) {\n                        imageName += '.' + type;\n                    }\n                    saveAs(blob, imageName); // eslint-disable-line\n                } else {\n                    w = window.open();\n                    w.document.body.innerHTML = '<img src=\\'' + dataURL + '\\'>';\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Icon Action\n     * @returns {Object} actions for ui icon\n     * @private\n     */\n    _iconAction: function _iconAction() {\n        var _this2 = this;\n\n        var cacheIconType = void 0;\n        var cacheIconColor = void 0;\n        var startX = void 0;\n        var startY = void 0;\n        var iconWidth = void 0;\n        var iconHeight = void 0;\n        var objId = void 0;\n\n        this.on({\n            'iconCreateResize': function iconCreateResize(_ref) {\n                var moveOriginPointer = _ref.moveOriginPointer;\n\n                var scaleX = (moveOriginPointer.x - startX) / iconWidth;\n                var scaleY = (moveOriginPointer.y - startY) / iconHeight;\n\n                _this2.setObjectPropertiesQuietly(objId, {\n                    scaleX: Math.abs(scaleX * 2),\n                    scaleY: Math.abs(scaleY * 2)\n                });\n            },\n            'iconCreateEnd': function iconCreateEnd() {\n                _this2.ui.icon.clearIconType();\n                _this2.changeSelectableAll(true);\n            }\n        });\n\n        var mouseDown = function mouseDown(e, originPointer) {\n            startX = originPointer.x;\n            startY = originPointer.y;\n\n            _this2.addIcon(cacheIconType, {\n                left: originPointer.x,\n                top: originPointer.y,\n                fill: cacheIconColor\n            }).then(function (obj) {\n                objId = obj.id;\n                iconWidth = obj.width;\n                iconHeight = obj.height;\n            });\n        };\n\n        return (0, _tuiCodeSnippet.extend)({\n            changeColor: function changeColor(color) {\n                if (_this2.activeObjectId) {\n                    _this2.changeIconColor(_this2.activeObjectId, color);\n                }\n            },\n            addIcon: function addIcon(iconType, iconColor) {\n                cacheIconType = iconType;\n                cacheIconColor = iconColor;\n                // this.readyAddIcon();\n                _this2.changeCursor('crosshair');\n                _this2.off('mousedown');\n                _this2.once('mousedown', mouseDown.bind(_this2));\n            },\n            cancelAddIcon: function cancelAddIcon() {\n                _this2.off('mousedown');\n                _this2.ui.icon.clearIconType();\n                _this2.changeSelectableAll(true);\n                _this2.changeCursor('default');\n            },\n            registDefalutIcons: function registDefalutIcons(type, path) {\n                var iconObj = {};\n                iconObj[type] = path;\n                _this2.registerIcons(iconObj);\n            },\n            registCustomIcon: function registCustomIcon(imgUrl, file) {\n                var imagetracer = new _imagetracer2.default();\n                imagetracer.imageToSVG(imgUrl, function (svgstr) {\n                    var _svgstr$match = svgstr.match(/path[^>]*d=\"([^\"]*)\"/),\n                        svgPath = _svgstr$match[1];\n\n                    var iconObj = {};\n                    iconObj[file.name] = svgPath;\n                    _this2.registerIcons(iconObj);\n                    _this2.addIcon(file.name, {\n                        left: 100,\n                        top: 100\n                    });\n                }, _imagetracer2.default.tracerDefaultOption());\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Draw Action\n     * @returns {Object} actions for ui draw\n     * @private\n     */\n    _drawAction: function _drawAction() {\n        var _this3 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            setDrawMode: function setDrawMode(type, settings) {\n                _this3.stopDrawingMode();\n                if (type === 'free') {\n                    _this3.startDrawingMode('FREE_DRAWING', settings);\n                } else {\n                    _this3.startDrawingMode('LINE_DRAWING', settings);\n                }\n            },\n            setColor: function setColor(color) {\n                _this3.setBrush({\n                    color: color\n                });\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Mask Action\n     * @returns {Object} actions for ui mask\n     * @private\n     */\n    _maskAction: function _maskAction() {\n        var _this4 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            loadImageFromURL: function loadImageFromURL(imgUrl, file) {\n                return _this4.loadImageFromURL(_this4.toDataURL(), 'FilterImage').then(function () {\n                    _this4.addImageObject(imgUrl).then(function () {\n                        URL.revokeObjectURL(file);\n                    });\n                });\n            },\n            applyFilter: function applyFilter() {\n                _this4.applyFilter('mask', {\n                    maskObjId: _this4.activeObjectId\n                });\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Text Action\n     * @returns {Object} actions for ui text\n     * @private\n     */\n    _textAction: function _textAction() {\n        var _this5 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            changeTextStyle: function changeTextStyle(styleObj, isSilent) {\n                if (_this5.activeObjectId) {\n                    _this5.changeTextStyle(_this5.activeObjectId, styleObj, isSilent);\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Rotate Action\n     * @returns {Object} actions for ui rotate\n     * @private\n     */\n    _rotateAction: function _rotateAction() {\n        var _this6 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            rotate: function rotate(angle, isSilent) {\n                _this6.rotate(angle, isSilent);\n                _this6.ui.resizeEditor();\n                _this6.ui.rotate.setRangeBarAngle('rotate', angle);\n            },\n            setAngle: function setAngle(angle, isSilent) {\n                _this6.setAngle(angle, isSilent);\n                _this6.ui.resizeEditor();\n                _this6.ui.rotate.setRangeBarAngle('setAngle', angle);\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Shape Action\n     * @returns {Object} actions for ui shape\n     * @private\n     */\n    _shapeAction: function _shapeAction() {\n        var _this7 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            changeShape: function changeShape(changeShapeObject, isSilent) {\n                if (_this7.activeObjectId) {\n                    _this7.changeShape(_this7.activeObjectId, changeShapeObject, isSilent);\n                }\n            },\n            setDrawingShape: function setDrawingShape(shapeType) {\n                _this7.setDrawingShape(shapeType);\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Crop Action\n     * @returns {Object} actions for ui crop\n     * @private\n     */\n    _cropAction: function _cropAction() {\n        var _this8 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            crop: function crop() {\n                var cropRect = _this8.getCropzoneRect();\n                if (cropRect) {\n                    _this8.crop(cropRect).then(function () {\n                        _this8.stopDrawingMode();\n                        _this8.ui.resizeEditor();\n                        _this8.ui.changeMenu('crop');\n                    })['catch'](function (message) {\n                        return Promise.reject(message);\n                    });\n                }\n            },\n            cancel: function cancel() {\n                _this8.stopDrawingMode();\n                _this8.ui.changeMenu('crop');\n            },\n            /* eslint-disable */\n            preset: function preset(presetType) {\n                switch (presetType) {\n                    case 'preset-square':\n                        _this8.setCropzoneRect(1 / 1);\n                        break;\n                    case 'preset-3-2':\n                        _this8.setCropzoneRect(3 / 2);\n                        break;\n                    case 'preset-4-3':\n                        _this8.setCropzoneRect(4 / 3);\n                        break;\n                    case 'preset-5-4':\n                        _this8.setCropzoneRect(5 / 4);\n                        break;\n                    case 'preset-7-5':\n                        _this8.setCropzoneRect(7 / 5);\n                        break;\n                    case 'preset-16-9':\n                        _this8.setCropzoneRect(16 / 9);\n                        break;\n                    default:\n                        _this8.setCropzoneRect();\n                        _this8.ui.crop.changeApplyButtonStatus(false);\n                        break;\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Flip Action\n     * @returns {Object} actions for ui flip\n     * @private\n     */\n    _flipAction: function _flipAction() {\n        var _this9 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            flip: function flip(flipType) {\n                return _this9[flipType]();\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Filter Action\n     * @returns {Object} actions for ui filter\n     * @private\n     */\n    _filterAction: function _filterAction() {\n        var _this10 = this;\n\n        return (0, _tuiCodeSnippet.extend)({\n            applyFilter: function applyFilter(applying, type, options, isSilent) {\n\n                if (applying) {\n                    _this10.applyFilter(type, options, isSilent);\n                } else if (_this10.hasFilter(type)) {\n                    _this10.removeFilter(type);\n                }\n            }\n        }, this._commonAction());\n    },\n\n\n    /**\n     * Image Editor Event Observer\n     */\n    setReAction: function setReAction() {\n        var _this11 = this;\n\n        this.on({\n            undoStackChanged: function undoStackChanged(length) {\n                if (length) {\n                    _this11.ui.changeHelpButtonEnabled('undo', true);\n                    _this11.ui.changeHelpButtonEnabled('reset', true);\n                } else {\n                    _this11.ui.changeHelpButtonEnabled('undo', false);\n                    _this11.ui.changeHelpButtonEnabled('reset', false);\n                }\n                _this11.ui.resizeEditor();\n            },\n            redoStackChanged: function redoStackChanged(length) {\n                if (length) {\n                    _this11.ui.changeHelpButtonEnabled('redo', true);\n                } else {\n                    _this11.ui.changeHelpButtonEnabled('redo', false);\n                }\n                _this11.ui.resizeEditor();\n            },\n            /* eslint-disable complexity */\n            objectActivated: function objectActivated(obj) {\n                _this11.activeObjectId = obj.id;\n\n                _this11.ui.changeHelpButtonEnabled('delete', true);\n                _this11.ui.changeHelpButtonEnabled('deleteAll', true);\n\n                if (obj.type === 'cropzone') {\n                    _this11.ui.crop.changeApplyButtonStatus(true);\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n                    _this11.stopDrawingMode();\n                    if (_this11.ui.submenu !== 'shape') {\n                        _this11.ui.changeMenu('shape', false, false);\n                    }\n                    _this11.ui.shape.setShapeStatus({\n                        strokeColor: obj.stroke,\n                        strokeWidth: obj.strokeWidth,\n                        fillColor: obj.fill\n                    });\n\n                    _this11.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n                } else if (obj.type === 'path' || obj.type === 'line') {\n                    if (_this11.ui.submenu !== 'draw') {\n                        _this11.ui.changeMenu('draw', false, false);\n                        _this11.ui.draw.changeStandbyMode();\n                    }\n                } else if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                    if (_this11.ui.submenu !== 'text') {\n                        _this11.ui.changeMenu('text', false, false);\n                    }\n\n                    _this11.ui.text.setTextStyleStateOnAction(obj);\n                } else if (obj.type === 'icon') {\n                    _this11.stopDrawingMode();\n                    if (_this11.ui.submenu !== 'icon') {\n                        _this11.ui.changeMenu('icon', false, false);\n                    }\n                    _this11.ui.icon.setIconPickerColor(obj.fill);\n                }\n            },\n            /* eslint-enable complexity */\n            addText: function addText(pos) {\n                var _ui$text = _this11.ui.text,\n                    fill = _ui$text.textColor,\n                    fontSize = _ui$text.fontSize,\n                    fontStyle = _ui$text.fontStyle,\n                    fontWeight = _ui$text.fontWeight,\n                    underline = _ui$text.underline;\n\n                var fontFamily = 'Noto Sans';\n\n                _this11.addText('Double Click', {\n                    position: pos.originPosition,\n                    styles: { fill: fill, fontSize: fontSize, fontFamily: fontFamily, fontStyle: fontStyle, fontWeight: fontWeight, underline: underline }\n                }).then(function () {\n                    _this11.changeCursor('default');\n                });\n            },\n            addObjectAfter: function addObjectAfter(obj) {\n                if (['rect', 'circle', 'triangle'].indexOf(obj.type) > -1) {\n                    _this11.ui.shape.setMaxStrokeValue(Math.min(obj.width, obj.height));\n                    _this11.ui.shape.changeStandbyMode();\n                }\n            },\n            objectScaled: function objectScaled(obj) {\n                if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                    _this11.ui.text.fontSize = _util2.default.toInteger(obj.fontSize);\n                } else if (['rect', 'circle', 'triangle'].indexOf(obj.type) >= 0) {\n                    var width = obj.width,\n                        height = obj.height;\n\n                    var strokeValue = _this11.ui.shape.getStrokeValue();\n\n                    if (width < strokeValue) {\n                        _this11.ui.shape.setStrokeValue(width);\n                    }\n                    if (height < strokeValue) {\n                        _this11.ui.shape.setStrokeValue(height);\n                    }\n                }\n            },\n            selectionCleared: function selectionCleared() {\n                _this11.activeObjectId = null;\n                if (_this11.ui.submenu === 'text') {\n                    _this11.changeCursor('text');\n                } else if (_this11.ui.submenu !== 'draw' && _this11.ui.submenu !== 'crop') {\n                    _this11.stopDrawingMode();\n                }\n            }\n        });\n    },\n\n\n    /**\n     * Common Action\n     * @returns {Object} common actions for ui\n     * @private\n     */\n    _commonAction: function _commonAction() {\n        var _this12 = this;\n\n        return {\n            modeChange: function modeChange(menu) {\n                switch (menu) {\n                    case 'text':\n                        _this12._changeActivateMode('TEXT');\n                        break;\n                    case 'crop':\n                        _this12.startDrawingMode('CROPPER');\n                        break;\n                    case 'shape':\n                        _this12._changeActivateMode('SHAPE');\n                        _this12.setDrawingShape(_this12.ui.shape.type, _this12.ui.shape.options);\n                        break;\n                    default:\n                        break;\n                }\n            },\n            deactivateAll: this.deactivateAll.bind(this),\n            changeSelectableAll: this.changeSelectableAll.bind(this),\n            discardSelection: this.discardSelection.bind(this),\n            stopDrawingMode: this.stopDrawingMode.bind(this)\n        };\n    },\n\n\n    /**\n     * Mixin\n     * @param {ImageEditor} ImageEditor instance\n     */\n    mixin: function mixin(ImageEditor) {\n        (0, _tuiCodeSnippet.extend)(ImageEditor.prototype, this);\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/action.js?")},"./src/js/command/addIcon.js":function srcJsCommandAddIconJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Add an icon\n                                                   */\n\nvar ICON = componentNames.ICON;\n\n\nvar command = {\n    name: commandNames.ADD_ICON,\n\n    /**\n     * Add an icon\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Icon type (\'arrow\', \'cancel\', custom icon name)\n     * @param {Object} options - Icon options\n     *      @param {string} [options.fill] - Icon foreground color\n     *      @param {string} [options.left] - Icon x position\n     *      @param {string} [options.top] - Icon y position\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, options) {\n        var _this = this;\n\n        var iconComp = graphics.getComponent(ICON);\n\n        return iconComp.add(type, options).then(function (objectProps) {\n            _this.undoData.object = graphics.getObject(objectProps.id);\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addIcon.js?')},"./src/js/command/addImageObject.js":function srcJsCommandAddImageObjectJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Add an image object\n                                                   */\n\nvar command = {\n    name: commandNames.ADD_IMAGE_OBJECT,\n\n    /**\n     * Add an image object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} imgUrl - Image url to make object\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, imgUrl) {\n        var _this = this;\n\n        return graphics.addImageObject(imgUrl).then(function (objectProps) {\n            _this.undoData.object = graphics.getObject(objectProps.id);\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addImageObject.js?')},"./src/js/command/addObject.js":function srcJsCommandAddObjectJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Add an object\n                                                       */\n\nvar command = {\n    name: commandNames.ADD_OBJECT,\n\n    /**\n     * Add an object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {Object} object - Fabric object\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, object) {\n        return new _promise2.default(function (resolve, reject) {\n            if (!graphics.contains(object)) {\n                graphics.add(object);\n                resolve(object);\n            } else {\n                reject(rejectMessages.addedObject);\n            }\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @param {Object} object - Fabric object\n     * @returns {Promise}\n     */\n    undo: function undo(graphics, object) {\n        return new _promise2.default(function (resolve, reject) {\n            if (graphics.contains(object)) {\n                graphics.remove(object);\n                resolve(object);\n            } else {\n                reject(rejectMessages.noObject);\n            }\n        });\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addObject.js?')},"./src/js/command/addShape.js":function srcJsCommandAddShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Add a shape\n                                                   */\n\nvar SHAPE = componentNames.SHAPE;\n\n\nvar command = {\n    name: commandNames.ADD_SHAPE,\n\n    /**\n     * Add a shape\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n     * @param {Object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.left] - Shape x position\n     *      @param {number} [options.top] - Shape y position\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, options) {\n        var _this = this;\n\n        var shapeComp = graphics.getComponent(SHAPE);\n\n        return shapeComp.add(type, options).then(function (objectProps) {\n            _this.undoData.object = graphics.getObject(objectProps.id);\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addShape.js?")},"./src/js/command/addText.js":function srcJsCommandAddTextJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Add a text object\n                                                       */\n\nvar TEXT = componentNames.TEXT;\n\n\nvar command = {\n    name: commandNames.ADD_TEXT,\n\n    /**\n     * Add a text object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} text - Initial input text\n     * @param {Object} [options] Options for text styles\n     *     @param {Object} [options.styles] Initial styles\n     *         @param {string} [options.styles.fill] Color\n     *         @param {string} [options.styles.fontFamily] Font type for text\n     *         @param {number} [options.styles.fontSize] Size\n     *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n     *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n     *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n     *     @param {{x: number, y: number}} [options.position] - Initial position\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, text, options) {\n        var _this = this;\n\n        var textComp = graphics.getComponent(TEXT);\n\n        if (this.undoData.object) {\n            var undoObject = this.undoData.object;\n\n            return new _promise2.default(function (resolve, reject) {\n                if (!graphics.contains(undoObject)) {\n                    graphics.add(undoObject);\n                    resolve(undoObject);\n                } else {\n                    reject(rejectMessages.redo);\n                }\n            });\n        }\n\n        return textComp.add(text, options).then(function (objectProps) {\n            var id = objectProps.id;\n\n            var textObject = graphics.getObject(id);\n\n            _this.undoData.object = textObject;\n\n            return objectProps;\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.remove(this.undoData.object);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/addText.js?')},"./src/js/command/applyFilter.js":function srcJsCommandApplyFilterJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Apply a filter into an image\n                                                   */\n\nvar FILTER = componentNames.FILTER;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {string} type - Filter type \n * @param {Object} prevfilterOption - prev Filter options\n * @param {Object} options - Filter options\n * @returns {object} - undo data\n */\nfunction makeUndoData(type, prevfilterOption, options) {\n    var undoData = {};\n\n    if (type === 'mask') {\n        undoData.object = options.mask;\n    }\n\n    undoData.options = prevfilterOption;\n\n    return undoData;\n}\n\nvar command = {\n    name: commandNames.APPLY_FILTER,\n\n    /**\n     * Apply a filter into an image\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Filter type\n     * @param {Object} options - Filter options\n     *  @param {number} options.maskObjId - masking image object id\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, options, isSilent) {\n        var filterComp = graphics.getComponent(FILTER);\n\n        if (type === 'mask') {\n            var maskObj = graphics.getObject(options.maskObjId);\n\n            if (!(maskObj && maskObj.isType('image'))) {\n                return Promise.reject(rejectMessages.invalidParameters);\n            }\n\n            _tuiCodeSnippet2.default.extend(options, { mask: maskObj });\n            graphics.remove(options.mask);\n        }\n        if (!this.isRedo) {\n            var prevfilterOption = filterComp.getOptions(type);\n            var undoData = makeUndoData(type, prevfilterOption, options);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return filterComp.add(type, options);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - Filter type\n     * @returns {Promise}\n     */\n    undo: function undo(graphics, type) {\n        var filterComp = graphics.getComponent(FILTER);\n\n        if (type === 'mask') {\n            var mask = this.undoData.object;\n            graphics.add(mask);\n            graphics.setActiveObject(mask);\n\n            return filterComp.remove(type);\n        }\n\n        // options changed case\n        if (this.undoData.options) {\n            return filterComp.add(type, this.undoData.options);\n        }\n\n        // filter added case\n        return filterComp.remove(type);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/applyFilter.js?")},"./src/js/command/changeIconColor.js":function srcJsCommandChangeIconColorJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Change icon color\n                                                   */\n\nvar ICON = componentNames.ICON;\n\n\nvar command = {\n    name: commandNames.CHANGE_ICON_COLOR,\n\n    /**\n     * Change icon color\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {string} color - Color for icon\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, color) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve, reject) {\n            var iconComp = graphics.getComponent(ICON);\n            var targetObj = graphics.getObject(id);\n\n            if (!targetObj) {\n                reject(rejectMessages.noObject);\n            }\n\n            _this.undoData.object = targetObj;\n            _this.undoData.color = iconComp.getColor(targetObj);\n            iconComp.setColor(color, targetObj);\n            resolve();\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var iconComp = graphics.getComponent(ICON);\n        var _undoData$object = this.undoData.object,\n            icon = _undoData$object.object,\n            color = _undoData$object.color;\n\n\n        iconComp.setColor(color, icon);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeIconColor.js?')},"./src/js/command/changeShape.js":function srcJsCommandChangeShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview change a shape\n */\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames;\nvar SHAPE = componentNames.SHAPE;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {object} options - shape options\n * @param {Component} targetObj - shape component\n * @returns {object} - undo data\n */\nfunction makeUndoData(options, targetObj) {\n    var undoData = {\n        object: targetObj,\n        options: {}\n    };\n\n    _tuiCodeSnippet2.default.forEachOwnProperties(options, function (value, key) {\n        undoData.options[key] = targetObj[key];\n    });\n\n    return undoData;\n}\n\nvar command = {\n    name: commandNames.CHANGE_SHAPE,\n\n    /**\n     * Change a shape\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} options - Shape options\n     *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n     *      @param {string} [options.stroke] - Shape outline color\n     *      @param {number} [options.strokeWidth] - Shape outline width\n     *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n     *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n     *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n     *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n     *      @param {number} [options.left] - Shape x position\n     *      @param {number} [options.top] - Shape y position\n     *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, options, isSilent) {\n        var shapeComp = graphics.getComponent(SHAPE);\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        if (!this.isRedo) {\n            var undoData = makeUndoData(options, targetObj);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return shapeComp.change(targetObj, options);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var shapeComp = graphics.getComponent(SHAPE);\n        var _undoData = this.undoData,\n            shape = _undoData.object,\n            options = _undoData.options;\n\n\n        return shapeComp.change(shape, options);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeShape.js?")},"./src/js/command/changeText.js":function srcJsCommandChangeTextJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Change a text\n                                                   */\n\nvar TEXT = componentNames.TEXT;\n\n\nvar command = {\n    name: commandNames.CHANGE_TEXT,\n\n    /**\n     * Change a text\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {string} text - Changing text\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, text) {\n        var textComp = graphics.getComponent(TEXT);\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        this.undoData.object = targetObj;\n        this.undoData.text = textComp.getText(targetObj);\n\n        return textComp.change(targetObj, text);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var textComp = graphics.getComponent(TEXT);\n        var _undoData = this.undoData,\n            textObj = _undoData.object,\n            text = _undoData.text;\n\n\n        return textComp.change(textObj, text);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeText.js?')},"./src/js/command/changeTextStyle.js":function srcJsCommandChangeTextStyleJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Change text styles\n */\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages,\n    commandNames = _consts2.default.commandNames;\nvar TEXT = componentNames.TEXT;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undoData\n * @param {object} styles - text styles\n * @param {Component} targetObj - text component\n * @returns {object} - undo data\n */\nfunction makeUndoData(styles, targetObj) {\n    var undoData = {\n        object: targetObj,\n        styles: {}\n    };\n    _tuiCodeSnippet2.default.forEachOwnProperties(styles, function (value, key) {\n        var undoValue = targetObj[key];\n        undoData.styles[key] = undoValue;\n    });\n\n    return undoData;\n}\n\nvar command = {\n    name: commandNames.CHANGE_TEXT_STYLE,\n\n    /**\n     * Change text styles\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} styles - text styles\n     *     @param {string} [styles.fill] Color\n     *     @param {string} [styles.fontFamily] Font type for text\n     *     @param {number} [styles.fontSize] Size\n     *     @param {string} [styles.fontStyle] Type of inclination (normal / italic)\n     *     @param {string} [styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *     @param {string} [styles.textAlign] Type of text align (left / center / right)\n     *     @param {string} [styles.textDecoration] Type of line (underline / line-through / overline)\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, styles, isSilent) {\n        var textComp = graphics.getComponent(TEXT);\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n        if (!this.isRedo) {\n            var undoData = makeUndoData(styles, targetObj);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return textComp.setStyle(targetObj, styles);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var textComp = graphics.getComponent(TEXT);\n        var _undoData = this.undoData,\n            textObj = _undoData.object,\n            styles = _undoData.styles;\n\n\n        return textComp.setStyle(textObj, styles);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/changeTextStyle.js?')},"./src/js/command/clearObjects.js":function srcJsCommandClearObjectsJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Clear all objects\n                                                   */\n\nvar command = {\n    name: commandNames.CLEAR_OBJECTS,\n\n    /**\n     * Clear all objects without background (main) image\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    execute: function execute(graphics) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve) {\n            _this.undoData.objects = graphics.removeAll();\n            resolve();\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     * @ignore\n     */\n    undo: function undo(graphics) {\n        graphics.add(this.undoData.objects);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/clearObjects.js?')},"./src/js/command/flip.js":function srcJsCommandFlipJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Flip an image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar FLIP = componentNames.FLIP;\n\n\nvar command = {\n  name: commandNames.FLIP_IMAGE,\n\n  /**\n   * flip an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - 'flipX' or 'flipY' or 'reset'\n   * @returns {Promise}\n   */\n  execute: function execute(graphics, type) {\n    var flipComp = graphics.getComponent(FLIP);\n\n    this.undoData.setting = flipComp.getCurrentSetting();\n\n    return flipComp[type]();\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @returns {Promise}\n   */\n  undo: function undo(graphics) {\n    var flipComp = graphics.getComponent(FLIP);\n\n    return flipComp.set(this.undoData.setting);\n  }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/flip.js?")},"./src/js/command/loadImage.js":function srcJsCommandLoadImageJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Load a background (main) image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar IMAGE_LOADER = componentNames.IMAGE_LOADER;\n\n\nvar command = {\n    name: commandNames.LOAD_IMAGE,\n\n    /**\n     * Load a background (main) image\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} imageName - Image name\n     * @param {string} imgUrl - Image Url\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, imageName, imgUrl) {\n        var loader = graphics.getComponent(IMAGE_LOADER);\n        var prevImage = loader.getCanvasImage();\n        var prevImageWidth = prevImage ? prevImage.width : 0;\n        var prevImageHeight = prevImage ? prevImage.height : 0;\n        var objects = graphics.removeAll(true).filter(function (objectItem) {\n            return objectItem.type !== \'cropzone\';\n        });\n\n        objects.forEach(function (objectItem) {\n            objectItem.evented = true;\n        });\n\n        this.undoData = {\n            name: loader.getImageName(),\n            image: prevImage,\n            objects: objects\n        };\n\n        return loader.load(imageName, imgUrl).then(function (newImage) {\n            return {\n                oldWidth: prevImageWidth,\n                oldHeight: prevImageHeight,\n                newWidth: newImage.width,\n                newHeight: newImage.height\n            };\n        });\n    },\n\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var loader = graphics.getComponent(IMAGE_LOADER);\n        var _undoData = this.undoData,\n            objects = _undoData.objects,\n            name = _undoData.name,\n            image = _undoData.image;\n\n\n        graphics.removeAll(true);\n        graphics.add(objects);\n\n        return loader.load(name, image);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/loadImage.js?')},"./src/js/command/removeFilter.js":function srcJsCommandRemoveFilterJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Remove a filter from an image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar FILTER = componentNames.FILTER;\n\n\nvar command = {\n  name: commandNames.REMOVE_FILTER,\n\n  /**\n   * Remove a filter from an image\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  execute: function execute(graphics, type) {\n    var filterComp = graphics.getComponent(FILTER);\n\n    this.undoData.options = filterComp.getOptions(type);\n\n    return filterComp.remove(type);\n  },\n\n  /**\n   * @param {Graphics} graphics - Graphics instance\n   * @param {string} type - Filter type\n   * @returns {Promise}\n   */\n  undo: function undo(graphics, type) {\n    var filterComp = graphics.getComponent(FILTER);\n    var options = this.undoData.options;\n\n\n    return filterComp.add(type, options);\n  }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/removeFilter.js?')},"./src/js/command/removeObject.js":function srcJsCommandRemoveObjectJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Remove an object\n                                                       */\n\nvar command = {\n    name: commandNames.REMOVE_OBJECT,\n\n    /**\n     * Remove an object\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve, reject) {\n            _this.undoData.objects = graphics.removeObjectById(id);\n            if (_this.undoData.objects.length) {\n                resolve();\n            } else {\n                reject(rejectMessages.noObject);\n            }\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.add(this.undoData.objects);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/removeObject.js?')},"./src/js/command/resizeCanvasDimension.js":function srcJsCommandResizeCanvasDimensionJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames; /**\n                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                   * @fileoverview Resize a canvas\n                                                   */\n\nvar command = {\n    name: commandNames.RESIZE_CANVAS_DIMENSION,\n\n    /**\n     * resize the canvas with given dimension\n     * @param {Graphics} graphics - Graphics instance\n     * @param {{width: number, height: number}} dimension - Max width & height\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, dimension) {\n        var _this = this;\n\n        return new _promise2.default(function (resolve) {\n            _this.undoData.size = {\n                width: graphics.cssMaxWidth,\n                height: graphics.cssMaxHeight\n            };\n\n            graphics.setCssMaxDimension(dimension);\n            graphics.adjustCanvasDimension();\n            resolve();\n        });\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        graphics.setCssMaxDimension(this.undoData.size);\n        graphics.adjustCanvasDimension();\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/resizeCanvasDimension.js?')},"./src/js/command/rotate.js":function srcJsCommandRotateJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Rotate an image\n */\nvar componentNames = _consts2.default.componentNames,\n    commandNames = _consts2.default.commandNames;\nvar ROTATION = componentNames.ROTATION;\n\n/**\n * Chched data for undo\n * @type {Object}\n */\n\nvar chchedUndoDataForSilent = null;\n\n/**\n * Make undo data\n * @param {Component} rotationComp - rotation component\n * @returns {object} - undodata\n */\nfunction makeUndoData(rotationComp) {\n    return {\n        angle: rotationComp.getCurrentAngle()\n    };\n}\n\nvar command = {\n    name: commandNames.ROTATE_IMAGE,\n\n    /**\n     * Rotate an image\n     * @param {Graphics} graphics - Graphics instance\n     * @param {string} type - 'rotate' or 'setAngle'\n     * @param {number} angle - angle value (degree)\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, type, angle, isSilent) {\n        var rotationComp = graphics.getComponent(ROTATION);\n\n        if (!this.isRedo) {\n            var undoData = makeUndoData(rotationComp);\n\n            chchedUndoDataForSilent = this.setUndoData(undoData, chchedUndoDataForSilent, isSilent);\n        }\n\n        return rotationComp[type](angle);\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var rotationComp = graphics.getComponent(ROTATION);\n        var _args = this.args,\n            type = _args[1],\n            angle = _args[2];\n\n\n        if (type === 'setAngle') {\n            return rotationComp[type](this.undoData.angle);\n        }\n\n        return rotationComp.rotate(-angle);\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/rotate.js?")},"./src/js/command/setObjectPosition.js":function srcJsCommandSetObjectPositionJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _command = __webpack_require__(/*! ../factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages; /**\n                                                       * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                       * @fileoverview Set object properties\n                                                       */\n\nvar command = {\n    name: commandNames.SET_OBJECT_POSITION,\n\n    /**\n     * Set object properties\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} posInfo - position object\n     *  @param {number} posInfo.x - x position\n     *  @param {number} posInfo.y - y position\n     *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n     *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, posInfo) {\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        this.undoData.objectId = id;\n        this.undoData.props = graphics.getObjectProperties(id, ['left', 'top']);\n\n        graphics.setObjectPosition(id, posInfo);\n        graphics.renderAll();\n\n        return _promise2.default.resolve();\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @returns {Promise}\n     */\n    undo: function undo(graphics) {\n        var _undoData = this.undoData,\n            objectId = _undoData.objectId,\n            props = _undoData.props;\n\n\n        graphics.setObjectProperties(objectId, props);\n        graphics.renderAll();\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/setObjectPosition.js?")},"./src/js/command/setObjectProperties.js":function srcJsCommandSetObjectPropertiesJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _command = __webpack_require__(/*! ../factory/command */ "./src/js/factory/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Set object properties\n */\nvar commandNames = _consts2.default.commandNames,\n    rejectMessages = _consts2.default.rejectMessages;\n\n\nvar command = {\n    name: commandNames.SET_OBJECT_PROPERTIES,\n\n    /**\n     * Set object properties\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @param {Object} props - properties\n     *     @param {string} [props.fill] Color\n     *     @param {string} [props.fontFamily] Font type for text\n     *     @param {number} [props.fontSize] Size\n     *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n     *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n     *     @param {string} [props.textAlign] Type of text align (left / center / right)\n     *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n     * @returns {Promise}\n     */\n    execute: function execute(graphics, id, props) {\n        var _this = this;\n\n        var targetObj = graphics.getObject(id);\n\n        if (!targetObj) {\n            return _promise2.default.reject(rejectMessages.noObject);\n        }\n\n        this.undoData.props = {};\n        _tuiCodeSnippet2.default.forEachOwnProperties(props, function (value, key) {\n            _this.undoData.props[key] = targetObj[key];\n        });\n\n        graphics.setObjectProperties(id, props);\n\n        return _promise2.default.resolve();\n    },\n\n    /**\n     * @param {Graphics} graphics - Graphics instance\n     * @param {number} id - object id\n     * @returns {Promise}\n     */\n    undo: function undo(graphics, id) {\n        var props = this.undoData.props;\n\n\n        graphics.setObjectProperties(id, props);\n\n        return _promise2.default.resolve();\n    }\n};\n\n_command2.default.register(command);\n\nmodule.exports = command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/command/setObjectProperties.js?')},"./src/js/component/cropper.js":function srcJsComponentCropperJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _cropzone = __webpack_require__(/*! ../extension/cropzone */ \"./src/js/extension/cropzone.js\");\n\nvar _cropzone2 = _interopRequireDefault(_cropzone);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image crop module (start cropping, end cropping)\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar MOUSE_MOVE_THRESHOLD = 10;\nvar DEFAULT_OPTION = {\n    presetRatio: null,\n    top: -10,\n    left: -10,\n    height: 1,\n    width: 1\n};\n\n/**\n * Cropper components\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @class Cropper\n * @ignore\n */\n\nvar Cropper = function (_Component) {\n    _inherits(Cropper, _Component);\n\n    function Cropper(graphics) {\n        _classCallCheck(this, Cropper);\n\n        /**\n         * Cropzone\n         * @type {Cropzone}\n         * @private\n         */\n        var _this = _possibleConstructorReturn(this, (Cropper.__proto__ || Object.getPrototypeOf(Cropper)).call(this, _consts.componentNames.CROPPER, graphics));\n\n        _this._cropzone = null;\n\n        /**\n         * StartX of Cropzone\n         * @type {number}\n         * @private\n         */\n        _this._startX = null;\n\n        /**\n         * StartY of Cropzone\n         * @type {number}\n         * @private\n         */\n        _this._startY = null;\n\n        /**\n         * State whether shortcut key is pressed or not\n         * @type {boolean}\n         * @private\n         */\n        _this._withShiftKey = false;\n\n        /**\n         * Listeners\n         * @type {object.<string, function>}\n         * @private\n         */\n        _this._listeners = {\n            keydown: _this._onKeyDown.bind(_this),\n            keyup: _this._onKeyUp.bind(_this),\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            mousemove: _this._onFabricMouseMove.bind(_this),\n            mouseup: _this._onFabricMouseUp.bind(_this)\n        };\n        return _this;\n    }\n\n    /**\n     * Start cropping\n     */\n\n\n    _createClass(Cropper, [{\n        key: 'start',\n        value: function start() {\n            if (this._cropzone) {\n                return;\n            }\n            var canvas = this.getCanvas();\n\n            canvas.forEachObject(function (obj) {\n                // {@link http://fabricjs.com/docs/fabric.Object.html#evented}\n                obj.evented = false;\n            });\n\n            this._cropzone = new _cropzone2.default(canvas, _tuiCodeSnippet2.default.extend({\n                left: 0,\n                top: 0,\n                width: 0.5,\n                height: 0.5,\n                strokeWidth: 0, // {@link https://github.com/kangax/fabric.js/issues/2860}\n                cornerSize: 10,\n                cornerColor: 'black',\n                fill: 'transparent'\n            }, _consts.CROPZONE_DEFAULT_OPTIONS, this.graphics.cropSelectionStyle));\n\n            canvas.discardActiveObject();\n            canvas.add(this._cropzone);\n            canvas.on('mouse:down', this._listeners.mousedown);\n            canvas.selection = false;\n            canvas.defaultCursor = 'crosshair';\n\n            _fabric2.default.util.addListener(document, 'keydown', this._listeners.keydown);\n            _fabric2.default.util.addListener(document, 'keyup', this._listeners.keyup);\n        }\n\n        /**\n         * End cropping\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n            var cropzone = this._cropzone;\n\n            if (!cropzone) {\n                return;\n            }\n            canvas.remove(cropzone);\n            canvas.selection = true;\n            canvas.defaultCursor = 'default';\n            canvas.off('mouse:down', this._listeners.mousedown);\n            canvas.forEachObject(function (obj) {\n                obj.evented = true;\n            });\n\n            this._cropzone = null;\n\n            _fabric2.default.util.removeListener(document, 'keydown', this._listeners.keydown);\n            _fabric2.default.util.removeListener(document, 'keyup', this._listeners.keyup);\n        }\n\n        /**\n         * Change cropzone visible\n         * @param {boolean} visible - cropzone visible state\n         */\n\n    }, {\n        key: 'changeVisibility',\n        value: function changeVisibility(visible) {\n            if (this._cropzone) {\n                this._cropzone.set({ visible: visible });\n            }\n        }\n\n        /**\n         * onMousedown handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            var canvas = this.getCanvas();\n\n            if (fEvent.target) {\n                return;\n            }\n\n            canvas.selection = false;\n            var coord = canvas.getPointer(fEvent.e);\n\n            this._startX = coord.x;\n            this._startY = coord.y;\n\n            canvas.on({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n            });\n        }\n\n        /**\n         * onMousemove handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseMove',\n        value: function _onFabricMouseMove(fEvent) {\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n            var x = pointer.x,\n                y = pointer.y;\n\n            var cropzone = this._cropzone;\n\n            if (Math.abs(x - this._startX) + Math.abs(y - this._startY) > MOUSE_MOVE_THRESHOLD) {\n                canvas.remove(cropzone);\n                cropzone.set(this._calcRectDimensionFromPoint(x, y));\n\n                canvas.add(cropzone);\n                canvas.setActiveObject(cropzone);\n            }\n        }\n\n        /**\n         * Get rect dimension setting from Canvas-Mouse-Position(x, y)\n         * @param {number} x - Canvas-Mouse-Position x\n         * @param {number} y - Canvas-Mouse-Position Y\n         * @returns {{left: number, top: number, width: number, height: number}}\n         * @private\n         */\n\n    }, {\n        key: '_calcRectDimensionFromPoint',\n        value: function _calcRectDimensionFromPoint(x, y) {\n            var canvas = this.getCanvas();\n            var canvasWidth = canvas.getWidth();\n            var canvasHeight = canvas.getHeight();\n            var startX = this._startX;\n            var startY = this._startY;\n            var left = (0, _util.clamp)(x, 0, startX);\n            var top = (0, _util.clamp)(y, 0, startY);\n            var width = (0, _util.clamp)(x, startX, canvasWidth) - left; // (startX <= x(mouse) <= canvasWidth) - left\n            var height = (0, _util.clamp)(y, startY, canvasHeight) - top; // (startY <= y(mouse) <= canvasHeight) - top\n\n            if (this._withShiftKey) {\n                // make fixed ratio cropzone\n                if (width > height) {\n                    height = width;\n                } else if (height > width) {\n                    width = height;\n                }\n\n                if (startX >= x) {\n                    left = startX - width;\n                }\n\n                if (startY >= y) {\n                    top = startY - height;\n                }\n            }\n\n            return {\n                left: left,\n                top: top,\n                width: width,\n                height: height\n            };\n        }\n\n        /**\n         * onMouseup handler in fabric canvas\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp() {\n            var cropzone = this._cropzone;\n            var listeners = this._listeners;\n            var canvas = this.getCanvas();\n\n            canvas.setActiveObject(cropzone);\n            canvas.off({\n                'mouse:move': listeners.mousemove,\n                'mouse:up': listeners.mouseup\n            });\n        }\n\n        /**\n         * Get cropped image data\n         * @param {Object} cropRect cropzone rect\n         *  @param {Number} cropRect.left left position\n         *  @param {Number} cropRect.top top position\n         *  @param {Number} cropRect.width width\n         *  @param {Number} cropRect.height height\n         * @returns {?{imageName: string, url: string}} cropped Image data\n         */\n\n    }, {\n        key: 'getCroppedImageData',\n        value: function getCroppedImageData(cropRect) {\n            var canvas = this.getCanvas();\n            var containsCropzone = canvas.contains(this._cropzone);\n            if (!cropRect) {\n                return null;\n            }\n\n            if (containsCropzone) {\n                canvas.remove(this._cropzone);\n            }\n\n            var imageData = {\n                imageName: this.getImageName(),\n                url: canvas.toDataURL(cropRect)\n            };\n\n            if (containsCropzone) {\n                canvas.add(this._cropzone);\n            }\n\n            return imageData;\n        }\n\n        /**\n         * Get cropped rect\n         * @returns {Object} rect\n         */\n\n    }, {\n        key: 'getCropzoneRect',\n        value: function getCropzoneRect() {\n            var cropzone = this._cropzone;\n\n            if (!cropzone.isValid()) {\n                return null;\n            }\n\n            return {\n                left: cropzone.left,\n                top: cropzone.top,\n                width: cropzone.width,\n                height: cropzone.height\n            };\n        }\n\n        /**\n         * Set a cropzone square\n         * @param {number} [presetRatio] - preset ratio\n         */\n\n    }, {\n        key: 'setCropzoneRect',\n        value: function setCropzoneRect(presetRatio) {\n            var canvas = this.getCanvas();\n            var cropzone = this._cropzone;\n\n            canvas.discardActiveObject();\n            canvas.selection = false;\n            canvas.remove(cropzone);\n\n            cropzone.set(presetRatio ? this._getPresetPropertiesForCropSize(presetRatio) : DEFAULT_OPTION);\n\n            canvas.add(cropzone);\n            canvas.selection = true;\n\n            if (presetRatio) {\n                canvas.setActiveObject(cropzone);\n            }\n        }\n\n        /**\n         * get a cropzone square info\n         * @param {number} presetRatio - preset ratio\n         * @returns {{presetRatio: number, left: number, top: number, width: number, height: number}}\n         * @private\n         */\n\n    }, {\n        key: '_getPresetPropertiesForCropSize',\n        value: function _getPresetPropertiesForCropSize(presetRatio) {\n            var canvas = this.getCanvas();\n            var originalWidth = canvas.getWidth();\n            var originalHeight = canvas.getHeight();\n\n            var standardSize = originalWidth >= originalHeight ? originalWidth : originalHeight;\n            var getScale = function getScale(value, orignalValue) {\n                return value > orignalValue ? orignalValue / value : 1;\n            };\n\n            var width = standardSize * presetRatio;\n            var height = standardSize;\n\n            var scaleWidth = getScale(width, originalWidth);\n\n            var _snippet$map = _tuiCodeSnippet2.default.map([width, height], function (sizeValue) {\n                return sizeValue * scaleWidth;\n            });\n\n            width = _snippet$map[0];\n            height = _snippet$map[1];\n\n\n            var scaleHeight = getScale(height, originalHeight);\n\n            var _snippet$map2 = _tuiCodeSnippet2.default.map([width, height], function (sizeValue) {\n                return (0, _util.fixFloatingPoint)(sizeValue * scaleHeight);\n            });\n\n            width = _snippet$map2[0];\n            height = _snippet$map2[1];\n\n\n            return {\n                presetRatio: presetRatio,\n                top: (originalHeight - height) / 2,\n                left: (originalWidth - width) / 2,\n                width: width,\n                height: height\n            };\n        }\n\n        /**\n         * Keydown event handler\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = true;\n            }\n        }\n\n        /**\n         * Keyup event handler\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyUp',\n        value: function _onKeyUp(e) {\n            if (e.keyCode === _consts.keyCodes.SHIFT) {\n                this._withShiftKey = false;\n            }\n        }\n    }]);\n\n    return Cropper;\n}(_component2.default);\n\nmodule.exports = Cropper;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/cropper.js?")},"./src/js/component/filter.js":function srcJsComponentFilterJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _fabric = __webpack_require__(/*! fabric */ "fabric");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _mask = __webpack_require__(/*! ../extension/mask */ "./src/js/extension/mask.js");\n\nvar _mask2 = _interopRequireDefault(_mask);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _blur = __webpack_require__(/*! ../extension/blur */ "./src/js/extension/blur.js");\n\nvar _blur2 = _interopRequireDefault(_blur);\n\nvar _sharpen = __webpack_require__(/*! ../extension/sharpen */ "./src/js/extension/sharpen.js");\n\nvar _sharpen2 = _interopRequireDefault(_sharpen);\n\nvar _emboss = __webpack_require__(/*! ../extension/emboss */ "./src/js/extension/emboss.js");\n\nvar _emboss2 = _interopRequireDefault(_emboss);\n\nvar _colorFilter = __webpack_require__(/*! ../extension/colorFilter */ "./src/js/extension/colorFilter.js");\n\nvar _colorFilter2 = _interopRequireDefault(_colorFilter);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Add filter module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar rejectMessages = _consts2.default.rejectMessages;\nvar filters = _fabric2.default.Image.filters;\n\nfilters.Mask = _mask2.default;\nfilters.Blur = _blur2.default;\nfilters.Sharpen = _sharpen2.default;\nfilters.Emboss = _emboss2.default;\nfilters.ColorFilter = _colorFilter2.default;\n\n/**\n * Filter\n * @class Filter\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Filter = function (_Component) {\n    _inherits(Filter, _Component);\n\n    function Filter(graphics) {\n        _classCallCheck(this, Filter);\n\n        return _possibleConstructorReturn(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, _consts2.default.componentNames.FILTER, graphics));\n    }\n\n    /**\n     * Add filter to source image (a specific filter is added on fabric.js)\n     * @param {string} type - Filter type\n     * @param {Object} [options] - Options of filter\n     * @returns {Promise}\n     */\n\n\n    _createClass(Filter, [{\n        key: \'add\',\n        value: function add(type, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                var sourceImg = _this2._getSourceImage();\n                var canvas = _this2.getCanvas();\n                var imgFilter = _this2._getFilter(sourceImg, type);\n                if (!imgFilter) {\n                    imgFilter = _this2._createFilter(sourceImg, type, options);\n                }\n\n                if (!imgFilter) {\n                    reject(rejectMessages.invalidParameters);\n                }\n\n                _this2._changeFilterValues(imgFilter, options);\n\n                _this2._apply(sourceImg, function () {\n                    canvas.renderAll();\n                    resolve({\n                        type: type,\n                        action: \'add\',\n                        options: options\n                    });\n                });\n            });\n        }\n\n        /**\n         * Remove filter to source image\n         * @param {string} type - Filter type\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'remove\',\n        value: function remove(type) {\n            var _this3 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                var sourceImg = _this3._getSourceImage();\n                var canvas = _this3.getCanvas();\n                var options = _this3.getOptions(type);\n\n                if (!sourceImg.filters.length) {\n                    reject(rejectMessages.unsupportedOperation);\n                }\n\n                _this3._removeFilter(sourceImg, type);\n\n                _this3._apply(sourceImg, function () {\n                    canvas.renderAll();\n                    resolve({\n                        type: type,\n                        action: \'remove\',\n                        options: options\n                    });\n                });\n            });\n        }\n\n        /**\n         * Whether this has the filter or not\n         * @param {string} type - Filter type\n         * @returns {boolean} true if it has the filter\n         */\n\n    }, {\n        key: \'hasFilter\',\n        value: function hasFilter(type) {\n            return !!this._getFilter(this._getSourceImage(), type);\n        }\n\n        /**\n         * Get a filter options\n         * @param {string} type - Filter type\n         * @returns {Object} filter options or null if there is no that filter\n         */\n\n    }, {\n        key: \'getOptions\',\n        value: function getOptions(type) {\n            var sourceImg = this._getSourceImage();\n            var imgFilter = this._getFilter(sourceImg, type);\n            if (!imgFilter) {\n                return null;\n            }\n\n            return (0, _tuiCodeSnippet.extend)({}, imgFilter.options);\n        }\n\n        /**\n         * Change filter values\n         * @param {Object} imgFilter object of filter\n         * @param {Object} options object\n         * @private\n         */\n\n    }, {\n        key: \'_changeFilterValues\',\n        value: function _changeFilterValues(imgFilter, options) {\n            (0, _tuiCodeSnippet.forEach)(options, function (value, key) {\n                if (!(0, _tuiCodeSnippet.isUndefined)(imgFilter[key])) {\n                    imgFilter[key] = value;\n                }\n            });\n            (0, _tuiCodeSnippet.forEach)(imgFilter.options, function (value, key) {\n                if (!(0, _tuiCodeSnippet.isUndefined)(options[key])) {\n                    imgFilter.options[key] = options[key];\n                }\n            });\n        }\n\n        /**\n         * Apply filter\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {function} callback - Executed function after applying filter\n         * @private\n         */\n\n    }, {\n        key: \'_apply\',\n        value: function _apply(sourceImg, callback) {\n            sourceImg.filters.push();\n            var result = sourceImg.applyFilters();\n            if (result) {\n                callback();\n            }\n        }\n\n        /**\n         * Get source image on canvas\n         * @returns {fabric.Image} Current source image on canvas\n         * @private\n         */\n\n    }, {\n        key: \'_getSourceImage\',\n        value: function _getSourceImage() {\n            return this.getCanvasImage();\n        }\n\n        /**\n         * Create filter instance\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {string} type - Filter type\n         * @param {Object} [options] - Options of filter\n         * @returns {Object} Fabric object of filter\n         * @private\n         */\n\n    }, {\n        key: \'_createFilter\',\n        value: function _createFilter(sourceImg, type, options) {\n            var filterObj = void 0;\n            // capitalize first letter for matching with fabric image filter name\n            var fabricType = this._getFabricFilterType(type);\n            var ImageFilter = _fabric2.default.Image.filters[fabricType];\n            if (ImageFilter) {\n                filterObj = new ImageFilter(options);\n                filterObj.options = options;\n                sourceImg.filters.push(filterObj);\n            }\n\n            return filterObj;\n        }\n\n        /**\n         * Get applied filter instance\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {string} type - Filter type\n         * @returns {Object} Fabric object of filter\n         * @private\n         */\n\n    }, {\n        key: \'_getFilter\',\n        value: function _getFilter(sourceImg, type) {\n            var imgFilter = null;\n\n            if (sourceImg) {\n                var fabricType = this._getFabricFilterType(type);\n                var length = sourceImg.filters.length;\n\n                var item = void 0,\n                    i = void 0;\n\n                for (i = 0; i < length; i += 1) {\n                    item = sourceImg.filters[i];\n                    if (item.type === fabricType) {\n                        imgFilter = item;\n                        break;\n                    }\n                }\n            }\n\n            return imgFilter;\n        }\n\n        /**\n         * Remove applied filter instance\n         * @param {fabric.Image} sourceImg - Source image to apply filter\n         * @param {string} type - Filter type\n         * @private\n         */\n\n    }, {\n        key: \'_removeFilter\',\n        value: function _removeFilter(sourceImg, type) {\n            var fabricType = this._getFabricFilterType(type);\n            sourceImg.filters = (0, _tuiCodeSnippet.filter)(sourceImg.filters, function (value) {\n                return value.type !== fabricType;\n            });\n        }\n\n        /**\n         * Change filter class name to fabric\'s, especially capitalizing first letter\n         * @param {string} type - Filter type\n         * @example\n         * \'grayscale\' -> \'Grayscale\'\n         * @returns {string} Fabric filter class name\n         */\n\n    }, {\n        key: \'_getFabricFilterType\',\n        value: function _getFabricFilterType(type) {\n            return type.charAt(0).toUpperCase() + type.slice(1);\n        }\n    }]);\n\n    return Filter;\n}(_component2.default);\n\nmodule.exports = Filter;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/filter.js?')},"./src/js/component/flip.js":function srcJsComponentFlipJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ "tui-code-snippet");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image flip module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages;\n\n/**\n * Flip\n * @class Flip\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Flip = function (_Component) {\n    _inherits(Flip, _Component);\n\n    function Flip(graphics) {\n        _classCallCheck(this, Flip);\n\n        return _possibleConstructorReturn(this, (Flip.__proto__ || Object.getPrototypeOf(Flip)).call(this, componentNames.FLIP, graphics));\n    }\n\n    /**\n     * Get current flip settings\n     * @returns {{flipX: Boolean, flipY: Boolean}}\n     */\n\n\n    _createClass(Flip, [{\n        key: \'getCurrentSetting\',\n        value: function getCurrentSetting() {\n            var canvasImage = this.getCanvasImage();\n\n            return {\n                flipX: canvasImage.flipX,\n                flipY: canvasImage.flipY\n            };\n        }\n\n        /**\n         * Set flipX, flipY\n         * @param {{flipX: Boolean, flipY: Boolean}} newSetting - Flip setting\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'set\',\n        value: function set(newSetting) {\n            var setting = this.getCurrentSetting();\n            var isChangingFlipX = setting.flipX !== newSetting.flipX;\n            var isChangingFlipY = setting.flipY !== newSetting.flipY;\n\n            if (!isChangingFlipX && !isChangingFlipY) {\n                return _promise2.default.reject(rejectMessages.flip);\n            }\n\n            _tuiCodeSnippet2.default.extend(setting, newSetting);\n            this.setImageProperties(setting, true);\n            this._invertAngle(isChangingFlipX, isChangingFlipY);\n            this._flipObjects(isChangingFlipX, isChangingFlipY);\n\n            return _promise2.default.resolve({\n                flipX: setting.flipX,\n                flipY: setting.flipY,\n                angle: this.getCanvasImage().angle\n            });\n        }\n\n        /**\n         * Invert image angle for flip\n         * @param {boolean} isChangingFlipX - Change flipX\n         * @param {boolean} isChangingFlipY - Change flipY\n         */\n\n    }, {\n        key: \'_invertAngle\',\n        value: function _invertAngle(isChangingFlipX, isChangingFlipY) {\n            var canvasImage = this.getCanvasImage();\n            var angle = canvasImage.angle;\n\n\n            if (isChangingFlipX) {\n                angle *= -1;\n            }\n            if (isChangingFlipY) {\n                angle *= -1;\n            }\n            canvasImage.rotate(parseFloat(angle)).setCoords(); // parseFloat for -0 to 0\n        }\n\n        /**\n         * Flip objects\n         * @param {boolean} isChangingFlipX - Change flipX\n         * @param {boolean} isChangingFlipY - Change flipY\n         * @private\n         */\n\n    }, {\n        key: \'_flipObjects\',\n        value: function _flipObjects(isChangingFlipX, isChangingFlipY) {\n            var canvas = this.getCanvas();\n\n            if (isChangingFlipX) {\n                canvas.forEachObject(function (obj) {\n                    obj.set({\n                        angle: parseFloat(obj.angle * -1), // parseFloat for -0 to 0\n                        flipX: !obj.flipX,\n                        left: canvas.width - obj.left\n                    }).setCoords();\n                });\n            }\n            if (isChangingFlipY) {\n                canvas.forEachObject(function (obj) {\n                    obj.set({\n                        angle: parseFloat(obj.angle * -1), // parseFloat for -0 to 0\n                        flipY: !obj.flipY,\n                        top: canvas.height - obj.top\n                    }).setCoords();\n                });\n            }\n            canvas.renderAll();\n        }\n\n        /**\n         * Reset flip settings\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'reset\',\n        value: function reset() {\n            return this.set({\n                flipX: false,\n                flipY: false\n            });\n        }\n\n        /**\n         * Flip x\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'flipX\',\n        value: function flipX() {\n            var current = this.getCurrentSetting();\n\n            return this.set({\n                flipX: !current.flipX,\n                flipY: current.flipY\n            });\n        }\n\n        /**\n         * Flip y\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'flipY\',\n        value: function flipY() {\n            var current = this.getCurrentSetting();\n\n            return this.set({\n                flipX: current.flipX,\n                flipY: !current.flipY\n            });\n        }\n    }]);\n\n    return Flip;\n}(_component2.default);\n\nmodule.exports = Flip;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/flip.js?')},"./src/js/component/freeDrawing.js":function srcJsComponentFreeDrawingJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ "fabric");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Free drawing module, Set brush\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\n/**\n * FreeDrawing\n * @class FreeDrawing\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\nvar FreeDrawing = function (_Component) {\n  _inherits(FreeDrawing, _Component);\n\n  function FreeDrawing(graphics) {\n    _classCallCheck(this, FreeDrawing);\n\n    /**\n     * Brush width\n     * @type {number}\n     */\n    var _this = _possibleConstructorReturn(this, (FreeDrawing.__proto__ || Object.getPrototypeOf(FreeDrawing)).call(this, _consts2.default.componentNames.FREE_DRAWING, graphics));\n\n    _this.width = 12;\n\n    /**\n     * fabric.Color instance for brush color\n     * @type {fabric.Color}\n     */\n    _this.oColor = new _fabric2.default.Color(\'rgba(0, 0, 0, 0.5)\');\n    return _this;\n  }\n\n  /**\n   * Start free drawing mode\n   * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n   */\n\n\n  _createClass(FreeDrawing, [{\n    key: \'start\',\n    value: function start(setting) {\n      var canvas = this.getCanvas();\n\n      canvas.isDrawingMode = true;\n      this.setBrush(setting);\n    }\n\n    /**\n     * Set brush\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n\n  }, {\n    key: \'setBrush\',\n    value: function setBrush(setting) {\n      var brush = this.getCanvas().freeDrawingBrush;\n\n      setting = setting || {};\n      this.width = setting.width || this.width;\n      if (setting.color) {\n        this.oColor = new _fabric2.default.Color(setting.color);\n      }\n      brush.width = this.width;\n      brush.color = this.oColor.toRgba();\n    }\n\n    /**\n     * End free drawing mode\n     */\n\n  }, {\n    key: \'end\',\n    value: function end() {\n      var canvas = this.getCanvas();\n\n      canvas.isDrawingMode = false;\n    }\n  }]);\n\n  return FreeDrawing;\n}(_component2.default);\n\nmodule.exports = FreeDrawing;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/freeDrawing.js?')},"./src/js/component/icon.js":function srcJsComponentIconJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Add icon module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar events = _consts2.default.eventNames;\nvar rejectMessages = _consts2.default.rejectMessages;\n\n\nvar pathMap = {\n    arrow: 'M 0 90 H 105 V 120 L 160 60 L 105 0 V 30 H 0 Z',\n    cancel: 'M 0 30 L 30 60 L 0 90 L 30 120 L 60 90 L 90 120 L 120 90 ' + 'L 90 60 L 120 30 L 90 0 L 60 30 L 30 0 Z'\n};\n\n/**\n * Icon\n * @class Icon\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Icon = function (_Component) {\n    _inherits(Icon, _Component);\n\n    function Icon(graphics) {\n        _classCallCheck(this, Icon);\n\n        /**\n         * Default icon color\n         * @type {string}\n         */\n        var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this, _consts2.default.componentNames.ICON, graphics));\n\n        _this._oColor = '#000000';\n\n        /**\n         * Path value of each icon type\n         * @type {Object}\n         */\n        _this._pathMap = pathMap;\n\n        /**\n         * Option to add icon to drag.\n         * @type {boolean}\n         */\n        _this.useDragAddIcon = graphics.useDragAddIcon;\n        return _this;\n    }\n\n    /**\n     * Add icon\n     * @param {string} type - Icon type\n     * @param {Object} options - Icon options\n     *      @param {string} [options.fill] - Icon foreground color\n     *      @param {string} [options.left] - Icon x position\n     *      @param {string} [options.top] - Icon y position\n     * @returns {Promise}\n     */\n\n\n    _createClass(Icon, [{\n        key: 'add',\n        value: function add(type, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                var canvas = _this2.getCanvas();\n                var path = _this2._pathMap[type];\n                var selectionStyle = _consts2.default.fObjectOptions.SELECTION_STYLE;\n                var registerdIcon = Object.keys(_consts2.default.defaultIconPath).indexOf(type) >= 0;\n                var useDragAddIcon = _this2.useDragAddIcon && registerdIcon;\n                var icon = path ? _this2._createIcon(path) : null;\n\n                if (!icon) {\n                    reject(rejectMessages.invalidParameters);\n                }\n\n                icon.set(_tuiCodeSnippet2.default.extend({\n                    type: 'icon',\n                    fill: _this2._oColor\n                }, selectionStyle, options, _this2.graphics.controlStyle));\n\n                canvas.add(icon).setActiveObject(icon);\n\n                if (useDragAddIcon) {\n                    _this2._addWithDragEvent(canvas);\n                }\n\n                resolve(_this2.graphics.createObjectProperties(icon));\n            });\n        }\n\n        /**\n         * Added icon drag event\n         * @param {fabric.Canvas} canvas - Canvas instance\n         * @private\n         */\n\n    }, {\n        key: '_addWithDragEvent',\n        value: function _addWithDragEvent(canvas) {\n            var _this3 = this;\n\n            canvas.on({\n                'mouse:move': function mouseMove(fEvent) {\n                    canvas.selection = false;\n\n                    _this3.fire(events.ICON_CREATE_RESIZE, {\n                        moveOriginPointer: canvas.getPointer(fEvent.e)\n                    });\n                },\n                'mouse:up': function mouseUp(fEvent) {\n                    _this3.fire(events.ICON_CREATE_END, {\n                        moveOriginPointer: canvas.getPointer(fEvent.e)\n                    });\n\n                    canvas.defaultCursor = 'default';\n                    canvas.off('mouse:up');\n                    canvas.off('mouse:move');\n                    canvas.selection = true;\n                }\n            });\n        }\n\n        /**\n         * Register icon paths\n         * @param {{key: string, value: string}} pathInfos - Path infos\n         */\n\n    }, {\n        key: 'registerPaths',\n        value: function registerPaths(pathInfos) {\n            var _this4 = this;\n\n            _tuiCodeSnippet2.default.forEach(pathInfos, function (path, type) {\n                _this4._pathMap[type] = path;\n            }, this);\n        }\n\n        /**\n         * Set icon object color\n         * @param {string} color - Color to set\n         * @param {fabric.Path}[obj] - Current activated path object\n         */\n\n    }, {\n        key: 'setColor',\n        value: function setColor(color, obj) {\n            this._oColor = color;\n\n            if (obj && obj.get('type') === 'icon') {\n                obj.set({ fill: this._oColor });\n                this.getCanvas().renderAll();\n            }\n        }\n\n        /**\n         * Get icon color\n         * @param {fabric.Path}[obj] - Current activated path object\n         * @returns {string} color\n         */\n\n    }, {\n        key: 'getColor',\n        value: function getColor(obj) {\n            return obj.fill;\n        }\n\n        /**\n         * Create icon object\n         * @param {string} path - Path value to create icon\n         * @returns {fabric.Path} Path object\n         */\n\n    }, {\n        key: '_createIcon',\n        value: function _createIcon(path) {\n            return new _fabric2.default.Path(path);\n        }\n    }]);\n\n    return Icon;\n}(_component2.default);\n\nmodule.exports = Icon;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/icon.js?")},"./src/js/component/imageLoader.js":function srcJsComponentImageLoaderJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image loader\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar componentNames = _consts2.default.componentNames,\n    rejectMessages = _consts2.default.rejectMessages;\n\nvar imageOption = {\n    padding: 0,\n    crossOrigin: \'Anonymous\'\n};\n\n/**\n * ImageLoader components\n * @extends {Component}\n * @class ImageLoader\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\n\nvar ImageLoader = function (_Component) {\n    _inherits(ImageLoader, _Component);\n\n    function ImageLoader(graphics) {\n        _classCallCheck(this, ImageLoader);\n\n        return _possibleConstructorReturn(this, (ImageLoader.__proto__ || Object.getPrototypeOf(ImageLoader)).call(this, componentNames.IMAGE_LOADER, graphics));\n    }\n\n    /**\n     * Load image from url\n     * @param {?string} imageName - File name\n     * @param {?(fabric.Image|string)} img - fabric.Image instance or URL of an image\n     * @returns {Promise}\n     */\n\n\n    _createClass(ImageLoader, [{\n        key: \'load\',\n        value: function load(imageName, img) {\n            var _this2 = this;\n\n            var promise = void 0;\n\n            if (!imageName && !img) {\n                // Back to the initial state, not error.\n                var canvas = this.getCanvas();\n\n                canvas.backgroundImage = null;\n                canvas.renderAll();\n\n                promise = new _promise2.default(function (resolve) {\n                    _this2.setCanvasImage(\'\', null);\n                    resolve();\n                });\n            } else {\n                promise = this._setBackgroundImage(img).then(function (oImage) {\n                    _this2.setCanvasImage(imageName, oImage);\n                    _this2.adjustCanvasDimension();\n\n                    return oImage;\n                });\n            }\n\n            return promise;\n        }\n\n        /**\n         * Set background image\n         * @param {?(fabric.Image|String)} img fabric.Image instance or URL of an image to set background to\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: \'_setBackgroundImage\',\n        value: function _setBackgroundImage(img) {\n            var _this3 = this;\n\n            if (!img) {\n                return _promise2.default.reject(rejectMessages.loadImage);\n            }\n\n            return new _promise2.default(function (resolve, reject) {\n                var canvas = _this3.getCanvas();\n\n                canvas.setBackgroundImage(img, function () {\n                    var oImage = canvas.backgroundImage;\n\n                    if (oImage && oImage.getElement()) {\n                        resolve(oImage);\n                    } else {\n                        reject(rejectMessages.loadingImageFailed);\n                    }\n                }, imageOption);\n            });\n        }\n    }]);\n\n    return ImageLoader;\n}(_component2.default);\n\nmodule.exports = ImageLoader;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/imageLoader.js?')},"./src/js/component/line.js":function srcJsComponentLineJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Free drawing module, Set brush\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar eventNames = _consts2.default.eventNames;\n\n/**\n * Line\n * @class Line\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Line = function (_Component) {\n    _inherits(Line, _Component);\n\n    function Line(graphics) {\n        _classCallCheck(this, Line);\n\n        /**\n         * Brush width\n         * @type {number}\n         * @private\n         */\n        var _this = _possibleConstructorReturn(this, (Line.__proto__ || Object.getPrototypeOf(Line)).call(this, _consts2.default.componentNames.LINE, graphics));\n\n        _this._width = 12;\n\n        /**\n         * fabric.Color instance for brush color\n         * @type {fabric.Color}\n         * @private\n         */\n        _this._oColor = new _fabric2.default.Color('rgba(0, 0, 0, 0.5)');\n\n        /**\n         * Listeners\n         * @type {object.<string, function>}\n         * @private\n         */\n        _this._listeners = {\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            mousemove: _this._onFabricMouseMove.bind(_this),\n            mouseup: _this._onFabricMouseUp.bind(_this)\n        };\n        return _this;\n    }\n\n    /**\n     * Start drawing line mode\n     * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n     */\n\n\n    _createClass(Line, [{\n        key: 'start',\n        value: function start(setting) {\n            var canvas = this.getCanvas();\n\n            canvas.defaultCursor = 'crosshair';\n            canvas.selection = false;\n\n            this.setBrush(setting);\n\n            canvas.forEachObject(function (obj) {\n                obj.set({\n                    evented: false\n                });\n            });\n\n            canvas.on({\n                'mouse:down': this._listeners.mousedown\n            });\n        }\n\n        /**\n         * Set brush\n         * @param {{width: ?number, color: ?string}} [setting] - Brush width & color\n         */\n\n    }, {\n        key: 'setBrush',\n        value: function setBrush(setting) {\n            var brush = this.getCanvas().freeDrawingBrush;\n\n            setting = setting || {};\n            this._width = setting.width || this._width;\n\n            if (setting.color) {\n                this._oColor = new _fabric2.default.Color(setting.color);\n            }\n            brush.width = this._width;\n            brush.color = this._oColor.toRgba();\n        }\n\n        /**\n         * End drawing line mode\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n\n            canvas.defaultCursor = 'default';\n            canvas.selection = true;\n\n            canvas.forEachObject(function (obj) {\n                obj.set({\n                    evented: true\n                });\n            });\n\n            canvas.off('mouse:down', this._listeners.mousedown);\n        }\n\n        /**\n         * Mousedown event handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n            var points = [pointer.x, pointer.y, pointer.x, pointer.y];\n\n            this._line = new _fabric2.default.Line(points, {\n                stroke: this._oColor.toRgba(),\n                strokeWidth: this._width,\n                evented: false\n            });\n\n            this._line.set(_consts2.default.fObjectOptions.SELECTION_STYLE);\n\n            canvas.add(this._line);\n\n            canvas.on({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n            });\n        }\n\n        /**\n         * Mousemove event handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseMove',\n        value: function _onFabricMouseMove(fEvent) {\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n\n            this._line.set({\n                x2: pointer.x,\n                y2: pointer.y\n            });\n\n            this._line.setCoords();\n\n            canvas.renderAll();\n        }\n\n        /**\n         * Mouseup event handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp() {\n            var canvas = this.getCanvas();\n            var params = this.graphics.createObjectProperties(this._line);\n\n            this.fire(eventNames.ADD_OBJECT, params);\n\n            this._line = null;\n\n            canvas.off({\n                'mouse:move': this._listeners.mousemove,\n                'mouse:up': this._listeners.mouseup\n            });\n        }\n    }]);\n\n    return Line;\n}(_component2.default);\n\nmodule.exports = Line;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/line.js?")},"./src/js/component/rotation.js":function srcJsComponentRotationJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ "fabric");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ "./node_modules/core-js/library/es6/promise.js");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ "./src/js/interface/component.js");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Image rotation module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar componentNames = _consts2.default.componentNames;\n\n/**\n * Image Rotation component\n * @class Rotation\n * @extends {Component}\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\n\nvar Rotation = function (_Component) {\n    _inherits(Rotation, _Component);\n\n    function Rotation(graphics) {\n        _classCallCheck(this, Rotation);\n\n        return _possibleConstructorReturn(this, (Rotation.__proto__ || Object.getPrototypeOf(Rotation)).call(this, componentNames.ROTATION, graphics));\n    }\n\n    /**\n     * Get current angle\n     * @returns {Number}\n     */\n\n\n    _createClass(Rotation, [{\n        key: \'getCurrentAngle\',\n        value: function getCurrentAngle() {\n            return this.getCanvasImage().angle;\n        }\n\n        /**\n         * Set angle of the image\n         *\n         *  Do not call "this.setImageProperties" for setting angle directly.\n         *  Before setting angle, The originX,Y of image should be set to center.\n         *      See "http://fabricjs.com/docs/fabric.Object.html#setAngle"\n         *\n         * @param {number} angle - Angle value\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'setAngle\',\n        value: function setAngle(angle) {\n            var oldAngle = this.getCurrentAngle() % 360; // The angle is lower than 2*PI(===360 degrees)\n\n            angle %= 360;\n\n            var canvasImage = this.getCanvasImage();\n            var oldImageCenter = canvasImage.getCenterPoint();\n            canvasImage.set({ angle: angle }).setCoords();\n            this.adjustCanvasDimension();\n            var newImageCenter = canvasImage.getCenterPoint();\n            this._rotateForEachObject(oldImageCenter, newImageCenter, angle - oldAngle);\n\n            return _promise2.default.resolve(angle);\n        }\n\n        /**\n         * Rotate for each object\n         * @param {fabric.Point} oldImageCenter - Image center point before rotation\n         * @param {fabric.Point} newImageCenter - Image center point after rotation\n         * @param {number} angleDiff - Image angle difference after rotation\n         * @private\n         */\n\n    }, {\n        key: \'_rotateForEachObject\',\n        value: function _rotateForEachObject(oldImageCenter, newImageCenter, angleDiff) {\n            var canvas = this.getCanvas();\n            var centerDiff = {\n                x: oldImageCenter.x - newImageCenter.x,\n                y: oldImageCenter.y - newImageCenter.y\n            };\n\n            canvas.forEachObject(function (obj) {\n                var objCenter = obj.getCenterPoint();\n                var radian = _fabric2.default.util.degreesToRadians(angleDiff);\n                var newObjCenter = _fabric2.default.util.rotatePoint(objCenter, oldImageCenter, radian);\n\n                obj.set({\n                    left: newObjCenter.x - centerDiff.x,\n                    top: newObjCenter.y - centerDiff.y,\n                    angle: (obj.angle + angleDiff) % 360\n                });\n                obj.setCoords();\n            });\n            canvas.renderAll();\n        }\n\n        /**\n         * Rotate the image\n         * @param {number} additionalAngle - Additional angle\n         * @returns {Promise}\n         */\n\n    }, {\n        key: \'rotate\',\n        value: function rotate(additionalAngle) {\n            var current = this.getCurrentAngle();\n\n            return this.setAngle(current + additionalAngle);\n        }\n    }]);\n\n    return Rotation;\n}(_component2.default);\n\nmodule.exports = Rotation;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/rotation.js?')},"./src/js/component/shape.js":function srcJsComponentShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _shapeResizeHelper = __webpack_require__(/*! ../helper/shapeResizeHelper */ \"./src/js/helper/shapeResizeHelper.js\");\n\nvar _shapeResizeHelper2 = _interopRequireDefault(_shapeResizeHelper);\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Shape component\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar rejectMessages = _consts2.default.rejectMessages,\n    eventNames = _consts2.default.eventNames,\n    SHAPE_DEFAULT_OPTIONS = _consts2.default.SHAPE_DEFAULT_OPTIONS;\n\nvar KEY_CODES = _consts2.default.keyCodes;\nvar SHAPE_INIT_OPTIONS = (0, _tuiCodeSnippet.extend)({\n    strokeWidth: 1,\n    stroke: '#000000',\n    fill: '#ffffff',\n    width: 1,\n    height: 1,\n    rx: 0,\n    ry: 0\n}, SHAPE_DEFAULT_OPTIONS);\nvar DEFAULT_TYPE = 'rect';\nvar DEFAULT_WIDTH = 20;\nvar DEFAULT_HEIGHT = 20;\n\nvar shapeType = ['rect', 'circle', 'triangle'];\n\n/**\n * Shape\n * @class Shape\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Shape = function (_Component) {\n    _inherits(Shape, _Component);\n\n    function Shape(graphics) {\n        _classCallCheck(this, Shape);\n\n        /**\n         * Object of The drawing shape\n         * @type {fabric.Object}\n         * @private\n         */\n        var _this = _possibleConstructorReturn(this, (Shape.__proto__ || Object.getPrototypeOf(Shape)).call(this, _consts2.default.componentNames.SHAPE, graphics));\n\n        _this._shapeObj = null;\n\n        /**\n         * Type of the drawing shape\n         * @type {string}\n         * @private\n         */\n        _this._type = DEFAULT_TYPE;\n\n        /**\n         * Options to draw the shape\n         * @type {Object}\n         * @private\n         */\n        _this._options = (0, _tuiCodeSnippet.extend)({}, SHAPE_INIT_OPTIONS);\n\n        /**\n         * Whether the shape object is selected or not\n         * @type {boolean}\n         * @private\n         */\n        _this._isSelected = false;\n\n        /**\n         * Pointer for drawing shape (x, y)\n         * @type {Object}\n         * @private\n         */\n        _this._startPoint = {};\n\n        /**\n         * Using shortcut on drawing shape\n         * @type {boolean}\n         * @private\n         */\n        _this._withShiftKey = false;\n\n        /**\n         * Event handler list\n         * @type {Object}\n         * @private\n         */\n        _this._handlers = {\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            mousemove: _this._onFabricMouseMove.bind(_this),\n            mouseup: _this._onFabricMouseUp.bind(_this),\n            keydown: _this._onKeyDown.bind(_this),\n            keyup: _this._onKeyUp.bind(_this)\n        };\n        return _this;\n    }\n\n    /**\n     * Start to draw the shape on canvas\n     * @ignore\n     */\n\n\n    _createClass(Shape, [{\n        key: 'start',\n        value: function start() {\n            var canvas = this.getCanvas();\n\n            this._isSelected = false;\n\n            canvas.defaultCursor = 'crosshair';\n            canvas.selection = false;\n            canvas.uniScaleTransform = true;\n            canvas.on({\n                'mouse:down': this._handlers.mousedown\n            });\n\n            _fabric2.default.util.addListener(document, 'keydown', this._handlers.keydown);\n            _fabric2.default.util.addListener(document, 'keyup', this._handlers.keyup);\n        }\n\n        /**\n         * End to draw the shape on canvas\n         * @ignore\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n\n            this._isSelected = false;\n\n            canvas.defaultCursor = 'default';\n\n            canvas.selection = true;\n            canvas.uniScaleTransform = false;\n            canvas.off({\n                'mouse:down': this._handlers.mousedown\n            });\n\n            _fabric2.default.util.removeListener(document, 'keydown', this._handlers.keydown);\n            _fabric2.default.util.removeListener(document, 'keyup', this._handlers.keyup);\n        }\n\n        /**\n         * Set states of the current drawing shape\n         * @ignore\n         * @param {string} type - Shape type (ex: 'rect', 'circle')\n         * @param {Object} [options] - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stoke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         */\n\n    }, {\n        key: 'setStates',\n        value: function setStates(type, options) {\n            this._type = type;\n\n            if (options) {\n                this._options = (0, _tuiCodeSnippet.extend)(this._options, options);\n            }\n        }\n\n        /**\n         * Add the shape\n         * @ignore\n         * @param {string} type - Shape type (ex: 'rect', 'circle')\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'add',\n        value: function add(type, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve) {\n                var canvas = _this2.getCanvas();\n                options = _this2._extendOptions(options);\n\n                var shapeObj = _this2._createInstance(type, options);\n\n                _this2._bindEventOnShape(shapeObj);\n\n                canvas.add(shapeObj).setActiveObject(shapeObj);\n\n                var objectProperties = _this2.graphics.createObjectProperties(shapeObj);\n\n                resolve(objectProperties);\n            });\n        }\n\n        /**\n         * Change the shape\n         * @ignore\n         * @param {fabric.Object} shapeObj - Selected shape object on canvas\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether scaling shape has 1:1 ratio or not\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'change',\n        value: function change(shapeObj, options) {\n            var _this3 = this;\n\n            return new _promise2.default(function (resolve, reject) {\n                if ((0, _tuiCodeSnippet.inArray)(shapeObj.get('type'), shapeType) < 0) {\n                    reject(rejectMessages.unsupportedType);\n                }\n\n                shapeObj.set(options);\n                _this3.getCanvas().renderAll();\n                resolve();\n            });\n        }\n\n        /**\n         * Create the instance of shape\n         * @param {string} type - Shape type\n         * @param {Object} options - Options to creat the shape\n         * @returns {fabric.Object} Shape instance\n         * @private\n         */\n\n    }, {\n        key: '_createInstance',\n        value: function _createInstance(type, options) {\n            var instance = void 0;\n\n            switch (type) {\n                case 'rect':\n                    instance = new _fabric2.default.Rect(options);\n                    break;\n                case 'circle':\n                    instance = new _fabric2.default.Ellipse((0, _tuiCodeSnippet.extend)({\n                        type: 'circle'\n                    }, options));\n                    break;\n                case 'triangle':\n                    instance = new _fabric2.default.Triangle(options);\n                    break;\n                default:\n                    instance = {};\n            }\n\n            return instance;\n        }\n\n        /**\n         * Get the options to create the shape\n         * @param {Object} options - Options to creat the shape\n         * @returns {Object} Shape options\n         * @private\n         */\n\n    }, {\n        key: '_extendOptions',\n        value: function _extendOptions(options) {\n            var selectionStyles = _consts2.default.fObjectOptions.SELECTION_STYLE;\n\n            options = (0, _tuiCodeSnippet.extend)({}, SHAPE_INIT_OPTIONS, this._options, selectionStyles, options);\n\n            if (options.isRegular) {\n                options.lockUniScaling = true;\n            }\n\n            return options;\n        }\n\n        /**\n         * Bind fabric events on the creating shape object\n         * @param {fabric.Object} shapeObj - Shape object\n         * @private\n         */\n\n    }, {\n        key: '_bindEventOnShape',\n        value: function _bindEventOnShape(shapeObj) {\n            var self = this;\n            var canvas = this.getCanvas();\n\n            shapeObj.on({\n                added: function added() {\n                    self._shapeObj = this;\n                    _shapeResizeHelper2.default.setOrigins(self._shapeObj);\n                },\n                selected: function selected() {\n                    self._isSelected = true;\n                    self._shapeObj = this;\n                    canvas.uniScaleTransform = true;\n                    canvas.defaultCursor = 'default';\n                    _shapeResizeHelper2.default.setOrigins(self._shapeObj);\n                },\n                deselected: function deselected() {\n                    self._isSelected = false;\n                    self._shapeObj = null;\n                    canvas.defaultCursor = 'crosshair';\n                    canvas.uniScaleTransform = false;\n                },\n                modified: function modified() {\n                    var currentObj = self._shapeObj;\n\n                    _shapeResizeHelper2.default.adjustOriginToCenter(currentObj);\n                    _shapeResizeHelper2.default.setOrigins(currentObj);\n                },\n                scaling: function scaling(fEvent) {\n                    var pointer = canvas.getPointer(fEvent.e);\n                    var currentObj = self._shapeObj;\n\n                    canvas.setCursor('crosshair');\n                    _shapeResizeHelper2.default.resize(currentObj, pointer, true);\n                }\n            });\n        }\n\n        /**\n         * MouseDown event handler on canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            if (!fEvent.target) {\n                this._isSelected = false;\n                this._shapeObj = false;\n            }\n\n            if (!this._isSelected && !this._shapeObj) {\n                var canvas = this.getCanvas();\n                this._startPoint = canvas.getPointer(fEvent.e);\n\n                canvas.on({\n                    'mouse:move': this._handlers.mousemove,\n                    'mouse:up': this._handlers.mouseup\n                });\n            }\n        }\n\n        /**\n         * MouseDown event handler on canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseMove',\n        value: function _onFabricMouseMove(fEvent) {\n            var _this4 = this;\n\n            var canvas = this.getCanvas();\n            var pointer = canvas.getPointer(fEvent.e);\n            var startPointX = this._startPoint.x;\n            var startPointY = this._startPoint.y;\n            var width = startPointX - pointer.x;\n            var height = startPointY - pointer.y;\n            var shape = this._shapeObj;\n\n            if (!shape) {\n                this.add(this._type, {\n                    left: startPointX,\n                    top: startPointY,\n                    width: width,\n                    height: height\n                }).then(function (objectProps) {\n                    _this4.fire(eventNames.ADD_OBJECT, objectProps);\n                });\n            } else {\n                this._shapeObj.set({\n                    isRegular: this._withShiftKey\n                });\n\n                _shapeResizeHelper2.default.resize(shape, pointer);\n                canvas.renderAll();\n            }\n        }\n\n        /**\n         * MouseUp event handler on canvas\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp() {\n            var _this5 = this;\n\n            var canvas = this.getCanvas();\n            var startPointX = this._startPoint.x;\n            var startPointY = this._startPoint.y;\n            var shape = this._shapeObj;\n\n            if (!shape) {\n                this.add(this._type, {\n                    left: startPointX,\n                    top: startPointY,\n                    width: DEFAULT_WIDTH,\n                    height: DEFAULT_HEIGHT\n                }).then(function (objectProps) {\n                    _this5.fire(eventNames.ADD_OBJECT, objectProps);\n                });\n            } else if (shape) {\n                _shapeResizeHelper2.default.adjustOriginToCenter(shape);\n                this.fire(eventNames.ADD_OBJECT_AFTER, this.graphics.createObjectProperties(shape));\n            }\n\n            canvas.off({\n                'mouse:move': this._handlers.mousemove,\n                'mouse:up': this._handlers.mouseup\n            });\n        }\n\n        /**\n         * Keydown event handler on document\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            if (e.keyCode === KEY_CODES.SHIFT) {\n                this._withShiftKey = true;\n\n                if (this._shapeObj) {\n                    this._shapeObj.isRegular = true;\n                }\n            }\n        }\n\n        /**\n         * Keyup event handler on document\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n\n    }, {\n        key: '_onKeyUp',\n        value: function _onKeyUp(e) {\n            if (e.keyCode === KEY_CODES.SHIFT) {\n                this._withShiftKey = false;\n\n                if (this._shapeObj) {\n                    this._shapeObj.isRegular = false;\n                }\n            }\n        }\n    }]);\n\n    return Shape;\n}(_component2.default);\n\nmodule.exports = Shape;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/shape.js?")},"./src/js/component/text.js":function srcJsComponentTextJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _component = __webpack_require__(/*! ../interface/component */ \"./src/js/interface/component.js\");\n\nvar _component2 = _interopRequireDefault(_component);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview Text module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar events = _consts2.default.eventNames;\n\nvar defaultStyles = {\n    fill: '#000000',\n    left: 0,\n    top: 0\n};\nvar resetStyles = {\n    fill: '#000000',\n    fontStyle: 'normal',\n    fontWeight: 'normal',\n    textAlign: 'left',\n    underline: false\n};\nvar browser = _tuiCodeSnippet2.default.browser;\n\n\nvar TEXTAREA_CLASSNAME = 'tui-image-eidtor-textarea';\nvar TEXTAREA_STYLES = _util2.default.makeStyleText({\n    position: 'absolute',\n    padding: 0,\n    display: 'none',\n    border: '1px dotted red',\n    overflow: 'hidden',\n    resize: 'none',\n    outline: 'none',\n    'border-radius': 0,\n    'background-color': 'transparent',\n    '-webkit-appearance': 'none',\n    'z-index': 9999,\n    'white-space': 'pre'\n});\nvar EXTRA_PIXEL_LINEHEIGHT = 0.1;\nvar DBCLICK_TIME = 500;\n\n/**\n * Text\n * @class Text\n * @param {Graphics} graphics - Graphics instance\n * @extends {Component}\n * @ignore\n */\n\nvar Text = function (_Component) {\n    _inherits(Text, _Component);\n\n    function Text(graphics) {\n        _classCallCheck(this, Text);\n\n        /**\n         * Default text style\n         * @type {Object}\n         */\n        var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, _consts2.default.componentNames.TEXT, graphics));\n\n        _this._defaultStyles = defaultStyles;\n\n        /**\n         * Selected state\n         * @type {boolean}\n         */\n        _this._isSelected = false;\n\n        /**\n         * Selected text object\n         * @type {Object}\n         */\n        _this._selectedObj = {};\n\n        /**\n         * Editing text object\n         * @type {Object}\n         */\n        _this._editingObj = {};\n\n        /**\n         * Listeners for fabric event\n         * @type {Object}\n         */\n        _this._listeners = {\n            mousedown: _this._onFabricMouseDown.bind(_this),\n            select: _this._onFabricSelect.bind(_this),\n            selectClear: _this._onFabricSelectClear.bind(_this),\n            scaling: _this._onFabricScaling.bind(_this)\n        };\n\n        /**\n         * Textarea element for editing\n         * @type {HTMLElement}\n         */\n        _this._textarea = null;\n\n        /**\n         * Ratio of current canvas\n         * @type {number}\n         */\n        _this._ratio = 1;\n\n        /**\n         * Last click time\n         * @type {Date}\n         */\n        _this._lastClickTime = new Date().getTime();\n\n        /**\n         * Text object infos before editing\n         * @type {Object}\n         */\n        _this._editingObjInfos = {};\n\n        /**\n         * Previous state of editing\n         * @type {boolean}\n         */\n        _this.isPrevEditing = false;\n\n        /**\n         * use itext\n         * @type {boolean}\n         */\n        _this.useItext = graphics.useItext;\n        return _this;\n    }\n\n    /**\n     * Start input text mode\n     */\n\n\n    _createClass(Text, [{\n        key: 'start',\n        value: function start() {\n            var canvas = this.getCanvas();\n\n            canvas.selection = false;\n            canvas.defaultCursor = 'text';\n            canvas.on({\n                'mouse:down': this._listeners.mousedown,\n                'object:selected': this._listeners.select,\n                'before:selection:cleared': this._listeners.selectClear,\n                'object:scaling': this._listeners.scaling,\n                'text:editing': this._listeners.modify\n            });\n\n            if (this.useItext) {\n                canvas.forEachObject(function (obj) {\n                    if (obj.type === 'i-text') {\n                        obj.set({\n                            left: obj.left - obj.width / 2,\n                            top: obj.top - obj.height / 2,\n                            originX: 'left',\n                            originY: 'top'\n                        });\n                    }\n                });\n            } else {\n                this._createTextarea();\n            }\n\n            this.setCanvasRatio();\n        }\n\n        /**\n         * End input text mode\n         */\n\n    }, {\n        key: 'end',\n        value: function end() {\n            var canvas = this.getCanvas();\n\n            canvas.selection = true;\n            canvas.defaultCursor = 'default';\n\n            if (this.useItext) {\n                canvas.forEachObject(function (obj) {\n                    if (obj.type === 'i-text') {\n                        if (obj.text === '') {\n                            canvas.remove(obj);\n                        } else {\n                            obj.set({\n                                left: obj.left + obj.width / 2,\n                                top: obj.top + obj.height / 2,\n                                originX: 'center',\n                                originY: 'center'\n                            });\n                        }\n                    }\n                });\n            } else {\n                canvas.discardActiveObject();\n                this._removeTextarea();\n            }\n\n            canvas.off({\n                'mouse:down': this._listeners.mousedown,\n                'object:selected': this._listeners.select,\n                'before:selection:cleared': this._listeners.selectClear,\n                'object:scaling': this._listeners.scaling,\n                'text:editing': this._listeners.modify\n            });\n        }\n\n        /**\n         * Add new text on canvas image\n         * @param {string} text - Initial input text\n         * @param {Object} options - Options for generating text\n         *     @param {Object} [options.styles] Initial styles\n         *         @param {string} [options.styles.fill] Color\n         *         @param {string} [options.styles.fontFamily] Font type for text\n         *         @param {number} [options.styles.fontSize] Size\n         *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n         *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n         *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n         *     @param {{x: number, y: number}} [options.position] - Initial position\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'add',\n        value: function add(text, options) {\n            var _this2 = this;\n\n            return new _promise2.default(function (resolve) {\n                var canvas = _this2.getCanvas();\n                var newText = null;\n                var selectionStyle = _consts2.default.fObjectOptions.SELECTION_STYLE;\n                var styles = _this2._defaultStyles;\n\n                _this2._setInitPos(options.position);\n\n                if (options.styles) {\n                    styles = _tuiCodeSnippet2.default.extend(styles, options.styles);\n                }\n\n                if (_this2.useItext) {\n                    newText = new _fabric2.default.IText(text, styles);\n                    selectionStyle = _tuiCodeSnippet2.default.extend({}, selectionStyle, {\n                        originX: 'left',\n                        originY: 'top'\n                    });\n                } else {\n                    newText = new _fabric2.default.Text(text, styles);\n                }\n\n                newText.set(selectionStyle);\n                newText.on({\n                    mouseup: _this2._onFabricMouseUp.bind(_this2)\n                });\n\n                canvas.add(newText);\n\n                if (!canvas.getActiveObject()) {\n                    canvas.setActiveObject(newText);\n                }\n\n                _this2.isPrevEditing = true;\n                resolve(_this2.graphics.createObjectProperties(newText));\n            });\n        }\n\n        /**\n         * Change text of activate object on canvas image\n         * @param {Object} activeObj - Current selected text object\n         * @param {string} text - Changed text\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'change',\n        value: function change(activeObj, text) {\n            var _this3 = this;\n\n            return new _promise2.default(function (resolve) {\n                activeObj.set('text', text);\n\n                _this3.getCanvas().renderAll();\n                resolve();\n            });\n        }\n\n        /**\n         * Set style\n         * @param {Object} activeObj - Current selected text object\n         * @param {Object} styleObj - Initial styles\n         *     @param {string} [styleObj.fill] Color\n         *     @param {string} [styleObj.fontFamily] Font type for text\n         *     @param {number} [styleObj.fontSize] Size\n         *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n         *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n         *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'setStyle',\n        value: function setStyle(activeObj, styleObj) {\n            var _this4 = this;\n\n            return new _promise2.default(function (resolve) {\n                _tuiCodeSnippet2.default.forEach(styleObj, function (val, key) {\n                    if (activeObj[key] === val && key !== 'fontSize') {\n                        styleObj[key] = resetStyles[key] || '';\n                    }\n                }, _this4);\n\n                if ('textDecoration' in styleObj) {\n                    _tuiCodeSnippet2.default.extend(styleObj, _this4._getTextDecorationAdaptObject(styleObj.textDecoration));\n                }\n\n                activeObj.set(styleObj);\n\n                _this4.getCanvas().renderAll();\n                resolve();\n            });\n        }\n\n        /**\n         * Get the text\n         * @param {Object} activeObj - Current selected text object\n         * @returns {String} text\n         */\n\n    }, {\n        key: 'getText',\n        value: function getText(activeObj) {\n            return activeObj.text;\n        }\n\n        /**\n         * Set infos of the current selected object\n         * @param {fabric.Text} obj - Current selected text object\n         * @param {boolean} state - State of selecting\n         */\n\n    }, {\n        key: 'setSelectedInfo',\n        value: function setSelectedInfo(obj, state) {\n            this._selectedObj = obj;\n            this._isSelected = state;\n        }\n\n        /**\n         * Whether object is selected or not\n         * @returns {boolean} State of selecting\n         */\n\n    }, {\n        key: 'isSelected',\n        value: function isSelected() {\n            return this._isSelected;\n        }\n\n        /**\n         * Get current selected text object\n         * @returns {fabric.Text} Current selected text object\n         */\n\n    }, {\n        key: 'getSelectedObj',\n        value: function getSelectedObj() {\n            return this._selectedObj;\n        }\n\n        /**\n         * Set ratio value of canvas\n         */\n\n    }, {\n        key: 'setCanvasRatio',\n        value: function setCanvasRatio() {\n            var canvasElement = this.getCanvasElement();\n            var cssWidth = parseInt(canvasElement.style.maxWidth, 10);\n            var originWidth = canvasElement.width;\n            var ratio = originWidth / cssWidth;\n\n            this._ratio = ratio;\n        }\n\n        /**\n         * Get ratio value of canvas\n         * @returns {number} Ratio value\n         */\n\n    }, {\n        key: 'getCanvasRatio',\n        value: function getCanvasRatio() {\n            return this._ratio;\n        }\n\n        /**\n         * Get text decoration adapt object\n         * @param {string} textDecoration - text decoration option string\n         * @returns {object} adapt object for override\n         */\n\n    }, {\n        key: '_getTextDecorationAdaptObject',\n        value: function _getTextDecorationAdaptObject(textDecoration) {\n            return {\n                underline: textDecoration === 'underline',\n                linetrought: textDecoration === 'line-through',\n                overline: textDecoration === 'overline'\n            };\n        }\n\n        /**\n         * Set initial position on canvas image\n         * @param {{x: number, y: number}} [position] - Selected position\n         * @private\n         */\n\n    }, {\n        key: '_setInitPos',\n        value: function _setInitPos(position) {\n            position = position || this.getCanvasImage().getCenterPoint();\n\n            this._defaultStyles.left = position.x;\n            this._defaultStyles.top = position.y;\n        }\n\n        /**\n         * Create textarea element on canvas container\n         * @private\n         */\n\n    }, {\n        key: '_createTextarea',\n        value: function _createTextarea() {\n            var container = this.getCanvasElement().parentNode;\n            var textarea = document.createElement('textarea');\n\n            textarea.className = TEXTAREA_CLASSNAME;\n            textarea.setAttribute('style', TEXTAREA_STYLES);\n            textarea.setAttribute('wrap', 'off');\n\n            container.appendChild(textarea);\n\n            this._textarea = textarea;\n\n            this._listeners = _tuiCodeSnippet2.default.extend(this._listeners, {\n                input: this._onInput.bind(this),\n                keydown: this._onKeyDown.bind(this),\n                blur: this._onBlur.bind(this),\n                scroll: this._onScroll.bind(this)\n            });\n\n            if (browser.msie && browser.version === 9) {\n                _fabric2.default.util.addListener(textarea, 'keydown', this._listeners.keydown);\n            } else {\n                _fabric2.default.util.addListener(textarea, 'input', this._listeners.input);\n            }\n            _fabric2.default.util.addListener(textarea, 'blur', this._listeners.blur);\n            _fabric2.default.util.addListener(textarea, 'scroll', this._listeners.scroll);\n        }\n\n        /**\n         * Remove textarea element on canvas container\n         * @private\n         */\n\n    }, {\n        key: '_removeTextarea',\n        value: function _removeTextarea() {\n            var container = this.getCanvasElement().parentNode;\n            var textarea = container.querySelector('textarea');\n\n            container.removeChild(textarea);\n\n            this._textarea = null;\n\n            if (browser.msie && browser.version < 10) {\n                _fabric2.default.util.removeListener(textarea, 'keydown', this._listeners.keydown);\n            } else {\n                _fabric2.default.util.removeListener(textarea, 'input', this._listeners.input);\n            }\n            _fabric2.default.util.removeListener(textarea, 'blur', this._listeners.blur);\n            _fabric2.default.util.removeListener(textarea, 'scroll', this._listeners.scroll);\n        }\n\n        /**\n         * Input event handler\n         * @private\n         */\n\n    }, {\n        key: '_onInput',\n        value: function _onInput() {\n            var ratio = this.getCanvasRatio();\n            var obj = this._editingObj;\n            var textareaStyle = this._textarea.style;\n\n            textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n            textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n        }\n\n        /**\n         * Keydown event handler\n         * @private\n         */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown() {\n            var _this5 = this;\n\n            var ratio = this.getCanvasRatio();\n            var obj = this._editingObj;\n            var textareaStyle = this._textarea.style;\n\n            setTimeout(function () {\n                obj.text(_this5._textarea.value);\n\n                textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n                textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n            }, 0);\n        }\n\n        /**\n         * Blur event handler\n         * @private\n         */\n\n    }, {\n        key: '_onBlur',\n        value: function _onBlur() {\n            var ratio = this.getCanvasRatio();\n            var editingObj = this._editingObj;\n            var editingObjInfos = this._editingObjInfos;\n            var textContent = this._textarea.value;\n            var transWidth = editingObj.width / ratio - editingObjInfos.width / ratio;\n            var transHeight = editingObj.height / ratio - editingObjInfos.height / ratio;\n\n            if (ratio === 1) {\n                transWidth /= 2;\n                transHeight /= 2;\n            }\n\n            this._textarea.style.display = 'none';\n\n            editingObj.set({\n                left: editingObjInfos.left + transWidth,\n                top: editingObjInfos.top + transHeight\n            });\n\n            if (textContent.length) {\n                this.getCanvas().add(editingObj);\n\n                var params = {\n                    id: _tuiCodeSnippet2.default.stamp(editingObj),\n                    type: editingObj.type,\n                    text: textContent\n                };\n\n                this.fire(events.TEXT_CHANGED, params);\n            }\n        }\n\n        /**\n         * Scroll event handler\n         * @private\n         */\n\n    }, {\n        key: '_onScroll',\n        value: function _onScroll() {\n            this._textarea.scrollLeft = 0;\n            this._textarea.scrollTop = 0;\n        }\n\n        /**\n         * Fabric scaling event handler\n         * @param {fabric.Event} fEvent - Current scaling event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricScaling',\n        value: function _onFabricScaling(fEvent) {\n            var obj = fEvent.target;\n            var scalingSize = obj.fontSize * obj.scaleY;\n\n            obj.fontSize = scalingSize;\n            obj.scaleX = 1;\n            obj.scaleY = 1;\n        }\n\n        /**\n         * onSelectClear handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricSelectClear',\n        value: function _onFabricSelectClear(fEvent) {\n            var obj = this.getSelectedObj();\n\n            this.isPrevEditing = true;\n\n            this.setSelectedInfo(fEvent.target, false);\n\n            if (obj) {\n                // obj is empty object at initial time, will be set fabric object\n                if (obj.text === '') {\n                    this.getCanvas().remove(obj);\n                }\n            }\n        }\n\n        /**\n         * onSelect handler in fabric canvas\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onFabricSelect',\n        value: function _onFabricSelect(fEvent) {\n            this.isPrevEditing = true;\n\n            this.setSelectedInfo(fEvent.target, true);\n        }\n\n        /**\n         * Fabric 'mousedown' event handler\n         * @param {fabric.Event} fEvent - Current mousedown event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseDown',\n        value: function _onFabricMouseDown(fEvent) {\n            var obj = fEvent.target;\n\n            if (obj && !obj.isType('text')) {\n                return;\n            }\n\n            if (this.isPrevEditing) {\n                this.isPrevEditing = false;\n\n                return;\n            }\n\n            this._fireAddText(fEvent);\n        }\n\n        /**\n         * Fire 'addText' event if object is not selected.\n         * @param {fabric.Event} fEvent - Current mousedown event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_fireAddText',\n        value: function _fireAddText(fEvent) {\n            var obj = fEvent.target;\n            var e = fEvent.e || {};\n            var originPointer = this.getCanvas().getPointer(e);\n\n            if (!obj) {\n                this.fire(events.ADD_TEXT, {\n                    originPosition: {\n                        x: originPointer.x,\n                        y: originPointer.y\n                    },\n                    clientPosition: {\n                        x: e.clientX || 0,\n                        y: e.clientY || 0\n                    }\n                });\n            }\n        }\n\n        /**\n         * Fabric mouseup event handler\n         * @param {fabric.Event} fEvent - Current mousedown event on selected object\n         * @private\n         */\n\n    }, {\n        key: '_onFabricMouseUp',\n        value: function _onFabricMouseUp(fEvent) {\n            var target = fEvent.target;\n\n            var newClickTime = new Date().getTime();\n\n            if (target.isEditing || this._isDoubleClick(newClickTime)) {\n                if (!this.useItext) {\n                    this._changeToEditingMode(target);\n                }\n                this.fire(events.TEXT_EDITING); // fire editing text event\n            }\n\n            this._lastClickTime = newClickTime;\n        }\n\n        /**\n         * Get state of firing double click event\n         * @param {Date} newClickTime - Current clicked time\n         * @returns {boolean} Whether double clicked or not\n         * @private\n         */\n\n    }, {\n        key: '_isDoubleClick',\n        value: function _isDoubleClick(newClickTime) {\n            return newClickTime - this._lastClickTime < DBCLICK_TIME;\n        }\n\n        /**\n         * Change state of text object for editing\n         * @param {fabric.Text} obj - Text object fired event\n         * @private\n         */\n\n    }, {\n        key: '_changeToEditingMode',\n        value: function _changeToEditingMode(obj) {\n            var ratio = this.getCanvasRatio();\n            var textareaStyle = this._textarea.style;\n            var canvas = this.getCanvas();\n\n            this.isPrevEditing = true;\n\n            canvas.remove(obj);\n            canvas.discardActiveObject();\n\n            this._editingObj = obj;\n            this._textarea.value = obj.text;\n\n            this._editingObjInfos = {\n                left: obj.left,\n                top: obj.top,\n                width: obj.width,\n                height: obj.height\n            };\n\n            textareaStyle.display = 'block';\n            textareaStyle.left = obj.oCoords.tl.x / ratio + 'px';\n            textareaStyle.top = obj.oCoords.tl.y / ratio + 'px';\n            textareaStyle.width = Math.ceil(obj.width / ratio) + 'px';\n            textareaStyle.height = Math.ceil(obj.height / ratio) + 'px';\n            textareaStyle.transform = 'rotate(' + obj.angle + 'deg)';\n            textareaStyle.color = obj.fill;\n\n            textareaStyle['font-size'] = obj.fontSize / ratio + 'px';\n            textareaStyle['font-family'] = obj.fontFamily;\n            textareaStyle['font-style'] = obj.fontStyle;\n            textareaStyle['font-weight'] = obj.fontWeight;\n            textareaStyle['text-align'] = obj.textAlign;\n            textareaStyle['line-height'] = obj.lineHeight + EXTRA_PIXEL_LINEHEIGHT;\n            textareaStyle['transform-origin'] = 'left top';\n\n            this._textarea.focus();\n        }\n    }]);\n\n    return Text;\n}(_component2.default);\n\nmodule.exports = Text;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/component/text.js?")},"./src/js/consts.js":function srcJsConstsJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = {\n    /**\n     * Editor help features\n     * @type {Array.<string>}\n     */\n    HELP_MENUS: ['undo', 'redo', 'reset', 'delete', 'deleteAll'],\n\n    /**\n     * Shape default option\n     * @type {Object}\n     */\n    SHAPE_DEFAULT_OPTIONS: {\n        lockSkewingX: true,\n        lockSkewingY: true,\n        lockUniScaling: false,\n        bringForward: true,\n        isRegular: false\n    },\n\n    /**\n     * Cropzone default option\n     * @type {Object}\n     */\n    CROPZONE_DEFAULT_OPTIONS: {\n        hasRotatingPoint: false,\n        hasBorders: false,\n        lockScalingFlip: true,\n        lockRotation: true,\n        lockSkewingX: true,\n        lockSkewingY: true\n    },\n\n    /**\n     * Component names\n     * @type {Object.<string, string>}\n     */\n    componentNames: _util2.default.keyMirror('IMAGE_LOADER', 'CROPPER', 'FLIP', 'ROTATION', 'FREE_DRAWING', 'LINE', 'TEXT', 'ICON', 'FILTER', 'SHAPE'),\n\n    /**\n     * Command names\n     * @type {Object.<string, string>}\n     */\n    commandNames: {\n        'CLEAR_OBJECTS': 'clearObjects',\n        'LOAD_IMAGE': 'loadImage',\n        'FLIP_IMAGE': 'flip',\n        'ROTATE_IMAGE': 'rotate',\n        'ADD_OBJECT': 'addObject',\n        'REMOVE_OBJECT': 'removeObject',\n        'APPLY_FILTER': 'applyFilter',\n        'REMOVE_FILTER': 'removeFilter',\n        'ADD_ICON': 'addIcon',\n        'CHANGE_ICON_COLOR': 'changeIconColor',\n        'ADD_SHAPE': 'addShape',\n        'CHANGE_SHAPE': 'changeShape',\n        'ADD_TEXT': 'addText',\n        'CHANGE_TEXT': 'changeText',\n        'CHANGE_TEXT_STYLE': 'changeTextStyle',\n        'ADD_IMAGE_OBJECT': 'addImageObject',\n        'RESIZE_CANVAS_DIMENSION': 'resizeCanvasDimension',\n        'SET_OBJECT_PROPERTIES': 'setObjectProperties',\n        'SET_OBJECT_POSITION': 'setObjectPosition'\n    },\n\n    /**\n     * Event names\n     * @type {Object.<string, string>}\n     */\n    eventNames: {\n        OBJECT_ACTIVATED: 'objectActivated',\n        OBJECT_MOVED: 'objectMoved',\n        OBJECT_SCALED: 'objectScaled',\n        OBJECT_CREATED: 'objectCreated',\n        OBJECT_ROTATED: 'objectRotated',\n        TEXT_EDITING: 'textEditing',\n        TEXT_CHANGED: 'textChanged',\n        ICON_CREATE_RESIZE: 'iconCreateResize',\n        ICON_CREATE_END: 'iconCreateEnd',\n        ADD_TEXT: 'addText',\n        ADD_OBJECT: 'addObject',\n        ADD_OBJECT_AFTER: 'addObjectAfter',\n        MOUSE_DOWN: 'mousedown',\n        MOUSE_UP: 'mouseup',\n        MOUSE_MOVE: 'mousemove',\n        // UNDO/REDO Events\n        REDO_STACK_CHANGED: 'redoStackChanged',\n        UNDO_STACK_CHANGED: 'undoStackChanged',\n        SELECTION_CLEARED: 'selectionCleared',\n        SELECTION_CREATED: 'selectionCreated'\n    },\n\n    /**\n     * Editor states\n     * @type {Object.<string, string>}\n     */\n    drawingModes: _util2.default.keyMirror('NORMAL', 'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE'),\n\n    /**\n     * Shortcut key values\n     * @type {Object.<string, number>}\n     */\n    keyCodes: {\n        Z: 90,\n        Y: 89,\n        C: 67,\n        V: 86,\n        SHIFT: 16,\n        BACKSPACE: 8,\n        DEL: 46,\n        ARROW_DOWN: 40,\n        ARROW_UP: 38\n    },\n\n    /**\n     * Fabric object options\n     * @type {Object.<string, Object>}\n     */\n    fObjectOptions: {\n        SELECTION_STYLE: {\n            borderColor: 'red',\n            cornerColor: 'green',\n            cornerSize: 10,\n            originX: 'center',\n            originY: 'center',\n            transparentCorners: false\n        }\n    },\n\n    /**\n     * Promise reject messages\n     * @type {Object.<string, string>}\n     */\n    rejectMessages: {\n        addedObject: 'The object is already added.',\n        flip: 'The flipX and flipY setting values are not changed.',\n        invalidDrawingMode: 'This operation is not supported in the drawing mode.',\n        invalidParameters: 'Invalid parameters.',\n        isLock: 'The executing command state is locked.',\n        loadImage: 'The background image is empty.',\n        loadingImageFailed: 'Invalid image loaded.',\n        noActiveObject: 'There is no active object.',\n        noObject: 'The object is not in canvas.',\n        redo: 'The promise of redo command is reject.',\n        rotation: 'The current angle is same the old angle.',\n        undo: 'The promise of undo command is reject.',\n        unsupportedOperation: 'Unsupported operation.',\n        unsupportedType: 'Unsupported object type.'\n    },\n\n    /**\n     * Default icon menu svg path\n     * @type {Object.<string, string>}\n     */\n    defaultIconPath: {\n        'icon-arrow': 'M40 12V0l24 24-24 24V36H0V12h40z',\n        'icon-arrow-2': 'M49,32 H3 V22 h46 l-18,-18 h12 l23,23 L43,50 h-12 l18,-18  z ',\n        'icon-arrow-3': 'M43.349998,27 L17.354,53 H1.949999 l25.996,-26 L1.949999,1 h15.404 L43.349998,27  z ',\n        'icon-star': 'M35,54.557999 l-19.912001,10.468 l3.804,-22.172001 l-16.108,-15.7 l22.26,-3.236 L35,3.746 l9.956,20.172001 l22.26,3.236 l-16.108,15.7 l3.804,22.172001  z ',\n        'icon-star-2': 'M17,31.212 l-7.194,4.08 l-4.728,-6.83 l-8.234,0.524 l-1.328,-8.226 l-7.644,-3.14 l2.338,-7.992 l-5.54,-6.18 l5.54,-6.176 l-2.338,-7.994 l7.644,-3.138 l1.328,-8.226 l8.234,0.522 l4.728,-6.83 L17,-24.312 l7.194,-4.08 l4.728,6.83 l8.234,-0.522 l1.328,8.226 l7.644,3.14 l-2.338,7.992 l5.54,6.178 l-5.54,6.178 l2.338,7.992 l-7.644,3.14 l-1.328,8.226 l-8.234,-0.524 l-4.728,6.83  z ',\n        'icon-polygon': 'M3,31 L19,3 h32 l16,28 l-16,28 H19  z ',\n        'icon-location': 'M24 62C8 45.503 0 32.837 0 24 0 10.745 10.745 0 24 0s24 10.745 24 24c0 8.837-8 21.503-24 38zm0-28c5.523 0 10-4.477 10-10s-4.477-10-10-10-10 4.477-10 10 4.477 10 10 10z',\n        'icon-heart': 'M49.994999,91.349998 l-6.96,-6.333 C18.324001,62.606995 2.01,47.829002 2.01,29.690998 C2.01,14.912998 13.619999,3.299999 28.401001,3.299999 c8.349,0 16.362,5.859 21.594,12 c5.229,-6.141 13.242001,-12 21.591,-12 c14.778,0 26.390999,11.61 26.390999,26.390999 c0,18.138 -16.314001,32.916 -41.025002,55.374001 l-6.96,6.285  z ',\n        'icon-bubble': 'M44 48L34 58V48H12C5.373 48 0 42.627 0 36V12C0 5.373 5.373 0 12 0h40c6.627 0 12 5.373 12 12v24c0 6.627-5.373 12-12 12h-8z'\n    },\n\n    defaultRotateRangeValus: {\n        realTimeEvent: true,\n        min: -360,\n        max: 360,\n        value: 0\n    },\n\n    defaultDrawRangeValus: {\n        min: 5,\n        max: 30,\n        value: 12\n    },\n\n    defaultShapeStrokeValus: {\n        realTimeEvent: true,\n        min: 2,\n        max: 300,\n        value: 3\n    },\n\n    defaultTextRangeValus: {\n        realTimeEvent: true,\n        min: 10,\n        max: 100,\n        value: 50\n    },\n\n    defaultFilterRangeValus: {\n        tintOpacityRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.7,\n            useDecimal: true\n        },\n        removewhiteDistanceRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.2,\n            useDecimal: true\n        },\n        brightnessRange: {\n            realTimeEvent: true,\n            min: -1,\n            max: 1,\n            value: 0,\n            useDecimal: true\n        },\n        noiseRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1000,\n            value: 100\n        },\n        pixelateRange: {\n            realTimeEvent: true,\n            min: 2,\n            max: 20,\n            value: 4\n        },\n        colorfilterThresholeRange: {\n            realTimeEvent: true,\n            min: 0,\n            max: 1,\n            value: 0.2,\n            useDecimal: true\n        }\n    }\n}; /**\n    * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n    * @fileoverview Constants\n    */\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/consts.js?")},"./src/js/drawingMode/cropper.js":function srcJsDrawingModeCropperJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview CropperDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * CropperDrawingMode class\n * @class\n * @ignore\n */\n\nvar CropperDrawingMode = function (_DrawingMode) {\n    _inherits(CropperDrawingMode, _DrawingMode);\n\n    function CropperDrawingMode() {\n        _classCallCheck(this, CropperDrawingMode);\n\n        return _possibleConstructorReturn(this, (CropperDrawingMode.__proto__ || Object.getPrototypeOf(CropperDrawingMode)).call(this, drawingModes.CROPPER));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @override\n    */\n\n\n    _createClass(CropperDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics) {\n            var cropper = graphics.getComponent(components.CROPPER);\n            cropper.start();\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var cropper = graphics.getComponent(components.CROPPER);\n            cropper.end();\n        }\n    }]);\n\n    return CropperDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = CropperDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/cropper.js?')},"./src/js/drawingMode/freeDrawing.js":function srcJsDrawingModeFreeDrawingJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview FreeDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * FreeDrawingMode class\n * @class\n * @ignore\n */\n\nvar FreeDrawingMode = function (_DrawingMode) {\n    _inherits(FreeDrawingMode, _DrawingMode);\n\n    function FreeDrawingMode() {\n        _classCallCheck(this, FreeDrawingMode);\n\n        return _possibleConstructorReturn(this, (FreeDrawingMode.__proto__ || Object.getPrototypeOf(FreeDrawingMode)).call(this, drawingModes.FREE_DRAWING));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n    * @override\n    */\n\n\n    _createClass(FreeDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics, options) {\n            var freeDrawing = graphics.getComponent(components.FREE_DRAWING);\n            freeDrawing.start(options);\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var freeDrawing = graphics.getComponent(components.FREE_DRAWING);\n            freeDrawing.end();\n        }\n    }]);\n\n    return FreeDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = FreeDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/freeDrawing.js?')},"./src/js/drawingMode/lineDrawing.js":function srcJsDrawingModeLineDrawingJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview LineDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * LineDrawingMode class\n * @class\n * @ignore\n */\n\nvar LineDrawingMode = function (_DrawingMode) {\n    _inherits(LineDrawingMode, _DrawingMode);\n\n    function LineDrawingMode() {\n        _classCallCheck(this, LineDrawingMode);\n\n        return _possibleConstructorReturn(this, (LineDrawingMode.__proto__ || Object.getPrototypeOf(LineDrawingMode)).call(this, drawingModes.LINE_DRAWING));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @param {{width: ?number, color: ?string}} [options] - Brush width & color\n    * @override\n    */\n\n\n    _createClass(LineDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics, options) {\n            var lineDrawing = graphics.getComponent(components.LINE);\n            lineDrawing.start(options);\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var lineDrawing = graphics.getComponent(components.LINE);\n            lineDrawing.end();\n        }\n    }]);\n\n    return LineDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = LineDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/lineDrawing.js?')},"./src/js/drawingMode/shape.js":function srcJsDrawingModeShapeJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview ShapeDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * ShapeDrawingMode class\n * @class\n * @ignore\n */\n\nvar ShapeDrawingMode = function (_DrawingMode) {\n    _inherits(ShapeDrawingMode, _DrawingMode);\n\n    function ShapeDrawingMode() {\n        _classCallCheck(this, ShapeDrawingMode);\n\n        return _possibleConstructorReturn(this, (ShapeDrawingMode.__proto__ || Object.getPrototypeOf(ShapeDrawingMode)).call(this, drawingModes.SHAPE));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @override\n    */\n\n\n    _createClass(ShapeDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics) {\n            var shape = graphics.getComponent(components.SHAPE);\n            shape.start();\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var shape = graphics.getComponent(components.SHAPE);\n            shape.end();\n        }\n    }]);\n\n    return ShapeDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = ShapeDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/shape.js?')},"./src/js/drawingMode/text.js":function srcJsDrawingModeTextJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _drawingMode = __webpack_require__(/*! ../interface/drawingMode */ "./src/js/interface/drawingMode.js");\n\nvar _drawingMode2 = _interopRequireDefault(_drawingMode);\n\nvar _consts = __webpack_require__(/*! ../consts */ "./src/js/consts.js");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError("this hasn\'t been initialised - super() hasn\'t been called"); } return call && (typeof call === "object" || typeof call === "function") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== "function" && superClass !== null) { throw new TypeError("Super expression must either be null or a function, not " + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; } /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                * @fileoverview TextDrawingMode class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                */\n\n\nvar drawingModes = _consts2.default.drawingModes;\n\nvar components = _consts2.default.componentNames;\n\n/**\n * TextDrawingMode class\n * @class\n * @ignore\n */\n\nvar TextDrawingMode = function (_DrawingMode) {\n    _inherits(TextDrawingMode, _DrawingMode);\n\n    function TextDrawingMode() {\n        _classCallCheck(this, TextDrawingMode);\n\n        return _possibleConstructorReturn(this, (TextDrawingMode.__proto__ || Object.getPrototypeOf(TextDrawingMode)).call(this, drawingModes.TEXT));\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Graphics} graphics - Graphics instance\n    * @override\n    */\n\n\n    _createClass(TextDrawingMode, [{\n        key: \'start\',\n        value: function start(graphics) {\n            var text = graphics.getComponent(components.TEXT);\n            text.start();\n        }\n\n        /**\n         * stop this drawing mode\n         * @param {Graphics} graphics - Graphics instance\n         * @override\n         */\n\n    }, {\n        key: \'end\',\n        value: function end(graphics) {\n            var text = graphics.getComponent(components.TEXT);\n            text.end();\n        }\n    }]);\n\n    return TextDrawingMode;\n}(_drawingMode2.default);\n\nmodule.exports = TextDrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/drawingMode/text.js?')},"./src/js/extension/blur.js":function srcJsExtensionBlurJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Blur object\n * @class Blur\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nvar Blur = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute, /** @lends Convolute.prototype */{\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'Blur',\n\n  /**\n   * constructor\n   * @override\n   */\n  initialize: function initialize() {\n    var matrix = [1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9, 1 / 9];\n    this.matrix = matrix;\n  }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Blur extending fabric.Image.filters.Convolute\n     */\n\n\nmodule.exports = Blur;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/blur.js?")},"./src/js/extension/colorFilter.js":function srcJsExtensionColorFilterJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * ColorFilter object\n * @class ColorFilter\n * @extends {fabric.Image.filters.BaseFilter}\n * @ignore\n */\nvar ColorFilter = _fabric2.default.util.createClass(_fabric2.default.Image.filters.BaseFilter, /** @lends BaseFilter.prototype */{\n    /**\n     * Filter type\n     * @param {String} type\n     * @default\n     */\n    type: 'ColorFilter',\n\n    /**\n     * Constructor\n     * @member fabric.Image.filters.ColorFilter.prototype\n     * @param {Object} [options] Options object\n     * @param {Number} [options.color='#FFFFFF'] Value of color (0...255)\n     * @param {Number} [options.threshold=45] Value of threshold (0...255)\n     * @override\n     */\n    initialize: function initialize(options) {\n        if (!options) {\n            options = {};\n        }\n        this.color = options.color || '#FFFFFF';\n        this.threshold = options.threshold || 45;\n        this.x = options.x || null;\n        this.y = options.y || null;\n    },\n\n\n    /**\n     * Applies filter to canvas element\n     * @param {Object} canvas Canvas object passed by fabric\n     */\n    applyTo: function applyTo(canvas) {\n        // eslint-disable-line\n        var canvasEl = canvas.canvasEl;\n\n        var context = canvasEl.getContext('2d');\n        var imageData = context.getImageData(0, 0, canvasEl.width, canvasEl.height);\n        var data = imageData.data;\n        var threshold = this.threshold;\n\n        var filterColor = _fabric2.default.Color.sourceFromHex(this.color);\n        var i = void 0,\n            len = void 0;\n\n        if (this.x && this.y) {\n            filterColor = this._getColor(imageData, this.x, this.y);\n        }\n\n        for (i = 0, len = data.length; i < len; i += 4) {\n            if (this._isOutsideThreshold(data[i], filterColor[0], threshold) || this._isOutsideThreshold(data[i + 1], filterColor[1], threshold) || this._isOutsideThreshold(data[i + 2], filterColor[2], threshold)) {\n                continue;\n            }\n            data[i] = data[i + 1] = data[i + 2] = data[i + 3] = 0;\n        }\n        context.putImageData(imageData, 0, 0);\n    },\n\n\n    /**\n     * Check color if it is within threshold\n     * @param {Number} color1 source color\n     * @param {Number} color2 filtering color\n     * @param {Number} threshold threshold\n     * @returns {boolean} true if within threshold or false\n     */\n    _isOutsideThreshold: function _isOutsideThreshold(color1, color2, threshold) {\n        var diff = color1 - color2;\n\n        return Math.abs(diff) > threshold;\n    },\n\n\n    /**\n     * Get color at (x, y)\n     * @param {Object} imageData of canvas\n     * @param {Number} x left position\n     * @param {Number} y top position\n     * @returns {Array} color array\n     */\n    _getColor: function _getColor(imageData, x, y) {\n        var color = [0, 0, 0, 0];\n        var data = imageData.data,\n            width = imageData.width;\n\n        var bytes = 4;\n        var position = (width * y + x) * bytes;\n\n        color[0] = data[position];\n        color[1] = data[position + 1];\n        color[2] = data[position + 2];\n        color[3] = data[position + 3];\n\n        return color;\n    }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview ColorFilter extending fabric.Image.filters.BaseFilter\n     */\n\n\nmodule.exports = ColorFilter;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/colorFilter.js?")},"./src/js/extension/cropzone.js":function srcJsExtensionCropzoneJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; } /**\n                                                                                                                                                                                                                   * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                   * @fileoverview Cropzone extending fabric.Rect\n                                                                                                                                                                                                                   */\n\n\nvar CORNER_TYPE_TOP_LEFT = 'tl';\nvar CORNER_TYPE_TOP_RIGHT = 'tr';\nvar CORNER_TYPE_MIDDLE_TOP = 'mt';\nvar CORNER_TYPE_MIDDLE_LEFT = 'ml';\nvar CORNER_TYPE_MIDDLE_RIGHT = 'mr';\nvar CORNER_TYPE_MIDDLE_BOTTOM = 'mb';\nvar CORNER_TYPE_BOTTOM_LEFT = 'bl';\nvar CORNER_TYPE_BOTTOM_RIGHT = 'br';\nvar CORNER_TYPE_LIST = [CORNER_TYPE_TOP_LEFT, CORNER_TYPE_TOP_RIGHT, CORNER_TYPE_MIDDLE_TOP, CORNER_TYPE_MIDDLE_LEFT, CORNER_TYPE_MIDDLE_RIGHT, CORNER_TYPE_MIDDLE_BOTTOM, CORNER_TYPE_BOTTOM_LEFT, CORNER_TYPE_BOTTOM_RIGHT];\nvar NOOP_FUNCTION = function NOOP_FUNCTION() {};\n\n/**\n * Align with cropzone ratio\n * @param {string} selectedCorner - selected corner type\n * @returns {{width: number, height: number}}\n * @private\n */\nfunction cornerTypeValid(selectedCorner) {\n    return CORNER_TYPE_LIST.indexOf(selectedCorner) >= 0;\n}\n\n/**\n * return scale basis type\n * @param {number} diffX - X distance of the cursor and corner.\n * @param {number} diffY - Y distance of the cursor and corner.\n * @returns {string}\n * @private\n */\nfunction getScaleBasis(diffX, diffY) {\n    return diffX > diffY ? 'width' : 'height';\n}\n\n/**\n * Cropzone object\n * Issue: IE7, 8(with excanvas)\n *  - Cropzone is a black zone without transparency.\n * @class Cropzone\n * @extends {fabric.Rect}\n * @ignore\n */\nvar Cropzone = _fabric2.default.util.createClass(_fabric2.default.Rect, /** @lends Cropzone.prototype */{\n    /**\n     * Constructor\n     * @param {Object} canvas canvas\n     * @param {Object} options Options object\n     * @param {Object} extendsOptions object for extends \"options\" \n     * @override\n     */\n    initialize: function initialize(canvas, options, extendsOptions) {\n        options = _tuiCodeSnippet2.default.extend(options, extendsOptions);\n        options.type = 'cropzone';\n\n        this.callSuper('initialize', options);\n        this._addEventHandler();\n\n        this.canvas = canvas;\n        this.options = options;\n    },\n    canvasEventDelegation: function canvasEventDelegation(eventName) {\n        var delegationState = 'unregisted';\n        var isRegisted = this.canvasEventTrigger[eventName] !== NOOP_FUNCTION;\n        if (isRegisted) {\n            delegationState = 'registed';\n        } else if ([_consts.eventNames.OBJECT_MOVED, _consts.eventNames.OBJECT_SCALED].indexOf(eventName) < 0) {\n            delegationState = 'none';\n        }\n\n        return delegationState;\n    },\n    canvasEventRegister: function canvasEventRegister(eventName, eventTrigger) {\n        this.canvasEventTrigger[eventName] = eventTrigger;\n    },\n    _addEventHandler: function _addEventHandler() {\n        var _canvasEventTrigger;\n\n        this.canvasEventTrigger = (_canvasEventTrigger = {}, _defineProperty(_canvasEventTrigger, _consts.eventNames.OBJECT_MOVED, NOOP_FUNCTION), _defineProperty(_canvasEventTrigger, _consts.eventNames.OBJECT_SCALED, NOOP_FUNCTION), _canvasEventTrigger);\n        this.on({\n            'moving': this._onMoving.bind(this),\n            'scaling': this._onScaling.bind(this)\n        });\n    },\n    _renderCropzone: function _renderCropzone(ctx) {\n        var cropzoneDashLineWidth = 7;\n        var cropzoneDashLineOffset = 7;\n\n        // Calc original scale\n        var originalFlipX = this.flipX ? -1 : 1;\n        var originalFlipY = this.flipY ? -1 : 1;\n        var originalScaleX = originalFlipX / this.scaleX;\n        var originalScaleY = originalFlipY / this.scaleY;\n\n        // Set original scale\n        ctx.scale(originalScaleX, originalScaleY);\n\n        // Render outer rect\n        this._fillOuterRect(ctx, 'rgba(0, 0, 0, 0.5)');\n\n        if (this.options.lineWidth) {\n            this._fillInnerRect(ctx);\n            this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n                lineWidth: this.options.lineWidth\n            });\n        } else {\n            // Black dash line\n            this._strokeBorder(ctx, 'rgb(0, 0, 0)', {\n                lineDashWidth: cropzoneDashLineWidth\n            });\n\n            // White dash line\n            this._strokeBorder(ctx, 'rgb(255, 255, 255)', {\n                lineDashWidth: cropzoneDashLineWidth,\n                lineDashOffset: cropzoneDashLineOffset\n            });\n        }\n\n        // Reset scale\n        ctx.scale(1 / originalScaleX, 1 / originalScaleY);\n    },\n\n\n    /**\n     * Render Crop-zone\n     * @private\n     * @override\n     */\n    _render: function _render(ctx) {\n        this.callSuper('_render', ctx);\n\n        this._renderCropzone(ctx);\n    },\n\n\n    /**\n     * Cropzone-coordinates with outer rectangle\n     *\n     *     x0     x1         x2      x3\n     *  y0 +--------------------------+\n     *     |///////|//////////|///////|    // <--- \"Outer-rectangle\"\n     *     |///////|//////////|///////|\n     *  y1 +-------+----------+-------+\n     *     |///////| Cropzone |///////|    Cropzone is the \"Inner-rectangle\"\n     *     |///////|  (0, 0)  |///////|    Center point (0, 0)\n     *  y2 +-------+----------+-------+\n     *     |///////|//////////|///////|\n     *     |///////|//////////|///////|\n     *  y3 +--------------------------+\n     *\n     * @typedef {{x: Array<number>, y: Array<number>}} cropzoneCoordinates\n     * @ignore\n     */\n\n    /**\n     * Fill outer rectangle\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} fillStyle - Fill-style\n     * @private\n     */\n    _fillOuterRect: function _fillOuterRect(ctx, fillStyle) {\n        var _getCoordinates = this._getCoordinates(),\n            x = _getCoordinates.x,\n            y = _getCoordinates.y;\n\n        ctx.save();\n        ctx.fillStyle = fillStyle;\n        ctx.beginPath();\n\n        // Outer rectangle\n        // Numbers are +/-1 so that overlay edges don't get blurry.\n        ctx.moveTo(x[0] - 1, y[0] - 1);\n        ctx.lineTo(x[3] + 1, y[0] - 1);\n        ctx.lineTo(x[3] + 1, y[3] + 1);\n        ctx.lineTo(x[0] - 1, y[3] + 1);\n        ctx.lineTo(x[0] - 1, y[0] - 1);\n        ctx.closePath();\n\n        // Inner rectangle\n        ctx.moveTo(x[1], y[1]);\n        ctx.lineTo(x[1], y[2]);\n        ctx.lineTo(x[2], y[2]);\n        ctx.lineTo(x[2], y[1]);\n        ctx.lineTo(x[1], y[1]);\n        ctx.closePath();\n\n        ctx.fill();\n        ctx.restore();\n    },\n\n\n    /**\n     * Draw Inner grid line\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @private\n     */\n    _fillInnerRect: function _fillInnerRect(ctx) {\n        var _getCoordinates2 = this._getCoordinates(),\n            outerX = _getCoordinates2.x,\n            outerY = _getCoordinates2.y;\n\n        var x = this._caculateInnerPosition(outerX, (outerX[2] - outerX[1]) / 3);\n        var y = this._caculateInnerPosition(outerY, (outerY[2] - outerY[1]) / 3);\n\n        ctx.save();\n        ctx.strokeStyle = 'rgba(255, 255, 255, 0.7)';\n        ctx.lineWidth = this.options.lineWidth;\n        ctx.beginPath();\n\n        ctx.moveTo(x[0], y[1]);\n        ctx.lineTo(x[3], y[1]);\n\n        ctx.moveTo(x[0], y[2]);\n        ctx.lineTo(x[3], y[2]);\n\n        ctx.moveTo(x[1], y[0]);\n        ctx.lineTo(x[1], y[3]);\n\n        ctx.moveTo(x[2], y[0]);\n        ctx.lineTo(x[2], y[3]);\n        ctx.stroke();\n        ctx.closePath();\n\n        ctx.restore();\n    },\n\n\n    /**\n     * Calculate Inner Position\n     * @param {Array} outer - outer position\n     * @param {number} size - interval for calculate\n     * @returns {Array} - inner position\n     * @private\n     */\n    _caculateInnerPosition: function _caculateInnerPosition(outer, size) {\n        var position = [];\n        position[0] = outer[1];\n        position[1] = outer[1] + size;\n        position[2] = outer[1] + size * 2;\n        position[3] = outer[2];\n\n        return position;\n    },\n\n\n    /**\n     * Get coordinates\n     * @returns {cropzoneCoordinates} - {@link cropzoneCoordinates}\n     * @private\n     */\n    _getCoordinates: function _getCoordinates() {\n        var canvas = this.canvas,\n            width = this.width,\n            height = this.height,\n            left = this.left,\n            top = this.top;\n\n        var halfWidth = width / 2;\n        var halfHeight = height / 2;\n        var canvasHeight = canvas.getHeight(); // fabric object\n        var canvasWidth = canvas.getWidth(); // fabric object\n\n        return {\n            x: _tuiCodeSnippet2.default.map([-(halfWidth + left), // x0\n            -halfWidth, // x1\n            halfWidth, // x2\n            halfWidth + (canvasWidth - left - width) // x3\n            ], Math.ceil),\n            y: _tuiCodeSnippet2.default.map([-(halfHeight + top), // y0\n            -halfHeight, // y1\n            halfHeight, // y2\n            halfHeight + (canvasHeight - top - height) // y3\n            ], Math.ceil)\n        };\n    },\n\n\n    /**\n     * Stroke border\n     * @param {CanvasRenderingContext2D} ctx - Context\n     * @param {string|CanvasGradient|CanvasPattern} strokeStyle - Stroke-style\n     * @param {number} lineDashWidth - Dash width\n     * @param {number} [lineDashOffset] - Dash offset\n     * @param {number} [lineWidth] - line width\n     * @private\n     */\n    _strokeBorder: function _strokeBorder(ctx, strokeStyle, _ref) {\n        var lineDashWidth = _ref.lineDashWidth,\n            lineDashOffset = _ref.lineDashOffset,\n            lineWidth = _ref.lineWidth;\n\n        var halfWidth = this.width / 2;\n        var halfHeight = this.height / 2;\n\n        ctx.save();\n        ctx.strokeStyle = strokeStyle;\n\n        if (ctx.setLineDash) {\n            ctx.setLineDash([lineDashWidth, lineDashWidth]);\n        }\n        if (lineDashOffset) {\n            ctx.lineDashOffset = lineDashOffset;\n        }\n        if (lineWidth) {\n            ctx.lineWidth = lineWidth;\n        }\n\n        ctx.beginPath();\n        ctx.moveTo(-halfWidth, -halfHeight);\n        ctx.lineTo(halfWidth, -halfHeight);\n        ctx.lineTo(halfWidth, halfHeight);\n        ctx.lineTo(-halfWidth, halfHeight);\n        ctx.lineTo(-halfWidth, -halfHeight);\n        ctx.stroke();\n\n        ctx.restore();\n    },\n\n\n    /**\n     * onMoving event listener\n     * @private\n     */\n    _onMoving: function _onMoving() {\n        var height = this.height,\n            width = this.width,\n            left = this.left,\n            top = this.top;\n\n        var maxLeft = this.canvas.getWidth() - width;\n        var maxTop = this.canvas.getHeight() - height;\n\n        this.left = (0, _util.clamp)(left, 0, maxLeft);\n        this.top = (0, _util.clamp)(top, 0, maxTop);\n\n        this.canvasEventTrigger[_consts.eventNames.OBJECT_MOVED](this);\n    },\n\n\n    /**\n     * onScaling event listener\n     * @param {{e: MouseEvent}} fEvent - Fabric event\n     * @private\n     */\n    _onScaling: function _onScaling(fEvent) {\n        var selectedCorner = fEvent.transform.corner;\n        var pointer = this.canvas.getPointer(fEvent.e);\n        var settings = this._calcScalingSizeFromPointer(pointer, selectedCorner);\n\n        // On scaling cropzone,\n        // change real width and height and fix scaleFactor to 1\n        this.scale(1).set(settings);\n\n        this.canvasEventTrigger[_consts.eventNames.OBJECT_SCALED](this);\n    },\n\n\n    /**\n     * Calc scaled size from mouse pointer with selected corner\n     * @param {{x: number, y: number}} pointer - Mouse position\n     * @param {string} selectedCorner - selected corner type\n     * @returns {Object} Having left or(and) top or(and) width or(and) height.\n     * @private\n     */\n    _calcScalingSizeFromPointer: function _calcScalingSizeFromPointer(pointer, selectedCorner) {\n        var isCornerTypeValid = cornerTypeValid(selectedCorner);\n\n        return isCornerTypeValid && this._resizeCropZone(pointer, selectedCorner);\n    },\n\n\n    /**\n     * Align with cropzone ratio\n     * @param {number} width - cropzone width\n     * @param {number} height - cropzone height\n     * @param {number} maxWidth - limit max width\n     * @param {number} maxHeight - limit max height\n     * @param {number} scaleTo - cropzone ratio\n     * @returns {{width: number, height: number}}\n     * @private\n     */\n    adjustRatioCropzoneSize: function adjustRatioCropzoneSize(_ref2) {\n        var width = _ref2.width,\n            height = _ref2.height,\n            leftMaker = _ref2.leftMaker,\n            topMaker = _ref2.topMaker,\n            maxWidth = _ref2.maxWidth,\n            maxHeight = _ref2.maxHeight,\n            scaleTo = _ref2.scaleTo;\n\n        width = maxWidth ? (0, _util.clamp)(width, 1, maxWidth) : width;\n        height = maxHeight ? (0, _util.clamp)(height, 1, maxHeight) : height;\n\n        if (!this.presetRatio) {\n            return {\n                width: width,\n                height: height,\n                left: leftMaker(width),\n                top: topMaker(height)\n            };\n        }\n\n        if (scaleTo === 'width') {\n            height = width / this.presetRatio;\n        } else {\n            width = height * this.presetRatio;\n        }\n\n        var maxScaleFactor = Math.min(maxWidth / width, maxHeight / height);\n        if (maxScaleFactor <= 1) {\n            var _map = [width, height].map(function (v) {\n                return v * maxScaleFactor;\n            });\n\n            width = _map[0];\n            height = _map[1];\n        }\n\n        return {\n            width: width,\n            height: height,\n            left: leftMaker(width),\n            top: topMaker(height)\n        };\n    },\n\n\n    /**\n     * Get dimension last state cropzone\n     * @returns {{rectTop: number, rectLeft: number, rectWidth: number, rectHeight: number}}\n     * @private\n     */\n    _getCropzoneRectInfo: function _getCropzoneRectInfo() {\n        var _canvas = this.canvas,\n            canvasWidth = _canvas.width,\n            canvasHeight = _canvas.height;\n\n        var _getBoundingRect = this.getBoundingRect(false, true),\n            rectTop = _getBoundingRect.top,\n            rectLeft = _getBoundingRect.left,\n            rectWidth = _getBoundingRect.width,\n            rectHeight = _getBoundingRect.height;\n\n        return {\n            rectTop: rectTop,\n            rectLeft: rectLeft,\n            rectWidth: rectWidth,\n            rectHeight: rectHeight,\n            rectRight: rectLeft + rectWidth,\n            rectBottom: rectTop + rectHeight,\n            canvasWidth: canvasWidth,\n            canvasHeight: canvasHeight\n        };\n    },\n\n\n    /**\n     * Calc scaling dimension\n     * @param {Object} position - Mouse position\n     * @param {string} corner - corner type\n     * @returns {{left: number, top: number, width: number, height: number}}\n     * @private\n     */\n    _resizeCropZone: function _resizeCropZone(_ref3, corner) {\n        var x = _ref3.x,\n            y = _ref3.y;\n\n        var _getCropzoneRectInfo2 = this._getCropzoneRectInfo(),\n            rectWidth = _getCropzoneRectInfo2.rectWidth,\n            rectHeight = _getCropzoneRectInfo2.rectHeight,\n            rectTop = _getCropzoneRectInfo2.rectTop,\n            rectLeft = _getCropzoneRectInfo2.rectLeft,\n            rectBottom = _getCropzoneRectInfo2.rectBottom,\n            rectRight = _getCropzoneRectInfo2.rectRight,\n            canvasWidth = _getCropzoneRectInfo2.canvasWidth,\n            canvasHeight = _getCropzoneRectInfo2.canvasHeight;\n\n        var resizeInfoMap = {\n            tl: {\n                width: rectRight - x,\n                height: rectBottom - y,\n                leftMaker: function leftMaker(newWidth) {\n                    return rectRight - newWidth;\n                },\n                topMaker: function topMaker(newHeight) {\n                    return rectBottom - newHeight;\n                },\n                maxWidth: rectRight,\n                maxHeight: rectBottom,\n                scaleTo: getScaleBasis(rectLeft - x, rectTop - y)\n            },\n            tr: {\n                width: x - rectLeft,\n                height: rectBottom - y,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker(newHeight) {\n                    return rectBottom - newHeight;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: rectBottom,\n                scaleTo: getScaleBasis(x - rectRight, rectTop - y)\n            },\n            mt: {\n                width: rectWidth,\n                height: rectBottom - y,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker(newHeight) {\n                    return rectBottom - newHeight;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: rectBottom,\n                scaleTo: 'height'\n            },\n            ml: {\n                width: rectRight - x,\n                height: rectHeight,\n                leftMaker: function leftMaker(newWidth) {\n                    return rectRight - newWidth;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: rectRight,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'width'\n            },\n            mr: {\n                width: x - rectLeft,\n                height: rectHeight,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'width'\n            },\n            mb: {\n                width: rectWidth,\n                height: y - rectTop,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: 'height'\n            },\n            bl: {\n                width: rectRight - x,\n                height: y - rectTop,\n                leftMaker: function leftMaker(newWidth) {\n                    return rectRight - newWidth;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: rectRight,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: getScaleBasis(rectLeft - x, y - rectBottom)\n            },\n            br: {\n                width: x - rectLeft,\n                height: y - rectTop,\n                leftMaker: function leftMaker() {\n                    return rectLeft;\n                },\n                topMaker: function topMaker() {\n                    return rectTop;\n                },\n                maxWidth: canvasWidth - rectLeft,\n                maxHeight: canvasHeight - rectTop,\n                scaleTo: getScaleBasis(x - rectRight, y - rectBottom)\n            }\n        };\n\n        return this.adjustRatioCropzoneSize(resizeInfoMap[corner]);\n    },\n\n\n    /**\n     * Return the whether this cropzone is valid\n     * @returns {boolean}\n     */\n    isValid: function isValid() {\n        return this.left >= 0 && this.top >= 0 && this.width > 0 && this.height > 0;\n    }\n});\n\nmodule.exports = Cropzone;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/cropzone.js?")},"./src/js/extension/emboss.js":function srcJsExtensionEmbossJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Emboss object\n * @class Emboss\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nvar Emboss = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute, /** @lends Convolute.prototype */{\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'Emboss',\n\n  /**\n   * constructor\n   * @override\n   */\n  initialize: function initialize() {\n    var matrix = [1, 1, 1, 1, 0.7, -1, -1, -1, -1];\n    this.matrix = matrix;\n  }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Emboss extending fabric.Image.filters.Convolute\n     */\n\n\nmodule.exports = Emboss;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/emboss.js?")},"./src/js/extension/mask.js":function srcJsExtensionMaskJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Mask object\n * @class Mask\n * @extends {fabric.Image.filters.BlendImage}\n * @ignore\n */\nvar Mask = _fabric2.default.util.createClass(_fabric2.default.Image.filters.BlendImage, /** @lends Mask.prototype */{\n    /**\n     * Apply filter to canvas element\n     * @param {Object} pipelineState - Canvas element to apply filter\n     * @override\n     */\n    applyTo: function applyTo(pipelineState) {\n        if (!this.mask) {\n            return;\n        }\n\n        var canvas = pipelineState.canvasEl;\n        var width = canvas.width,\n            height = canvas.height;\n\n        var maskCanvasEl = this._createCanvasOfMask(width, height);\n        var ctx = canvas.getContext('2d');\n        var maskCtx = maskCanvasEl.getContext('2d');\n        var imageData = ctx.getImageData(0, 0, width, height);\n\n        this._drawMask(maskCtx, canvas, ctx);\n        this._mapData(maskCtx, imageData, width, height);\n\n        pipelineState.imageData = imageData;\n    },\n\n\n    /**\n     * Create canvas of mask image\n     * @param {number} width - Width of main canvas\n     * @param {number} height - Height of main canvas\n     * @returns {HTMLElement} Canvas element\n     * @private\n     */\n    _createCanvasOfMask: function _createCanvasOfMask(width, height) {\n        var maskCanvasEl = _fabric2.default.util.createCanvasElement();\n\n        maskCanvasEl.width = width;\n        maskCanvasEl.height = height;\n\n        return maskCanvasEl;\n    },\n\n\n    /**\n     * Draw mask image on canvas element\n     * @param {Object} maskCtx - Context of mask canvas\n     * @private\n     */\n    _drawMask: function _drawMask(maskCtx) {\n        var mask = this.mask;\n\n        var maskImg = mask.getElement();\n        var angle = mask.angle,\n            left = mask.left,\n            scaleX = mask.scaleX,\n            scaleY = mask.scaleY,\n            top = mask.top;\n\n\n        maskCtx.save();\n        maskCtx.translate(left, top);\n        maskCtx.rotate(angle * Math.PI / 180);\n        maskCtx.scale(scaleX, scaleY);\n        maskCtx.drawImage(maskImg, -maskImg.width / 2, -maskImg.height / 2);\n        maskCtx.restore();\n    },\n\n\n    /**\n     * Map mask image data to source image data\n     * @param {Object} maskCtx - Context of mask canvas\n     * @param {Object} imageData - Data of source image\n     * @param {number} width - Width of main canvas\n     * @param {number} height - Height of main canvas\n     * @private\n     */\n    _mapData: function _mapData(maskCtx, imageData, width, height) {\n        var data = imageData.data,\n            imgHeight = imageData.height,\n            imgWidth = imageData.width;\n\n        var sourceData = data;\n        var len = imgWidth * imgHeight * 4;\n        var maskData = maskCtx.getImageData(0, 0, width, height).data;\n\n        for (var i = 0; i < len; i += 4) {\n            sourceData[i + 3] = maskData[i]; // adjust value of alpha data\n        }\n    }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Mask extending fabric.Image.filters.Mask\n     */\n\n\nmodule.exports = Mask;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/mask.js?")},"./src/js/extension/sharpen.js":function srcJsExtensionSharpenJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Sharpen object\n * @class Sharpen\n * @extends {fabric.Image.filters.Convolute}\n * @ignore\n */\nvar Sharpen = _fabric2.default.util.createClass(_fabric2.default.Image.filters.Convolute, /** @lends Convolute.prototype */{\n  /**\n   * Filter type\n   * @param {String} type\n   * @default\n   */\n  type: 'Sharpen',\n\n  /**\n   * constructor\n   * @override\n   */\n  initialize: function initialize() {\n    var matrix = [0, -1, 0, -1, 5, -1, 0, -1, 0];\n    this.matrix = matrix;\n  }\n}); /**\n     * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n     * @fileoverview Sharpen extending fabric.Image.filters.Convolute\n     */\n\n\nmodule.exports = Sharpen;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/extension/sharpen.js?")},"./src/js/factory/command.js":function srcJsFactoryCommandJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _command = __webpack_require__(/*! ../interface/command */ "./src/js/interface/command.js");\n\nvar _command2 = _interopRequireDefault(_command);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar commands = {};\n\n/**\n * Create a command\n * @param {string} name - Command name\n * @param {...*} args - Arguments for creating command\n * @returns {Command}\n * @ignore\n */\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Command factory\n */\nfunction create(name) {\n    var actions = commands[name];\n    if (actions) {\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        return new _command2.default(actions, args);\n    }\n\n    return null;\n}\n\n/**\n * Register a command with name as a key\n * @param {Object} command - {name:{string}, execute: {function}, undo: {function}}\n * @param {string} command.name - command name\n * @param {function} command.execute - executable function\n * @param {function} command.undo - undo function\n * @ignore\n */\nfunction register(command) {\n    commands[command.name] = command;\n}\n\nmodule.exports = {\n    create: create,\n    register: register\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/factory/command.js?')},"./src/js/factory/errorMessage.js":function srcJsFactoryErrorMessageJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Error-message factory\n */\nvar types = (0, _util.keyMirror)('UN_IMPLEMENTATION', 'NO_COMPONENT_NAME');\nvar messages = {\n    UN_IMPLEMENTATION: 'Should implement a method: ',\n    NO_COMPONENT_NAME: 'Should set a component name'\n};\nvar map = {\n    UN_IMPLEMENTATION: function UN_IMPLEMENTATION(methodName) {\n        return messages.UN_IMPLEMENTATION + methodName;\n    },\n    NO_COMPONENT_NAME: function NO_COMPONENT_NAME() {\n        return messages.NO_COMPONENT_NAME;\n    }\n};\n\nmodule.exports = {\n    types: _tuiCodeSnippet2.default.extend({}, types),\n\n    create: function create(type) {\n        type = type.toLowerCase();\n        var func = map[type];\n\n        for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n            args[_key - 1] = arguments[_key];\n        }\n\n        return func.apply(undefined, args);\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/factory/errorMessage.js?")},"./src/js/graphics.js":function srcJsGraphicsJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Graphics module\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _fabric = __webpack_require__(/*! fabric */ \"fabric\");\n\nvar _fabric2 = _interopRequireDefault(_fabric);\n\nvar _imageLoader = __webpack_require__(/*! ./component/imageLoader */ \"./src/js/component/imageLoader.js\");\n\nvar _imageLoader2 = _interopRequireDefault(_imageLoader);\n\nvar _cropper = __webpack_require__(/*! ./component/cropper */ \"./src/js/component/cropper.js\");\n\nvar _cropper2 = _interopRequireDefault(_cropper);\n\nvar _flip = __webpack_require__(/*! ./component/flip */ \"./src/js/component/flip.js\");\n\nvar _flip2 = _interopRequireDefault(_flip);\n\nvar _rotation = __webpack_require__(/*! ./component/rotation */ \"./src/js/component/rotation.js\");\n\nvar _rotation2 = _interopRequireDefault(_rotation);\n\nvar _freeDrawing = __webpack_require__(/*! ./component/freeDrawing */ \"./src/js/component/freeDrawing.js\");\n\nvar _freeDrawing2 = _interopRequireDefault(_freeDrawing);\n\nvar _line = __webpack_require__(/*! ./component/line */ \"./src/js/component/line.js\");\n\nvar _line2 = _interopRequireDefault(_line);\n\nvar _text = __webpack_require__(/*! ./component/text */ \"./src/js/component/text.js\");\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _icon = __webpack_require__(/*! ./component/icon */ \"./src/js/component/icon.js\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _filter = __webpack_require__(/*! ./component/filter */ \"./src/js/component/filter.js\");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _shape = __webpack_require__(/*! ./component/shape */ \"./src/js/component/shape.js\");\n\nvar _shape2 = _interopRequireDefault(_shape);\n\nvar _cropper3 = __webpack_require__(/*! ./drawingMode/cropper */ \"./src/js/drawingMode/cropper.js\");\n\nvar _cropper4 = _interopRequireDefault(_cropper3);\n\nvar _freeDrawing3 = __webpack_require__(/*! ./drawingMode/freeDrawing */ \"./src/js/drawingMode/freeDrawing.js\");\n\nvar _freeDrawing4 = _interopRequireDefault(_freeDrawing3);\n\nvar _lineDrawing = __webpack_require__(/*! ./drawingMode/lineDrawing */ \"./src/js/drawingMode/lineDrawing.js\");\n\nvar _lineDrawing2 = _interopRequireDefault(_lineDrawing);\n\nvar _shape3 = __webpack_require__(/*! ./drawingMode/shape */ \"./src/js/drawingMode/shape.js\");\n\nvar _shape4 = _interopRequireDefault(_shape3);\n\nvar _text3 = __webpack_require__(/*! ./drawingMode/text */ \"./src/js/drawingMode/text.js\");\n\nvar _text4 = _interopRequireDefault(_text3);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar components = _consts2.default.componentNames,\n    events = _consts2.default.eventNames;\nvar drawingModes = _consts2.default.drawingModes,\n    fObjectOptions = _consts2.default.fObjectOptions;\nvar extend = _tuiCodeSnippet2.default.extend,\n    stamp = _tuiCodeSnippet2.default.stamp,\n    isArray = _tuiCodeSnippet2.default.isArray,\n    isString = _tuiCodeSnippet2.default.isString,\n    forEachArray = _tuiCodeSnippet2.default.forEachArray,\n    forEachOwnProperties = _tuiCodeSnippet2.default.forEachOwnProperties,\n    CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n\n\nvar DEFAULT_CSS_MAX_WIDTH = 1000;\nvar DEFAULT_CSS_MAX_HEIGHT = 800;\nvar EXTRA_PX_FOR_PASTE = 10;\n\nvar cssOnly = {\n    cssOnly: true\n};\nvar backstoreOnly = {\n    backstoreOnly: true\n};\n\n/**\n * Graphics class\n * @class\n * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n * @param {Object} [option] - Canvas max width & height of css\n *  @param {number} option.cssMaxWidth - Canvas css-max-width\n *  @param {number} option.cssMaxHeight - Canvas css-max-height\n *  @param {boolean} option.useItext - Use IText in text mode\n *  @param {boolean} option.useDragAddIcon - Use dragable add in icon mode\n * @ignore\n */\n\nvar Graphics = function () {\n    function Graphics(element) {\n        var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n            cssMaxWidth = _ref.cssMaxWidth,\n            cssMaxHeight = _ref.cssMaxHeight,\n            _ref$useItext = _ref.useItext,\n            useItext = _ref$useItext === undefined ? false : _ref$useItext,\n            _ref$useDragAddIcon = _ref.useDragAddIcon,\n            useDragAddIcon = _ref$useDragAddIcon === undefined ? false : _ref$useDragAddIcon;\n\n        _classCallCheck(this, Graphics);\n\n        /**\n         * Fabric image instance\n         * @type {fabric.Image}\n         */\n        this.canvasImage = null;\n\n        /**\n         * Max width of canvas elements\n         * @type {number}\n         */\n        this.cssMaxWidth = cssMaxWidth || DEFAULT_CSS_MAX_WIDTH;\n\n        /**\n         * Max height of canvas elements\n         * @type {number}\n         */\n        this.cssMaxHeight = cssMaxHeight || DEFAULT_CSS_MAX_HEIGHT;\n\n        /**\n         * Use Itext mode for text component\n         * @type {boolean}\n         */\n        this.useItext = useItext;\n\n        /**\n         * Use add drag icon mode for icon component\n         * @type {boolean}\n         */\n        this.useDragAddIcon = useDragAddIcon;\n\n        /**\n         * cropper Selection Style\n         * @type {Object}\n         */\n        this.cropSelectionStyle = {};\n\n        /**\n         * target fabric object for copy paste feature\n         * @type {fabric.Object}\n         * @private\n         */\n        this.targetObjectForCopyPaste = null;\n\n        /**\n         * Image name\n         * @type {string}\n         */\n        this.imageName = '';\n\n        /**\n         * Object Map\n         * @type {Object}\n         * @private\n         */\n        this._objects = {};\n\n        /**\n         * Fabric-Canvas instance\n         * @type {fabric.Canvas}\n         * @private\n         */\n        this._canvas = null;\n\n        /**\n         * Drawing mode\n         * @type {string}\n         * @private\n         */\n        this._drawingMode = drawingModes.NORMAL;\n\n        /**\n         * DrawingMode map\n         * @type {Object.<string, DrawingMode>}\n         * @private\n         */\n        this._drawingModeMap = {};\n\n        /**\n         * Component map\n         * @type {Object.<string, Component>}\n         * @private\n         */\n        this._componentMap = {};\n\n        /**\n         * fabric event handlers\n         * @type {Object.<string, function>}\n         * @private\n         */\n        this._handler = {\n            onMouseDown: this._onMouseDown.bind(this),\n            onObjectAdded: this._onObjectAdded.bind(this),\n            onObjectRemoved: this._onObjectRemoved.bind(this),\n            onObjectMoved: this._onObjectMoved.bind(this),\n            onObjectScaled: this._onObjectScaled.bind(this),\n            onObjectRotated: this._onObjectRotated.bind(this),\n            onObjectSelected: this._onObjectSelected.bind(this),\n            onPathCreated: this._onPathCreated.bind(this),\n            onSelectionCleared: this._onSelectionCleared.bind(this),\n            onSelectionCreated: this._onSelectionCreated.bind(this)\n        };\n\n        this._setObjectCachingToFalse();\n        this._setCanvasElement(element);\n        this._createDrawingModeInstances();\n        this._createComponents();\n        this._attachCanvasEvents();\n    }\n\n    /**\n     * Destroy canvas element\n     */\n\n\n    _createClass(Graphics, [{\n        key: 'destroy',\n        value: function destroy() {\n            var wrapperEl = this._canvas.wrapperEl;\n\n\n            this._canvas.clear();\n\n            wrapperEl.parentNode.removeChild(wrapperEl);\n        }\n\n        /**\n         * Deactivates all objects on canvas\n         * @returns {Graphics} this\n         */\n\n    }, {\n        key: 'deactivateAll',\n        value: function deactivateAll() {\n            this._canvas.discardActiveObject();\n\n            return this;\n        }\n\n        /**\n         * Renders all objects on canvas\n         * @returns {Graphics} this\n         */\n\n    }, {\n        key: 'renderAll',\n        value: function renderAll() {\n            this._canvas.renderAll();\n\n            return this;\n        }\n\n        /**\n         * Adds objects on canvas\n         * @param {Object|Array} objects - objects\n         */\n\n    }, {\n        key: 'add',\n        value: function add(objects) {\n            var _canvas;\n\n            var theArgs = [];\n            if (isArray(objects)) {\n                theArgs = objects;\n            } else {\n                theArgs.push(objects);\n            }\n\n            (_canvas = this._canvas).add.apply(_canvas, theArgs);\n        }\n\n        /**\n         * Removes the object or group\n         * @param {Object} target - graphics object or group\n         * @returns {boolean} true if contains or false\n         */\n\n    }, {\n        key: 'contains',\n        value: function contains(target) {\n            return this._canvas.contains(target);\n        }\n\n        /**\n         * Gets all objects or group\n         * @returns {Array} all objects, shallow copy\n         */\n\n    }, {\n        key: 'getObjects',\n        value: function getObjects() {\n            return this._canvas.getObjects().slice();\n        }\n\n        /**\n         * Get an object by id\n         * @param {number} id - object id\n         * @returns {fabric.Object} object corresponding id\n         */\n\n    }, {\n        key: 'getObject',\n        value: function getObject(id) {\n            return this._objects[id];\n        }\n\n        /**\n         * Removes the object or group\n         * @param {Object} target - graphics object or group\n         */\n\n    }, {\n        key: 'remove',\n        value: function remove(target) {\n            this._canvas.remove(target);\n        }\n\n        /**\n         * Removes all object or group\n         * @param {boolean} includesBackground - remove the background image or not\n         * @returns {Array} all objects array which is removed\n         */\n\n    }, {\n        key: 'removeAll',\n        value: function removeAll(includesBackground) {\n            var canvas = this._canvas;\n            var objects = canvas.getObjects().slice();\n            canvas.remove.apply(canvas, this._canvas.getObjects());\n\n            if (includesBackground) {\n                canvas.clear();\n            }\n\n            return objects;\n        }\n\n        /**\n         * Removes an object or group by id\n         * @param {number} id - object id\n         * @returns {Array} removed objects\n         */\n\n    }, {\n        key: 'removeObjectById',\n        value: function removeObjectById(id) {\n            var objects = [];\n            var canvas = this._canvas;\n            var target = this.getObject(id);\n            var isValidGroup = target && target.isType('group') && !target.isEmpty();\n\n            if (isValidGroup) {\n                canvas.discardActiveObject(); // restore states for each objects\n                target.forEachObject(function (obj) {\n                    objects.push(obj);\n                    canvas.remove(obj);\n                });\n            } else if (canvas.contains(target)) {\n                objects.push(target);\n                canvas.remove(target);\n            }\n\n            return objects;\n        }\n\n        /**\n         * Get an id by object instance\n         * @param {fabric.Object} object object\n         * @returns {number} object id if it exists or null\n         */\n\n    }, {\n        key: 'getObjectId',\n        value: function getObjectId(object) {\n            var key = null;\n            for (key in this._objects) {\n                if (this._objects.hasOwnProperty(key)) {\n                    if (object === this._objects[key]) {\n                        return key;\n                    }\n                }\n            }\n\n            return null;\n        }\n\n        /**\n         * Gets an active object or group\n         * @returns {Object} active object or group instance\n         */\n\n    }, {\n        key: 'getActiveObject',\n        value: function getActiveObject() {\n            return this._canvas._activeObject;\n        }\n\n        /**\n         * Returns the object ID to delete the object.\n         * @returns {number} object id for remove\n         */\n\n    }, {\n        key: 'getActiveObjectIdForRemove',\n        value: function getActiveObjectIdForRemove() {\n            var activeObject = this.getActiveObject();\n            var isSelection = activeObject.type === 'activeSelection';\n\n            if (isSelection) {\n                var group = new _fabric2.default.Group();\n                group.add.apply(group, activeObject.getObjects());\n\n                return this._addFabricObject(group);\n            }\n\n            return this.getObjectId(activeObject);\n        }\n\n        /**\n         * Verify that you are ready to erase the object.\n         * @returns {boolean} ready for object remove\n         */\n\n    }, {\n        key: 'isReadyRemoveObject',\n        value: function isReadyRemoveObject() {\n            var activeObject = this.getActiveObject();\n\n            return activeObject && !activeObject.isEditing;\n        }\n\n        /**\n         * Gets an active group object\n         * @returns {Object} active group object instance\n         */\n\n    }, {\n        key: 'getActiveObjects',\n        value: function getActiveObjects() {\n            var activeObject = this._canvas._activeObject;\n\n            return activeObject && activeObject.type === 'activeSelection' ? activeObject : null;\n        }\n\n        /**\n         * Get Active object Selection from object ids\n         * @param {Array.<Object>} objects - fabric objects\n         * @returns {Object} target - target object group\n         */\n\n    }, {\n        key: 'getActiveSelectionFromObjects',\n        value: function getActiveSelectionFromObjects(objects) {\n            var canvas = this.getCanvas();\n\n            return new _fabric2.default.ActiveSelection(objects, { canvas: canvas });\n        }\n\n        /**\n         * Activates an object or group\n         * @param {Object} target - target object or group\n         */\n\n    }, {\n        key: 'setActiveObject',\n        value: function setActiveObject(target) {\n            this._canvas.setActiveObject(target);\n        }\n\n        /**\n         * Set Crop selection style\n         * @param {Object} style - Selection styles\n         */\n\n    }, {\n        key: 'setCropSelectionStyle',\n        value: function setCropSelectionStyle(style) {\n            this.cropSelectionStyle = style;\n        }\n\n        /**\n         * Get component\n         * @param {string} name - Component name\n         * @returns {Component}\n         */\n\n    }, {\n        key: 'getComponent',\n        value: function getComponent(name) {\n            return this._componentMap[name];\n        }\n\n        /**\n         * Get current drawing mode\n         * @returns {string}\n         */\n\n    }, {\n        key: 'getDrawingMode',\n        value: function getDrawingMode() {\n            return this._drawingMode;\n        }\n\n        /**\n         * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n         * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE', 'TEXT', 'SHAPE'</I>\n         * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n         *  @param {Number} [option.width] brush width\n         *  @param {String} [option.color] brush color\n         * @returns {boolean} true if success or false\n         */\n\n    }, {\n        key: 'startDrawingMode',\n        value: function startDrawingMode(mode, option) {\n            if (this._isSameDrawingMode(mode)) {\n                return true;\n            }\n\n            // If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n            this.stopDrawingMode();\n\n            var drawingModeInstance = this._getDrawingModeInstance(mode);\n            if (drawingModeInstance && drawingModeInstance.start) {\n                drawingModeInstance.start(this, option);\n\n                this._drawingMode = mode;\n            }\n\n            return !!drawingModeInstance;\n        }\n\n        /**\n         * Stop the current drawing mode and back to the 'NORMAL' mode\n         */\n\n    }, {\n        key: 'stopDrawingMode',\n        value: function stopDrawingMode() {\n            if (this._isSameDrawingMode(drawingModes.NORMAL)) {\n                return;\n            }\n\n            var drawingModeInstance = this._getDrawingModeInstance(this.getDrawingMode());\n            if (drawingModeInstance && drawingModeInstance.end) {\n                drawingModeInstance.end(this);\n            }\n            this._drawingMode = drawingModes.NORMAL;\n        }\n\n        /**\n         * To data url from canvas\n         * @param {Object} options - options for toDataURL\n         *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n         *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n         *   @param {Number} [options.multiplier=1] Multiplier to scale by\n         *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n         *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n         * @returns {string} A DOMString containing the requested data URI.\n         */\n\n    }, {\n        key: 'toDataURL',\n        value: function toDataURL(options) {\n            var cropper = this.getComponent(components.CROPPER);\n            cropper.changeVisibility(false);\n\n            var dataUrl = this._canvas && this._canvas.toDataURL(options);\n            cropper.changeVisibility(true);\n\n            return dataUrl;\n        }\n\n        /**\n         * Save image(background) of canvas\n         * @param {string} name - Name of image\n         * @param {?fabric.Image} canvasImage - Fabric image instance\n         */\n\n    }, {\n        key: 'setCanvasImage',\n        value: function setCanvasImage(name, canvasImage) {\n            if (canvasImage) {\n                stamp(canvasImage);\n            }\n            this.imageName = name;\n            this.canvasImage = canvasImage;\n        }\n\n        /**\n         * Set css max dimension\n         * @param {{width: number, height: number}} maxDimension - Max width & Max height\n         */\n\n    }, {\n        key: 'setCssMaxDimension',\n        value: function setCssMaxDimension(maxDimension) {\n            this.cssMaxWidth = maxDimension.width || this.cssMaxWidth;\n            this.cssMaxHeight = maxDimension.height || this.cssMaxHeight;\n        }\n\n        /**\n         * Adjust canvas dimension with scaling image\n         */\n\n    }, {\n        key: 'adjustCanvasDimension',\n        value: function adjustCanvasDimension() {\n            var canvasImage = this.canvasImage.scale(1);\n\n            var _canvasImage$getBound = canvasImage.getBoundingRect(),\n                width = _canvasImage$getBound.width,\n                height = _canvasImage$getBound.height;\n\n            var maxDimension = this._calcMaxDimension(width, height);\n\n            this.setCanvasCssDimension({\n                width: '100%',\n                height: '100%', // Set height '' for IE9\n                'max-width': maxDimension.width + 'px',\n                'max-height': maxDimension.height + 'px'\n            });\n\n            this.setCanvasBackstoreDimension({\n                width: width,\n                height: height\n            });\n            this._canvas.centerObject(canvasImage);\n        }\n\n        /**\n         * Set canvas dimension - css only\n         *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n         * @param {Object} dimension - Canvas css dimension\n         */\n\n    }, {\n        key: 'setCanvasCssDimension',\n        value: function setCanvasCssDimension(dimension) {\n            this._canvas.setDimensions(dimension, cssOnly);\n        }\n\n        /**\n         * Set canvas dimension - backstore only\n         *  {@link http://fabricjs.com/docs/fabric.Canvas.html#setDimensions}\n         * @param {Object} dimension - Canvas backstore dimension\n         */\n\n    }, {\n        key: 'setCanvasBackstoreDimension',\n        value: function setCanvasBackstoreDimension(dimension) {\n            this._canvas.setDimensions(dimension, backstoreOnly);\n        }\n\n        /**\n         * Set image properties\n         * {@link http://fabricjs.com/docs/fabric.Image.html#set}\n         * @param {Object} setting - Image properties\n         * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n         */\n\n    }, {\n        key: 'setImageProperties',\n        value: function setImageProperties(setting, withRendering) {\n            var canvasImage = this.canvasImage;\n\n\n            if (!canvasImage) {\n                return;\n            }\n\n            canvasImage.set(setting).setCoords();\n            if (withRendering) {\n                this._canvas.renderAll();\n            }\n        }\n\n        /**\n         * Returns canvas element of fabric.Canvas[[lower-canvas]]\n         * @returns {HTMLCanvasElement}\n         */\n\n    }, {\n        key: 'getCanvasElement',\n        value: function getCanvasElement() {\n            return this._canvas.getElement();\n        }\n\n        /**\n         * Get fabric.Canvas instance\n         * @returns {fabric.Canvas}\n         * @private\n         */\n\n    }, {\n        key: 'getCanvas',\n        value: function getCanvas() {\n            return this._canvas;\n        }\n\n        /**\n         * Get canvasImage (fabric.Image instance)\n         * @returns {fabric.Image}\n         */\n\n    }, {\n        key: 'getCanvasImage',\n        value: function getCanvasImage() {\n            return this.canvasImage;\n        }\n\n        /**\n         * Get image name\n         * @returns {string}\n         */\n\n    }, {\n        key: 'getImageName',\n        value: function getImageName() {\n            return this.imageName;\n        }\n\n        /**\n         * Add image object on canvas\n         * @param {string} imgUrl - Image url to make object\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'addImageObject',\n        value: function addImageObject(imgUrl) {\n            var _this = this;\n\n            var callback = this._callbackAfterLoadingImageObject.bind(this);\n\n            return new _promise2.default(function (resolve) {\n                _fabric2.default.Image.fromURL(imgUrl, function (image) {\n                    callback(image);\n                    resolve(_this.createObjectProperties(image));\n                }, {\n                    crossOrigin: 'Anonymous'\n                });\n            });\n        }\n\n        /**\n         * Get center position of canvas\n         * @returns {Object} {left, top}\n         */\n\n    }, {\n        key: 'getCenter',\n        value: function getCenter() {\n            return this._canvas.getCenter();\n        }\n\n        /**\n         * Get cropped rect\n         * @returns {Object} rect\n         */\n\n    }, {\n        key: 'getCropzoneRect',\n        value: function getCropzoneRect() {\n            return this.getComponent(components.CROPPER).getCropzoneRect();\n        }\n\n        /**\n         * Get cropped rect\n         * @param {number} [mode] cropzone rect mode\n         */\n\n    }, {\n        key: 'setCropzoneRect',\n        value: function setCropzoneRect(mode) {\n            this.getComponent(components.CROPPER).setCropzoneRect(mode);\n        }\n\n        /**\n         * Get cropped image data\n         * @param {Object} cropRect cropzone rect\n         *  @param {Number} cropRect.left left position\n         *  @param {Number} cropRect.top top position\n         *  @param {Number} cropRect.width width\n         *  @param {Number} cropRect.height height\n         * @returns {?{imageName: string, url: string}} cropped Image data\n         */\n\n    }, {\n        key: 'getCroppedImageData',\n        value: function getCroppedImageData(cropRect) {\n            return this.getComponent(components.CROPPER).getCroppedImageData(cropRect);\n        }\n\n        /**\n         * Set brush option\n         * @param {Object} option brush option\n         *  @param {Number} option.width width\n         *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n         */\n\n    }, {\n        key: 'setBrush',\n        value: function setBrush(option) {\n            var drawingMode = this._drawingMode;\n            var compName = components.FREE_DRAWING;\n\n            if (drawingMode === drawingModes.LINE) {\n                compName = drawingModes.LINE;\n            }\n\n            this.getComponent(compName).setBrush(option);\n        }\n\n        /**\n         * Set states of current drawing shape\n         * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n         * @param {Object} [options] - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stoke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         */\n\n    }, {\n        key: 'setDrawingShape',\n        value: function setDrawingShape(type, options) {\n            this.getComponent(components.SHAPE).setStates(type, options);\n        }\n\n        /**\n         * Register icon paths\n         * @param {Object} pathInfos - Path infos\n         *  @param {string} pathInfos.key - key\n         *  @param {string} pathInfos.value - value\n         */\n\n    }, {\n        key: 'registerPaths',\n        value: function registerPaths(pathInfos) {\n            this.getComponent(components.ICON).registerPaths(pathInfos);\n        }\n\n        /**\n         * Change cursor style\n         * @param {string} cursorType - cursor type\n         */\n\n    }, {\n        key: 'changeCursor',\n        value: function changeCursor(cursorType) {\n            var canvas = this.getCanvas();\n            canvas.defaultCursor = cursorType;\n            canvas.renderAll();\n        }\n\n        /**\n         * Whether it has the filter or not\n         * @param {string} type - Filter type\n         * @returns {boolean} true if it has the filter\n         */\n\n    }, {\n        key: 'hasFilter',\n        value: function hasFilter(type) {\n            return this.getComponent(components.FILTER).hasFilter(type);\n        }\n\n        /**\n         * Set selection style of fabric object by init option\n         * @param {Object} styles - Selection styles\n         */\n\n    }, {\n        key: 'setSelectionStyle',\n        value: function setSelectionStyle(styles) {\n            extend(fObjectOptions.SELECTION_STYLE, styles);\n        }\n\n        /**\n         * Set object properties\n         * @param {number} id - object id\n         * @param {Object} props - props\n         *     @param {string} [props.fill] Color\n         *     @param {string} [props.fontFamily] Font type for text\n         *     @param {number} [props.fontSize] Size\n         *     @param {string} [props.fontStyle] Type of inclination (normal / italic)\n         *     @param {string} [props.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *     @param {string} [props.textAlign] Type of text align (left / center / right)\n         *     @param {string} [props.textDecoration] Type of line (underline / line-through / overline)\n         * @returns {Object} applied properties\n         */\n\n    }, {\n        key: 'setObjectProperties',\n        value: function setObjectProperties(id, props) {\n            var object = this.getObject(id);\n            var clone = extend({}, props);\n\n            object.set(clone);\n\n            object.setCoords();\n\n            this.getCanvas().renderAll();\n\n            return clone;\n        }\n\n        /**\n         * Get object properties corresponding key\n         * @param {number} id - object id\n         * @param {Array<string>|ObjectProps|string} keys - property's key\n         * @returns {Object} properties\n         */\n\n    }, {\n        key: 'getObjectProperties',\n        value: function getObjectProperties(id, keys) {\n            var object = this.getObject(id);\n            var props = {};\n\n            if (isString(keys)) {\n                props[keys] = object[keys];\n            } else if (isArray(keys)) {\n                forEachArray(keys, function (value) {\n                    props[value] = object[value];\n                });\n            } else {\n                forEachOwnProperties(keys, function (value, key) {\n                    props[key] = object[key];\n                });\n            }\n\n            return props;\n        }\n\n        /**\n         * Get object position by originX, originY\n         * @param {number} id - object id\n         * @param {string} originX - can be 'left', 'center', 'right'\n         * @param {string} originY - can be 'top', 'center', 'bottom'\n         * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n         */\n\n    }, {\n        key: 'getObjectPosition',\n        value: function getObjectPosition(id, originX, originY) {\n            var targetObj = this.getObject(id);\n            if (!targetObj) {\n                return null;\n            }\n\n            return targetObj.getPointByOrigin(originX, originY);\n        }\n\n        /**\n         * Set object position  by originX, originY\n         * @param {number} id - object id\n         * @param {Object} posInfo - position object\n         *  @param {number} posInfo.x - x position\n         *  @param {number} posInfo.y - y position\n         *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n         *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n         * @returns {boolean} true if target id is valid or false\n         */\n\n    }, {\n        key: 'setObjectPosition',\n        value: function setObjectPosition(id, posInfo) {\n            var targetObj = this.getObject(id);\n            var x = posInfo.x,\n                y = posInfo.y,\n                originX = posInfo.originX,\n                originY = posInfo.originY;\n\n            if (!targetObj) {\n                return false;\n            }\n\n            var targetOrigin = targetObj.getPointByOrigin(originX, originY);\n            var centerOrigin = targetObj.getPointByOrigin('center', 'center');\n            var diffX = centerOrigin.x - targetOrigin.x;\n            var diffY = centerOrigin.y - targetOrigin.y;\n\n            targetObj.set({\n                left: x + diffX,\n                top: y + diffY\n            });\n\n            targetObj.setCoords();\n\n            return true;\n        }\n\n        /**\n         * Get the canvas size\n         * @returns {Object} {{width: number, height: number}} image size\n         */\n\n    }, {\n        key: 'getCanvasSize',\n        value: function getCanvasSize() {\n            var image = this.getCanvasImage();\n\n            return {\n                width: image ? image.width : 0,\n                height: image ? image.height : 0\n            };\n        }\n\n        /**\n         * Get a DrawingMode instance\n         * @param {string} modeName - DrawingMode Class Name\n         * @returns {DrawingMode} DrawingMode instance\n         * @private\n         */\n\n    }, {\n        key: '_getDrawingModeInstance',\n        value: function _getDrawingModeInstance(modeName) {\n            return this._drawingModeMap[modeName];\n        }\n\n        /**\n         * Set object caching to false. This brought many bugs when draw Shape & cropzone\n         * @see http://fabricjs.com/fabric-object-caching\n         * @private\n         */\n\n    }, {\n        key: '_setObjectCachingToFalse',\n        value: function _setObjectCachingToFalse() {\n            _fabric2.default.Object.prototype.objectCaching = false;\n        }\n\n        /**\n         * Set canvas element to fabric.Canvas\n         * @param {Element|string} element - Wrapper or canvas element or selector\n         * @private\n         */\n\n    }, {\n        key: '_setCanvasElement',\n        value: function _setCanvasElement(element) {\n            var selectedElement = void 0;\n            var canvasElement = void 0;\n\n            if (element.nodeType) {\n                selectedElement = element;\n            } else {\n                selectedElement = document.querySelector(element);\n            }\n\n            if (selectedElement.nodeName.toUpperCase() !== 'CANVAS') {\n                canvasElement = document.createElement('canvas');\n                selectedElement.appendChild(canvasElement);\n            }\n\n            this._canvas = new _fabric2.default.Canvas(canvasElement, {\n                containerClass: 'tui-image-editor-canvas-container',\n                enableRetinaScaling: false\n            });\n        }\n\n        /**\n         * Creates DrawingMode instances\n         * @private\n         */\n\n    }, {\n        key: '_createDrawingModeInstances',\n        value: function _createDrawingModeInstances() {\n            this._register(this._drawingModeMap, new _cropper4.default());\n            this._register(this._drawingModeMap, new _freeDrawing4.default());\n            this._register(this._drawingModeMap, new _lineDrawing2.default());\n            this._register(this._drawingModeMap, new _shape4.default());\n            this._register(this._drawingModeMap, new _text4.default());\n        }\n\n        /**\n         * Create components\n         * @private\n         */\n\n    }, {\n        key: '_createComponents',\n        value: function _createComponents() {\n            this._register(this._componentMap, new _imageLoader2.default(this));\n            this._register(this._componentMap, new _cropper2.default(this));\n            this._register(this._componentMap, new _flip2.default(this));\n            this._register(this._componentMap, new _rotation2.default(this));\n            this._register(this._componentMap, new _freeDrawing2.default(this));\n            this._register(this._componentMap, new _line2.default(this));\n            this._register(this._componentMap, new _text2.default(this));\n            this._register(this._componentMap, new _icon2.default(this));\n            this._register(this._componentMap, new _filter2.default(this));\n            this._register(this._componentMap, new _shape2.default(this));\n        }\n\n        /**\n         * Register component\n         * @param {Object} map - map object\n         * @param {Object} module - module which has getName method\n         * @private\n         */\n\n    }, {\n        key: '_register',\n        value: function _register(map, module) {\n            map[module.getName()] = module;\n        }\n\n        /**\n         * Get the current drawing mode is same with given mode\n         * @param {string} mode drawing mode\n         * @returns {boolean} true if same or false\n         */\n\n    }, {\n        key: '_isSameDrawingMode',\n        value: function _isSameDrawingMode(mode) {\n            return this.getDrawingMode() === mode;\n        }\n\n        /**\n         * Calculate max dimension of canvas\n         * The css-max dimension is dynamically decided with maintaining image ratio\n         * The css-max dimension is lower than canvas dimension (attribute of canvas, not css)\n         * @param {number} width - Canvas width\n         * @param {number} height - Canvas height\n         * @returns {{width: number, height: number}} - Max width & Max height\n         * @private\n         */\n\n    }, {\n        key: '_calcMaxDimension',\n        value: function _calcMaxDimension(width, height) {\n            var wScaleFactor = this.cssMaxWidth / width;\n            var hScaleFactor = this.cssMaxHeight / height;\n            var cssMaxWidth = Math.min(width, this.cssMaxWidth);\n            var cssMaxHeight = Math.min(height, this.cssMaxHeight);\n\n            if (wScaleFactor < 1 && wScaleFactor < hScaleFactor) {\n                cssMaxWidth = width * wScaleFactor;\n                cssMaxHeight = height * wScaleFactor;\n            } else if (hScaleFactor < 1 && hScaleFactor < wScaleFactor) {\n                cssMaxWidth = width * hScaleFactor;\n                cssMaxHeight = height * hScaleFactor;\n            }\n\n            return {\n                width: Math.floor(cssMaxWidth),\n                height: Math.floor(cssMaxHeight)\n            };\n        }\n\n        /**\n         * Callback function after loading image\n         * @param {fabric.Image} obj - Fabric image object\n         * @private\n         */\n\n    }, {\n        key: '_callbackAfterLoadingImageObject',\n        value: function _callbackAfterLoadingImageObject(obj) {\n            var centerPos = this.getCanvasImage().getCenterPoint();\n\n            obj.set(_consts2.default.fObjectOptions.SELECTION_STYLE);\n            obj.set({\n                left: centerPos.x,\n                top: centerPos.y,\n                crossOrigin: 'Anonymous'\n            });\n\n            this.getCanvas().add(obj).setActiveObject(obj);\n        }\n\n        /**\n         * Attach canvas's events\n         */\n\n    }, {\n        key: '_attachCanvasEvents',\n        value: function _attachCanvasEvents() {\n            var canvas = this._canvas;\n            var handler = this._handler;\n            canvas.on({\n                'mouse:down': handler.onMouseDown,\n                'object:added': handler.onObjectAdded,\n                'object:removed': handler.onObjectRemoved,\n                'object:moving': handler.onObjectMoved,\n                'object:scaling': handler.onObjectScaled,\n                'object:rotating': handler.onObjectRotated,\n                'object:selected': handler.onObjectSelected,\n                'path:created': handler.onPathCreated,\n                'selection:cleared': handler.onSelectionCleared,\n                'selection:created': handler.onSelectionCreated,\n                'selection:updated': handler.onObjectSelected\n            });\n        }\n\n        /**\n         * \"mouse:down\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onMouseDown',\n        value: function _onMouseDown(fEvent) {\n            var originPointer = this._canvas.getPointer(fEvent.e);\n            this.fire(events.MOUSE_DOWN, fEvent.e, originPointer);\n        }\n\n        /**\n         * \"object:added\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectAdded',\n        value: function _onObjectAdded(fEvent) {\n            var obj = fEvent.target;\n            if (obj.isType('cropzone')) {\n                return;\n            }\n\n            this._addFabricObject(obj);\n        }\n\n        /**\n         * \"object:removed\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectRemoved',\n        value: function _onObjectRemoved(fEvent) {\n            var obj = fEvent.target;\n\n            this._removeFabricObject(stamp(obj));\n        }\n\n        /**\n         * \"object:moving\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectMoved',\n        value: function _onObjectMoved(fEvent) {\n            var _this2 = this;\n\n            this._lazyFire(events.OBJECT_MOVED, function (object) {\n                return _this2.createObjectProperties(object);\n            }, fEvent.target);\n        }\n\n        /**\n         * \"object:scaling\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectScaled',\n        value: function _onObjectScaled(fEvent) {\n            var _this3 = this;\n\n            this._lazyFire(events.OBJECT_SCALED, function (object) {\n                return _this3.createObjectProperties(object);\n            }, fEvent.target);\n        }\n\n        /**\n         * \"object:rotating\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectRotated',\n        value: function _onObjectRotated(fEvent) {\n            var _this4 = this;\n\n            this._lazyFire(events.OBJECT_ROTATED, function (object) {\n                return _this4.createObjectProperties(object);\n            }, fEvent.target);\n        }\n\n        /**\n         * Lazy event emitter\n         * @param {string} eventName - event name\n         * @param {Function} paramsMaker - make param function\n         * @param {Object} [target] - Object of the event owner.\n         * @private\n         */\n\n    }, {\n        key: '_lazyFire',\n        value: function _lazyFire(eventName, paramsMaker, target) {\n            var _this5 = this;\n\n            var existEventDelegation = target && target.canvasEventDelegation;\n            var delegationState = existEventDelegation ? target.canvasEventDelegation(eventName) : 'none';\n\n            if (delegationState === 'unregisted') {\n                target.canvasEventRegister(eventName, function (object) {\n                    _this5.fire(eventName, paramsMaker(object));\n                });\n            }\n\n            if (delegationState === 'none') {\n                this.fire(eventName, paramsMaker(target));\n            }\n        }\n\n        /**\n         * \"object:selected\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onObjectSelected',\n        value: function _onObjectSelected(fEvent) {\n            var target = fEvent.target;\n\n            var params = this.createObjectProperties(target);\n\n            this.fire(events.OBJECT_ACTIVATED, params);\n        }\n\n        /**\n         * \"path:created\" canvas event handler\n         * @param {{path: fabric.Path}} obj - Path object\n         * @private\n         */\n\n    }, {\n        key: '_onPathCreated',\n        value: function _onPathCreated(obj) {\n            var _obj$path$getCenterPo = obj.path.getCenterPoint(),\n                left = _obj$path$getCenterPo.x,\n                top = _obj$path$getCenterPo.y;\n\n            obj.path.set(extend({\n                left: left,\n                top: top\n            }, _consts2.default.fObjectOptions.SELECTION_STYLE));\n\n            var params = this.createObjectProperties(obj.path);\n\n            this.fire(events.ADD_OBJECT, params);\n        }\n\n        /**\n         * \"selction:cleared\" canvas event handler\n         * @private\n         */\n\n    }, {\n        key: '_onSelectionCleared',\n        value: function _onSelectionCleared() {\n            this.fire(events.SELECTION_CLEARED);\n        }\n\n        /**\n         * \"selction:created\" canvas event handler\n         * @param {{target: fabric.Object, e: MouseEvent}} fEvent - Fabric event\n         * @private\n         */\n\n    }, {\n        key: '_onSelectionCreated',\n        value: function _onSelectionCreated(fEvent) {\n            this.fire(events.SELECTION_CREATED, fEvent.target);\n        }\n\n        /**\n         * Canvas discard selection all\n         */\n\n    }, {\n        key: 'discardSelection',\n        value: function discardSelection() {\n            this._canvas.discardActiveObject();\n            this._canvas.renderAll();\n        }\n\n        /**\n         * Canvas Selectable status change\n         * @param {boolean} selectable - expect status\n         */\n\n    }, {\n        key: 'changeSelectableAll',\n        value: function changeSelectableAll(selectable) {\n            this._canvas.forEachObject(function (obj) {\n                obj.selectable = selectable;\n                obj.hoverCursor = selectable ? 'move' : 'crosshair';\n            });\n        }\n\n        /**\n         * Return object's properties\n         * @param {fabric.Object} obj - fabric object\n         * @returns {Object} properties object\n         */\n\n    }, {\n        key: 'createObjectProperties',\n        value: function createObjectProperties(obj) {\n            var predefinedKeys = ['left', 'top', 'width', 'height', 'fill', 'stroke', 'strokeWidth', 'opacity', 'angle'];\n            var props = {\n                id: stamp(obj),\n                type: obj.type\n            };\n\n            extend(props, _util2.default.getProperties(obj, predefinedKeys));\n\n            if (['i-text', 'text'].indexOf(obj.type) > -1) {\n                extend(props, this._createTextProperties(obj, props));\n            }\n\n            return props;\n        }\n\n        /**\n         * Get text object's properties\n         * @param {fabric.Object} obj - fabric text object\n         * @param {Object} props - properties\n         * @returns {Object} properties object\n         */\n\n    }, {\n        key: '_createTextProperties',\n        value: function _createTextProperties(obj) {\n            var predefinedKeys = ['text', 'fontFamily', 'fontSize', 'fontStyle', 'textAlign', 'textDecoration', 'fontWeight'];\n            var props = {};\n            extend(props, _util2.default.getProperties(obj, predefinedKeys));\n\n            return props;\n        }\n\n        /**\n         * Add object array by id\n         * @param {fabric.Object} obj - fabric object\n         * @returns {number} object id\n         */\n\n    }, {\n        key: '_addFabricObject',\n        value: function _addFabricObject(obj) {\n            var id = stamp(obj);\n            this._objects[id] = obj;\n\n            return id;\n        }\n\n        /**\n         * Remove an object in array yb id\n         * @param {number} id - object id\n         */\n\n    }, {\n        key: '_removeFabricObject',\n        value: function _removeFabricObject(id) {\n            delete this._objects[id];\n        }\n\n        /**\n         * Reset targetObjectForCopyPaste value from activeObject\n         */\n\n    }, {\n        key: 'resetTargetObjectForCopyPaste',\n        value: function resetTargetObjectForCopyPaste() {\n            var activeObject = this.getActiveObject();\n\n            if (activeObject) {\n                this.targetObjectForCopyPaste = activeObject;\n            }\n        }\n\n        /**\n         * Paste fabric object\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'pasteObject',\n        value: function pasteObject() {\n            var _this6 = this;\n\n            if (!this.targetObjectForCopyPaste) {\n                return _promise2.default.resolve([]);\n            }\n\n            var targetObject = this.targetObjectForCopyPaste;\n            var isGroupSelect = targetObject.type === 'activeSelection';\n            var targetObjects = isGroupSelect ? targetObject.getObjects() : [targetObject];\n            var newTargetObject = null;\n\n            this.discardSelection();\n\n            return this._cloneObject(targetObjects).then(function (addedObjects) {\n                if (addedObjects.length > 1) {\n                    newTargetObject = _this6.getActiveSelectionFromObjects(addedObjects);\n                } else {\n                    newTargetObject = addedObjects[0];\n                }\n                _this6.targetObjectForCopyPaste = newTargetObject;\n                _this6.setActiveObject(newTargetObject);\n            });\n        }\n\n        /**\n         * Clone object\n         * @param {fabric.Object} targetObjects - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_cloneObject',\n        value: function _cloneObject(targetObjects) {\n            var _this7 = this;\n\n            var addedObjects = _tuiCodeSnippet2.default.map(targetObjects, function (targetObject) {\n                return _this7._cloneObjectItem(targetObject);\n            });\n\n            return _promise2.default.all(addedObjects);\n        }\n\n        /**\n         * Clone object one item\n         * @param {fabric.Object} targetObject - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_cloneObjectItem',\n        value: function _cloneObjectItem(targetObject) {\n            var _this8 = this;\n\n            return this._copyFabricObjectForPaste(targetObject).then(function (clonedObject) {\n                var objectProperties = _this8.createObjectProperties(clonedObject);\n                _this8.add(clonedObject);\n\n                _this8.fire(events.ADD_OBJECT, objectProperties);\n\n                return clonedObject;\n            });\n        }\n\n        /**\n         * Copy fabric object with Changed position for copy and paste\n         * @param {fabric.Object} targetObject - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_copyFabricObjectForPaste',\n        value: function _copyFabricObjectForPaste(targetObject) {\n            var _this9 = this;\n\n            var addExtraPx = function addExtraPx(value, isReverse) {\n                return isReverse ? value - EXTRA_PX_FOR_PASTE : value + EXTRA_PX_FOR_PASTE;\n            };\n\n            return this._copyFabricObject(targetObject).then(function (clonedObject) {\n                var left = clonedObject.left,\n                    top = clonedObject.top,\n                    width = clonedObject.width,\n                    height = clonedObject.height;\n\n                var _getCanvasSize = _this9.getCanvasSize(),\n                    canvasWidth = _getCanvasSize.width,\n                    canvasHeight = _getCanvasSize.height;\n\n                var rightEdge = left + width / 2;\n                var bottomEdge = top + height / 2;\n\n                clonedObject.set(_tuiCodeSnippet2.default.extend({\n                    left: addExtraPx(left, rightEdge + EXTRA_PX_FOR_PASTE > canvasWidth),\n                    top: addExtraPx(top, bottomEdge + EXTRA_PX_FOR_PASTE > canvasHeight)\n                }, _consts2.default.fObjectOptions.SELECTION_STYLE));\n\n                return clonedObject;\n            });\n        }\n\n        /**\n         * Copy fabric object\n         * @param {fabric.Object} targetObject - fabric object\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_copyFabricObject',\n        value: function _copyFabricObject(targetObject) {\n            return new _promise2.default(function (resolve) {\n                targetObject.clone(function (cloned) {\n                    resolve(cloned);\n                });\n            });\n        }\n    }]);\n\n    return Graphics;\n}();\n\nCustomEvents.mixin(Graphics);\nmodule.exports = Graphics;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/graphics.js?")},"./src/js/helper/imagetracer.js":function srcJsHelperImagetracerJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/*\n  imagetracer.js version 1.2.4\n  Simple raster image tracer and vectorizer written in JavaScript.\n  andras@jankovics.net\n*/\n\n/*\n  The Unlicense / PUBLIC DOMAIN\n  This is free and unencumbered software released into the public domain.\n  Anyone is free to copy, modify, publish, use, compile, sell, or\n  distribute this software, either in source code form or as a compiled\n  binary, for any purpose, commercial or non-commercial, and by any\n  means.\n  In jurisdictions that recognize copyright laws, the author or authors\n  of this software dedicate any and all copyright interest in the\n  software to the public domain. We make this dedication for the benefit\n  of the public at large and to the detriment of our heirs and\n  successors. We intend this dedication to be an overt act of\n  relinquishment in perpetuity of all present and future rights to this\n  software under copyright law.\n  THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\n  EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF\n  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT.\n  IN NO EVENT SHALL THE AUTHORS BE LIABLE FOR ANY CLAIM, DAMAGES OR\n  OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE,\n  ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\n  OTHER DEALINGS IN THE SOFTWARE.\n  For more information, please refer to http://unlicense.org/\n*/\nvar ImageTracer = function () {\n    _createClass(ImageTracer, null, [{\n        key: 'tracerDefaultOption',\n        value: function tracerDefaultOption() {\n            return {\n                pathomit: 100,\n                ltres: 0.1,\n                qtres: 1,\n\n                scale: 1,\n                strokewidth: 5,\n                viewbox: false,\n                linefilter: true,\n                desc: false,\n                rightangleenhance: false,\n                pal: [{\n                    r: 0,\n                    g: 0,\n                    b: 0,\n                    a: 255\n                }, {\n                    r: 255,\n                    g: 255,\n                    b: 255,\n                    a: 255\n                }]\n            };\n        }\n        /* eslint-disable */\n\n    }]);\n\n    function ImageTracer() {\n        _classCallCheck(this, ImageTracer);\n\n        this.versionnumber = '1.2.4';\n        this.optionpresets = {\n            default: {\n                corsenabled: false,\n                ltres: 1,\n                qtres: 1,\n                pathomit: 8,\n                rightangleenhance: true,\n                colorsampling: 2,\n                numberofcolors: 16,\n                mincolorratio: 0,\n                colorquantcycles: 3,\n                layering: 0,\n                strokewidth: 1,\n                linefilter: false,\n                scale: 1,\n                roundcoords: 1,\n                viewbox: false,\n                desc: false,\n                lcpr: 0,\n                qcpr: 0,\n                blurradius: 0,\n                blurdelta: 20\n            },\n            'posterized1': {\n                colorsampling: 0,\n                numberofcolors: 2\n            },\n            'posterized2': {\n                numberofcolors: 4,\n                blurradius: 5\n            },\n            'curvy': {\n                ltres: 0.01,\n                linefilter: true,\n                rightangleenhance: false },\n            'sharp': { qtres: 0.01,\n                linefilter: false },\n            'detailed': { pathomit: 0,\n                roundcoords: 2,\n                ltres: 0.5,\n                qtres: 0.5,\n                numberofcolors: 64 },\n            'smoothed': { blurradius: 5,\n                blurdelta: 64 },\n            'grayscale': { colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 7 },\n            'fixedpalette': { colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 27 },\n            'randomsampling1': { colorsampling: 1,\n                numberofcolors: 8 },\n            'randomsampling2': { colorsampling: 1,\n                numberofcolors: 64 },\n            'artistic1': { colorsampling: 0,\n                colorquantcycles: 1,\n                pathomit: 0,\n                blurradius: 5,\n                blurdelta: 64,\n                ltres: 0.01,\n                linefilter: true,\n                numberofcolors: 16,\n                strokewidth: 2 },\n            'artistic2': { qtres: 0.01,\n                colorsampling: 0,\n                colorquantcycles: 1,\n                numberofcolors: 4,\n                strokewidth: 0 },\n            'artistic3': { qtres: 10,\n                ltres: 10,\n                numberofcolors: 8 },\n            'artistic4': { qtres: 10,\n                ltres: 10,\n                numberofcolors: 64,\n                blurradius: 5,\n                blurdelta: 256,\n                strokewidth: 2 },\n            'posterized3': { ltres: 1,\n                qtres: 1,\n                pathomit: 20,\n                rightangleenhance: true,\n                colorsampling: 0,\n                numberofcolors: 3,\n                mincolorratio: 0,\n                colorquantcycles: 3,\n                blurradius: 3,\n                blurdelta: 20,\n                strokewidth: 0,\n                linefilter: false,\n                roundcoords: 1,\n                pal: [{ r: 0,\n                    g: 0,\n                    b: 100,\n                    a: 255 }, { r: 255,\n                    g: 255,\n                    b: 255,\n                    a: 255 }] }\n        };\n\n        this.pathscan_combined_lookup = [[[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[0, 1, 0, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [0, 2, -1, 0]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [0, 1, 0, -1], [0, 0, 1, 0]], [[0, 0, 1, 0], [-1, -1, -1, -1], [0, 2, -1, 0], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [0, 0, 1, 0], [0, 3, 0, 1], [-1, -1, -1, -1]], [[13, 3, 0, 1], [13, 2, -1, 0], [7, 1, 0, -1], [7, 0, 1, 0]], [[-1, -1, -1, -1], [0, 1, 0, -1], [-1, -1, -1, -1], [0, 3, 0, 1]], [[0, 3, 0, 1], [0, 2, -1, 0], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[0, 3, 0, 1], [0, 2, -1, 0], [-1, -1, -1, -1], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [0, 1, 0, -1], [-1, -1, -1, -1], [0, 3, 0, 1]], [[11, 1, 0, -1], [14, 0, 1, 0], [14, 3, 0, 1], [11, 2, -1, 0]], [[-1, -1, -1, -1], [0, 0, 1, 0], [0, 3, 0, 1], [-1, -1, -1, -1]], [[0, 0, 1, 0], [-1, -1, -1, -1], [0, 2, -1, 0], [-1, -1, -1, -1]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [0, 1, 0, -1], [0, 0, 1, 0]], [[0, 1, 0, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [0, 2, -1, 0]], [[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]]];\n\n        this.gks = [[0.27901, 0.44198, 0.27901], [0.135336, 0.228569, 0.272192, 0.228569, 0.135336], [0.086776, 0.136394, 0.178908, 0.195843, 0.178908, 0.136394, 0.086776], [0.063327, 0.093095, 0.122589, 0.144599, 0.152781, 0.144599, 0.122589, 0.093095, 0.063327], [0.049692, 0.069304, 0.089767, 0.107988, 0.120651, 0.125194, 0.120651, 0.107988, 0.089767, 0.069304, 0.049692]];\n\n        this.specpalette = [{ r: 0, g: 0, b: 0, a: 255 }, { r: 128, g: 128, b: 128, a: 255 }, { r: 0, g: 0, b: 128, a: 255 }, { r: 64, g: 64, b: 128, a: 255 }, { r: 192, g: 192, b: 192, a: 255 }, { r: 255, g: 255, b: 255, a: 255 }, { r: 128, g: 128, b: 192, a: 255 }, { r: 0, g: 0, b: 192, a: 255 }, { r: 128, g: 0, b: 0, a: 255 }, { r: 128, g: 64, b: 64, a: 255 }, { r: 128, g: 0, b: 128, a: 255 }, { r: 168, g: 168, b: 168, a: 255 }, { r: 192, g: 128, b: 128, a: 255 }, { r: 192, g: 0, b: 0, a: 255 }, { r: 255, g: 255, b: 255, a: 255 }, { r: 0, g: 128, b: 0, a: 255 }];\n    }\n\n    _createClass(ImageTracer, [{\n        key: 'imageToSVG',\n        value: function imageToSVG(url, callback, options) {\n            var _this = this;\n\n            options = this.checkoptions(options);\n            this.loadImage(url, function (canvas) {\n                callback(_this.imagedataToSVG(_this.getImgdata(canvas), options));\n            }, options);\n        }\n    }, {\n        key: 'imagedataToSVG',\n        value: function imagedataToSVG(imgd, options) {\n            options = this.checkoptions(options);\n            var td = this.imagedataToTracedata(imgd, options);\n\n            return this.getsvgstring(td, options);\n        }\n    }, {\n        key: 'imageToTracedata',\n        value: function imageToTracedata(url, callback, options) {\n            var _this2 = this;\n\n            options = this.checkoptions(options);\n            this.loadImage(url, function (canvas) {\n                callback(_this2.imagedataToTracedata(_this2.getImgdata(canvas), options));\n            }, options);\n        }\n    }, {\n        key: 'imagedataToTracedata',\n        value: function imagedataToTracedata(imgd, options) {\n            options = this.checkoptions(options);\n            var ii = this.colorquantization(imgd, options);\n            var tracedata = void 0;\n            if (options.layering === 0) {\n                tracedata = {\n                    layers: [],\n                    palette: ii.palette,\n                    width: ii.array[0].length - 2,\n                    height: ii.array.length - 2\n                };\n\n                for (var colornum = 0; colornum < ii.palette.length; colornum += 1) {\n                    var tracedlayer = this.batchtracepaths(this.internodes(this.pathscan(this.layeringstep(ii, colornum), options.pathomit), options), options.ltres, options.qtres);\n                    tracedata.layers.push(tracedlayer);\n                }\n            } else {\n                var ls = this.layering(ii);\n                if (options.layercontainerid) {\n                    this.drawLayers(ls, this.specpalette, options.scale, options.layercontainerid);\n                }\n                var bps = this.batchpathscan(ls, options.pathomit);\n                var bis = this.batchinternodes(bps, options);\n                tracedata = {\n                    layers: this.batchtracelayers(bis, options.ltres, options.qtres),\n                    palette: ii.palette,\n                    width: imgd.width,\n                    height: imgd.height\n                };\n            }\n\n            return tracedata;\n        }\n    }, {\n        key: 'checkoptions',\n        value: function checkoptions(options) {\n            options = options || {};\n            if (typeof options === 'string') {\n                options = options.toLowerCase();\n                if (this.optionpresets[options]) {\n                    options = this.optionpresets[options];\n                } else {\n                    options = {};\n                }\n            }\n            var ok = Object.keys(this.optionpresets['default']);\n            for (var k = 0; k < ok.length; k += 1) {\n                if (!options.hasOwnProperty(ok[k])) {\n                    options[ok[k]] = this.optionpresets['default'][ok[k]];\n                }\n            }\n\n            return options;\n        }\n    }, {\n        key: 'colorquantization',\n        value: function colorquantization(imgd, options) {\n            var arr = [];\n            var idx = 0;\n            var cd = void 0;\n            var cdl = void 0;\n            var ci = void 0;\n            var paletteacc = [];\n            var pixelnum = imgd.width * imgd.height;\n            var i = void 0;\n            var j = void 0;\n            var k = void 0;\n            var cnt = void 0;\n            var palette = void 0;\n\n            for (j = 0; j < imgd.height + 2; j += 1) {\n                arr[j] = [];\n                for (i = 0; i < imgd.width + 2; i += 1) {\n                    arr[j][i] = -1;\n                }\n            }\n            if (options.pal) {\n                palette = options.pal;\n            } else if (options.colorsampling === 0) {\n                palette = this.generatepalette(options.numberofcolors);\n            } else if (options.colorsampling === 1) {\n                palette = this.samplepalette(options.numberofcolors, imgd);\n            } else {\n                palette = this.samplepalette2(options.numberofcolors, imgd);\n            }\n            if (options.blurradius > 0) {\n                imgd = this.blur(imgd, options.blurradius, options.blurdelta);\n            }\n            for (cnt = 0; cnt < options.colorquantcycles; cnt += 1) {\n                if (cnt > 0) {\n                    for (k = 0; k < palette.length; k += 1) {\n                        if (paletteacc[k].n > 0) {\n                            palette[k] = { r: Math.floor(paletteacc[k].r / paletteacc[k].n),\n                                g: Math.floor(paletteacc[k].g / paletteacc[k].n),\n                                b: Math.floor(paletteacc[k].b / paletteacc[k].n),\n                                a: Math.floor(paletteacc[k].a / paletteacc[k].n) };\n                        }\n\n                        if (paletteacc[k].n / pixelnum < options.mincolorratio && cnt < options.colorquantcycles - 1) {\n                            palette[k] = { r: Math.floor(Math.random() * 255),\n                                g: Math.floor(Math.random() * 255),\n                                b: Math.floor(Math.random() * 255),\n                                a: Math.floor(Math.random() * 255) };\n                        }\n                    }\n                }\n\n                for (i = 0; i < palette.length; i += 1) {\n                    paletteacc[i] = { r: 0,\n                        g: 0,\n                        b: 0,\n                        a: 0,\n                        n: 0 };\n                }\n\n                for (j = 0; j < imgd.height; j += 1) {\n                    for (i = 0; i < imgd.width; i += 1) {\n                        idx = (j * imgd.width + i) * 4;\n\n                        ci = 0;\n                        cdl = 1024;\n                        for (k = 0; k < palette.length; k += 1) {\n                            cd = Math.abs(palette[k].r - imgd.data[idx]) + Math.abs(palette[k].g - imgd.data[idx + 1]) + Math.abs(palette[k].b - imgd.data[idx + 2]) + Math.abs(palette[k].a - imgd.data[idx + 3]);\n\n                            if (cd < cdl) {\n                                cdl = cd;\n                                ci = k;\n                            }\n                        }\n\n                        paletteacc[ci].r += imgd.data[idx];\n                        paletteacc[ci].g += imgd.data[idx + 1];\n                        paletteacc[ci].b += imgd.data[idx + 2];\n                        paletteacc[ci].a += imgd.data[idx + 3];\n                        paletteacc[ci].n += 1;\n\n                        arr[j + 1][i + 1] = ci;\n                    }\n                }\n            }\n\n            return { array: arr,\n                palette: palette };\n        }\n    }, {\n        key: 'samplepalette',\n        value: function samplepalette(numberofcolors, imgd) {\n            var idx = void 0;\n            var palette = [];\n            for (var i = 0; i < numberofcolors; i += 1) {\n                idx = Math.floor(Math.random() * imgd.data.length / 4) * 4;\n                palette.push({ r: imgd.data[idx],\n                    g: imgd.data[idx + 1],\n                    b: imgd.data[idx + 2],\n                    a: imgd.data[idx + 3] });\n            }\n\n            return palette;\n        }\n    }, {\n        key: 'samplepalette2',\n        value: function samplepalette2(numberofcolors, imgd) {\n            var idx = void 0;\n            var palette = [];\n            var ni = Math.ceil(Math.sqrt(numberofcolors));\n            var nj = Math.ceil(numberofcolors / ni);\n            var vx = imgd.width / (ni + 1);\n            var vy = imgd.height / (nj + 1);\n            for (var j = 0; j < nj; j += 1) {\n                for (var i = 0; i < ni; i += 1) {\n                    if (palette.length === numberofcolors) {\n                        break;\n                    } else {\n                        idx = Math.floor((j + 1) * vy * imgd.width + (i + 1) * vx) * 4;\n                        palette.push({ r: imgd.data[idx],\n                            g: imgd.data[idx + 1],\n                            b: imgd.data[idx + 2],\n                            a: imgd.data[idx + 3] });\n                    }\n                }\n            }\n\n            return palette;\n        }\n    }, {\n        key: 'generatepalette',\n        value: function generatepalette(numberofcolors) {\n            var palette = [];\n            var rcnt = void 0;\n            var gcnt = void 0;\n            var bcnt = void 0;\n            if (numberofcolors < 8) {\n                var graystep = Math.floor(255 / (numberofcolors - 1));\n                for (var i = 0; i < numberofcolors; i += 1) {\n                    palette.push({ r: i * graystep,\n                        g: i * graystep,\n                        b: i * graystep,\n                        a: 255 });\n                }\n            } else {\n                var colorqnum = Math.floor(Math.pow(numberofcolors, 1 / 3));\n                var colorstep = Math.floor(255 / (colorqnum - 1));\n                var rndnum = numberofcolors - colorqnum * colorqnum * colorqnum;\n                for (rcnt = 0; rcnt < colorqnum; rcnt += 1) {\n                    for (gcnt = 0; gcnt < colorqnum; gcnt += 1) {\n                        for (bcnt = 0; bcnt < colorqnum; bcnt += 1) {\n                            palette.push({ r: rcnt * colorstep,\n                                g: gcnt * colorstep,\n                                b: bcnt * colorstep,\n                                a: 255 });\n                        }\n                    }\n                }\n                for (rcnt = 0; rcnt < rndnum; rcnt += 1) {\n                    palette.push({ r: Math.floor(Math.random() * 255),\n                        g: Math.floor(Math.random() * 255),\n                        b: Math.floor(Math.random() * 255),\n                        a: Math.floor(Math.random() * 255) });\n                }\n            }\n\n            return palette;\n        }\n    }, {\n        key: 'layering',\n        value: function layering(ii) {\n            var layers = [];\n            var val = 0;\n            var ah = ii.array.length;\n            var aw = ii.array[0].length;\n            var n1 = void 0;\n            var n2 = void 0;\n            var n3 = void 0;\n            var n4 = void 0;\n            var n5 = void 0;\n            var n6 = void 0;\n            var n7 = void 0;\n            var n8 = void 0;\n            var i = void 0;\n            var j = void 0;\n            var k = void 0;\n            for (k = 0; k < ii.palette.length; k += 1) {\n                layers[k] = [];\n                for (j = 0; j < ah; j += 1) {\n                    layers[k][j] = [];\n                    for (i = 0; i < aw; i += 1) {\n                        layers[k][j][i] = 0;\n                    }\n                }\n            }\n            for (j = 1; j < ah - 1; j += 1) {\n                for (i = 1; i < aw - 1; i += 1) {\n                    val = ii.array[j][i];\n\n                    n1 = ii.array[j - 1][i - 1] === val ? 1 : 0;\n                    n2 = ii.array[j - 1][i] === val ? 1 : 0;\n                    n3 = ii.array[j - 1][i + 1] === val ? 1 : 0;\n                    n4 = ii.array[j][i - 1] === val ? 1 : 0;\n                    n5 = ii.array[j][i + 1] === val ? 1 : 0;\n                    n6 = ii.array[j + 1][i - 1] === val ? 1 : 0;\n                    n7 = ii.array[j + 1][i] === val ? 1 : 0;\n                    n8 = ii.array[j + 1][i + 1] === val ? 1 : 0;\n\n                    layers[val][j + 1][i + 1] = 1 + n5 * 2 + n8 * 4 + n7 * 8;\n                    if (!n4) {\n                        layers[val][j + 1][i] = 0 + 2 + n7 * 4 + n6 * 8;\n                    }\n                    if (!n2) {\n                        layers[val][j][i + 1] = 0 + n3 * 2 + n5 * 4 + 8;\n                    }\n                    if (!n1) {\n                        layers[val][j][i] = 0 + n2 * 2 + 4 + n4 * 8;\n                    }\n                }\n            }\n\n            return layers;\n        }\n    }, {\n        key: 'layeringstep',\n        value: function layeringstep(ii, cnum) {\n            var layer = [];\n            var ah = ii.array.length;\n            var aw = ii.array[0].length;\n            var i = void 0;\n            var j = void 0;\n            for (j = 0; j < ah; j += 1) {\n                layer[j] = [];\n                for (i = 0; i < aw; i += 1) {\n                    layer[j][i] = 0;\n                }\n            }\n            for (j = 1; j < ah; j += 1) {\n                for (i = 1; i < aw; i += 1) {\n                    layer[j][i] = (ii.array[j - 1][i - 1] === cnum ? 1 : 0) + (ii.array[j - 1][i] === cnum ? 2 : 0) + (ii.array[j][i - 1] === cnum ? 8 : 0) + (ii.array[j][i] === cnum ? 4 : 0);\n                }\n            }\n\n            return layer;\n        }\n    }, {\n        key: 'pathscan',\n        value: function pathscan(arr, pathomit) {\n            var paths = [];\n            var pacnt = 0;\n            var pcnt = 0;\n            var px = 0;\n            var py = 0;\n            var w = arr[0].length;\n            var h = arr.length;\n            var dir = 0;\n            var pathfinished = true;\n            var holepath = false;\n            var lookuprow = void 0;\n            for (var j = 0; j < h; j += 1) {\n                for (var i = 0; i < w; i += 1) {\n                    if (arr[j][i] === 4 || arr[j][i] === 11) {\n                        px = i;\n                        py = j;\n                        paths[pacnt] = {};\n                        paths[pacnt].points = [];\n                        paths[pacnt].boundingbox = [px, py, px, py];\n                        paths[pacnt].holechildren = [];\n                        pathfinished = false;\n                        pcnt = 0;\n                        holepath = arr[j][i] === 11;\n                        dir = 1;\n\n                        while (!pathfinished) {\n                            paths[pacnt].points[pcnt] = {};\n                            paths[pacnt].points[pcnt].x = px - 1;\n                            paths[pacnt].points[pcnt].y = py - 1;\n                            paths[pacnt].points[pcnt].t = arr[py][px];\n\n                            if (px - 1 < paths[pacnt].boundingbox[0]) {\n                                paths[pacnt].boundingbox[0] = px - 1;\n                            }\n                            if (px - 1 > paths[pacnt].boundingbox[2]) {\n                                paths[pacnt].boundingbox[2] = px - 1;\n                            }\n                            if (py - 1 < paths[pacnt].boundingbox[1]) {\n                                paths[pacnt].boundingbox[1] = py - 1;\n                            }\n                            if (py - 1 > paths[pacnt].boundingbox[3]) {\n                                paths[pacnt].boundingbox[3] = py - 1;\n                            }\n\n                            lookuprow = this.pathscan_combined_lookup[arr[py][px]][dir];\n                            arr[py][px] = lookuprow[0];dir = lookuprow[1];px += lookuprow[2];py += lookuprow[3];\n\n                            if (px - 1 === paths[pacnt].points[0].x && py - 1 === paths[pacnt].points[0].y) {\n                                pathfinished = true;\n\n                                if (paths[pacnt].points.length < pathomit) {\n                                    paths.pop();\n                                } else {\n                                    paths[pacnt].isholepath = !!holepath;\n\n                                    if (holepath) {\n                                        var parentidx = 0,\n                                            parentbbox = [-1, -1, w + 1, h + 1];\n                                        for (var parentcnt = 0; parentcnt < pacnt; parentcnt++) {\n                                            if (!paths[parentcnt].isholepath && this.boundingboxincludes(paths[parentcnt].boundingbox, paths[pacnt].boundingbox) && this.boundingboxincludes(parentbbox, paths[parentcnt].boundingbox)) {\n                                                parentidx = parentcnt;\n                                                parentbbox = paths[parentcnt].boundingbox;\n                                            }\n                                        }\n                                        paths[parentidx].holechildren.push(pacnt);\n                                    }\n                                    pacnt += 1;\n                                }\n                            }\n                            pcnt += 1;\n                        }\n                    }\n                }\n            }\n\n            return paths;\n        }\n    }, {\n        key: 'boundingboxincludes',\n        value: function boundingboxincludes(parentbbox, childbbox) {\n            return parentbbox[0] < childbbox[0] && parentbbox[1] < childbbox[1] && parentbbox[2] > childbbox[2] && parentbbox[3] > childbbox[3];\n        }\n    }, {\n        key: 'batchpathscan',\n        value: function batchpathscan(layers, pathomit) {\n            var bpaths = [];\n            for (var k in layers) {\n                if (!layers.hasOwnProperty(k)) {\n                    continue;\n                }\n                bpaths[k] = this.pathscan(layers[k], pathomit);\n            }\n\n            return bpaths;\n        }\n    }, {\n        key: 'internodes',\n        value: function internodes(paths, options) {\n            var ins = [];\n            var palen = 0;\n            var nextidx = 0;\n            var nextidx2 = 0;\n            var previdx = 0;\n            var previdx2 = 0;\n            var pacnt = void 0;\n            var pcnt = void 0;\n            for (pacnt = 0; pacnt < paths.length; pacnt += 1) {\n                ins[pacnt] = {};\n                ins[pacnt].points = [];\n                ins[pacnt].boundingbox = paths[pacnt].boundingbox;\n                ins[pacnt].holechildren = paths[pacnt].holechildren;\n                ins[pacnt].isholepath = paths[pacnt].isholepath;\n                palen = paths[pacnt].points.length;\n\n                for (pcnt = 0; pcnt < palen; pcnt += 1) {\n                    nextidx = (pcnt + 1) % palen;nextidx2 = (pcnt + 2) % palen;previdx = (pcnt - 1 + palen) % palen;previdx2 = (pcnt - 2 + palen) % palen;\n\n                    if (options.rightangleenhance && this.testrightangle(paths[pacnt], previdx2, previdx, pcnt, nextidx, nextidx2)) {\n                        if (ins[pacnt].points.length > 0) {\n                            ins[pacnt].points[ins[pacnt].points.length - 1].linesegment = this.getdirection(ins[pacnt].points[ins[pacnt].points.length - 1].x, ins[pacnt].points[ins[pacnt].points.length - 1].y, paths[pacnt].points[pcnt].x, paths[pacnt].points[pcnt].y);\n                        }\n\n                        ins[pacnt].points.push({\n                            x: paths[pacnt].points[pcnt].x,\n                            y: paths[pacnt].points[pcnt].y,\n                            linesegment: this.getdirection(paths[pacnt].points[pcnt].x, paths[pacnt].points[pcnt].y, (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2, (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2)\n                        });\n                    }\n\n                    ins[pacnt].points.push({\n                        x: (paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2,\n                        y: (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2,\n                        linesegment: this.getdirection((paths[pacnt].points[pcnt].x + paths[pacnt].points[nextidx].x) / 2, (paths[pacnt].points[pcnt].y + paths[pacnt].points[nextidx].y) / 2, (paths[pacnt].points[nextidx].x + paths[pacnt].points[nextidx2].x) / 2, (paths[pacnt].points[nextidx].y + paths[pacnt].points[nextidx2].y) / 2)\n                    });\n                }\n            }\n\n            return ins;\n        }\n    }, {\n        key: 'testrightangle',\n        value: function testrightangle(path, idx1, idx2, idx3, idx4, idx5) {\n            return path.points[idx3].x === path.points[idx1].x && path.points[idx3].x === path.points[idx2].x && path.points[idx3].y === path.points[idx4].y && path.points[idx3].y === path.points[idx5].y || path.points[idx3].y === path.points[idx1].y && path.points[idx3].y === path.points[idx2].y && path.points[idx3].x === path.points[idx4].x && path.points[idx3].x === path.points[idx5].x;\n        }\n    }, {\n        key: 'getdirection',\n        value: function getdirection(x1, y1, x2, y2) {\n            var val = 8;\n            if (x1 < x2) {\n                if (y1 < y2) {\n                    val = 1;\n                } else if (y1 > y2) {\n                    val = 7;\n                } else {\n                    val = 0;\n                }\n            } else if (x1 > x2) {\n                if (y1 < y2) {\n                    val = 3;\n                } else if (y1 > y2) {\n                    val = 5;\n                } else {\n                    val = 4;\n                }\n            } else if (y1 < y2) {\n                val = 2;\n            } else if (y1 > y2) {\n                val = 6;\n            } else {\n                val = 8;\n            }\n\n            return val;\n        }\n    }, {\n        key: 'batchinternodes',\n        value: function batchinternodes(bpaths, options) {\n            var binternodes = [];\n            for (var k in bpaths) {\n                if (!bpaths.hasOwnProperty(k)) {\n                    continue;\n                }\n                binternodes[k] = this.internodes(bpaths[k], options);\n            }\n\n            return binternodes;\n        }\n    }, {\n        key: 'tracepath',\n        value: function tracepath(path, ltres, qtres) {\n            var pcnt = 0;\n            var segtype1 = void 0;\n            var segtype2 = void 0;\n            var seqend = void 0;\n            var smp = {};\n            smp.segments = [];\n            smp.boundingbox = path.boundingbox;\n            smp.holechildren = path.holechildren;\n            smp.isholepath = path.isholepath;\n\n            while (pcnt < path.points.length) {\n                segtype1 = path.points[pcnt].linesegment;\n                segtype2 = -1;\n                seqend = pcnt + 1;\n                while ((path.points[seqend].linesegment === segtype1 || path.points[seqend].linesegment === segtype2 || segtype2 === -1) && seqend < path.points.length - 1) {\n                    if (path.points[seqend].linesegment !== segtype1 && segtype2 === -1) {\n                        segtype2 = path.points[seqend].linesegment;\n                    }\n                    seqend += 1;\n                }\n                if (seqend === path.points.length - 1) {\n                    seqend = 0;\n                }\n\n                smp.segments = smp.segments.concat(this.fitseq(path, ltres, qtres, pcnt, seqend));\n\n                if (seqend > 0) {\n                    pcnt = seqend;\n                } else {\n                    pcnt = path.points.length;\n                }\n            }\n\n            return smp;\n        }\n    }, {\n        key: 'fitseq',\n        value: function fitseq(path, ltres, qtres, seqstart, seqend) {\n            if (seqend > path.points.length || seqend < 0) {\n                return [];\n            }\n            var errorpoint = seqstart,\n                errorval = 0,\n                curvepass = true,\n                px = void 0,\n                py = void 0,\n                dist2 = void 0;\n            var tl = seqend - seqstart;if (tl < 0) {\n                tl += path.points.length;\n            }\n            var vx = (path.points[seqend].x - path.points[seqstart].x) / tl,\n                vy = (path.points[seqend].y - path.points[seqstart].y) / tl;\n            var pcnt = (seqstart + 1) % path.points.length,\n                pl = void 0;\n            while (pcnt != seqend) {\n                pl = pcnt - seqstart;if (pl < 0) {\n                    pl += path.points.length;\n                }\n                px = path.points[seqstart].x + vx * pl;py = path.points[seqstart].y + vy * pl;\n                dist2 = (path.points[pcnt].x - px) * (path.points[pcnt].x - px) + (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n                if (dist2 > ltres) {\n                    curvepass = false;\n                }\n                if (dist2 > errorval) {\n                    errorpoint = pcnt;errorval = dist2;\n                }\n                pcnt = (pcnt + 1) % path.points.length;\n            }\n            if (curvepass) {\n                return [{ type: 'L',\n                    x1: path.points[seqstart].x,\n                    y1: path.points[seqstart].y,\n                    x2: path.points[seqend].x,\n                    y2: path.points[seqend].y }];\n            }\n            var fitpoint = errorpoint;curvepass = true;errorval = 0;\n            var t = (fitpoint - seqstart) / tl,\n                t1 = (1 - t) * (1 - t),\n                t2 = 2 * (1 - t) * t,\n                t3 = t * t;\n            var cpx = (t1 * path.points[seqstart].x + t3 * path.points[seqend].x - path.points[fitpoint].x) / -t2,\n                cpy = (t1 * path.points[seqstart].y + t3 * path.points[seqend].y - path.points[fitpoint].y) / -t2;\n            pcnt = seqstart + 1;\n            while (pcnt != seqend) {\n                t = (pcnt - seqstart) / tl;t1 = (1 - t) * (1 - t);t2 = 2 * (1 - t) * t;t3 = t * t;\n                px = t1 * path.points[seqstart].x + t2 * cpx + t3 * path.points[seqend].x;\n                py = t1 * path.points[seqstart].y + t2 * cpy + t3 * path.points[seqend].y;\n                dist2 = (path.points[pcnt].x - px) * (path.points[pcnt].x - px) + (path.points[pcnt].y - py) * (path.points[pcnt].y - py);\n                if (dist2 > qtres) {\n                    curvepass = false;\n                }\n                if (dist2 > errorval) {\n                    errorpoint = pcnt;errorval = dist2;\n                }\n                pcnt = (pcnt + 1) % path.points.length;\n            }\n            if (curvepass) {\n                return [{ type: 'Q',\n                    x1: path.points[seqstart].x,\n                    y1: path.points[seqstart].y,\n                    x2: cpx,\n                    y2: cpy,\n                    x3: path.points[seqend].x,\n                    y3: path.points[seqend].y }];\n            }\n            var splitpoint = fitpoint;\n\n            return this.fitseq(path, ltres, qtres, seqstart, splitpoint).concat(this.fitseq(path, ltres, qtres, splitpoint, seqend));\n        }\n    }, {\n        key: 'batchtracepaths',\n        value: function batchtracepaths(internodepaths, ltres, qtres) {\n            var btracedpaths = [];\n            for (var k in internodepaths) {\n                if (!internodepaths.hasOwnProperty(k)) {\n                    continue;\n                }\n                btracedpaths.push(this.tracepath(internodepaths[k], ltres, qtres));\n            }\n\n            return btracedpaths;\n        }\n    }, {\n        key: 'batchtracelayers',\n        value: function batchtracelayers(binternodes, ltres, qtres) {\n            var btbis = [];\n            for (var k in binternodes) {\n                if (!binternodes.hasOwnProperty(k)) {\n                    continue;\n                }\n                btbis[k] = this.batchtracepaths(binternodes[k], ltres, qtres);\n            }\n\n            return btbis;\n        }\n    }, {\n        key: 'roundtodec',\n        value: function roundtodec(val, places) {\n            return Number(val.toFixed(places));\n        }\n    }, {\n        key: 'svgpathstring',\n        value: function svgpathstring(tracedata, lnum, pathnum, options) {\n            var layer = tracedata.layers[lnum],\n                smp = layer[pathnum],\n                str = '',\n                pcnt = void 0;\n            if (options.linefilter && smp.segments.length < 3) {\n                return str;\n            }\n            str = '<path ' + (options.desc ? 'desc=\"l ' + lnum + ' p ' + pathnum + '\" ' : '') + this.tosvgcolorstr(tracedata.palette[lnum], options) + 'd=\"';\n            if (options.roundcoords === -1) {\n                str += 'M ' + smp.segments[0].x1 * options.scale + ' ' + smp.segments[0].y1 * options.scale + ' ';\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                    str += smp.segments[pcnt].type + ' ' + smp.segments[pcnt].x2 * options.scale + ' ' + smp.segments[pcnt].y2 * options.scale + ' ';\n                    if (smp.segments[pcnt].hasOwnProperty('x3')) {\n                        str += smp.segments[pcnt].x3 * options.scale + ' ' + smp.segments[pcnt].y3 * options.scale + ' ';\n                    }\n                }\n                str += 'Z ';\n            } else {\n                str += 'M ' + this.roundtodec(smp.segments[0].x1 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[0].y1 * options.scale, options.roundcoords) + ' ';\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                    str += smp.segments[pcnt].type + ' ' + this.roundtodec(smp.segments[pcnt].x2 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[pcnt].y2 * options.scale, options.roundcoords) + ' ';\n                    if (smp.segments[pcnt].hasOwnProperty('x3')) {\n                        str += this.roundtodec(smp.segments[pcnt].x3 * options.scale, options.roundcoords) + ' ' + this.roundtodec(smp.segments[pcnt].y3 * options.scale, options.roundcoords) + ' ';\n                    }\n                }\n                str += 'Z ';\n            }\n            for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n                var hsmp = layer[smp.holechildren[hcnt]];\n\n                if (options.roundcoords === -1) {\n                    if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n                        str += 'M ' + hsmp.segments[hsmp.segments.length - 1].x3 * options.scale + ' ' + hsmp.segments[hsmp.segments.length - 1].y3 * options.scale + ' ';\n                    } else {\n                        str += 'M ' + hsmp.segments[hsmp.segments.length - 1].x2 * options.scale + ' ' + hsmp.segments[hsmp.segments.length - 1].y2 * options.scale + ' ';\n                    }\n                    for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n                        str += hsmp.segments[pcnt].type + ' ';\n                        if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n                            str += hsmp.segments[pcnt].x2 * options.scale + ' ' + hsmp.segments[pcnt].y2 * options.scale + ' ';\n                        }\n                        str += hsmp.segments[pcnt].x1 * options.scale + ' ' + hsmp.segments[pcnt].y1 * options.scale + ' ';\n                    }\n                } else {\n                    if (hsmp.segments[hsmp.segments.length - 1].hasOwnProperty('x3')) {\n                        str += 'M ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].x3 * options.scale) + ' ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y3 * options.scale) + ' ';\n                    } else {\n                        str += 'M ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].x2 * options.scale) + ' ' + this.roundtodec(hsmp.segments[hsmp.segments.length - 1].y2 * options.scale) + ' ';\n                    }\n                    for (pcnt = hsmp.segments.length - 1; pcnt >= 0; pcnt--) {\n                        str += hsmp.segments[pcnt].type + ' ';\n                        if (hsmp.segments[pcnt].hasOwnProperty('x3')) {\n                            str += this.roundtodec(hsmp.segments[pcnt].x2 * options.scale) + ' ' + this.roundtodec(hsmp.segments[pcnt].y2 * options.scale) + ' ';\n                        }\n                        str += this.roundtodec(hsmp.segments[pcnt].x1 * options.scale) + ' ' + this.roundtodec(hsmp.segments[pcnt].y1 * options.scale) + ' ';\n                    }\n                }\n                str += 'Z ';\n            }\n            str += '\" />';\n            if (options.lcpr || options.qcpr) {\n                for (pcnt = 0; pcnt < smp.segments.length; pcnt++) {\n                    if (smp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n                        str += '<circle cx=\"' + smp.segments[pcnt].x2 * options.scale + '\" cy=\"' + smp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"cyan\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                        str += '<circle cx=\"' + smp.segments[pcnt].x3 * options.scale + '\" cy=\"' + smp.segments[pcnt].y3 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"white\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                        str += '<line x1=\"' + smp.segments[pcnt].x1 * options.scale + '\" y1=\"' + smp.segments[pcnt].y1 * options.scale + '\" x2=\"' + smp.segments[pcnt].x2 * options.scale + '\" y2=\"' + smp.segments[pcnt].y2 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                        str += '<line x1=\"' + smp.segments[pcnt].x2 * options.scale + '\" y1=\"' + smp.segments[pcnt].y2 * options.scale + '\" x2=\"' + smp.segments[pcnt].x3 * options.scale + '\" y2=\"' + smp.segments[pcnt].y3 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                    }\n                    if (!smp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n                        str += '<circle cx=\"' + smp.segments[pcnt].x2 * options.scale + '\" cy=\"' + smp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.lcpr + '\" fill=\"white\" stroke-width=\"' + options.lcpr * 0.2 + '\" stroke=\"black\" />';\n                    }\n                }\n\n                for (var hcnt = 0; hcnt < smp.holechildren.length; hcnt++) {\n                    var hsmp = layer[smp.holechildren[hcnt]];\n                    for (pcnt = 0; pcnt < hsmp.segments.length; pcnt++) {\n                        if (hsmp.segments[pcnt].hasOwnProperty('x3') && options.qcpr) {\n                            str += '<circle cx=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"cyan\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                            str += '<circle cx=\"' + hsmp.segments[pcnt].x3 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y3 * options.scale + '\" r=\"' + options.qcpr + '\" fill=\"white\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"black\" />';\n                            str += '<line x1=\"' + hsmp.segments[pcnt].x1 * options.scale + '\" y1=\"' + hsmp.segments[pcnt].y1 * options.scale + '\" x2=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" y2=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                            str += '<line x1=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" y1=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" x2=\"' + hsmp.segments[pcnt].x3 * options.scale + '\" y2=\"' + hsmp.segments[pcnt].y3 * options.scale + '\" stroke-width=\"' + options.qcpr * 0.2 + '\" stroke=\"cyan\" />';\n                        }\n                        if (!hsmp.segments[pcnt].hasOwnProperty('x3') && options.lcpr) {\n                            str += '<circle cx=\"' + hsmp.segments[pcnt].x2 * options.scale + '\" cy=\"' + hsmp.segments[pcnt].y2 * options.scale + '\" r=\"' + options.lcpr + '\" fill=\"white\" stroke-width=\"' + options.lcpr * 0.2 + '\" stroke=\"black\" />';\n                        }\n                    }\n                }\n            }\n\n            return str;\n        }\n    }, {\n        key: 'getsvgstring',\n        value: function getsvgstring(tracedata, options) {\n            options = this.checkoptions(options);\n            var w = tracedata.width * options.scale;\n            var h = tracedata.height * options.scale;\n\n            var svgstr = '<svg ' + (options.viewbox ? 'viewBox=\"0 0 ' + w + ' ' + h + '\" ' : 'width=\"' + w + '\" height=\"' + h + '\" ') + 'version=\"1.1\" xmlns=\"http://www.w3.org/2000/svg\" desc=\"Created with imagetracer.js version ' + this.versionnumber + '\" >';\n            for (var lcnt = 0; lcnt < tracedata.layers.length; lcnt += 1) {\n                for (var pcnt = 0; pcnt < tracedata.layers[lcnt].length; pcnt += 1) {\n                    if (!tracedata.layers[lcnt][pcnt].isholepath) {\n                        svgstr += this.svgpathstring(tracedata, lcnt, pcnt, options);\n                    }\n                }\n            }\n            svgstr += '</svg>';\n\n            return svgstr;\n        }\n    }, {\n        key: 'compareNumbers',\n        value: function compareNumbers(a, b) {\n            return a - b;\n        }\n    }, {\n        key: 'torgbastr',\n        value: function torgbastr(c) {\n            return 'rgba(' + c.r + ',' + c.g + ',' + c.b + ',' + c.a + ')';\n        }\n    }, {\n        key: 'tosvgcolorstr',\n        value: function tosvgcolorstr(c, options) {\n            return 'fill=\"rgb(' + c.r + ',' + c.g + ',' + c.b + ')\" stroke=\"rgb(' + c.r + ',' + c.g + ',' + c.b + ')\" stroke-width=\"' + options.strokewidth + '\" opacity=\"' + c.a / 255.0 + '\" ';\n        }\n    }, {\n        key: 'appendSVGString',\n        value: function appendSVGString(svgstr, parentid) {\n            var div = void 0;\n            if (parentid) {\n                div = document.getElementById(parentid);\n                if (!div) {\n                    div = document.createElement('div');\n                    div.id = parentid;\n                    document.body.appendChild(div);\n                }\n            } else {\n                div = document.createElement('div');\n                document.body.appendChild(div);\n            }\n            div.innerHTML += svgstr;\n        }\n    }, {\n        key: 'blur',\n        value: function blur(imgd, radius, delta) {\n            var i = void 0,\n                j = void 0,\n                k = void 0,\n                d = void 0,\n                idx = void 0,\n                racc = void 0,\n                gacc = void 0,\n                bacc = void 0,\n                aacc = void 0,\n                wacc = void 0;\n            var imgd2 = { width: imgd.width,\n                height: imgd.height,\n                data: [] };\n            radius = Math.floor(radius);if (radius < 1) {\n                return imgd;\n            }if (radius > 5) {\n                radius = 5;\n            }delta = Math.abs(delta);if (delta > 1024) {\n                delta = 1024;\n            }\n            var thisgk = this.gks[radius - 1];\n            for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                    racc = 0;gacc = 0;bacc = 0;aacc = 0;wacc = 0;\n\n                    for (k = -radius; k < radius + 1; k++) {\n                        if (i + k > 0 && i + k < imgd.width) {\n                            idx = (j * imgd.width + i + k) * 4;\n                            racc += imgd.data[idx] * thisgk[k + radius];\n                            gacc += imgd.data[idx + 1] * thisgk[k + radius];\n                            bacc += imgd.data[idx + 2] * thisgk[k + radius];\n                            aacc += imgd.data[idx + 3] * thisgk[k + radius];\n                            wacc += thisgk[k + radius];\n                        }\n                    }\n\n                    idx = (j * imgd.width + i) * 4;\n                    imgd2.data[idx] = Math.floor(racc / wacc);\n                    imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n                    imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n                    imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n                }\n            }\n            var himgd = new Uint8ClampedArray(imgd2.data);\n            for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                    racc = 0;gacc = 0;bacc = 0;aacc = 0;wacc = 0;\n\n                    for (k = -radius; k < radius + 1; k++) {\n                        if (j + k > 0 && j + k < imgd.height) {\n                            idx = ((j + k) * imgd.width + i) * 4;\n                            racc += himgd[idx] * thisgk[k + radius];\n                            gacc += himgd[idx + 1] * thisgk[k + radius];\n                            bacc += himgd[idx + 2] * thisgk[k + radius];\n                            aacc += himgd[idx + 3] * thisgk[k + radius];\n                            wacc += thisgk[k + radius];\n                        }\n                    }\n\n                    idx = (j * imgd.width + i) * 4;\n                    imgd2.data[idx] = Math.floor(racc / wacc);\n                    imgd2.data[idx + 1] = Math.floor(gacc / wacc);\n                    imgd2.data[idx + 2] = Math.floor(bacc / wacc);\n                    imgd2.data[idx + 3] = Math.floor(aacc / wacc);\n                }\n            }\n            for (j = 0; j < imgd.height; j++) {\n                for (i = 0; i < imgd.width; i++) {\n                    idx = (j * imgd.width + i) * 4;\n\n                    d = Math.abs(imgd2.data[idx] - imgd.data[idx]) + Math.abs(imgd2.data[idx + 1] - imgd.data[idx + 1]) + Math.abs(imgd2.data[idx + 2] - imgd.data[idx + 2]) + Math.abs(imgd2.data[idx + 3] - imgd.data[idx + 3]);\n\n                    if (d > delta) {\n                        imgd2.data[idx] = imgd.data[idx];\n                        imgd2.data[idx + 1] = imgd.data[idx + 1];\n                        imgd2.data[idx + 2] = imgd.data[idx + 2];\n                        imgd2.data[idx + 3] = imgd.data[idx + 3];\n                    }\n                }\n            }\n\n            return imgd2;\n        }\n    }, {\n        key: 'loadImage',\n        value: function loadImage(url, callback, options) {\n            var img = new Image();\n            if (options && options.corsenabled) {\n                img.crossOrigin = 'Anonymous';\n            }\n            img.src = url;\n            img.onload = function () {\n                var canvas = document.createElement('canvas');\n                canvas.width = img.width;\n                canvas.height = img.height;\n                var context = canvas.getContext('2d');\n                context.drawImage(img, 0, 0);\n                callback(canvas);\n            };\n        }\n    }, {\n        key: 'getImgdata',\n        value: function getImgdata(canvas) {\n            var context = canvas.getContext('2d');\n\n            return context.getImageData(0, 0, canvas.width, canvas.height);\n        }\n    }, {\n        key: 'drawLayers',\n        value: function drawLayers(layers, palette, scale, parentid) {\n            scale = scale || 1;\n            var w = void 0,\n                h = void 0,\n                i = void 0,\n                j = void 0,\n                k = void 0;\n            var div = void 0;\n            if (parentid) {\n                div = document.getElementById(parentid);\n                if (!div) {\n                    div = document.createElement('div');\n                    div.id = parentid;\n                    document.body.appendChild(div);\n                }\n            } else {\n                div = document.createElement('div');\n                document.body.appendChild(div);\n            }\n            for (k in layers) {\n                if (!layers.hasOwnProperty(k)) {\n                    continue;\n                }\n\n                w = layers[k][0].length;\n                h = layers[k].length;\n\n                var canvas = document.createElement('canvas');\n                canvas.width = w * scale;\n                canvas.height = h * scale;\n                var context = canvas.getContext('2d');\n\n                for (j = 0; j < h; j += 1) {\n                    for (i = 0; i < w; i += 1) {\n                        context.fillStyle = this.torgbastr(palette[layers[k][j][i] % palette.length]);\n                        context.fillRect(i * scale, j * scale, scale, scale);\n                    }\n                }\n\n                div.appendChild(canvas);\n            }\n        }\n    }]);\n\n    return ImageTracer;\n}();\n\nexports.default = ImageTracer;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/helper/imagetracer.js?")},"./src/js/helper/shapeResizeHelper.js":function srcJsHelperShapeResizeHelperJs(module,exports,__webpack_require__){"use strict";eval("\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Shape resize helper\n */\nvar DIVISOR = {\n    rect: 1,\n    circle: 2,\n    triangle: 1\n};\nvar DIMENSION_KEYS = {\n    rect: {\n        w: 'width',\n        h: 'height'\n    },\n    circle: {\n        w: 'rx',\n        h: 'ry'\n    },\n    triangle: {\n        w: 'width',\n        h: 'height'\n    }\n};\n\n/**\n * Set the start point value to the shape object\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction setStartPoint(shape) {\n    var originX = shape.originX,\n        originY = shape.originY;\n\n    var originKey = originX.substring(0, 1) + originY.substring(0, 1);\n\n    shape.startPoint = shape.origins[originKey];\n}\n\n/**\n * Get the positions of ratated origin by the pointer value\n * @param {{x: number, y: number}} origin - Origin value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {number} angle - Rotating angle\n * @returns {Object} Postions of origin\n * @ignore\n */\nfunction getPositionsOfRotatedOrigin(origin, pointer, angle) {\n    var sx = origin.x;\n    var sy = origin.y;\n    var px = pointer.x;\n    var py = pointer.y;\n    var r = angle * Math.PI / 180;\n    var rx = (px - sx) * Math.cos(r) - (py - sy) * Math.sin(r) + sx;\n    var ry = (px - sx) * Math.sin(r) + (py - sy) * Math.cos(r) + sy;\n\n    return {\n        originX: sx > rx ? 'right' : 'left',\n        originY: sy > ry ? 'bottom' : 'top'\n    };\n}\n\n/**\n * Whether the shape has the center origin or not\n * @param {fabric.Object} shape - Shape object\n * @returns {boolean} State\n * @ignore\n */\nfunction hasCenterOrigin(shape) {\n    return shape.originX === 'center' && shape.originY === 'center';\n}\n\n/**\n * Adjust the origin of shape by the start point\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByStartPoint(pointer, shape) {\n    var centerPoint = shape.getPointByOrigin('center', 'center');\n    var angle = -shape.angle;\n    var originPositions = getPositionsOfRotatedOrigin(centerPoint, pointer, angle);\n    var originX = originPositions.originX,\n        originY = originPositions.originY;\n\n    var origin = shape.getPointByOrigin(originX, originY);\n    var left = shape.left - (centerPoint.x - origin.x);\n    var top = shape.top - (centerPoint.y - origin.y);\n\n    shape.set({\n        originX: originX,\n        originY: originY,\n        left: left,\n        top: top\n    });\n\n    shape.setCoords();\n}\n\n/**\n * Adjust the origin of shape by the moving pointer value\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustOriginByMovingPointer(pointer, shape) {\n    var origin = shape.startPoint;\n    var angle = -shape.angle;\n    var originPositions = getPositionsOfRotatedOrigin(origin, pointer, angle);\n    var originX = originPositions.originX,\n        originY = originPositions.originY;\n\n\n    shape.setPositionByOrigin(origin, originX, originY);\n    shape.setCoords();\n}\n\n/**\n * Adjust the dimension of shape on firing scaling event\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnScaling(shape) {\n    var type = shape.type,\n        scaleX = shape.scaleX,\n        scaleY = shape.scaleY;\n\n    var dimensionKeys = DIMENSION_KEYS[type];\n    var width = shape[dimensionKeys.w] * scaleX;\n    var height = shape[dimensionKeys.h] * scaleY;\n\n    if (shape.isRegular) {\n        var maxScale = Math.max(scaleX, scaleY);\n\n        width = shape[dimensionKeys.w] * maxScale;\n        height = shape[dimensionKeys.h] * maxScale;\n    }\n\n    var options = {\n        hasControls: false,\n        hasBorders: false,\n        scaleX: 1,\n        scaleY: 1\n    };\n\n    options[dimensionKeys.w] = width;\n    options[dimensionKeys.h] = height;\n\n    shape.set(options);\n}\n\n/**\n * Adjust the dimension of shape on firing mouse move event\n * @param {{x: number, y: number}} pointer - Pointer value\n * @param {fabric.Object} shape - Shape object\n * @ignore\n */\nfunction adjustDimensionOnMouseMove(pointer, shape) {\n    var type = shape.type,\n        strokeWidth = shape.strokeWidth,\n        origin = shape.startPoint;\n\n    var divisor = DIVISOR[type];\n    var dimensionKeys = DIMENSION_KEYS[type];\n    var isTriangle = !!(shape.type === 'triangle');\n    var options = {};\n    var width = Math.abs(origin.x - pointer.x) / divisor;\n    var height = Math.abs(origin.y - pointer.y) / divisor;\n\n    if (width > strokeWidth) {\n        width -= strokeWidth / divisor;\n    }\n\n    if (height > strokeWidth) {\n        height -= strokeWidth / divisor;\n    }\n\n    if (shape.isRegular) {\n        width = height = Math.max(width, height);\n\n        if (isTriangle) {\n            height = Math.sqrt(3) / 2 * width;\n        }\n    }\n\n    options[dimensionKeys.w] = width;\n    options[dimensionKeys.h] = height;\n\n    shape.set(options);\n}\n\nmodule.exports = {\n    /**\n     * Set each origin value to shape\n     * @param {fabric.Object} shape - Shape object\n     */\n    setOrigins: function setOrigins(shape) {\n        var leftTopPoint = shape.getPointByOrigin('left', 'top');\n        var rightTopPoint = shape.getPointByOrigin('right', 'top');\n        var rightBottomPoint = shape.getPointByOrigin('right', 'bottom');\n        var leftBottomPoint = shape.getPointByOrigin('left', 'bottom');\n\n        shape.origins = {\n            lt: leftTopPoint,\n            rt: rightTopPoint,\n            rb: rightBottomPoint,\n            lb: leftBottomPoint\n        };\n    },\n\n\n    /**\n     * Resize the shape\n     * @param {fabric.Object} shape - Shape object\n     * @param {{x: number, y: number}} pointer - Mouse pointer values on canvas\n     * @param {boolean} isScaling - Whether the resizing action is scaling or not\n     */\n    resize: function resize(shape, pointer, isScaling) {\n        if (hasCenterOrigin(shape)) {\n            adjustOriginByStartPoint(pointer, shape);\n            setStartPoint(shape);\n        }\n\n        if (isScaling) {\n            adjustDimensionOnScaling(shape, pointer);\n        } else {\n            adjustDimensionOnMouseMove(pointer, shape);\n        }\n\n        adjustOriginByMovingPointer(pointer, shape);\n    },\n\n\n    /**\n     * Adjust the origin position of shape to center\n     * @param {fabric.Object} shape - Shape object\n     */\n    adjustOriginToCenter: function adjustOriginToCenter(shape) {\n        var centerPoint = shape.getPointByOrigin('center', 'center');\n        var originX = shape.originX,\n            originY = shape.originY;\n\n        var origin = shape.getPointByOrigin(originX, originY);\n        var left = shape.left + (centerPoint.x - origin.x);\n        var top = shape.top + (centerPoint.y - origin.y);\n\n        shape.set({\n            hasControls: true,\n            hasBorders: true,\n            originX: 'center',\n            originY: 'center',\n            left: left,\n            top: top\n        });\n\n        shape.setCoords(); // For left, top properties\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/helper/shapeResizeHelper.js?")},"./src/js/imageEditor.js":function srcJsImageEditorJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Image-editor application class\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _invoker3 = __webpack_require__(/*! ./invoker */ \"./src/js/invoker.js\");\n\nvar _invoker4 = _interopRequireDefault(_invoker3);\n\nvar _ui = __webpack_require__(/*! ./ui */ \"./src/js/ui.js\");\n\nvar _ui2 = _interopRequireDefault(_ui);\n\nvar _action = __webpack_require__(/*! ./action */ \"./src/js/action.js\");\n\nvar _action2 = _interopRequireDefault(_action);\n\nvar _command = __webpack_require__(/*! ./factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _graphics = __webpack_require__(/*! ./graphics */ \"./src/js/graphics.js\");\n\nvar _graphics2 = _interopRequireDefault(_graphics);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar events = _consts2.default.eventNames;\nvar commands = _consts2.default.commandNames;\nvar keyCodes = _consts2.default.keyCodes,\n    rejectMessages = _consts2.default.rejectMessages;\nvar isUndefined = _tuiCodeSnippet2.default.isUndefined,\n    forEach = _tuiCodeSnippet2.default.forEach,\n    CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\nvar MOUSE_DOWN = events.MOUSE_DOWN,\n    OBJECT_MOVED = events.OBJECT_MOVED,\n    OBJECT_SCALED = events.OBJECT_SCALED,\n    OBJECT_ACTIVATED = events.OBJECT_ACTIVATED,\n    OBJECT_ROTATED = events.OBJECT_ROTATED,\n    ADD_TEXT = events.ADD_TEXT,\n    ADD_OBJECT = events.ADD_OBJECT,\n    TEXT_EDITING = events.TEXT_EDITING,\n    TEXT_CHANGED = events.TEXT_CHANGED,\n    ICON_CREATE_RESIZE = events.ICON_CREATE_RESIZE,\n    ICON_CREATE_END = events.ICON_CREATE_END,\n    SELECTION_CLEARED = events.SELECTION_CLEARED,\n    SELECTION_CREATED = events.SELECTION_CREATED,\n    ADD_OBJECT_AFTER = events.ADD_OBJECT_AFTER;\n\n/**\n * Image filter result\n * @typedef {object} FilterResult\n * @property {string} type - filter type like 'mask', 'Grayscale' and so on\n * @property {string} action - action type like 'add', 'remove'\n */\n\n/**\n * Flip status\n * @typedef {object} FlipStatus\n * @property {boolean} flipX - x axis\n * @property {boolean} flipY - y axis\n * @property {Number} angle - angle\n */\n/**\n * Rotation status\n * @typedef {Number} RotateStatus\n * @property {Number} angle - angle\n */\n\n/**\n * Old and new Size\n * @typedef {object} SizeChange\n * @property {Number} oldWidth - old width\n * @property {Number} oldHeight - old height\n * @property {Number} newWidth - new width\n * @property {Number} newHeight - new height\n */\n\n/**\n * @typedef {string} ErrorMsg - {string} error message\n */\n\n/**\n * @typedef {object} ObjectProps - graphics object properties\n * @property {number} id - object id\n * @property {string} type - object type\n * @property {string} text - text content\n * @property {(string | number)} left - Left\n * @property {(string | number)} top - Top\n * @property {(string | number)} width - Width\n * @property {(string | number)} height - Height\n * @property {string} fill - Color\n * @property {string} stroke - Stroke\n * @property {(string | number)} strokeWidth - StrokeWidth\n * @property {string} fontFamily - Font type for text\n * @property {number} fontSize - Font Size\n * @property {string} fontStyle - Type of inclination (normal / italic)\n * @property {string} fontWeight - Type of thicker or thinner looking (normal / bold)\n * @property {string} textAlign - Type of text align (left / center / right)\n * @property {string} textDecoration - Type of line (underline / line-through / overline)\n */\n\n/**\n * Image editor\n * @class\n * @param {string|HTMLElement} wrapper - Wrapper's element or selector\n * @param {Object} [options] - Canvas max width & height of css\n *  @param {number} [options.includeUI] - Use the provided UI\n *    @param {Object} [options.includeUI.loadImage] - Basic editing image\n *      @param {string} options.includeUI.loadImage.path - image path\n *      @param {string} options.includeUI.loadImage.name - image name\n *    @param {Object} [options.includeUI.theme] - Theme object\n *    @param {Array} [options.includeUI.menu] - It can be selected when only specific menu is used, Default values are \\['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'\\].\n *    @param {string} [options.includeUI.initMenu] - The first menu to be selected and started.\n *    @param {Object} [options.includeUI.uiSize] - ui size of editor\n *      @param {string} options.includeUI.uiSize.width - width of ui\n *      @param {string} options.includeUI.uiSize.height - height of ui\n *    @param {string} [options.includeUI.menuBarPosition=bottom] - Menu bar position('top', 'bottom', 'left', 'right')\n *  @param {number} options.cssMaxWidth - Canvas css-max-width\n *  @param {number} options.cssMaxHeight - Canvas css-max-height\n *  @param {Object} [options.selectionStyle] - selection style\n *  @param {string} [options.selectionStyle.cornerStyle] - selection corner style\n *  @param {number} [options.selectionStyle.cornerSize] - selection corner size\n *  @param {string} [options.selectionStyle.cornerColor] - selection corner color\n *  @param {string} [options.selectionStyle.cornerStrokeColor] = selection corner stroke color\n *  @param {boolean} [options.selectionStyle.transparentCorners] - selection corner transparent\n *  @param {number} [options.selectionStyle.lineWidth] - selection line width\n *  @param {string} [options.selectionStyle.borderColor] - selection border color\n *  @param {number} [options.selectionStyle.rotatingPointOffset] - selection rotating point length\n *  @param {Boolean} [options.usageStatistics=true] - Let us know the hostname. If you don't want to send the hostname, please set to false.\n * @example\n * var ImageEditor = require('tui-image-editor');\n * var blackTheme = require('./js/theme/black-theme.js');\n * var instance = new ImageEditor(document.querySelector('#tui-image-editor'), {\n *   includeUI: {\n *     loadImage: {\n *       path: 'img/sampleImage.jpg',\n *       name: 'SampleImage'\n *     },\n *     theme: blackTheme, // or whiteTheme\n *     menu: ['shape', 'filter'],\n *     initMenu: 'filter',\n *     uiSize: {\n *         width: '1000px',\n *         height: '700px'\n *     },\n *     menuBarPosition: 'bottom'\n *   },\n *   cssMaxWidth: 700,\n *   cssMaxHeight: 500,\n *   selectionStyle: {\n *     cornerSize: 20,\n *     rotatingPointOffset: 70\n *   }\n * });\n */\n\nvar ImageEditor = function () {\n    function ImageEditor(wrapper, options) {\n        _classCallCheck(this, ImageEditor);\n\n        options = _tuiCodeSnippet2.default.extend({\n            includeUI: false,\n            usageStatistics: true\n        }, options);\n\n        this.mode = null;\n\n        this.activeObjectId = null;\n\n        /**\n         * UI instance\n         * @type {Ui}\n         */\n        if (options.includeUI) {\n            var UIOption = options.includeUI;\n            UIOption.usageStatistics = options.usageStatistics;\n\n            this.ui = new _ui2.default(wrapper, UIOption, this.getActions());\n            options = this.ui.setUiDefaultSelectionStyle(options);\n        }\n\n        /**\n         * Invoker\n         * @type {Invoker}\n         * @private\n         */\n        this._invoker = new _invoker4.default();\n\n        /**\n         * Graphics instance\n         * @type {Graphics}\n         * @private\n         */\n        this._graphics = new _graphics2.default(this.ui ? this.ui.getEditorArea() : wrapper, {\n            cssMaxWidth: options.cssMaxWidth,\n            cssMaxHeight: options.cssMaxHeight,\n            useItext: !!this.ui,\n            useDragAddIcon: !!this.ui\n        });\n\n        /**\n         * Event handler list\n         * @type {Object}\n         * @private\n         */\n        this._handlers = {\n            keydown: this._onKeyDown.bind(this),\n            mousedown: this._onMouseDown.bind(this),\n            objectActivated: this._onObjectActivated.bind(this),\n            objectMoved: this._onObjectMoved.bind(this),\n            objectScaled: this._onObjectScaled.bind(this),\n            objectRotated: this._onObjectRotated.bind(this),\n            createdPath: this._onCreatedPath,\n            addText: this._onAddText.bind(this),\n            addObject: this._onAddObject.bind(this),\n            addObjectAfter: this._onAddObjectAfter.bind(this),\n            textEditing: this._onTextEditing.bind(this),\n            textChanged: this._onTextChanged.bind(this),\n            iconCreateResize: this._onIconCreateResize.bind(this),\n            iconCreateEnd: this._onIconCreateEnd.bind(this),\n            selectionCleared: this._selectionCleared.bind(this),\n            selectionCreated: this._selectionCreated.bind(this)\n        };\n\n        this._attachInvokerEvents();\n        this._attachGraphicsEvents();\n        this._attachDomEvents();\n        this._setSelectionStyle(options.selectionStyle, {\n            applyCropSelectionStyle: options.applyCropSelectionStyle,\n            applyGroupSelectionStyle: options.applyGroupSelectionStyle\n        });\n\n        if (options.usageStatistics) {\n            (0, _util.sendHostName)();\n        }\n\n        if (this.ui) {\n            this.ui.initCanvas();\n            this.setReAction();\n        }\n        fabric.enableGLFiltering = false;\n    }\n\n    /**\n     * Set selection style by init option\n     * @param {Object} selectionStyle - Selection styles\n     * @param {Object} applyTargets - Selection apply targets\n     *   @param {boolean} applyCropSelectionStyle - whether apply with crop selection style or not\n     *   @param {boolean} applyGroupSelectionStyle - whether apply with group selection style or not\n     * @private\n     */\n\n\n    _createClass(ImageEditor, [{\n        key: '_setSelectionStyle',\n        value: function _setSelectionStyle(selectionStyle, _ref) {\n            var applyCropSelectionStyle = _ref.applyCropSelectionStyle,\n                applyGroupSelectionStyle = _ref.applyGroupSelectionStyle;\n\n            if (selectionStyle) {\n                this._graphics.setSelectionStyle(selectionStyle);\n            }\n\n            if (applyCropSelectionStyle) {\n                this._graphics.setCropSelectionStyle(selectionStyle);\n            }\n\n            if (applyGroupSelectionStyle) {\n                this.on('selectionCreated', function (eventTarget) {\n                    if (eventTarget.type === 'activeSelection') {\n                        eventTarget.set(selectionStyle);\n                    }\n                });\n            }\n        }\n\n        /**\n         * Attach invoker events\n         * @private\n         */\n\n    }, {\n        key: '_attachInvokerEvents',\n        value: function _attachInvokerEvents() {\n            var UNDO_STACK_CHANGED = events.UNDO_STACK_CHANGED,\n                REDO_STACK_CHANGED = events.REDO_STACK_CHANGED;\n\n            /**\n             * Undo stack changed event\n             * @event ImageEditor#undoStackChanged\n             * @param {Number} length - undo stack length\n             * @example\n             * imageEditor.on('undoStackChanged', function(length) {\n             *     console.log(length);\n             * });\n             */\n\n            this._invoker.on(UNDO_STACK_CHANGED, this.fire.bind(this, UNDO_STACK_CHANGED));\n            /**\n             * Redo stack changed event\n             * @event ImageEditor#redoStackChanged\n             * @param {Number} length - redo stack length\n             * @example\n             * imageEditor.on('redoStackChanged', function(length) {\n             *     console.log(length);\n             * });\n             */\n            this._invoker.on(REDO_STACK_CHANGED, this.fire.bind(this, REDO_STACK_CHANGED));\n        }\n\n        /**\n         * Attach canvas events\n         * @private\n         */\n\n    }, {\n        key: '_attachGraphicsEvents',\n        value: function _attachGraphicsEvents() {\n            var _graphics$on;\n\n            this._graphics.on((_graphics$on = {}, _defineProperty(_graphics$on, MOUSE_DOWN, this._handlers.mousedown), _defineProperty(_graphics$on, OBJECT_MOVED, this._handlers.objectMoved), _defineProperty(_graphics$on, OBJECT_SCALED, this._handlers.objectScaled), _defineProperty(_graphics$on, OBJECT_ROTATED, this._handlers.objectRotated), _defineProperty(_graphics$on, OBJECT_ACTIVATED, this._handlers.objectActivated), _defineProperty(_graphics$on, ADD_TEXT, this._handlers.addText), _defineProperty(_graphics$on, ADD_OBJECT, this._handlers.addObject), _defineProperty(_graphics$on, TEXT_EDITING, this._handlers.textEditing), _defineProperty(_graphics$on, TEXT_CHANGED, this._handlers.textChanged), _defineProperty(_graphics$on, ICON_CREATE_RESIZE, this._handlers.iconCreateResize), _defineProperty(_graphics$on, ICON_CREATE_END, this._handlers.iconCreateEnd), _defineProperty(_graphics$on, SELECTION_CLEARED, this._handlers.selectionCleared), _defineProperty(_graphics$on, SELECTION_CREATED, this._handlers.selectionCreated), _defineProperty(_graphics$on, ADD_OBJECT_AFTER, this._handlers.addObjectAfter), _graphics$on));\n        }\n\n        /**\n         * Attach dom events\n         * @private\n         */\n\n    }, {\n        key: '_attachDomEvents',\n        value: function _attachDomEvents() {\n            // ImageEditor supports IE 9 higher\n            document.addEventListener('keydown', this._handlers.keydown);\n        }\n\n        /**\n         * Detach dom events\n         * @private\n         */\n\n    }, {\n        key: '_detachDomEvents',\n        value: function _detachDomEvents() {\n            // ImageEditor supports IE 9 higher\n            document.removeEventListener('keydown', this._handlers.keydown);\n        }\n\n        /**\n         * Keydown event handler\n         * @param {KeyboardEvent} e - Event object\n         * @private\n         */\n        /* eslint-disable complexity */\n\n    }, {\n        key: '_onKeyDown',\n        value: function _onKeyDown(e) {\n            var ctrlKey = e.ctrlKey,\n                keyCode = e.keyCode,\n                metaKey = e.metaKey;\n\n            var isModifierKey = ctrlKey || metaKey;\n\n            if (isModifierKey) {\n                if (keyCode === keyCodes.C) {\n                    this._graphics.resetTargetObjectForCopyPaste();\n                } else if (keyCode === keyCodes.V) {\n                    this._graphics.pasteObject();\n                    this.clearRedoStack();\n                } else if (keyCode === keyCodes.Z) {\n                    // There is no error message on shortcut when it's empty\n                    this.undo()['catch'](function () {});\n                } else if (keyCode === keyCodes.Y) {\n                    // There is no error message on shortcut when it's empty\n                    this.redo()['catch'](function () {});\n                }\n            }\n\n            var isDeleteKey = keyCode === keyCodes.BACKSPACE || keyCode === keyCodes.DEL;\n            var isRemoveReady = this._graphics.isReadyRemoveObject();\n\n            if (isRemoveReady && isDeleteKey) {\n                e.preventDefault();\n                this.removeActiveObject();\n            }\n        }\n\n        /**\n         * Remove Active Object\n         */\n\n    }, {\n        key: 'removeActiveObject',\n        value: function removeActiveObject() {\n            var activeObjectId = this._graphics.getActiveObjectIdForRemove();\n\n            this.removeObject(activeObjectId);\n        }\n\n        /**\n         * mouse down event handler\n         * @param {Event} event mouse down event\n         * @param {Object} originPointer origin pointer\n         *  @param {Number} originPointer.x x position\n         *  @param {Number} originPointer.y y position\n         * @private\n         */\n\n    }, {\n        key: '_onMouseDown',\n        value: function _onMouseDown(event, originPointer) {\n            /**\n             * The mouse down event with position x, y on canvas\n             * @event ImageEditor#mousedown\n             * @param {Object} event - browser mouse event object\n             * @param {Object} originPointer origin pointer\n             *  @param {Number} originPointer.x x position\n             *  @param {Number} originPointer.y y position\n             * @example\n             * imageEditor.on('mousedown', function(event, originPointer) {\n             *     console.log(event);\n             *     console.log(originPointer);\n             *     if (imageEditor.hasFilter('colorFilter')) {\n             *         imageEditor.applyFilter('colorFilter', {\n             *             x: parseInt(originPointer.x, 10),\n             *             y: parseInt(originPointer.y, 10)\n             *         });\n             *     }\n             * });\n             */\n            this.fire(events.MOUSE_DOWN, event, originPointer);\n        }\n\n        /**\n         * Add a 'addObject' command\n         * @param {Object} obj - Fabric object\n         * @private\n         */\n\n    }, {\n        key: '_pushAddObjectCommand',\n        value: function _pushAddObjectCommand(obj) {\n            var command = _command2.default.create(commands.ADD_OBJECT, this._graphics, obj);\n            this._invoker.pushUndoStack(command);\n        }\n\n        /**\n         * 'objectActivated' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectActivated',\n        value: function _onObjectActivated(props) {\n            /**\n             * The event when object is selected(aka activated).\n             * @event ImageEditor#objectActivated\n             * @param {ObjectProps} objectProps - object properties\n             * @example\n             * imageEditor.on('objectActivated', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             *     console.log(props.id);\n             * });\n             */\n            this.fire(events.OBJECT_ACTIVATED, props);\n        }\n\n        /**\n         * 'objectMoved' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectMoved',\n        value: function _onObjectMoved(props) {\n            /**\n             * The event when object is moved\n             * @event ImageEditor#objectMoved\n             * @param {ObjectProps} props - object properties\n             * @example\n             * imageEditor.on('objectMoved', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             * });\n             */\n            this.fire(events.OBJECT_MOVED, props);\n        }\n\n        /**\n         * 'objectScaled' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectScaled',\n        value: function _onObjectScaled(props) {\n            /**\n             * The event when scale factor is changed\n             * @event ImageEditor#objectScaled\n             * @param {ObjectProps} props - object properties\n             * @example\n             * imageEditor.on('objectScaled', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             * });\n             */\n            this.fire(events.OBJECT_SCALED, props);\n        }\n\n        /**\n         * 'objectRotated' event handler\n         * @param {ObjectProps} props - object properties\n         * @private\n         */\n\n    }, {\n        key: '_onObjectRotated',\n        value: function _onObjectRotated(props) {\n            /**\n             * The event when object angle is changed\n             * @event ImageEditor#objectRotated\n             * @param {ObjectProps} props - object properties\n             * @example\n             * imageEditor.on('objectRotated', function(props) {\n             *     console.log(props);\n             *     console.log(props.type);\n             * });\n             */\n            this.fire(events.OBJECT_ROTATED, props);\n        }\n\n        /**\n         * Get current drawing mode\n         * @returns {string}\n         * @example\n         * // Image editor drawing mode\n         * //\n         * //    NORMAL: 'NORMAL'\n         * //    CROPPER: 'CROPPER'\n         * //    FREE_DRAWING: 'FREE_DRAWING'\n         * //    LINE_DRAWING: 'LINE_DRAWING'\n         * //    TEXT: 'TEXT'\n         * //\n         * if (imageEditor.getDrawingMode() === 'FREE_DRAWING') {\n         *     imageEditor.stopDrawingMode();\n         * }\n         */\n\n    }, {\n        key: 'getDrawingMode',\n        value: function getDrawingMode() {\n            return this._graphics.getDrawingMode();\n        }\n\n        /**\n         * Clear all objects\n         * @returns {Promise}\n         * @example\n         * imageEditor.clearObjects();\n         */\n\n    }, {\n        key: 'clearObjects',\n        value: function clearObjects() {\n            return this.execute(commands.CLEAR_OBJECTS);\n        }\n\n        /**\n         * Deactivate all objects\n         * @example\n         * imageEditor.deactivateAll();\n         */\n\n    }, {\n        key: 'deactivateAll',\n        value: function deactivateAll() {\n            this._graphics.deactivateAll();\n            this._graphics.renderAll();\n        }\n\n        /**\n         * discard selction\n         * @example\n         * imageEditor.discardSelection();\n         */\n\n    }, {\n        key: 'discardSelection',\n        value: function discardSelection() {\n            this._graphics.discardSelection();\n        }\n\n        /**\n         * selectable status change\n         * @param {boolean} selectable - selctable status\n         * @example\n         * imageEditor.changeSelectableAll(false); // or true\n         */\n\n    }, {\n        key: 'changeSelectableAll',\n        value: function changeSelectableAll(selectable) {\n            this._graphics.changeSelectableAll(selectable);\n        }\n\n        /**\n         * Invoke command\n         * @param {String} commandName - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: 'execute',\n        value: function execute(commandName) {\n            var _invoker;\n\n            for (var _len = arguments.length, args = Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n                args[_key - 1] = arguments[_key];\n            }\n\n            // Inject an Graphics instance as first parameter\n            var theArgs = [this._graphics].concat(args);\n\n            return (_invoker = this._invoker).execute.apply(_invoker, [commandName].concat(theArgs));\n        }\n\n        /**\n         * Invoke command\n         * @param {String} commandName - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: 'executeSilent',\n        value: function executeSilent(commandName) {\n            var _invoker2;\n\n            for (var _len2 = arguments.length, args = Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n                args[_key2 - 1] = arguments[_key2];\n            }\n\n            // Inject an Graphics instance as first parameter\n            var theArgs = [this._graphics].concat(args);\n\n            return (_invoker2 = this._invoker).executeSilent.apply(_invoker2, [commandName].concat(theArgs));\n        }\n\n        /**\n         * Undo\n         * @returns {Promise}\n         * @example\n         * imageEditor.undo();\n         */\n\n    }, {\n        key: 'undo',\n        value: function undo() {\n            return this._invoker.undo();\n        }\n\n        /**\n         * Redo\n         * @returns {Promise}\n         * @example\n         * imageEditor.redo();\n         */\n\n    }, {\n        key: 'redo',\n        value: function redo() {\n            return this._invoker.redo();\n        }\n\n        /**\n         * Load image from file\n         * @param {File} imgFile - Image file\n         * @param {string} [imageName] - imageName\n         * @returns {Promise<SizeChange, ErrorMsg>}\n         * @example\n         * imageEditor.loadImageFromFile(file).then(result => {\n         *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n         *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n         * });\n         */\n\n    }, {\n        key: 'loadImageFromFile',\n        value: function loadImageFromFile(imgFile, imageName) {\n            if (!imgFile) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            var imgUrl = URL.createObjectURL(imgFile);\n            imageName = imageName || imgFile.name;\n\n            return this.loadImageFromURL(imgUrl, imageName).then(function (value) {\n                URL.revokeObjectURL(imgFile);\n\n                return value;\n            });\n        }\n\n        /**\n         * Load image from url\n         * @param {string} url - File url\n         * @param {string} imageName - imageName\n         * @returns {Promise<SizeChange, ErrorMsg>}\n         * @example\n         * imageEditor.loadImageFromURL('http://url/testImage.png', 'lena').then(result => {\n         *      console.log('old : ' + result.oldWidth + ', ' + result.oldHeight);\n         *      console.log('new : ' + result.newWidth + ', ' + result.newHeight);\n         * });\n         */\n\n    }, {\n        key: 'loadImageFromURL',\n        value: function loadImageFromURL(url, imageName) {\n            if (!imageName || !url) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.execute(commands.LOAD_IMAGE, imageName, url);\n        }\n\n        /**\n         * Add image object on canvas\n         * @param {string} imgUrl - Image url to make object\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.addImageObject('path/fileName.jpg').then(objectProps => {\n         *     console.log(ojectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addImageObject',\n        value: function addImageObject(imgUrl) {\n            if (!imgUrl) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.execute(commands.ADD_IMAGE_OBJECT, imgUrl);\n        }\n\n        /**\n         * Start a drawing mode. If the current mode is not 'NORMAL', 'stopDrawingMode()' will be called first.\n         * @param {String} mode Can be one of <I>'CROPPER', 'FREE_DRAWING', 'LINE_DRAWING', 'TEXT', 'SHAPE'</I>\n         * @param {Object} [option] parameters of drawing mode, it's available with 'FREE_DRAWING', 'LINE_DRAWING'\n         *  @param {Number} [option.width] brush width\n         *  @param {String} [option.color] brush color\n         * @returns {boolean} true if success or false\n         * @example\n         * imageEditor.startDrawingMode('FREE_DRAWING', {\n         *      width: 10,\n         *      color: 'rgba(255,0,0,0.5)'\n         * });\n         */\n\n    }, {\n        key: 'startDrawingMode',\n        value: function startDrawingMode(mode, option) {\n            return this._graphics.startDrawingMode(mode, option);\n        }\n\n        /**\n         * Stop the current drawing mode and back to the 'NORMAL' mode\n         * @example\n         * imageEditor.stopDrawingMode();\n         */\n\n    }, {\n        key: 'stopDrawingMode',\n        value: function stopDrawingMode() {\n            this._graphics.stopDrawingMode();\n        }\n\n        /**\n         * Crop this image with rect\n         * @param {Object} rect crop rect\n         *  @param {Number} rect.left left position\n         *  @param {Number} rect.top top position\n         *  @param {Number} rect.width width\n         *  @param {Number} rect.height height\n         * @returns {Promise}\n         * @example\n         * imageEditor.crop(imageEditor.getCropzoneRect());\n         */\n\n    }, {\n        key: 'crop',\n        value: function crop(rect) {\n            var data = this._graphics.getCroppedImageData(rect);\n            if (!data) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.loadImageFromURL(data.url, data.imageName);\n        }\n\n        /**\n         * Get the cropping rect\n         * @returns {Object}  {{left: number, top: number, width: number, height: number}} rect\n         */\n\n    }, {\n        key: 'getCropzoneRect',\n        value: function getCropzoneRect() {\n            return this._graphics.getCropzoneRect();\n        }\n\n        /**\n         * Set the cropping rect\n         * @param {number} [mode] crop rect mode [1, 1.5, 1.3333333333333333, 1.25, 1.7777777777777777]\n         */\n\n    }, {\n        key: 'setCropzoneRect',\n        value: function setCropzoneRect(mode) {\n            this._graphics.setCropzoneRect(mode);\n        }\n\n        /**\n         * Flip\n         * @returns {Promise}\n         * @param {string} type - 'flipX' or 'flipY' or 'reset'\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @private\n         */\n\n    }, {\n        key: '_flip',\n        value: function _flip(type) {\n            return this.execute(commands.FLIP_IMAGE, type);\n        }\n\n        /**\n         * Flip x\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @example\n         * imageEditor.flipX().then((status => {\n         *     console.log('flipX: ', status.flipX);\n         *     console.log('flipY: ', status.flipY);\n         *     console.log('angle: ', status.angle);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'flipX',\n        value: function flipX() {\n            return this._flip('flipX');\n        }\n\n        /**\n         * Flip y\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @example\n         * imageEditor.flipY().then(status => {\n         *     console.log('flipX: ', status.flipX);\n         *     console.log('flipY: ', status.flipY);\n         *     console.log('angle: ', status.angle);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'flipY',\n        value: function flipY() {\n            return this._flip('flipY');\n        }\n\n        /**\n         * Reset flip\n         * @returns {Promise<FlipStatus, ErrorMsg>}\n         * @example\n         * imageEditor.resetFlip().then(status => {\n         *     console.log('flipX: ', status.flipX);\n         *     console.log('flipY: ', status.flipY);\n         *     console.log('angle: ', status.angle);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });;\n         */\n\n    }, {\n        key: 'resetFlip',\n        value: function resetFlip() {\n            return this._flip('reset');\n        }\n\n        /**\n         * @param {string} type - 'rotate' or 'setAngle'\n         * @param {number} angle - angle value (degree)\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<RotateStatus, ErrorMsg>}\n         * @private\n         */\n\n    }, {\n        key: '_rotate',\n        value: function _rotate(type, angle, isSilent) {\n            var result = null;\n            if (isSilent) {\n                result = this.executeSilent(commands.ROTATE_IMAGE, type, angle);\n            } else {\n                result = this.execute(commands.ROTATE_IMAGE, type, angle);\n            }\n\n            return result;\n        }\n\n        /**\n         * Rotate image\n         * @returns {Promise}\n         * @param {number} angle - Additional angle to rotate image\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<RotateStatus, ErrorMsg>}\n         * @example\n         * imageEditor.rotate(10); // angle = 10\n         * imageEditor.rotate(10); // angle = 20\n         * imageEidtor.rotate(5); // angle = 5\n         * imageEidtor.rotate(-95); // angle = -90\n         * imageEditor.rotate(10).then(status => {\n         *     console.log('angle: ', status.angle);\n         * })).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'rotate',\n        value: function rotate(angle, isSilent) {\n            return this._rotate('rotate', angle, isSilent);\n        }\n\n        /**\n         * Set angle\n         * @param {number} angle - Angle of image\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<RotateStatus, ErrorMsg>}\n         * @example\n         * imageEditor.setAngle(10); // angle = 10\n         * imageEditor.rotate(10); // angle = 20\n         * imageEidtor.setAngle(5); // angle = 5\n         * imageEidtor.rotate(50); // angle = 55\n         * imageEidtor.setAngle(-40); // angle = -40\n         * imageEditor.setAngle(10).then(status => {\n         *     console.log('angle: ', status.angle);\n         * })).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'setAngle',\n        value: function setAngle(angle, isSilent) {\n            return this._rotate('setAngle', angle, isSilent);\n        }\n\n        /**\n         * Set drawing brush\n         * @param {Object} option brush option\n         *  @param {Number} option.width width\n         *  @param {String} option.color color like 'FFFFFF', 'rgba(0, 0, 0, 0.5)'\n         * @example\n         * imageEditor.startDrawingMode('FREE_DRAWING');\n         * imageEditor.setBrush({\n         *     width: 12,\n         *     color: 'rgba(0, 0, 0, 0.5)'\n         * });\n         * imageEditor.setBrush({\n         *     width: 8,\n         *     color: 'FFFFFF'\n         * });\n         */\n\n    }, {\n        key: 'setBrush',\n        value: function setBrush(option) {\n            this._graphics.setBrush(option);\n        }\n\n        /**\n         * Set states of current drawing shape\n         * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n         * @param {Object} [options] - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stoke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         * @example\n         * imageEditor.setDrawingShape('rect', {\n         *     fill: 'red',\n         *     width: 100,\n         *     height: 200\n         * });\n         * @example\n         * imageEditor.setDrawingShape('circle', {\n         *     fill: 'transparent',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     rx: 10,\n         *     ry: 100\n         * });\n         * @example\n         * imageEditor.setDrawingShape('triangle', { // When resizing, the shape keep the 1:1 ratio\n         *     width: 1,\n         *     height: 1,\n         *     isRegular: true\n         * });\n         * @example\n         * imageEditor.setDrawingShape('circle', { // When resizing, the shape keep the 1:1 ratio\n         *     rx: 10,\n         *     ry: 10,\n         *     isRegular: true\n         * });\n         */\n\n    }, {\n        key: 'setDrawingShape',\n        value: function setDrawingShape(type, options) {\n            this._graphics.setDrawingShape(type, options);\n        }\n\n        /**\n         * Add shape\n         * @param {string} type - Shape type (ex: 'rect', 'circle', 'triangle')\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {number} [options.left] - Shape x position\n         *      @param {number} [options.top] - Shape y position\n         *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.addShape('rect', {\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     width: 100,\n         *     height: 200,\n         *     left: 10,\n         *     top: 10,\n         *     isRegular: true\n         * });\n         * @example\n         * imageEditor.addShape('circle', {\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     rx: 10,\n         *     ry: 100,\n         *     isRegular: false\n         * }).then(objectProps => {\n         *     console.log(objectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addShape',\n        value: function addShape(type, options) {\n            options = options || {};\n\n            this._setPositions(options);\n\n            return this.execute(commands.ADD_SHAPE, type, options);\n        }\n\n        /**\n         * Change shape\n         * @param {number} id - object id\n         * @param {Object} options - Shape options\n         *      @param {string} [options.fill] - Shape foreground color (ex: '#fff', 'transparent')\n         *      @param {string} [options.stroke] - Shape outline color\n         *      @param {number} [options.strokeWidth] - Shape outline width\n         *      @param {number} [options.width] - Width value (When type option is 'rect', this options can use)\n         *      @param {number} [options.height] - Height value (When type option is 'rect', this options can use)\n         *      @param {number} [options.rx] - Radius x value (When type option is 'circle', this options can use)\n         *      @param {number} [options.ry] - Radius y value (When type option is 'circle', this options can use)\n         *      @param {boolean} [options.isRegular] - Whether resizing shape has 1:1 ratio or not\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise}\n         * @example\n         * // call after selecting shape object on canvas\n         * imageEditor.changeShape(id, { // change rectagle or triangle\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     width: 100,\n         *     height: 200\n         * });\n         * @example\n         * // call after selecting shape object on canvas\n         * imageEditor.changeShape(id, { // change circle\n         *     fill: 'red',\n         *     stroke: 'blue',\n         *     strokeWidth: 3,\n         *     rx: 10,\n         *     ry: 100\n         * });\n         */\n\n    }, {\n        key: 'changeShape',\n        value: function changeShape(id, options, isSilent) {\n            var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n            return this[executeMethodName](commands.CHANGE_SHAPE, id, options);\n        }\n\n        /**\n         * Add text on image\n         * @param {string} text - Initial input text\n         * @param {Object} [options] Options for generating text\n         *     @param {Object} [options.styles] Initial styles\n         *         @param {string} [options.styles.fill] Color\n         *         @param {string} [options.styles.fontFamily] Font type for text\n         *         @param {number} [options.styles.fontSize] Size\n         *         @param {string} [options.styles.fontStyle] Type of inclination (normal / italic)\n         *         @param {string} [options.styles.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *         @param {string} [options.styles.textAlign] Type of text align (left / center / right)\n         *         @param {string} [options.styles.textDecoration] Type of line (underline / line-through / overline)\n         *     @param {{x: number, y: number}} [options.position] - Initial position\n         * @returns {Promise}\n         * @example\n         * imageEditor.addText('init text');\n         * @example\n         * imageEditor.addText('init text', {\n         *     styles: {\n         *         fill: '#000',\n         *         fontSize: 20,\n         *         fontWeight: 'bold'\n         *     },\n         *     position: {\n         *         x: 10,\n         *         y: 10\n         *     }\n         * }).then(objectProps => {\n         *     console.log(objectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addText',\n        value: function addText(text, options) {\n            text = text || '';\n            options = options || {};\n\n            return this.execute(commands.ADD_TEXT, text, options);\n        }\n\n        /**\n         * Change contents of selected text object on image\n         * @param {number} id - object id\n         * @param {string} text - Changing text\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.changeText(id, 'change text');\n         */\n\n    }, {\n        key: 'changeText',\n        value: function changeText(id, text) {\n            text = text || '';\n\n            return this.execute(commands.CHANGE_TEXT, id, text);\n        }\n\n        /**\n         * Set style\n         * @param {number} id - object id\n         * @param {Object} styleObj - text styles\n         *     @param {string} [styleObj.fill] Color\n         *     @param {string} [styleObj.fontFamily] Font type for text\n         *     @param {number} [styleObj.fontSize] Size\n         *     @param {string} [styleObj.fontStyle] Type of inclination (normal / italic)\n         *     @param {string} [styleObj.fontWeight] Type of thicker or thinner looking (normal / bold)\n         *     @param {string} [styleObj.textAlign] Type of text align (left / center / right)\n         *     @param {string} [styleObj.textDecoration] Type of line (underline / line-through / overline)\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise}\n         * @example\n         * imageEditor.changeTextStyle(id, {\n         *     fontStyle: 'italic'\n         * });\n         */\n\n    }, {\n        key: 'changeTextStyle',\n        value: function changeTextStyle(id, styleObj, isSilent) {\n            var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n            return this[executeMethodName](commands.CHANGE_TEXT_STYLE, id, styleObj);\n        }\n\n        /**\n         * change text mode\n         * @param {string} type - change type\n         * @private\n         */\n\n    }, {\n        key: '_changeActivateMode',\n        value: function _changeActivateMode(type) {\n            if (type !== 'ICON' && this.getDrawingMode() !== type) {\n                this.startDrawingMode(type);\n            }\n        }\n\n        /**\n         * 'textChanged' event handler\n         * @param {Object} objectProps changed object properties\n         * @private\n         */\n\n    }, {\n        key: '_onTextChanged',\n        value: function _onTextChanged(objectProps) {\n            this.changeText(objectProps.id, objectProps.text);\n        }\n\n        /**\n         * 'iconCreateResize' event handler\n         * @param {Object} originPointer origin pointer\n         *  @param {Number} originPointer.x x position\n         *  @param {Number} originPointer.y y position\n         * @private\n         */\n\n    }, {\n        key: '_onIconCreateResize',\n        value: function _onIconCreateResize(originPointer) {\n            this.fire(events.ICON_CREATE_RESIZE, originPointer);\n        }\n\n        /**\n         * 'iconCreateEnd' event handler\n         * @param {Object} originPointer origin pointer\n         *  @param {Number} originPointer.x x position\n         *  @param {Number} originPointer.y y position\n         * @private\n         */\n\n    }, {\n        key: '_onIconCreateEnd',\n        value: function _onIconCreateEnd(originPointer) {\n            this.fire(events.ICON_CREATE_END, originPointer);\n        }\n\n        /**\n         * 'textEditing' event handler\n         * @private\n         */\n\n    }, {\n        key: '_onTextEditing',\n        value: function _onTextEditing() {\n            /**\n             * The event which starts to edit text object\n             * @event ImageEditor#textEditing\n             * @example\n             * imageEditor.on('textEditing', function() {\n             *     console.log('text editing');\n             * });\n             */\n            this.fire(events.TEXT_EDITING);\n        }\n\n        /**\n         * Mousedown event handler in case of 'TEXT' drawing mode\n         * @param {fabric.Event} event - Current mousedown event object\n         * @private\n         */\n\n    }, {\n        key: '_onAddText',\n        value: function _onAddText(event) {\n            /**\n             * The event when 'TEXT' drawing mode is enabled and click non-object area.\n             * @event ImageEditor#addText\n             * @param {Object} pos\n             *  @param {Object} pos.originPosition - Current position on origin canvas\n             *      @param {Number} pos.originPosition.x - x\n             *      @param {Number} pos.originPosition.y - y\n             *  @param {Object} pos.clientPosition - Current position on client area\n             *      @param {Number} pos.clientPosition.x - x\n             *      @param {Number} pos.clientPosition.y - y\n             * @example\n             * imageEditor.on('addText', function(pos) {\n             *     console.log('text position on canvas: ' + pos.originPosition);\n             *     console.log('text position on brwoser: ' + pos.clientPosition);\n             * });\n             */\n            this.fire(events.ADD_TEXT, {\n                originPosition: event.originPosition,\n                clientPosition: event.clientPosition\n            });\n        }\n\n        /**\n         * 'addObject' event handler\n         * @param {Object} objectProps added object properties\n         * @private\n         */\n\n    }, {\n        key: '_onAddObject',\n        value: function _onAddObject(objectProps) {\n            var obj = this._graphics.getObject(objectProps.id);\n            this._pushAddObjectCommand(obj);\n        }\n\n        /**\n         * 'addObjectAfter' event handler\n         * @param {Object} objectProps added object properties\n         * @private\n         */\n\n    }, {\n        key: '_onAddObjectAfter',\n        value: function _onAddObjectAfter(objectProps) {\n            this.fire(events.ADD_OBJECT_AFTER, objectProps);\n        }\n\n        /**\n         * 'selectionCleared' event handler\n         * @private\n         */\n\n    }, {\n        key: '_selectionCleared',\n        value: function _selectionCleared() {\n            this.fire(events.SELECTION_CLEARED);\n        }\n\n        /**\n         * 'selectionCreated' event handler\n         * @param {Object} eventTarget - Fabric object\n         * @private\n         */\n\n    }, {\n        key: '_selectionCreated',\n        value: function _selectionCreated(eventTarget) {\n            this.fire(events.SELECTION_CREATED, eventTarget);\n        }\n\n        /**\n         * Register custom icons\n         * @param {{iconType: string, pathValue: string}} infos - Infos to register icons\n         * @example\n         * imageEditor.registerIcons({\n         *     customIcon: 'M 0 0 L 20 20 L 10 10 Z',\n         *     customArrow: 'M 60 0 L 120 60 H 90 L 75 45 V 180 H 45 V 45 L 30 60 H 0 Z'\n         * });\n         */\n\n    }, {\n        key: 'registerIcons',\n        value: function registerIcons(infos) {\n            this._graphics.registerPaths(infos);\n        }\n\n        /**\n         * Change canvas cursor type\n         * @param {string} cursorType - cursor type\n         * @example\n         * imageEditor.changeCursor('crosshair');\n         */\n\n    }, {\n        key: 'changeCursor',\n        value: function changeCursor(cursorType) {\n            this._graphics.changeCursor(cursorType);\n        }\n\n        /**\n         * Add icon on canvas\n         * @param {string} type - Icon type ('arrow', 'cancel', custom icon name)\n         * @param {Object} options - Icon options\n         *      @param {string} [options.fill] - Icon foreground color\n         *      @param {number} [options.left] - Icon x position\n         *      @param {number} [options.top] - Icon y position\n         * @returns {Promise<ObjectProps, ErrorMsg>}\n         * @example\n         * imageEditor.addIcon('arrow'); // The position is center on canvas\n         * @example\n         * imageEditor.addIcon('arrow', {\n         *     left: 100,\n         *     top: 100\n         * }).then(objectProps => {\n         *     console.log(objectProps.id);\n         * });\n         */\n\n    }, {\n        key: 'addIcon',\n        value: function addIcon(type, options) {\n            options = options || {};\n\n            this._setPositions(options);\n\n            return this.execute(commands.ADD_ICON, type, options);\n        }\n\n        /**\n         * Change icon color\n         * @param {number} id - object id\n         * @param {string} color - Color for icon\n         * @returns {Promise}\n         * @example\n         * imageEditor.changeIconColor(id, '#000000');\n         */\n\n    }, {\n        key: 'changeIconColor',\n        value: function changeIconColor(id, color) {\n            return this.execute(commands.CHANGE_ICON_COLOR, id, color);\n        }\n\n        /**\n         * Remove an object or group by id\n         * @param {number} id - object id\n         * @returns {Promise}\n         * @example\n         * imageEditor.removeObject(id);\n         */\n\n    }, {\n        key: 'removeObject',\n        value: function removeObject(id) {\n            return this.execute(commands.REMOVE_OBJECT, id);\n        }\n\n        /**\n         * Whether it has the filter or not\n         * @param {string} type - Filter type\n         * @returns {boolean} true if it has the filter\n         */\n\n    }, {\n        key: 'hasFilter',\n        value: function hasFilter(type) {\n            return this._graphics.hasFilter(type);\n        }\n\n        /**\n         * Remove filter on canvas image\n         * @param {string} type - Filter type\n         * @returns {Promise<FilterResult, ErrorMsg>}\n         * @example\n         * imageEditor.removeFilter('Grayscale').then(obj => {\n         *     console.log('filterType: ', obj.type);\n         *     console.log('actType: ', obj.action);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });\n         */\n\n    }, {\n        key: 'removeFilter',\n        value: function removeFilter(type) {\n            return this.execute(commands.REMOVE_FILTER, type);\n        }\n\n        /**\n         * Apply filter on canvas image\n         * @param {string} type - Filter type\n         * @param {Object} options - Options to apply filter\n         *  @param {number} options.maskObjId - masking image object id\n         * @param {boolean} isSilent - is silent execution or not\n         * @returns {Promise<FilterResult, ErrorMsg>}\n         * @example\n         * imageEditor.applyFilter('Grayscale');\n         * @example\n         * imageEditor.applyFilter('mask', {maskObjId: id}).then(obj => {\n         *     console.log('filterType: ', obj.type);\n         *     console.log('actType: ', obj.action);\n         * }).catch(message => {\n         *     console.log('error: ', message);\n         * });;\n         */\n\n    }, {\n        key: 'applyFilter',\n        value: function applyFilter(type, options, isSilent) {\n            var executeMethodName = isSilent ? 'executeSilent' : 'execute';\n\n            return this[executeMethodName](commands.APPLY_FILTER, type, options);\n        }\n\n        /**\n         * Get data url\n         * @param {Object} options - options for toDataURL\n         *   @param {String} [options.format=png] The format of the output image. Either \"jpeg\" or \"png\"\n         *   @param {Number} [options.quality=1] Quality level (0..1). Only used for jpeg.\n         *   @param {Number} [options.multiplier=1] Multiplier to scale by\n         *   @param {Number} [options.left] Cropping left offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.top] Cropping top offset. Introduced in fabric v1.2.14\n         *   @param {Number} [options.width] Cropping width. Introduced in fabric v1.2.14\n         *   @param {Number} [options.height] Cropping height. Introduced in fabric v1.2.14\n         * @returns {string} A DOMString containing the requested data URI\n         * @example\n         * imgEl.src = imageEditor.toDataURL();\n         *\n         * imageEditor.loadImageFromURL(imageEditor.toDataURL(), 'FilterImage').then(() => {\n         *      imageEditor.addImageObject(imgUrl);\n         * });\n         */\n\n    }, {\n        key: 'toDataURL',\n        value: function toDataURL(options) {\n            return this._graphics.toDataURL(options);\n        }\n\n        /**\n         * Get image name\n         * @returns {string} image name\n         * @example\n         * console.log(imageEditor.getImageName());\n         */\n\n    }, {\n        key: 'getImageName',\n        value: function getImageName() {\n            return this._graphics.getImageName();\n        }\n\n        /**\n         * Clear undoStack\n         * @example\n         * imageEditor.clearUndoStack();\n         */\n\n    }, {\n        key: 'clearUndoStack',\n        value: function clearUndoStack() {\n            this._invoker.clearUndoStack();\n        }\n\n        /**\n         * Clear redoStack\n         * @example\n         * imageEditor.clearRedoStack();\n         */\n\n    }, {\n        key: 'clearRedoStack',\n        value: function clearRedoStack() {\n            this._invoker.clearRedoStack();\n        }\n\n        /**\n         * Whehter the undo stack is empty or not\n         * @returns {boolean}\n         * imageEditor.isEmptyUndoStack();\n         */\n\n    }, {\n        key: 'isEmptyUndoStack',\n        value: function isEmptyUndoStack() {\n            return this._invoker.isEmptyUndoStack();\n        }\n\n        /**\n         * Whehter the redo stack is empty or not\n         * @returns {boolean}\n         * imageEditor.isEmptyRedoStack();\n         */\n\n    }, {\n        key: 'isEmptyRedoStack',\n        value: function isEmptyRedoStack() {\n            return this._invoker.isEmptyRedoStack();\n        }\n\n        /**\n         * Resize canvas dimension\n         * @param {{width: number, height: number}} dimension - Max width & height\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'resizeCanvasDimension',\n        value: function resizeCanvasDimension(dimension) {\n            if (!dimension) {\n                return _promise2.default.reject(rejectMessages.invalidParameters);\n            }\n\n            return this.execute(commands.RESIZE_CANVAS_DIMENSION, dimension);\n        }\n\n        /**\n         * Destroy\n         */\n\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            var _this = this;\n\n            this.stopDrawingMode();\n            this._detachDomEvents();\n            this._graphics.destroy();\n            this._graphics = null;\n\n            if (this.ui) {\n                this.ui.destroy();\n            }\n\n            forEach(this, function (value, key) {\n                _this[key] = null;\n            }, this);\n        }\n\n        /**\n         * Set position\n         * @param {Object} options - Position options (left or top)\n         * @private\n         */\n\n    }, {\n        key: '_setPositions',\n        value: function _setPositions(options) {\n            var centerPosition = this._graphics.getCenter();\n\n            if (isUndefined(options.left)) {\n                options.left = centerPosition.left;\n            }\n\n            if (isUndefined(options.top)) {\n                options.top = centerPosition.top;\n            }\n        }\n\n        /**\n         * Set properties of active object\n         * @param {number} id - object id\n         * @param {Object} keyValue - key & value\n         * @returns {Promise}\n         * @example\n         * imageEditor.setObjectProperties(id, {\n         *     left:100,\n         *     top:100,\n         *     width: 200,\n         *     height: 200,\n         *     opacity: 0.5\n         * });\n         */\n\n    }, {\n        key: 'setObjectProperties',\n        value: function setObjectProperties(id, keyValue) {\n            return this.execute(commands.SET_OBJECT_PROPERTIES, id, keyValue);\n        }\n\n        /**\n         * Set properties of active object, Do not leave an invoke history.\n         * @param {number} id - object id\n         * @param {Object} keyValue - key & value\n         * @example\n         * imageEditor.setObjectPropertiesQuietly(id, {\n         *     left:100,\n         *     top:100,\n         *     width: 200,\n         *     height: 200,\n         *     opacity: 0.5\n         * });\n         */\n\n    }, {\n        key: 'setObjectPropertiesQuietly',\n        value: function setObjectPropertiesQuietly(id, keyValue) {\n            this._graphics.setObjectProperties(id, keyValue);\n        }\n\n        /**\n         * Get properties of active object corresponding key\n         * @param {number} id - object id\n         * @param {Array<string>|ObjectProps|string} keys - property's key\n         * @returns {ObjectProps} properties if id is valid or null\n         * @example\n         * var props = imageEditor.getObjectProperties(id, 'left');\n         * console.log(props);\n         * @example\n         * var props = imageEditor.getObjectProperties(id, ['left', 'top', 'width', 'height']);\n         * console.log(props);\n         * @example\n         * var props = imageEditor.getObjectProperties(id, {\n         *     left: null,\n         *     top: null,\n         *     width: null,\n         *     height: null,\n         *     opacity: null\n         * });\n         * console.log(props);\n         */\n\n    }, {\n        key: 'getObjectProperties',\n        value: function getObjectProperties(id, keys) {\n            var object = this._graphics.getObject(id);\n            if (!object) {\n                return null;\n            }\n\n            return this._graphics.getObjectProperties(id, keys);\n        }\n\n        /**\n         * Get the canvas size\n         * @returns {Object} {{width: number, height: number}} canvas size\n         * @example\n         * var canvasSize = imageEditor.getCanvasSize();\n         * console.log(canvasSize.width);\n         * console.height(canvasSize.height);\n         */\n\n    }, {\n        key: 'getCanvasSize',\n        value: function getCanvasSize() {\n            return this._graphics.getCanvasSize();\n        }\n\n        /**\n         * Get object position by originX, originY\n         * @param {number} id - object id\n         * @param {string} originX - can be 'left', 'center', 'right'\n         * @param {string} originY - can be 'top', 'center', 'bottom'\n         * @returns {Object} {{x:number, y: number}} position by origin if id is valid, or null\n         * @example\n         * var position = imageEditor.getObjectPosition(id, 'left', 'top');\n         * console.log(position);\n         */\n\n    }, {\n        key: 'getObjectPosition',\n        value: function getObjectPosition(id, originX, originY) {\n            return this._graphics.getObjectPosition(id, originX, originY);\n        }\n\n        /**\n         * Set object position  by originX, originY\n         * @param {number} id - object id\n         * @param {Object} posInfo - position object\n         *  @param {number} posInfo.x - x position\n         *  @param {number} posInfo.y - y position\n         *  @param {string} posInfo.originX - can be 'left', 'center', 'right'\n         *  @param {string} posInfo.originY - can be 'top', 'center', 'bottom'\n         * @returns {Promise}\n         * @example\n         * // align the object to 'left', 'top'\n         * imageEditor.setObjectPosition(id, {\n         *     x: 0,\n         *     y: 0,\n         *     originX: 'left',\n         *     originY: 'top'\n         * });\n         * @example\n         * // align the object to 'right', 'top'\n         * var canvasSize = imageEditor.getCanvasSize();\n         * imageEditor.setObjectPosition(id, {\n         *     x: canvasSize.width,\n         *     y: 0,\n         *     originX: 'right',\n         *     originY: 'top'\n         * });\n         * @example\n         * // align the object to 'left', 'bottom'\n         * var canvasSize = imageEditor.getCanvasSize();\n         * imageEditor.setObjectPosition(id, {\n         *     x: 0,\n         *     y: canvasSize.height,\n         *     originX: 'left',\n         *     originY: 'bottom'\n         * });\n         * @example\n         * // align the object to 'right', 'bottom'\n         * var canvasSize = imageEditor.getCanvasSize();\n         * imageEditor.setObjectPosition(id, {\n         *     x: canvasSize.width,\n         *     y: canvasSize.height,\n         *     originX: 'right',\n         *     originY: 'bottom'\n         * });\n         */\n\n    }, {\n        key: 'setObjectPosition',\n        value: function setObjectPosition(id, posInfo) {\n            return this.execute(commands.SET_OBJECT_POSITION, id, posInfo);\n        }\n    }]);\n\n    return ImageEditor;\n}();\n\n_action2.default.mixin(ImageEditor);\nCustomEvents.mixin(ImageEditor);\n\nmodule.exports = ImageEditor;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/imageEditor.js?")},"./src/js/interface/command.js":function srcJsInterfaceCommandJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Command interface\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _errorMessage = __webpack_require__(/*! ../factory/errorMessage */ \"./src/js/factory/errorMessage.js\");\n\nvar _errorMessage2 = _interopRequireDefault(_errorMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar createMessage = _errorMessage2.default.create;\nvar errorTypes = _errorMessage2.default.types;\n\n/**\n * Command class\n * @class\n * @param {{name:function, execute: function, undo: function,\n *          executeCallback: function, undoCallback: function}} actions - Command actions\n * @param {Array} args - passing arguments on execute, undo\n * @ignore\n */\n\nvar Command = function () {\n  function Command(actions, args) {\n    _classCallCheck(this, Command);\n\n    /**\n     * command name\n     * @type {string}\n     */\n    this.name = actions.name;\n\n    /**\n     * arguments\n     * @type {Array}\n     */\n    this.args = args;\n\n    /**\n     * Execute function\n     * @type {function}\n     */\n    this.execute = actions.execute;\n\n    /**\n     * Undo function\n     * @type {function}\n     */\n    this.undo = actions.undo;\n\n    /**\n     * executeCallback\n     * @type {function}\n     */\n    this.executeCallback = actions.executeCallback || null;\n\n    /**\n     * undoCallback\n     * @type {function}\n     */\n    this.undoCallback = actions.undoCallback || null;\n\n    /**\n     * data for undo\n     * @type {Object}\n     */\n    this.undoData = {};\n  }\n\n  /**\n   * Execute action\n   * @param {Object.<string, Component>} compMap - Components injection\n   * @abstract\n   */\n\n\n  _createClass(Command, [{\n    key: 'execute',\n    value: function execute() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'execute'));\n    }\n\n    /**\n     * Undo action\n     * @param {Object.<string, Component>} compMap - Components injection\n     * @abstract\n     */\n\n  }, {\n    key: 'undo',\n    value: function undo() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'undo'));\n    }\n\n    /**\n     * command for redo if undoData exists\n     * @returns {boolean} isRedo\n     */\n\n  }, {\n    key: 'setUndoData',\n\n\n    /**\n     * Set undoData action\n     * @param {Object} undoData - maked undo data\n     * @param {Object} cachedUndoDataForSilent - cached undo data\n     * @param {boolean} isSilent - is silent execution or not\n     * @returns {Object} cachedUndoDataForSilent\n     */\n    value: function setUndoData(undoData, cachedUndoDataForSilent, isSilent) {\n      if (cachedUndoDataForSilent) {\n        undoData = cachedUndoDataForSilent;\n      }\n\n      if (!isSilent) {\n        _tuiCodeSnippet2.default.extend(this.undoData, undoData);\n        cachedUndoDataForSilent = null;\n      } else if (!cachedUndoDataForSilent) {\n        cachedUndoDataForSilent = undoData;\n      }\n\n      return cachedUndoDataForSilent;\n    }\n\n    /**\n     * Attach execute callabck\n     * @param {function} callback - Callback after execution\n     * @returns {Command} this\n     */\n\n  }, {\n    key: 'setExecuteCallback',\n    value: function setExecuteCallback(callback) {\n      this.executeCallback = callback;\n\n      return this;\n    }\n\n    /**\n     * Attach undo callback\n     * @param {function} callback - Callback after undo\n     * @returns {Command} this\n     */\n\n  }, {\n    key: 'setUndoCallback',\n    value: function setUndoCallback(callback) {\n      this.undoCallback = callback;\n\n      return this;\n    }\n  }, {\n    key: 'isRedo',\n    get: function get() {\n      return Object.keys(this.undoData).length;\n    }\n  }]);\n\n  return Command;\n}();\n\nmodule.exports = Command;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/interface/command.js?")},"./src/js/interface/component.js":function srcJsInterfaceComponentJs(module,exports,__webpack_require__){"use strict";eval('\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n * @fileoverview Component interface\n */\n\n/**\n * Component interface\n * @class\n * @param {string} name - component name\n * @param {Graphics} graphics - Graphics instance\n * @ignore\n */\nvar Component = function () {\n  function Component(name, graphics) {\n    _classCallCheck(this, Component);\n\n    /**\n     * Component name\n     * @type {string}\n     */\n    this.name = name;\n\n    /**\n     * Graphics instance\n     * @type {Graphics}\n     */\n    this.graphics = graphics;\n  }\n\n  /**\n   * Fire Graphics event\n   * @returns {Object} return value\n   */\n\n\n  _createClass(Component, [{\n    key: "fire",\n    value: function fire() {\n      var context = this.graphics;\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return this.graphics.fire.apply(context, args);\n    }\n\n    /**\n     * Save image(background) of canvas\n     * @param {string} name - Name of image\n     * @param {fabric.Image} oImage - Fabric image instance\n     */\n\n  }, {\n    key: "setCanvasImage",\n    value: function setCanvasImage(name, oImage) {\n      this.graphics.setCanvasImage(name, oImage);\n    }\n\n    /**\n     * Returns canvas element of fabric.Canvas[[lower-canvas]]\n     * @returns {HTMLCanvasElement}\n     */\n\n  }, {\n    key: "getCanvasElement",\n    value: function getCanvasElement() {\n      return this.graphics.getCanvasElement();\n    }\n\n    /**\n     * Get fabric.Canvas instance\n     * @returns {fabric.Canvas}\n     */\n\n  }, {\n    key: "getCanvas",\n    value: function getCanvas() {\n      return this.graphics.getCanvas();\n    }\n\n    /**\n     * Get canvasImage (fabric.Image instance)\n     * @returns {fabric.Image}\n     */\n\n  }, {\n    key: "getCanvasImage",\n    value: function getCanvasImage() {\n      return this.graphics.getCanvasImage();\n    }\n\n    /**\n     * Get image name\n     * @returns {string}\n     */\n\n  }, {\n    key: "getImageName",\n    value: function getImageName() {\n      return this.graphics.getImageName();\n    }\n\n    /**\n     * Get image editor\n     * @returns {ImageEditor}\n     */\n\n  }, {\n    key: "getEditor",\n    value: function getEditor() {\n      return this.graphics.getEditor();\n    }\n\n    /**\n     * Return component name\n     * @returns {string}\n     */\n\n  }, {\n    key: "getName",\n    value: function getName() {\n      return this.name;\n    }\n\n    /**\n     * Set image properties\n     * @param {Object} setting - Image properties\n     * @param {boolean} [withRendering] - If true, The changed image will be reflected in the canvas\n     */\n\n  }, {\n    key: "setImageProperties",\n    value: function setImageProperties(setting, withRendering) {\n      this.graphics.setImageProperties(setting, withRendering);\n    }\n\n    /**\n     * Set canvas dimension - css only\n     * @param {Object} dimension - Canvas css dimension\n     */\n\n  }, {\n    key: "setCanvasCssDimension",\n    value: function setCanvasCssDimension(dimension) {\n      this.graphics.setCanvasCssDimension(dimension);\n    }\n\n    /**\n     * Set canvas dimension - css only\n     * @param {Object} dimension - Canvas backstore dimension\n     */\n\n  }, {\n    key: "setCanvasBackstoreDimension",\n    value: function setCanvasBackstoreDimension(dimension) {\n      this.graphics.setCanvasBackstoreDimension(dimension);\n    }\n\n    /**\n     * Adjust canvas dimension with scaling image\n     */\n\n  }, {\n    key: "adjustCanvasDimension",\n    value: function adjustCanvasDimension() {\n      this.graphics.adjustCanvasDimension();\n    }\n  }]);\n\n  return Component;\n}();\n\nmodule.exports = Component;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/interface/component.js?')},"./src/js/interface/drawingMode.js":function srcJsInterfaceDrawingModeJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview DrawingMode interface\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _errorMessage = __webpack_require__(/*! ../factory/errorMessage */ \"./src/js/factory/errorMessage.js\");\n\nvar _errorMessage2 = _interopRequireDefault(_errorMessage);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar createMessage = _errorMessage2.default.create;\nvar errorTypes = _errorMessage2.default.types;\n\n/**\n * DrawingMode interface\n * @class\n * @param {string} name - drawing mode name\n * @ignore\n */\n\nvar DrawingMode = function () {\n  function DrawingMode(name) {\n    _classCallCheck(this, DrawingMode);\n\n    /**\n     * the name of drawing mode\n     * @type {string}\n     */\n    this.name = name;\n  }\n\n  /**\n   * Get this drawing mode name;\n   * @returns {string} drawing mode name\n   */\n\n\n  _createClass(DrawingMode, [{\n    key: 'getName',\n    value: function getName() {\n      return this.name;\n    }\n\n    /**\n    * start this drawing mode\n    * @param {Object} options - drawing mode options\n    * @abstract\n    */\n\n  }, {\n    key: 'start',\n    value: function start() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'start'));\n    }\n\n    /**\n     * stop this drawing mode\n     * @abstract\n     */\n\n  }, {\n    key: 'stop',\n    value: function stop() {\n      throw new Error(createMessage(errorTypes.UN_IMPLEMENTATION, 'stop'));\n    }\n  }]);\n\n  return DrawingMode;\n}();\n\nmodule.exports = DrawingMode;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/interface/drawingMode.js?")},"./src/js/invoker.js":function srcJsInvokerJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); /**\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      * @fileoverview Invoker - invoke commands\n                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      */\n\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _promise = __webpack_require__(/*! core-js/library/es6/promise */ \"./node_modules/core-js/library/es6/promise.js\");\n\nvar _promise2 = _interopRequireDefault(_promise);\n\nvar _command = __webpack_require__(/*! ./factory/command */ \"./src/js/factory/command.js\");\n\nvar _command2 = _interopRequireDefault(_command);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _consts2 = _interopRequireDefault(_consts);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar eventNames = _consts2.default.eventNames,\n    rejectMessages = _consts2.default.rejectMessages;\nvar isFunction = _tuiCodeSnippet2.default.isFunction,\n    isString = _tuiCodeSnippet2.default.isString,\n    CustomEvents = _tuiCodeSnippet2.default.CustomEvents;\n\n/**\n * Invoker\n * @class\n * @ignore\n */\n\nvar Invoker = function () {\n    function Invoker() {\n        _classCallCheck(this, Invoker);\n\n        /**\n         * Undo stack\n         * @type {Array.<Command>}\n         * @private\n         */\n        this._undoStack = [];\n\n        /**\n         * Redo stack\n         * @type {Array.<Command>}\n         * @private\n         */\n        this._redoStack = [];\n\n        /**\n         * Lock-flag for executing command\n         * @type {boolean}\n         * @private\n         */\n        this._isLocked = false;\n\n        this._isSilent = false;\n    }\n\n    /**\n     * Invoke command execution\n     * @param {Command} command - Command\n     * @returns {Promise}\n     * @private\n     */\n\n\n    _createClass(Invoker, [{\n        key: '_invokeExecution',\n        value: function _invokeExecution(command) {\n            var _this = this;\n\n            this.lock();\n\n            var args = command.args;\n\n            if (!args) {\n                args = [];\n            }\n\n            return command.execute.apply(command, args).then(function (value) {\n                if (!_this._isSilent) {\n                    _this.pushUndoStack(command);\n                }\n                _this.unlock();\n                if (isFunction(command.executeCallback)) {\n                    command.executeCallback(value);\n                }\n\n                return value;\n            })['catch'](function (message) {\n                _this.unlock();\n\n                return _promise2.default.reject(message);\n            });\n        }\n\n        /**\n         * Invoke command undo\n         * @param {Command} command - Command\n         * @returns {Promise}\n         * @private\n         */\n\n    }, {\n        key: '_invokeUndo',\n        value: function _invokeUndo(command) {\n            var _this2 = this;\n\n            this.lock();\n\n            var args = command.args;\n\n            if (!args) {\n                args = [];\n            }\n\n            return command.undo.apply(command, args).then(function (value) {\n                _this2.pushRedoStack(command);\n                _this2.unlock();\n                if (isFunction(command.undoCallback)) {\n                    command.undoCallback(value);\n                }\n\n                return value;\n            })['catch'](function (message) {\n                _this2.unlock();\n\n                return _promise2.default.reject(message);\n            });\n        }\n\n        /**\n         * fire REDO_STACK_CHANGED event\n         * @private\n         */\n\n    }, {\n        key: '_fireRedoStackChanged',\n        value: function _fireRedoStackChanged() {\n            this.fire(eventNames.REDO_STACK_CHANGED, this._redoStack.length);\n        }\n\n        /**\n         * fire UNDO_STACK_CHANGED event\n         * @private\n         */\n\n    }, {\n        key: '_fireUndoStackChanged',\n        value: function _fireUndoStackChanged() {\n            this.fire(eventNames.UNDO_STACK_CHANGED, this._undoStack.length);\n        }\n\n        /**\n         * Lock this invoker\n         */\n\n    }, {\n        key: 'lock',\n        value: function lock() {\n            this._isLocked = true;\n        }\n\n        /**\n         * Unlock this invoker\n         */\n\n    }, {\n        key: 'unlock',\n        value: function unlock() {\n            this._isLocked = false;\n        }\n    }, {\n        key: 'executeSilent',\n        value: function executeSilent() {\n            var _this3 = this;\n\n            this._isSilent = true;\n\n            for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n                args[_key] = arguments[_key];\n            }\n\n            return this.execute.apply(this, args.concat([this._isSilent])).then(function () {\n                _this3._isSilent = false;\n            });\n        }\n\n        /**\n         * Invoke command\n         * Store the command to the undoStack\n         * Clear the redoStack\n         * @param {String} commandName - Command name\n         * @param {...*} args - Arguments for creating command\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'execute',\n        value: function execute() {\n            var _this4 = this;\n\n            if (this._isLocked) {\n                return _promise2.default.reject(rejectMessages.isLock);\n            }\n\n            for (var _len2 = arguments.length, args = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                args[_key2] = arguments[_key2];\n            }\n\n            var command = args[0];\n\n            if (isString(command)) {\n                command = _command2.default.create.apply(_command2.default, args);\n            }\n\n            return this._invokeExecution(command).then(function (value) {\n                _this4.clearRedoStack();\n\n                return value;\n            });\n        }\n\n        /**\n         * Undo command\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'undo',\n        value: function undo() {\n            var command = this._undoStack.pop();\n            var promise = void 0;\n            var message = '';\n\n            if (command && this._isLocked) {\n                this.pushUndoStack(command, true);\n                command = null;\n            }\n            if (command) {\n                if (this.isEmptyUndoStack()) {\n                    this._fireUndoStackChanged();\n                }\n                promise = this._invokeUndo(command);\n            } else {\n                message = rejectMessages.undo;\n                if (this._isLocked) {\n                    message = message + ' Because ' + rejectMessages.isLock;\n                }\n                promise = _promise2.default.reject(message);\n            }\n\n            return promise;\n        }\n\n        /**\n         * Redo command\n         * @returns {Promise}\n         */\n\n    }, {\n        key: 'redo',\n        value: function redo() {\n            var command = this._redoStack.pop();\n            var promise = void 0;\n            var message = '';\n\n            if (command && this._isLocked) {\n                this.pushRedoStack(command, true);\n                command = null;\n            }\n            if (command) {\n                if (this.isEmptyRedoStack()) {\n                    this._fireRedoStackChanged();\n                }\n                promise = this._invokeExecution(command);\n            } else {\n                message = rejectMessages.redo;\n                if (this._isLocked) {\n                    message = message + ' Because ' + rejectMessages.isLock;\n                }\n                promise = _promise2.default.reject(message);\n            }\n\n            return promise;\n        }\n\n        /**\n         * Push undo stack\n         * @param {Command} command - command\n         * @param {boolean} [isSilent] - Fire event or not\n         */\n\n    }, {\n        key: 'pushUndoStack',\n        value: function pushUndoStack(command, isSilent) {\n            this._undoStack.push(command);\n            if (!isSilent) {\n                this._fireUndoStackChanged();\n            }\n        }\n\n        /**\n         * Push redo stack\n         * @param {Command} command - command\n         * @param {boolean} [isSilent] - Fire event or not\n         */\n\n    }, {\n        key: 'pushRedoStack',\n        value: function pushRedoStack(command, isSilent) {\n            this._redoStack.push(command);\n            if (!isSilent) {\n                this._fireRedoStackChanged();\n            }\n        }\n\n        /**\n         * Return whether the redoStack is empty\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isEmptyRedoStack',\n        value: function isEmptyRedoStack() {\n            return this._redoStack.length === 0;\n        }\n\n        /**\n         * Return whether the undoStack is empty\n         * @returns {boolean}\n         */\n\n    }, {\n        key: 'isEmptyUndoStack',\n        value: function isEmptyUndoStack() {\n            return this._undoStack.length === 0;\n        }\n\n        /**\n         * Clear undoStack\n         */\n\n    }, {\n        key: 'clearUndoStack',\n        value: function clearUndoStack() {\n            if (!this.isEmptyUndoStack()) {\n                this._undoStack = [];\n                this._fireUndoStackChanged();\n            }\n        }\n\n        /**\n         * Clear redoStack\n         */\n\n    }, {\n        key: 'clearRedoStack',\n        value: function clearRedoStack() {\n            if (!this.isEmptyRedoStack()) {\n                this._redoStack = [];\n                this._fireRedoStackChanged();\n            }\n        }\n    }]);\n\n    return Invoker;\n}();\n\nCustomEvents.mixin(Invoker);\nmodule.exports = Invoker;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/invoker.js?")},"./src/js/polyfill.js":function srcJsPolyfillJs(module,exports,__webpack_require__){"use strict";eval('\n\n// https://developer.mozilla.org/en-US/docs/Web/API/Element/closest\n// Any copyright is dedicated to the Public Domain. http://creativecommons.org/publicdomain/zero/1.0/if (!Element.prototype.matches)\nElement.prototype.matches = Element.prototype.msMatchesSelector || Element.prototype.webkitMatchesSelector;\n\nif (!Element.prototype.closest) Element.prototype.closest = function (s) {\n    var el = this;\n    if (!document.documentElement.contains(el)) return null;\n    do {\n        if (el.matches(s)) return el;\n        el = el.parentElement || el.parentNode;\n    } while (el !== null && el.nodeType === 1);\n    return null;\n};\n\n/*\n * classList.js: Cross-browser full element.classList implementation.\n * 1.1.20170427\n *\n * By Eli Grey, http://eligrey.com\n * License: Dedicated to the public domain.\n *   See https://github.com/eligrey/classList.js/blob/master/LICENSE.md\n */\n\n/*global self, document, DOMException */\n\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js */\n\nif ("document" in window.self) {\n\n    // Full polyfill for browsers with no classList support\n    // Including IE < Edge missing SVGElement.classList\n    if (!("classList" in document.createElement("_")) || document.createElementNS && !("classList" in document.createElementNS("http://www.w3.org/2000/svg", "g"))) {\n\n        (function (view) {\n\n            "use strict";\n\n            if (!(\'Element\' in view)) return;\n\n            var classListProp = "classList",\n                protoProp = "prototype",\n                elemCtrProto = view.Element[protoProp],\n                objCtr = Object,\n                strTrim = String[protoProp].trim || function () {\n                return this.replace(/^\\s+|\\s+$/g, "");\n            },\n                arrIndexOf = Array[protoProp].indexOf || function (item) {\n                var i = 0,\n                    len = this.length;\n                for (; i < len; i++) {\n                    if (i in this && this[i] === item) {\n                        return i;\n                    }\n                }\n                return -1;\n            }\n            // Vendors: please allow content code to instantiate DOMExceptions\n            ,\n                DOMEx = function DOMEx(type, message) {\n                this.name = type;\n                this.code = DOMException[type];\n                this.message = message;\n            },\n                checkTokenAndGetIndex = function checkTokenAndGetIndex(classList, token) {\n                if (token === "") {\n                    throw new DOMEx("SYNTAX_ERR", "An invalid or illegal string was specified");\n                }\n                if (/\\s/.test(token)) {\n                    throw new DOMEx("INVALID_CHARACTER_ERR", "String contains an invalid character");\n                }\n                return arrIndexOf.call(classList, token);\n            },\n                ClassList = function ClassList(elem) {\n                var trimmedClasses = strTrim.call(elem.getAttribute("class") || ""),\n                    classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : [],\n                    i = 0,\n                    len = classes.length;\n                for (; i < len; i++) {\n                    this.push(classes[i]);\n                }\n                this._updateClassName = function () {\n                    elem.setAttribute("class", this.toString());\n                };\n            },\n                classListProto = ClassList[protoProp] = [],\n                classListGetter = function classListGetter() {\n                return new ClassList(this);\n            };\n            // Most DOMException implementations don\'t allow calling DOMException\'s toString()\n            // on non-DOMExceptions. Error\'s toString() is sufficient here.\n            DOMEx[protoProp] = Error[protoProp];\n            classListProto.item = function (i) {\n                return this[i] || null;\n            };\n            classListProto.contains = function (token) {\n                token += "";\n                return checkTokenAndGetIndex(this, token) !== -1;\n            };\n            classListProto.add = function () {\n                var tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token,\n                    updated = false;\n                do {\n                    token = tokens[i] + "";\n                    if (checkTokenAndGetIndex(this, token) === -1) {\n                        this.push(token);\n                        updated = true;\n                    }\n                } while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.remove = function () {\n                var tokens = arguments,\n                    i = 0,\n                    l = tokens.length,\n                    token,\n                    updated = false,\n                    index;\n                do {\n                    token = tokens[i] + "";\n                    index = checkTokenAndGetIndex(this, token);\n                    while (index !== -1) {\n                        this.splice(index, 1);\n                        updated = true;\n                        index = checkTokenAndGetIndex(this, token);\n                    }\n                } while (++i < l);\n\n                if (updated) {\n                    this._updateClassName();\n                }\n            };\n            classListProto.toggle = function (token, force) {\n                token += "";\n\n                var result = this.contains(token),\n                    method = result ? force !== true && "remove" : force !== false && "add";\n\n                if (method) {\n                    this[method](token);\n                }\n\n                if (force === true || force === false) {\n                    return force;\n                } else {\n                    return !result;\n                }\n            };\n            classListProto.toString = function () {\n                return this.join(" ");\n            };\n\n            if (objCtr.defineProperty) {\n                var classListPropDesc = {\n                    get: classListGetter,\n                    enumerable: true,\n                    configurable: true\n                };\n                try {\n                    objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                } catch (ex) {\n                    // IE 8 doesn\'t support enumerable:true\n                    // adding undefined to fight this issue https://github.com/eligrey/classList.js/issues/36\n                    // modernie IE8-MSW7 machine has IE8 8.0.6001.18702 and is affected\n                    if (ex.number === undefined || ex.number === -0x7FF5EC54) {\n                        classListPropDesc.enumerable = false;\n                        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\n                    }\n                }\n            } else if (objCtr[protoProp].__defineGetter__) {\n                elemCtrProto.__defineGetter__(classListProp, classListGetter);\n            }\n        })(window.self);\n    }\n\n    // There is full or partial native classList support, so just check if we need\n    // to normalize the add/remove and toggle APIs.\n\n    (function () {\n        "use strict";\n\n        var testElement = document.createElement("_");\n\n        testElement.classList.add("c1", "c2");\n\n        // Polyfill for IE 10/11 and Firefox <26, where classList.add and\n        // classList.remove exist but support only one argument at a time.\n        if (!testElement.classList.contains("c2")) {\n            var createMethod = function createMethod(method) {\n                var original = DOMTokenList.prototype[method];\n\n                DOMTokenList.prototype[method] = function (token) {\n                    var i,\n                        len = arguments.length;\n\n                    for (i = 0; i < len; i++) {\n                        token = arguments[i];\n                        original.call(this, token);\n                    }\n                };\n            };\n            createMethod(\'add\');\n            createMethod(\'remove\');\n        }\n\n        testElement.classList.toggle("c3", false);\n\n        // Polyfill for IE 10 and Firefox <24, where classList.toggle does not\n        // support the second argument.\n        if (testElement.classList.contains("c3")) {\n            var _toggle = DOMTokenList.prototype.toggle;\n\n            DOMTokenList.prototype.toggle = function (token, force) {\n                if (1 in arguments && !this.contains(token) === !force) {\n                    return force;\n                } else {\n                    return _toggle.call(this, token);\n                }\n            };\n        }\n\n        testElement = null;\n    })();\n}\n\n/*!\n * @copyright Copyright (c) 2017 IcoMoon.io\n * @license   Licensed under MIT license\n *            See https://github.com/Keyamoon/svgxuse\n * @version   1.2.6\n */\n/*jslint browser: true */\n/*global XDomainRequest, MutationObserver, window */\n(function () {\n    "use strict";\n\n    if (typeof window !== "undefined" && window.addEventListener) {\n        var cache = Object.create(null); // holds xhr objects to prevent multiple requests\n        var checkUseElems;\n        var tid; // timeout id\n        var debouncedCheck = function debouncedCheck() {\n            clearTimeout(tid);\n            tid = setTimeout(checkUseElems, 100);\n        };\n        var unobserveChanges = function unobserveChanges() {\n            return;\n        };\n        var observeChanges = function observeChanges() {\n            var observer;\n            window.addEventListener("resize", debouncedCheck, false);\n            window.addEventListener("orientationchange", debouncedCheck, false);\n            if (window.MutationObserver) {\n                observer = new MutationObserver(debouncedCheck);\n                observer.observe(document.documentElement, {\n                    childList: true,\n                    subtree: true,\n                    attributes: true\n                });\n                unobserveChanges = function unobserveChanges() {\n                    try {\n                        observer.disconnect();\n                        window.removeEventListener("resize", debouncedCheck, false);\n                        window.removeEventListener("orientationchange", debouncedCheck, false);\n                    } catch (ignore) {}\n                };\n            } else {\n                document.documentElement.addEventListener("DOMSubtreeModified", debouncedCheck, false);\n                unobserveChanges = function unobserveChanges() {\n                    document.documentElement.removeEventListener("DOMSubtreeModified", debouncedCheck, false);\n                    window.removeEventListener("resize", debouncedCheck, false);\n                    window.removeEventListener("orientationchange", debouncedCheck, false);\n                };\n            }\n        };\n        var createRequest = function createRequest(url) {\n            // In IE 9, cross origin requests can only be sent using XDomainRequest.\n            // XDomainRequest would fail if CORS headers are not set.\n            // Therefore, XDomainRequest should only be used with cross origin requests.\n            function getOrigin(loc) {\n                var a;\n                if (loc.protocol !== undefined) {\n                    a = loc;\n                } else {\n                    a = document.createElement("a");\n                    a.href = loc;\n                }\n                return a.protocol.replace(/:/g, "") + a.host;\n            }\n            var Request;\n            var origin;\n            var origin2;\n            if (window.XMLHttpRequest) {\n                Request = new XMLHttpRequest();\n                origin = getOrigin(location);\n                origin2 = getOrigin(url);\n                if (Request.withCredentials === undefined && origin2 !== "" && origin2 !== origin) {\n                    Request = XDomainRequest || undefined;\n                } else {\n                    Request = XMLHttpRequest;\n                }\n            }\n            return Request;\n        };\n        var xlinkNS = "http://www.w3.org/1999/xlink";\n        checkUseElems = function checkUseElems() {\n            var base;\n            var bcr;\n            var fallback = ""; // optional fallback URL in case no base path to SVG file was given and no symbol definition was found.\n            var hash;\n            var href;\n            var i;\n            var inProgressCount = 0;\n            var isHidden;\n            var Request;\n            var url;\n            var uses;\n            var xhr;\n            function observeIfDone() {\n                // If done with making changes, start watching for chagnes in DOM again\n                inProgressCount -= 1;\n                if (inProgressCount === 0) {\n                    // if all xhrs were resolved\n                    unobserveChanges(); // make sure to remove old handlers\n                    observeChanges(); // watch for changes to DOM\n                }\n            }\n            function attrUpdateFunc(spec) {\n                return function () {\n                    if (cache[spec.base] !== true) {\n                        spec.useEl.setAttributeNS(xlinkNS, "xlink:href", "#" + spec.hash);\n                        if (spec.useEl.hasAttribute("href")) {\n                            spec.useEl.setAttribute("href", "#" + spec.hash);\n                        }\n                    }\n                };\n            }\n            function onloadFunc(xhr) {\n                return function () {\n                    var body = document.body;\n                    var x = document.createElement("x");\n                    var svg;\n                    xhr.onload = null;\n                    x.innerHTML = xhr.responseText;\n                    svg = x.getElementsByTagName("svg")[0];\n                    if (svg) {\n                        svg.setAttribute("aria-hidden", "true");\n                        svg.style.position = "absolute";\n                        svg.style.width = 0;\n                        svg.style.height = 0;\n                        svg.style.overflow = "hidden";\n                        body.insertBefore(svg, body.firstChild);\n                    }\n                    observeIfDone();\n                };\n            }\n            function onErrorTimeout(xhr) {\n                return function () {\n                    xhr.onerror = null;\n                    xhr.ontimeout = null;\n                    observeIfDone();\n                };\n            }\n            unobserveChanges(); // stop watching for changes to DOM\n            // find all use elements\n            uses = document.getElementsByTagName("use");\n            for (i = 0; i < uses.length; i += 1) {\n                try {\n                    bcr = uses[i].getBoundingClientRect();\n                } catch (ignore) {\n                    // failed to get bounding rectangle of the use element\n                    bcr = false;\n                }\n                href = uses[i].getAttribute("href") || uses[i].getAttributeNS(xlinkNS, "href") || uses[i].getAttribute("xlink:href");\n                if (href && href.split) {\n                    url = href.split("#");\n                } else {\n                    url = ["", ""];\n                }\n                base = url[0];\n                hash = url[1];\n                isHidden = bcr && bcr.left === 0 && bcr.right === 0 && bcr.top === 0 && bcr.bottom === 0;\n                if (bcr && bcr.width === 0 && bcr.height === 0 && !isHidden) {\n                    // the use element is empty\n                    // if there is a reference to an external SVG, try to fetch it\n                    // use the optional fallback URL if there is no reference to an external SVG\n                    if (fallback && !base.length && hash && !document.getElementById(hash)) {\n                        base = fallback;\n                    }\n                    if (uses[i].hasAttribute("href")) {\n                        uses[i].setAttributeNS(xlinkNS, "xlink:href", href);\n                    }\n                    if (base.length) {\n                        // schedule updating xlink:href\n                        xhr = cache[base];\n                        if (xhr !== true) {\n                            // true signifies that prepending the SVG was not required\n                            setTimeout(attrUpdateFunc({\n                                useEl: uses[i],\n                                base: base,\n                                hash: hash\n                            }), 0);\n                        }\n                        if (xhr === undefined) {\n                            Request = createRequest(base);\n                            if (Request !== undefined) {\n                                xhr = new Request();\n                                cache[base] = xhr;\n                                xhr.onload = onloadFunc(xhr);\n                                xhr.onerror = onErrorTimeout(xhr);\n                                xhr.ontimeout = onErrorTimeout(xhr);\n                                xhr.open("GET", base);\n                                xhr.send();\n                                inProgressCount += 1;\n                            }\n                        }\n                    }\n                } else {\n                    if (!isHidden) {\n                        if (cache[base] === undefined) {\n                            // remember this URL if the use element was not empty and no request was sent\n                            cache[base] = true;\n                        } else if (cache[base].onload) {\n                            // if it turns out that prepending the SVG is not necessary,\n                            // abort the in-progress xhr.\n                            cache[base].abort();\n                            delete cache[base].onload;\n                            cache[base] = true;\n                        }\n                    } else if (base.length && cache[base]) {\n                        setTimeout(attrUpdateFunc({\n                            useEl: uses[i],\n                            base: base,\n                            hash: hash\n                        }), 0);\n                    }\n                }\n            }\n            uses = "";\n            inProgressCount += 1;\n            observeIfDone();\n        };\n        var _winLoad;\n        _winLoad = function winLoad() {\n            window.removeEventListener("load", _winLoad, false); // to prevent memory leaks\n            tid = setTimeout(checkUseElems, 0);\n        };\n        if (document.readyState !== "complete") {\n            // The load event fires when all resources have finished loading, which allows detecting whether SVG use elements are empty.\n            window.addEventListener("load", _winLoad, false);\n        } else {\n            // No need to add a listener if the document is already loaded, initialize immediately.\n            _winLoad();\n        }\n    }\n})();\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/polyfill.js?')},"./src/js/ui.js":function srcJsUiJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _consts = __webpack_require__(/*! ./consts */ \"./src/js/consts.js\");\n\nvar _util = __webpack_require__(/*! ./util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _mainContainer = __webpack_require__(/*! ./ui/template/mainContainer */ \"./src/js/ui/template/mainContainer.js\");\n\nvar _mainContainer2 = _interopRequireDefault(_mainContainer);\n\nvar _controls = __webpack_require__(/*! ./ui/template/controls */ \"./src/js/ui/template/controls.js\");\n\nvar _controls2 = _interopRequireDefault(_controls);\n\nvar _theme = __webpack_require__(/*! ./ui/theme/theme */ \"./src/js/ui/theme/theme.js\");\n\nvar _theme2 = _interopRequireDefault(_theme);\n\nvar _shape = __webpack_require__(/*! ./ui/shape */ \"./src/js/ui/shape.js\");\n\nvar _shape2 = _interopRequireDefault(_shape);\n\nvar _crop = __webpack_require__(/*! ./ui/crop */ \"./src/js/ui/crop.js\");\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nvar _flip = __webpack_require__(/*! ./ui/flip */ \"./src/js/ui/flip.js\");\n\nvar _flip2 = _interopRequireDefault(_flip);\n\nvar _rotate = __webpack_require__(/*! ./ui/rotate */ \"./src/js/ui/rotate.js\");\n\nvar _rotate2 = _interopRequireDefault(_rotate);\n\nvar _text = __webpack_require__(/*! ./ui/text */ \"./src/js/ui/text.js\");\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _mask = __webpack_require__(/*! ./ui/mask */ \"./src/js/ui/mask.js\");\n\nvar _mask2 = _interopRequireDefault(_mask);\n\nvar _icon = __webpack_require__(/*! ./ui/icon */ \"./src/js/ui/icon.js\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _draw = __webpack_require__(/*! ./ui/draw */ \"./src/js/ui/draw.js\");\n\nvar _draw2 = _interopRequireDefault(_draw);\n\nvar _filter = __webpack_require__(/*! ./ui/filter */ \"./src/js/ui/filter.js\");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _locale = __webpack_require__(/*! ./ui/locale/locale */ \"./src/js/ui/locale/locale.js\");\n\nvar _locale2 = _interopRequireDefault(_locale);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar SUB_UI_COMPONENT = {\n    Shape: _shape2.default,\n    Crop: _crop2.default,\n    Flip: _flip2.default,\n    Rotate: _rotate2.default,\n    Text: _text2.default,\n    Mask: _mask2.default,\n    Icon: _icon2.default,\n    Draw: _draw2.default,\n    Filter: _filter2.default\n};\n\nvar BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION = '1300';\n\n/**\n * Default UI Class\n * @class\n * @param {string|HTMLElement} element - Wrapper's element or selector\n * @param {Object} [options] - Ui setting options\n *   @param {number} options.loadImage - Init default load image\n *   @param {number} options.initMenu - Init start menu\n *   @param {Boolean} [options.menuBarPosition=bottom] - Let\n *   @param {Boolean} [options.applyCropSelectionStyle=false] - Let\n *   @param {Boolean} [options.usageStatistics=false] - Use statistics or not\n *   @param {Object} [options.uiSize] - ui size of editor\n *     @param {string} options.uiSize.width - width of ui\n *     @param {string} options.uiSize.height - height of ui\n * @param {Object} actions - ui action instance\n */\n\nvar Ui = function () {\n    function Ui(element, options, actions) {\n        _classCallCheck(this, Ui);\n\n        this.options = this._initializeOption(options);\n        this._actions = actions;\n        this.submenu = false;\n        this.imageSize = {};\n        this.uiSize = {};\n        this._locale = new _locale2.default(this.options.locale);\n        this.theme = new _theme2.default(this.options.theme);\n        this.eventHandler = {};\n        this._submenuChangeTransection = false;\n        this._selectedElement = null;\n        this._mainElement = null;\n        this._editorElementWrap = null;\n        this._editorElement = null;\n        this._menuElement = null;\n        this._subMenuElement = null;\n        this._makeUiElement(element);\n        this._setUiSize();\n        this._initMenuEvent = false;\n\n        this._makeSubMenu();\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Ui, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeUiEvent();\n            this._destroyAllMenu();\n            this._selectedElement.innerHTML = '';\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Set Default Selection for includeUI\n         * @param {Object} option - imageEditor options\n         * @returns {Object} - extends selectionStyle option\n         * @ignore\n         */\n\n    }, {\n        key: 'setUiDefaultSelectionStyle',\n        value: function setUiDefaultSelectionStyle(option) {\n            return _tuiCodeSnippet2.default.extend({\n                applyCropSelectionStyle: true,\n                applyGroupSelectionStyle: true,\n                selectionStyle: {\n                    cornerStyle: 'circle',\n                    cornerSize: 16,\n                    cornerColor: '#fff',\n                    cornerStrokeColor: '#fff',\n                    transparentCorners: false,\n                    lineWidth: 2,\n                    borderColor: '#fff'\n                }\n            }, option);\n        }\n\n        /**\n         * Change editor size\n         * @param {Object} resizeInfo - ui & image size info\n         *   @param {Object} [resizeInfo.uiSize] - image size dimension\n         *     @param {string} resizeInfo.uiSize.width - ui width\n         *     @param {string} resizeInfo.uiSize.height - ui height\n         *   @param {Object} [resizeInfo.imageSize] - image size dimension\n         *     @param {Number} resizeInfo.imageSize.oldWidth - old width\n         *     @param {Number} resizeInfo.imageSize.oldHeight - old height\n         *     @param {Number} resizeInfo.imageSize.newWidth - new width\n         *     @param {Number} resizeInfo.imageSize.newHeight - new height\n         * @example\n         * // Change the image size and ui size, and change the affected ui state together.\n         * imageEditor.ui.resizeEditor({\n         *     imageSize: {oldWidth: 100, oldHeight: 100, newWidth: 700, newHeight: 700},\n         *     uiSize: {width: 1000, height: 1000}\n         * });\n         * @example\n         * // Apply the ui state while preserving the previous attribute (for example, if responsive UI)\n         * imageEditor.ui.resizeEditor();\n         */\n\n    }, {\n        key: 'resizeEditor',\n        value: function resizeEditor() {\n            var _ref = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {},\n                uiSize = _ref.uiSize,\n                _ref$imageSize = _ref.imageSize,\n                imageSize = _ref$imageSize === undefined ? this.imageSize : _ref$imageSize;\n\n            if (imageSize !== this.imageSize) {\n                this.imageSize = imageSize;\n            }\n            if (uiSize) {\n                this._setUiSize(uiSize);\n            }\n\n            var _getCanvasMaxDimensio = this._getCanvasMaxDimension(),\n                width = _getCanvasMaxDimensio.width,\n                height = _getCanvasMaxDimensio.height;\n\n            var editorElementStyle = this._editorElement.style;\n            var menuBarPosition = this.options.menuBarPosition;\n\n\n            editorElementStyle.height = height + 'px';\n            editorElementStyle.width = width + 'px';\n\n            this._setEditorPosition(menuBarPosition);\n\n            this._editorElementWrap.style.bottom = '0px';\n            this._editorElementWrap.style.top = '0px';\n            this._editorElementWrap.style.left = '0px';\n            this._editorElementWrap.style.width = '100%';\n\n            var selectElementClassList = this._selectedElement.classList;\n\n            if (menuBarPosition === 'top' && this._selectedElement.offsetWidth < BI_EXPRESSION_MINSIZE_WHEN_TOP_POSITION) {\n                selectElementClassList.add('tui-image-editor-top-optimization');\n            } else {\n                selectElementClassList.remove('tui-image-editor-top-optimization');\n            }\n        }\n\n        /**\n         * Change help button status\n         * @param {string} buttonType - target button type\n         * @param {Boolean} enableStatus - enabled status\n         * @ignore\n         */\n\n    }, {\n        key: 'changeHelpButtonEnabled',\n        value: function changeHelpButtonEnabled(buttonType, enableStatus) {\n            var buttonClassList = this._buttonElements[buttonType].classList;\n\n            buttonClassList[enableStatus ? 'add' : 'remove']('enabled');\n        }\n\n        /**\n         * Change delete button status\n         * @param {Object} [options] - Ui setting options\n         *   @param {object} [options.loadImage] - Init default load image\n         *   @param {string} [options.initMenu] - Init start menu\n         *   @param {string} [options.menuBarPosition=bottom] - Let\n         *   @param {boolean} [options.applyCropSelectionStyle=false] - Let\n         *   @param {boolean} [options.usageStatistics=false] - Send statistics ping or not\n         * @returns {Object} initialize option\n         * @private\n         */\n\n    }, {\n        key: '_initializeOption',\n        value: function _initializeOption(options) {\n            return _tuiCodeSnippet2.default.extend({\n                loadImage: {\n                    path: '',\n                    name: ''\n                },\n                locale: {},\n                menuIconPath: '',\n                menu: ['crop', 'flip', 'rotate', 'draw', 'shape', 'icon', 'text', 'mask', 'filter'],\n                initMenu: '',\n                uiSize: {\n                    width: '100%',\n                    height: '100%'\n                },\n                menuBarPosition: 'bottom'\n            }, options);\n        }\n\n        /**\n         * Set ui container size\n         * @param {Object} uiSize - ui dimension\n         *   @param {string} uiSize.width - css width property\n         *   @param {string} uiSize.height - css height property \n         * @private\n         */\n\n    }, {\n        key: '_setUiSize',\n        value: function _setUiSize() {\n            var uiSize = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.options.uiSize;\n\n            var elementDimension = this._selectedElement.style;\n            elementDimension.width = uiSize.width;\n            elementDimension.height = uiSize.height;\n        }\n\n        /**\n         * Make submenu dom element\n         * @private\n         */\n\n    }, {\n        key: '_makeSubMenu',\n        value: function _makeSubMenu() {\n            var _this = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                var SubComponentClass = SUB_UI_COMPONENT[menuName.replace(/^[a-z]/, function ($0) {\n                    return $0.toUpperCase();\n                })];\n\n                // make menu element\n                _this._makeMenuElement(menuName);\n\n                // menu btn element\n                _this._buttonElements[menuName] = _this._menuElement.querySelector('.tie-btn-' + menuName);\n\n                // submenu ui instance\n                _this[menuName] = new SubComponentClass(_this._subMenuElement, {\n                    locale: _this._locale,\n                    makeSvgIcon: _this.theme.makeMenSvgIconSet.bind(_this.theme),\n                    menuBarPosition: _this.options.menuBarPosition,\n                    usageStatistics: _this.options.usageStatistics\n                });\n            });\n        }\n\n        /**\n         * Make primary ui dom element\n         * @param {string|HTMLElement} element - Wrapper's element or selector\n         * @private\n         */\n\n    }, {\n        key: '_makeUiElement',\n        value: function _makeUiElement(element) {\n            var selectedElement = void 0;\n\n            window.snippet = _tuiCodeSnippet2.default;\n\n            if (element.nodeType) {\n                selectedElement = element;\n            } else {\n                selectedElement = document.querySelector(element);\n            }\n            var selector = _util2.default.getSelector(selectedElement);\n\n            selectedElement.classList.add('tui-image-editor-container');\n            selectedElement.innerHTML = (0, _controls2.default)({\n                locale: this._locale,\n                biImage: this.theme.getStyle('common.bi'),\n                loadButtonStyle: this.theme.getStyle('loadButton'),\n                downloadButtonStyle: this.theme.getStyle('downloadButton')\n            }) + (0, _mainContainer2.default)({\n                locale: this._locale,\n                biImage: this.theme.getStyle('common.bi'),\n                commonStyle: this.theme.getStyle('common'),\n                headerStyle: this.theme.getStyle('header'),\n                loadButtonStyle: this.theme.getStyle('loadButton'),\n                downloadButtonStyle: this.theme.getStyle('downloadButton'),\n                submenuStyle: this.theme.getStyle('submenu')\n            });\n\n            this._selectedElement = selectedElement;\n            this._selectedElement.classList.add(this.options.menuBarPosition);\n\n            this._mainElement = selector('.tui-image-editor-main');\n            this._editorElementWrap = selector('.tui-image-editor-wrap');\n            this._editorElement = selector('.tui-image-editor');\n            this._menuElement = selector('.tui-image-editor-menu');\n            this._subMenuElement = selector('.tui-image-editor-submenu');\n            this._buttonElements = {\n                'download': this._selectedElement.querySelectorAll('.tui-image-editor-download-btn'),\n                'load': this._selectedElement.querySelectorAll('.tui-image-editor-load-btn')\n            };\n\n            this._addHelpMenus();\n        }\n\n        /**\n         * make array for help menu output, including partitions.\n         * @returns {Array}\n         * @private\n         */\n\n    }, {\n        key: '_makeHelpMenuWithPartition',\n        value: function _makeHelpMenuWithPartition() {\n            var helpMenuWithPartition = [].concat(_consts.HELP_MENUS, ['']);\n            helpMenuWithPartition.splice(3, 0, '');\n\n            return helpMenuWithPartition;\n        }\n\n        /**\n         * Add help menu\n         * @private\n         */\n\n    }, {\n        key: '_addHelpMenus',\n        value: function _addHelpMenus() {\n            var _this2 = this;\n\n            var helpMenuWithPartition = this._makeHelpMenuWithPartition();\n\n            _tuiCodeSnippet2.default.forEach(helpMenuWithPartition, function (menuName) {\n                if (!menuName) {\n                    _this2._makeMenuPartitionElement();\n                } else {\n                    _this2._makeMenuElement(menuName, ['normal', 'disabled', 'hover'], 'help');\n\n                    if (menuName) {\n                        _this2._buttonElements[menuName] = _this2._menuElement.querySelector('.tie-btn-' + menuName);\n                    }\n                }\n            });\n        }\n\n        /**\n         * Make menu partition element\n         * @private\n         */\n\n    }, {\n        key: '_makeMenuPartitionElement',\n        value: function _makeMenuPartitionElement() {\n            var partitionElement = document.createElement('li');\n            var partitionInnerElement = document.createElement('div');\n            partitionElement.className = _util2.default.cls('item');\n            partitionInnerElement.className = _util2.default.cls('icpartition');\n            partitionElement.appendChild(partitionInnerElement);\n\n            this._menuElement.appendChild(partitionElement);\n        }\n\n        /**\n         * Make menu button element\n         * @param {string} menuName - menu name\n         * @param {Array} useIconTypes - Possible values are  \\['normal', 'active', 'hover', 'disabled'\\]\n         * @param {string} menuType - 'normal' or 'help'\n         * @private\n         */\n\n    }, {\n        key: '_makeMenuElement',\n        value: function _makeMenuElement(menuName) {\n            var useIconTypes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : ['normal', 'active', 'hover'];\n            var menuType = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'normal';\n\n            var btnElement = document.createElement('li');\n            var menuItemHtml = this.theme.makeMenSvgIconSet(useIconTypes, menuName);\n\n            this._addTooltipAttribute(btnElement, menuName);\n            btnElement.className = 'tie-btn-' + menuName + ' ' + _util2.default.cls('item') + ' ' + menuType;\n            btnElement.innerHTML = menuItemHtml;\n\n            this._menuElement.appendChild(btnElement);\n        }\n\n        /**\n         * Add help action event\n         * @private\n         */\n\n    }, {\n        key: '_addHelpActionEvent',\n        value: function _addHelpActionEvent() {\n            var _this3 = this;\n\n            _tuiCodeSnippet2.default.forEach(_consts.HELP_MENUS, function (helpName) {\n                _this3.eventHandler[helpName] = function () {\n                    return _this3._actions.main[helpName]();\n                };\n                _this3._buttonElements[helpName].addEventListener('click', _this3.eventHandler[helpName]);\n            });\n        }\n\n        /**\n         * Remove help action event\n         * @private\n         */\n\n    }, {\n        key: '_removeHelpActionEvent',\n        value: function _removeHelpActionEvent() {\n            var _this4 = this;\n\n            _tuiCodeSnippet2.default.forEach(_consts.HELP_MENUS, function (helpName) {\n                _this4._buttonElements[helpName].removeEventListener('click', _this4.eventHandler[helpName]);\n            });\n        }\n\n        /**\n         * Add attribute for menu tooltip\n         * @param {HTMLElement} element - menu element\n         * @param {string} tooltipName - tooltipName\n         * @private\n         */\n\n    }, {\n        key: '_addTooltipAttribute',\n        value: function _addTooltipAttribute(element, tooltipName) {\n            element.setAttribute('tooltip-content', this._locale.localize(tooltipName.replace(/^[a-z]/g, function ($0) {\n                return $0.toUpperCase();\n            })));\n        }\n\n        /**\n         * Add download event\n         * @private\n         */\n\n    }, {\n        key: '_addDownloadEvent',\n        value: function _addDownloadEvent() {\n            var _this5 = this;\n\n            this.eventHandler.download = function () {\n                return _this5._actions.main.download();\n            };\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.download, function (element) {\n                element.addEventListener('click', _this5.eventHandler.download);\n            });\n        }\n    }, {\n        key: '_removeDownloadEvent',\n        value: function _removeDownloadEvent() {\n            var _this6 = this;\n\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.download, function (element) {\n                element.removeEventListener('click', _this6.eventHandler.download);\n            });\n        }\n\n        /**\n         * Add load event\n         * @private\n         */\n\n    }, {\n        key: '_addLoadEvent',\n        value: function _addLoadEvent() {\n            var _this7 = this;\n\n            this.eventHandler.loadImage = function (event) {\n                return _this7._actions.main.load(event.target.files[0]);\n            };\n\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.load, function (element) {\n                element.addEventListener('change', _this7.eventHandler.loadImage);\n            });\n        }\n\n        /**\n         * Remmove load event\n         * @private\n         */\n\n    }, {\n        key: '_removeLoadEvent',\n        value: function _removeLoadEvent() {\n            var _this8 = this;\n\n            _tuiCodeSnippet2.default.forEach(this._buttonElements.load, function (element) {\n                element.removeEventListener('change', _this8.eventHandler.loadImage);\n            });\n        }\n\n        /**\n         * Add menu event\n         * @param {string} menuName - menu name\n         * @private\n         */\n\n    }, {\n        key: '_addMainMenuEvent',\n        value: function _addMainMenuEvent(menuName) {\n            var _this9 = this;\n\n            this.eventHandler[menuName] = function () {\n                return _this9.changeMenu(menuName);\n            };\n            this._buttonElements[menuName].addEventListener('click', this.eventHandler[menuName]);\n        }\n\n        /**\n         * Add menu event\n         * @param {string} menuName - menu name\n         * @private\n         */\n\n    }, {\n        key: '_addSubMenuEvent',\n        value: function _addSubMenuEvent(menuName) {\n            this[menuName].addEvent(this._actions[menuName]);\n        }\n\n        /**\n         * Add menu event\n         * @private\n         */\n\n    }, {\n        key: '_addMenuEvent',\n        value: function _addMenuEvent() {\n            var _this10 = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this10._addMainMenuEvent(menuName);\n                _this10._addSubMenuEvent(menuName);\n            });\n        }\n\n        /**\n         * Remove menu event\n         * @private\n         */\n\n    }, {\n        key: '_removeMainMenuEvent',\n        value: function _removeMainMenuEvent() {\n            var _this11 = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this11._buttonElements[menuName].removeEventListener('click', _this11.eventHandler[menuName]);\n            });\n        }\n\n        /**\n         * Get editor area element\n         * @returns {HTMLElement} editor area html element\n         * @ignore\n         */\n\n    }, {\n        key: 'getEditorArea',\n        value: function getEditorArea() {\n            return this._editorElement;\n        }\n\n        /**\n         * Add event for menu items\n         * @ignore\n         */\n\n    }, {\n        key: 'activeMenuEvent',\n        value: function activeMenuEvent() {\n            if (this._initMenuEvent) {\n                return;\n            }\n\n            this._addHelpActionEvent();\n            this._addDownloadEvent();\n            this._addMenuEvent();\n            this._initMenu();\n            this._initMenuEvent = true;\n        }\n\n        /**\n         * Remove ui event\n         * @private\n         */\n\n    }, {\n        key: '_removeUiEvent',\n        value: function _removeUiEvent() {\n            this._removeHelpActionEvent();\n            this._removeDownloadEvent();\n            this._removeLoadEvent();\n            this._removeMainMenuEvent();\n        }\n\n        /**\n         * Destroy all menu instance\n         * @private\n         */\n\n    }, {\n        key: '_destroyAllMenu',\n        value: function _destroyAllMenu() {\n            var _this12 = this;\n\n            _tuiCodeSnippet2.default.forEach(this.options.menu, function (menuName) {\n                _this12[menuName].destroy();\n            });\n        }\n\n        /**\n         * Init canvas\n         * @ignore\n         */\n\n    }, {\n        key: 'initCanvas',\n        value: function initCanvas() {\n            var _this13 = this;\n\n            var loadImageInfo = this._getLoadImage();\n            if (loadImageInfo.path) {\n                this._actions.main.initLoadImage(loadImageInfo.path, loadImageInfo.name).then(function () {\n                    _this13.activeMenuEvent();\n                });\n            }\n\n            this._addLoadEvent();\n\n            var gridVisual = document.createElement('div');\n\n            gridVisual.className = _util2.default.cls('grid-visual');\n            var grid = '<table>\\n           <tr><td class=\"dot left-top\"></td><td></td><td class=\"dot right-top\"></td></tr>\\n           <tr><td></td><td></td><td></td></tr>\\n           <tr><td class=\"dot left-bottom\"></td><td></td><td class=\"dot right-bottom\"></td></tr>\\n         </table>';\n            gridVisual.innerHTML = grid;\n            this._editorContainerElement = this._editorElement.querySelector('.tui-image-editor-canvas-container');\n            this._editorContainerElement.appendChild(gridVisual);\n        }\n\n        /**\n         * get editor area element\n         * @returns {Object} load image option\n         * @private\n         */\n\n    }, {\n        key: '_getLoadImage',\n        value: function _getLoadImage() {\n            return this.options.loadImage;\n        }\n\n        /**\n         * change menu\n         * @param {string} menuName - menu name\n         * @param {boolean} toggle - whether toogle or not\n         * @param {boolean} discardSelection - discard selection\n         * @ignore\n         */\n\n    }, {\n        key: 'changeMenu',\n        value: function changeMenu(menuName) {\n            var toggle = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : true;\n            var discardSelection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            if (!this._submenuChangeTransection) {\n                this._submenuChangeTransection = true;\n                this._changeMenu(menuName, toggle, discardSelection);\n                this._submenuChangeTransection = false;\n            }\n        }\n\n        /**\n         * change menu\n         * @param {string} menuName - menu name\n         * @param {boolean} toggle - whether toogle or not\n         * @param {boolean} discardSelection - discard selection\n         * @private\n         */\n\n    }, {\n        key: '_changeMenu',\n        value: function _changeMenu(menuName, toggle, discardSelection) {\n            if (this.submenu) {\n                this._buttonElements[this.submenu].classList.remove('active');\n                this._mainElement.classList.remove('tui-image-editor-menu-' + this.submenu);\n                if (discardSelection) {\n                    this._actions.main.discardSelection();\n                }\n                this._actions.main.changeSelectableAll(true);\n                this[this.submenu].changeStandbyMode();\n            }\n\n            if (this.submenu === menuName && toggle) {\n                this.submenu = null;\n            } else {\n                this._buttonElements[menuName].classList.add('active');\n                this._mainElement.classList.add('tui-image-editor-menu-' + menuName);\n                this.submenu = menuName;\n                this[this.submenu].changeStartMode();\n            }\n\n            this.resizeEditor();\n        }\n\n        /**\n         * Init menu\n         * @private\n         */\n\n    }, {\n        key: '_initMenu',\n        value: function _initMenu() {\n            if (this.options.initMenu) {\n                var evt = document.createEvent('MouseEvents');\n                evt.initEvent('click', true, false);\n                this._buttonElements[this.options.initMenu].dispatchEvent(evt);\n            }\n\n            if (this.icon) {\n                this.icon.registDefaultIcon();\n            }\n        }\n\n        /**\n         * Get canvas max Dimension\n         * @returns {Object} - width & height of editor\n         * @private\n         */\n\n    }, {\n        key: '_getCanvasMaxDimension',\n        value: function _getCanvasMaxDimension() {\n            var _editorContainerEleme = this._editorContainerElement.style,\n                maxWidth = _editorContainerEleme.maxWidth,\n                maxHeight = _editorContainerEleme.maxHeight;\n\n            var width = parseFloat(maxWidth);\n            var height = parseFloat(maxHeight);\n\n            return {\n                width: width,\n                height: height\n            };\n        }\n\n        /**\n         * Set editor position\n         * @param {string} menuBarPosition - top or right or bottom or left\n         * @private\n         */\n\n    }, {\n        key: '_setEditorPosition',\n        value: function _setEditorPosition(menuBarPosition) {\n            // eslint-disable-line complexity\n            var _getCanvasMaxDimensio2 = this._getCanvasMaxDimension(),\n                width = _getCanvasMaxDimensio2.width,\n                height = _getCanvasMaxDimensio2.height;\n\n            var editorElementStyle = this._editorElement.style;\n            var top = 0;\n            var left = 0;\n\n            if (this.submenu) {\n                if (menuBarPosition === 'bottom') {\n                    if (height > this._editorElementWrap.scrollHeight - 150) {\n                        top = (height - this._editorElementWrap.scrollHeight) / 2;\n                    } else {\n                        top = 150 / 2 * -1;\n                    }\n                } else if (menuBarPosition === 'top') {\n                    if (height > this._editorElementWrap.offsetHeight - 150) {\n                        top = 150 / 2 - (height - (this._editorElementWrap.offsetHeight - 150)) / 2;\n                    } else {\n                        top = 150 / 2;\n                    }\n                } else if (menuBarPosition === 'left') {\n                    if (width > this._editorElementWrap.offsetWidth - 248) {\n                        left = 248 / 2 - (width - (this._editorElementWrap.offsetWidth - 248)) / 2;\n                    } else {\n                        left = 248 / 2;\n                    }\n                } else if (menuBarPosition === 'right') {\n                    if (width > this._editorElementWrap.scrollWidth - 248) {\n                        left = (width - this._editorElementWrap.scrollWidth) / 2;\n                    } else {\n                        left = 248 / 2 * -1;\n                    }\n                }\n            }\n            editorElementStyle.top = top + 'px';\n            editorElementStyle.left = left + 'px';\n        }\n    }]);\n\n    return Ui;\n}();\n\nexports.default = Ui;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui.js?")},"./src/js/ui/crop.js":function srcJsUiCropJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _crop = __webpack_require__(/*! ./template/submenu/crop */ \"./src/js/ui/template/submenu/crop.js\");\n\nvar _crop2 = _interopRequireDefault(_crop);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Crop ui class\n * @class\n * @ignore\n */\nvar Crop = function (_Submenu) {\n    _inherits(Crop, _Submenu);\n\n    function Crop(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Crop);\n\n        var _this = _possibleConstructorReturn(this, (Crop.__proto__ || Object.getPrototypeOf(Crop)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'crop',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _crop2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.status = 'active';\n\n        _this._els = {\n            apply: _this.selector('.tie-crop-button .apply'),\n            cancel: _this.selector('.tie-crop-button .cancel'),\n            preset: _this.selector('.tie-crop-preset-button')\n        };\n\n        _this.defaultPresetButton = _this._els.preset.querySelector('.preset-none');\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Crop, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for crop\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.crop - crop action\n         *   @param {Function} actions.cancel - cancel action\n         *   @param {Function} actions.preset - draw rectzone at a predefined ratio\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var apply = this._applyEventHandler.bind(this);\n            var cancel = this._cancelEventHandler.bind(this);\n            var cropzonePreset = this._cropzonePresetEventHandler.bind(this);\n\n            this.eventHandler = {\n                apply: apply,\n                cancel: cancel,\n                cropzonePreset: cropzonePreset\n            };\n\n            this.actions = actions;\n            this._els.apply.addEventListener('click', apply);\n            this._els.cancel.addEventListener('click', cancel);\n            this._els.preset.addEventListener('click', cropzonePreset);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.apply.removeEventListener('click', this.eventHandler.apply);\n            this._els.cancel.removeEventListener('click', this.eventHandler.cancel);\n            this._els.preset.removeEventListener('click', this.eventHandler.cropzonePreset);\n        }\n    }, {\n        key: '_applyEventHandler',\n        value: function _applyEventHandler() {\n            this.actions.crop();\n            this._els.apply.classList.remove('active');\n        }\n    }, {\n        key: '_cancelEventHandler',\n        value: function _cancelEventHandler() {\n            this.actions.cancel();\n            this._els.apply.classList.remove('active');\n        }\n    }, {\n        key: '_cropzonePresetEventHandler',\n        value: function _cropzonePresetEventHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button.preset');\n            if (button) {\n                var _button$className$mat = button.className.match(/preset-[^\\s]+/),\n                    presetType = _button$className$mat[0];\n\n                this._setPresetButtonActive(button);\n                this.actions.preset(presetType);\n            }\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.actions.modeChange('crop');\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.actions.stopDrawingMode();\n            this._setPresetButtonActive();\n        }\n\n        /**\n         * Change apply button status\n         * @param {Boolean} enableStatus - apply button status\n         */\n\n    }, {\n        key: 'changeApplyButtonStatus',\n        value: function changeApplyButtonStatus(enableStatus) {\n            if (enableStatus) {\n                this._els.apply.classList.add('active');\n            } else {\n                this._els.apply.classList.remove('active');\n            }\n        }\n\n        /**\n         * Set preset button to active status\n         * @param {HTMLElement} button - event target element\n         * @private\n         */\n\n    }, {\n        key: '_setPresetButtonActive',\n        value: function _setPresetButtonActive() {\n            var button = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : this.defaultPresetButton;\n\n            _tuiCodeSnippet2.default.forEach([].slice.call(this._els.preset.querySelectorAll('.preset')), function (presetButton) {\n                presetButton.classList.remove('active');\n            });\n\n            if (button) {\n                button.classList.add('active');\n            }\n        }\n    }]);\n\n    return Crop;\n}(_submenuBase2.default);\n\nexports.default = Crop;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/crop.js?")},"./src/js/ui/draw.js":function srcJsUiDrawJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _draw = __webpack_require__(/*! ./template/submenu/draw */ \"./src/js/ui/template/submenu/draw.js\");\n\nvar _draw2 = _interopRequireDefault(_draw);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar DRAW_OPACITY = 0.7;\n\n/**\n * Draw ui class\n * @class\n * @ignore\n */\n\nvar Draw = function (_Submenu) {\n    _inherits(Draw, _Submenu);\n\n    function Draw(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Draw);\n\n        var _this = _possibleConstructorReturn(this, (Draw.__proto__ || Object.getPrototypeOf(Draw)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'draw',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _draw2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this._els = {\n            lineSelectButton: _this.selector('.tie-draw-line-select-button'),\n            drawColorPicker: new _colorpicker2.default(_this.selector('.tie-draw-color'), '#00a9ff', _this.toggleDirection, _this.usageStatistics),\n            drawRange: new _range2.default({\n                slider: _this.selector('.tie-draw-range'),\n                input: _this.selector('.tie-draw-range-value')\n            }, _consts.defaultDrawRangeValus)\n        };\n\n        _this.type = null;\n        _this.color = _this._els.drawColorPicker.color;\n        _this.width = _this._els.drawRange.value;\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Draw, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.drawColorPicker.destroy();\n            this._els.drawRange.destroy();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for draw\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.setDrawMode - set draw mode\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.changeDrawType = this._changeDrawType.bind(this);\n\n            this.actions = actions;\n            this._els.lineSelectButton.addEventListener('click', this.eventHandler.changeDrawType);\n            this._els.drawColorPicker.on('change', this._changeDrawColor.bind(this));\n            this._els.drawRange.on('change', this._changeDrawRange.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.lineSelectButton.removeEventListener('click', this.eventHandler.changeDrawType);\n            this._els.drawColorPicker.off();\n            this._els.drawRange.off();\n        }\n\n        /**\n         * set draw mode - action runner\n         */\n\n    }, {\n        key: 'setDrawMode',\n        value: function setDrawMode() {\n            this.actions.setDrawMode(this.type, {\n                width: this.width,\n                color: _util2.default.getRgb(this.color, DRAW_OPACITY)\n            });\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.type = null;\n            this.actions.stopDrawingMode();\n            this.actions.changeSelectableAll(true);\n            this._els.lineSelectButton.classList.remove('free');\n            this._els.lineSelectButton.classList.remove('line');\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.type = 'free';\n            this._els.lineSelectButton.classList.add('free');\n            this.setDrawMode();\n        }\n\n        /**\n         * Change draw type event\n         * @param {object} event - line select event\n         * @private\n         */\n\n    }, {\n        key: '_changeDrawType',\n        value: function _changeDrawType(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                var lineType = this.getButtonType(button, ['free', 'line']);\n                this.actions.discardSelection();\n\n                if (this.type === lineType) {\n                    this.changeStandbyMode();\n\n                    return;\n                }\n\n                this.changeStandbyMode();\n                this.type = lineType;\n                this._els.lineSelectButton.classList.add(lineType);\n                this.setDrawMode();\n            }\n        }\n\n        /**\n         * Change drawing color\n         * @param {string} color - select drawing color\n         * @private\n         */\n\n    }, {\n        key: '_changeDrawColor',\n        value: function _changeDrawColor(color) {\n            this.color = color || 'transparent';\n            if (!this.type) {\n                this.changeStartMode();\n            } else {\n                this.setDrawMode();\n            }\n        }\n\n        /**\n         * Change drawing Range\n         * @param {number} value - select drawing range\n         * @private\n         */\n\n    }, {\n        key: '_changeDrawRange',\n        value: function _changeDrawRange(value) {\n            this.width = value;\n            if (!this.type) {\n                this.changeStartMode();\n            } else {\n                this.setDrawMode();\n            }\n        }\n    }]);\n\n    return Draw;\n}(_submenuBase2.default);\n\nexports.default = Draw;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/draw.js?")},"./src/js/ui/filter.js":function srcJsUiFilterJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _filter = __webpack_require__(/*! ./template/submenu/filter */ \"./src/js/ui/template/submenu/filter.js\");\n\nvar _filter2 = _interopRequireDefault(_filter);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar PICKER_CONTROL_HEIGHT = '130px';\nvar BLEND_OPTIONS = ['add', 'diff', 'subtract', 'multiply', 'screen', 'lighten', 'darken'];\nvar FILTER_OPTIONS = ['grayscale', 'invert', 'sepia', 'vintage', 'blur', 'sharpen', 'emboss', 'remove-white', 'brightness', 'noise', 'pixelate', 'color-filter', 'tint', 'multiply', 'blend'];\n\nvar filterNameMap = {\n    grayscale: 'grayscale',\n    invert: 'invert',\n    sepia: 'sepia',\n    blur: 'blur',\n    sharpen: 'sharpen',\n    emboss: 'emboss',\n    removeWhite: 'removeColor',\n    brightness: 'brightness',\n    contrast: 'contrast',\n    saturation: 'saturation',\n    vintage: 'vintage',\n    polaroid: 'polaroid',\n    noise: 'noise',\n    pixelate: 'pixelate',\n    colorFilter: 'removeColor',\n    tint: 'blendColor',\n    multiply: 'blendColor',\n    blend: 'blendColor',\n    hue: 'hue',\n    gamma: 'gamma'\n};\n\nvar RANGE_INSTANCE_NAMES = ['removewhiteDistanceRange', 'colorfilterThresholeRange', 'pixelateRange', 'noiseRange', 'brightnessRange', 'tintOpacity'];\nvar COLORPICKER_INSTANCE_NAMES = ['filterBlendColor', 'filterMultiplyColor', 'filterTintColor'];\n\n/**\n * Filter ui class\n * @class\n * @ignore\n */\n\nvar Filter = function (_Submenu) {\n    _inherits(Filter, _Submenu);\n\n    function Filter(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Filter);\n\n        var _this = _possibleConstructorReturn(this, (Filter.__proto__ || Object.getPrototypeOf(Filter)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'filter',\n            menuBarPosition: menuBarPosition,\n            templateHtml: _filter2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.selectBoxShow = false;\n\n        _this.checkedMap = {};\n        _this._makeControlElement();\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Filter, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._destroyToolInstance();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n\n        /**\n         * Remove event for filter\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            var _this2 = this;\n\n            _tuiCodeSnippet2.default.forEach(FILTER_OPTIONS, function (filter) {\n                var filterCheckElement = _this2.selector('.tie-' + filter);\n                var filterNameCamelCase = (0, _util.toCamelCase)(filter);\n\n                filterCheckElement.removeEventListener('change', _this2.eventHandler[filterNameCamelCase]);\n            });\n\n            _tuiCodeSnippet2.default.forEach([].concat(RANGE_INSTANCE_NAMES, COLORPICKER_INSTANCE_NAMES), function (instanceName) {\n                _this2._els[instanceName].off();\n            });\n\n            this._els.blendType.removeEventListener('change', this.eventHandler.changeBlendFilter);\n            this._els.blendType.removeEventListener('click', this.eventHandler.changeBlendFilter);\n        }\n    }, {\n        key: '_destroyToolInstance',\n        value: function _destroyToolInstance() {\n            var _this3 = this;\n\n            _tuiCodeSnippet2.default.forEach([].concat(RANGE_INSTANCE_NAMES, COLORPICKER_INSTANCE_NAMES), function (instanceName) {\n                _this3._els[instanceName].destroy();\n            });\n        }\n\n        /**\n         * Add event for filter\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.applyFilter - apply filter option\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(_ref2) {\n            var _this4 = this;\n\n            var applyFilter = _ref2.applyFilter;\n\n            var changeFilterState = function changeFilterState(filterName) {\n                return _this4._changeFilterState.bind(_this4, applyFilter, filterName);\n            };\n            var changeFilterStateForRange = function changeFilterStateForRange(filterName) {\n                return function (value, isLast) {\n                    return _this4._changeFilterState(applyFilter, filterName, isLast);\n                };\n            };\n\n            this.eventHandler = {\n                changeBlendFilter: changeFilterState('blend'),\n                blandTypeClick: function blandTypeClick(event) {\n                    return event.stopPropagation();\n                }\n            };\n\n            _tuiCodeSnippet2.default.forEach(FILTER_OPTIONS, function (filter) {\n                var filterCheckElement = _this4.selector('.tie-' + filter);\n                var filterNameCamelCase = (0, _util.toCamelCase)(filter);\n                _this4.checkedMap[filterNameCamelCase] = filterCheckElement;\n                _this4.eventHandler[filterNameCamelCase] = changeFilterState(filterNameCamelCase);\n\n                filterCheckElement.addEventListener('change', _this4.eventHandler[filterNameCamelCase]);\n            });\n\n            this._els.removewhiteDistanceRange.on('change', changeFilterStateForRange('removeWhite'));\n            this._els.colorfilterThresholeRange.on('change', changeFilterStateForRange('colorFilter'));\n            this._els.pixelateRange.on('change', changeFilterStateForRange('pixelate'));\n            this._els.noiseRange.on('change', changeFilterStateForRange('noise'));\n            this._els.brightnessRange.on('change', changeFilterStateForRange('brightness'));\n\n            this._els.filterBlendColor.on('change', this.eventHandler.changeBlendFilter);\n            this._els.filterMultiplyColor.on('change', changeFilterState('multiply'));\n            this._els.filterTintColor.on('change', changeFilterState('tint'));\n            this._els.tintOpacity.on('change', changeFilterStateForRange('tint'));\n            this._els.filterMultiplyColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n            this._els.filterTintColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n            this._els.filterBlendColor.on('changeShow', this.colorPickerChangeShow.bind(this));\n\n            this._els.blendType.addEventListener('change', this.eventHandler.changeBlendFilter);\n            this._els.blendType.addEventListener('click', this.eventHandler.blandTypeClick);\n        }\n\n        /**\n         * Set filter for undo changed\n         * @param {Object} chagedFilterInfos - changed command infos\n         *   @param {string} type - filter type\n         *   @param {string} action - add or remove\n         *   @param {Object} options - filter options\n         */\n\n    }, {\n        key: 'setFilterState',\n        value: function setFilterState(chagedFilterInfos) {\n            var type = chagedFilterInfos.type,\n                options = chagedFilterInfos.options,\n                action = chagedFilterInfos.action;\n\n            var filterName = this._getFilterNameFromOptions(type, options);\n            var isRemove = action === 'remove';\n\n            if (!isRemove) {\n                this._setFilterState(filterName, options);\n            }\n\n            this.checkedMap[filterName].checked = !isRemove;\n        }\n\n        /**\n         * Set filter for undo changed\n         * @param {string} filterName - filter name\n         * @param {Object} options - filter options\n         * @private\n         */\n\n    }, {\n        key: '_setFilterState',\n        value: function _setFilterState(filterName, options) {\n            // eslint-disable-line\n            if (filterName === 'colorFilter') {\n                this._els.colorfilterThresholeRange.value = options.distance;\n            } else if (filterName === 'removeWhite') {\n                this._els.removewhiteDistanceRange.value = options.distance;\n            } else if (filterName === 'pixelate') {\n                this._els.pixelateRange.value = options.blocksize;\n            } else if (filterName === 'brightness') {\n                this._els.brightnessRange.value = options.brightness;\n            } else if (filterName === 'noise') {\n                this._els.noiseRange.value = options.noise;\n            } else if (filterName === 'tint') {\n                this._els.tintOpacity.value = options.alpha;\n                this._els.filterTintColor.color = options.color;\n            } else if (filterName === 'blend') {\n                this._els.filterBlendColor.color = options.color;\n            } else if (filterName === 'multiply') {\n                this._els.filterMultiplyColor.color = options.color;\n            }\n        }\n\n        /**\n         * Get filter name\n         * @param {string} type - filter type\n         * @param {Object} options - filter options\n         * @returns {string} filter name\n         * @private\n         */\n\n    }, {\n        key: '_getFilterNameFromOptions',\n        value: function _getFilterNameFromOptions(type, options) {\n            var filterName = type;\n\n            if (type === 'removeColor') {\n                filterName = _tuiCodeSnippet2.default.isExisty(options.useAlpha) ? 'removeWhite' : 'colorFilter';\n            } else if (type === 'blendColor') {\n                filterName = {\n                    add: 'blend',\n                    multiply: 'multiply',\n                    tint: 'tint'\n                }[options.mode];\n            }\n\n            return filterName;\n        }\n\n        /**\n         * Add event for filter\n         * @param {Function} applyFilter - actions for firter\n         * @param {string} filterName - filter name\n         * @param {boolean} [isLast] - Is last change\n         */\n\n    }, {\n        key: '_changeFilterState',\n        value: function _changeFilterState(applyFilter, filterName) {\n            var isLast = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : true;\n\n            var apply = this.checkedMap[filterName].checked;\n            var type = filterNameMap[filterName];\n\n            var checkboxGroup = this.checkedMap[filterName].closest('.tui-image-editor-checkbox-group');\n            if (checkboxGroup) {\n                if (apply) {\n                    checkboxGroup.classList.remove('tui-image-editor-disabled');\n                } else {\n                    checkboxGroup.classList.add('tui-image-editor-disabled');\n                }\n            }\n            applyFilter(apply, type, this._getFilterOption(filterName), !isLast);\n        }\n\n        /**\n         * Get filter option\n         * @param {String} type - filter type\n         * @returns {Object} filter option object\n         * @private\n         */\n\n    }, {\n        key: '_getFilterOption',\n        value: function _getFilterOption(type) {\n            // eslint-disable-line\n            var option = {};\n            switch (type) {\n                case 'removeWhite':\n                    option.color = '#FFFFFF';\n                    option.useAlpha = false;\n                    option.distance = parseFloat(this._els.removewhiteDistanceRange.value);\n                    break;\n                case 'colorFilter':\n                    option.color = '#FFFFFF';\n                    option.distance = parseFloat(this._els.colorfilterThresholeRange.value);\n                    break;\n                case 'pixelate':\n                    option.blocksize = (0, _util.toInteger)(this._els.pixelateRange.value);\n                    break;\n                case 'noise':\n                    option.noise = (0, _util.toInteger)(this._els.noiseRange.value);\n                    break;\n                case 'brightness':\n                    option.brightness = parseFloat(this._els.brightnessRange.value);\n                    break;\n                case 'blend':\n                    option.mode = 'add';\n                    option.color = this._els.filterBlendColor.color;\n                    option.mode = this._els.blendType.value;\n                    break;\n                case 'multiply':\n                    option.mode = 'multiply';\n                    option.color = this._els.filterMultiplyColor.color;\n                    break;\n                case 'tint':\n                    option.mode = 'tint';\n                    option.color = this._els.filterTintColor.color;\n                    option.alpha = this._els.tintOpacity.value;\n                    break;\n                default:\n                    break;\n            }\n\n            return option;\n        }\n\n        /**\n         * Make submenu range and colorpicker control\n         * @private\n         */\n\n    }, {\n        key: '_makeControlElement',\n        value: function _makeControlElement() {\n            this._els = {\n                removewhiteDistanceRange: new _range2.default({ slider: this.selector('.tie-removewhite-distance-range') }, _consts.defaultFilterRangeValus.removewhiteDistanceRange),\n                brightnessRange: new _range2.default({ slider: this.selector('.tie-brightness-range') }, _consts.defaultFilterRangeValus.brightnessRange),\n                noiseRange: new _range2.default({ slider: this.selector('.tie-noise-range') }, _consts.defaultFilterRangeValus.noiseRange),\n                pixelateRange: new _range2.default({ slider: this.selector('.tie-pixelate-range') }, _consts.defaultFilterRangeValus.pixelateRange),\n                colorfilterThresholeRange: new _range2.default({ slider: this.selector('.tie-colorfilter-threshole-range') }, _consts.defaultFilterRangeValus.colorfilterThresholeRange),\n                filterTintColor: new _colorpicker2.default(this.selector('.tie-filter-tint-color'), '#03bd9e', this.toggleDirection, this.usageStatistics),\n                filterMultiplyColor: new _colorpicker2.default(this.selector('.tie-filter-multiply-color'), '#515ce6', this.toggleDirection, this.usageStatistics),\n                filterBlendColor: new _colorpicker2.default(this.selector('.tie-filter-blend-color'), '#ffbb3b', this.toggleDirection, this.usageStatistics)\n            };\n\n            this._els.tintOpacity = this._pickerWithRange(this._els.filterTintColor.pickerControl);\n            this._els.blendType = this._pickerWithSelectbox(this._els.filterBlendColor.pickerControl);\n\n            this.colorPickerControls.push(this._els.filterTintColor);\n            this.colorPickerControls.push(this._els.filterMultiplyColor);\n            this.colorPickerControls.push(this._els.filterBlendColor);\n        }\n\n        /**\n         * Make submenu control for picker & range mixin\n         * @param {HTMLElement} pickerControl - pickerControl dom element\n         * @returns {Range}\n         * @private\n         */\n\n    }, {\n        key: '_pickerWithRange',\n        value: function _pickerWithRange(pickerControl) {\n            var rangeWrap = document.createElement('div');\n            var rangelabel = document.createElement('label');\n            var slider = document.createElement('div');\n\n            slider.id = 'tie-filter-tint-opacity';\n            rangelabel.innerHTML = 'Opacity';\n            rangeWrap.appendChild(rangelabel);\n            rangeWrap.appendChild(slider);\n            pickerControl.appendChild(rangeWrap);\n            pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n            return new _range2.default({ slider: slider }, _consts.defaultFilterRangeValus.tintOpacityRange);\n        }\n\n        /**\n         * Make submenu control for picker & selectbox\n         * @param {HTMLElement} pickerControl - pickerControl dom element\n         * @returns {HTMLElement}\n         * @private\n         */\n\n    }, {\n        key: '_pickerWithSelectbox',\n        value: function _pickerWithSelectbox(pickerControl) {\n            var selectlistWrap = document.createElement('div');\n            var selectlist = document.createElement('select');\n            var optionlist = document.createElement('ul');\n\n            selectlistWrap.className = 'tui-image-editor-selectlist-wrap';\n            optionlist.className = 'tui-image-editor-selectlist';\n\n            selectlistWrap.appendChild(selectlist);\n            selectlistWrap.appendChild(optionlist);\n\n            this._makeSelectOptionList(selectlist);\n\n            pickerControl.appendChild(selectlistWrap);\n            pickerControl.style.height = PICKER_CONTROL_HEIGHT;\n\n            this._drawSelectOptionList(selectlist, optionlist);\n            this._pickerWithSelectboxForAddEvent(selectlist, optionlist);\n\n            return selectlist;\n        }\n\n        /**\n         * Make selectbox option list custom style\n         * @param {HTMLElement} selectlist - selectbox element\n         * @param {HTMLElement} optionlist - custom option list item element\n         * @private\n         */\n\n    }, {\n        key: '_drawSelectOptionList',\n        value: function _drawSelectOptionList(selectlist, optionlist) {\n            var options = selectlist.querySelectorAll('option');\n            _tuiCodeSnippet2.default.forEach(options, function (option) {\n                var optionElement = document.createElement('li');\n                optionElement.innerHTML = option.innerHTML;\n                optionElement.setAttribute('data-item', option.value);\n                optionlist.appendChild(optionElement);\n            });\n        }\n\n        /**\n         * custome selectbox custom event\n         * @param {HTMLElement} selectlist - selectbox element\n         * @param {HTMLElement} optionlist - custom option list item element\n         * @private\n         */\n\n    }, {\n        key: '_pickerWithSelectboxForAddEvent',\n        value: function _pickerWithSelectboxForAddEvent(selectlist, optionlist) {\n            var _this5 = this;\n\n            optionlist.addEventListener('click', function (event) {\n                var optionValue = event.target.getAttribute('data-item');\n                var fireEvent = document.createEvent('HTMLEvents');\n\n                selectlist.querySelector('[value=\"' + optionValue + '\"]').selected = true;\n                fireEvent.initEvent('change', true, true);\n\n                selectlist.dispatchEvent(fireEvent);\n\n                _this5.selectBoxShow = false;\n                optionlist.style.display = 'none';\n            });\n\n            selectlist.addEventListener('mousedown', function (event) {\n                event.preventDefault();\n                _this5.selectBoxShow = !_this5.selectBoxShow;\n                optionlist.style.display = _this5.selectBoxShow ? 'block' : 'none';\n                optionlist.setAttribute('data-selectitem', selectlist.value);\n                optionlist.querySelector('[data-item=\\'' + selectlist.value + '\\']').classList.add('active');\n            });\n        }\n\n        /**\n         * Make option list for select control\n         * @param {HTMLElement} selectlist - blend option select list element\n         * @private\n         */\n\n    }, {\n        key: '_makeSelectOptionList',\n        value: function _makeSelectOptionList(selectlist) {\n            _tuiCodeSnippet2.default.forEach(BLEND_OPTIONS, function (option) {\n                var selectOption = document.createElement('option');\n                selectOption.setAttribute('value', option);\n                selectOption.innerHTML = option.replace(/^[a-z]/, function ($0) {\n                    return $0.toUpperCase();\n                });\n                selectlist.appendChild(selectOption);\n            });\n        }\n    }]);\n\n    return Filter;\n}(_submenuBase2.default);\n\nexports.default = Filter;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/filter.js?")},"./src/js/ui/flip.js":function srcJsUiFlipJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _flip = __webpack_require__(/*! ./template/submenu/flip */ \"./src/js/ui/template/submenu/flip.js\");\n\nvar _flip2 = _interopRequireDefault(_flip);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Flip ui class\n * @class\n * @ignore\n */\nvar Flip = function (_Submenu) {\n    _inherits(Flip, _Submenu);\n\n    function Flip(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Flip);\n\n        var _this = _possibleConstructorReturn(this, (Flip.__proto__ || Object.getPrototypeOf(Flip)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'flip',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _flip2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.flipStatus = false;\n\n        _this._els = {\n            flipButton: _this.selector('.tie-flip-button')\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Flip, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for flip\n         * @param {Object} actions - actions for flip\n         *   @param {Function} actions.flip - flip action\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.changeFlip = this._changeFlip.bind(this);\n            this._actions = actions;\n            this._els.flipButton.addEventListener('click', this.eventHandler.changeFlip);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.flipButton.removeEventListener('click', this.eventHandler.changeFlip);\n        }\n\n        /**\n         * change Flip status\n         * @param {object} event - change event\n         * @private\n         */\n\n    }, {\n        key: '_changeFlip',\n        value: function _changeFlip(event) {\n            var _this2 = this;\n\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                var flipType = this.getButtonType(button, ['flipX', 'flipY', 'resetFlip']);\n                if (!this.flipStatus && flipType === 'resetFlip') {\n                    return;\n                }\n\n                this._actions.flip(flipType).then(function (flipStatus) {\n                    var flipClassList = _this2._els.flipButton.classList;\n                    _this2.flipStatus = false;\n\n                    flipClassList.remove('resetFlip');\n                    _tuiCodeSnippet2.default.forEach(['flipX', 'flipY'], function (type) {\n                        flipClassList.remove(type);\n                        if (flipStatus[type]) {\n                            flipClassList.add(type);\n                            flipClassList.add('resetFlip');\n                            _this2.flipStatus = true;\n                        }\n                    });\n                });\n            }\n        }\n    }]);\n\n    return Flip;\n}(_submenuBase2.default);\n\nexports.default = Flip;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/flip.js?")},"./src/js/ui/icon.js":function srcJsUiIconJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _icon = __webpack_require__(/*! ./template/submenu/icon */ \"./src/js/ui/template/submenu/icon.js\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Icon ui class\n * @class\n * @ignore\n */\nvar Icon = function (_Submenu) {\n    _inherits(Icon, _Submenu);\n\n    function Icon(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Icon);\n\n        var _this = _possibleConstructorReturn(this, (Icon.__proto__ || Object.getPrototypeOf(Icon)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'icon',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _icon2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.iconType = null;\n        _this._iconMap = {};\n\n        _this._els = {\n            registrIconButton: _this.selector('.tie-icon-image-file'),\n            addIconButton: _this.selector('.tie-icon-add-button'),\n            iconColorpicker: new _colorpicker2.default(_this.selector('.tie-icon-color'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics)\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Icon, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.iconColorpicker.destroy();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n\n        /**\n         * Add event for icon\n         * @param {Object} actions - actions for icon\n         *   @param {Function} actions.registCustomIcon - register icon\n         *   @param {Function} actions.addIcon - add icon\n         *   @param {Function} actions.changeColor - change icon color\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var registerIcon = this._registerIconHandler.bind(this);\n            var addIcon = this._addIconHandler.bind(this);\n\n            this.eventHandler = {\n                registerIcon: registerIcon,\n                addIcon: addIcon\n            };\n\n            this.actions = actions;\n            this._els.iconColorpicker.on('change', this._changeColorHandler.bind(this));\n            this._els.registrIconButton.addEventListener('change', registerIcon);\n            this._els.addIconButton.addEventListener('click', addIcon);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.iconColorpicker.off();\n            this._els.registrIconButton.removeEventListener('change', this.eventHandler.registerIcon);\n            this._els.addIconButton.removeEventListener('click', this.eventHandler.addIcon);\n        }\n\n        /**\n         * Clear icon type\n         */\n\n    }, {\n        key: 'clearIconType',\n        value: function clearIconType() {\n            this._els.addIconButton.classList.remove(this.iconType);\n            this.iconType = null;\n        }\n\n        /**\n         * Register default icon\n         */\n\n    }, {\n        key: 'registDefaultIcon',\n        value: function registDefaultIcon() {\n            var _this2 = this;\n\n            _tuiCodeSnippet2.default.forEach(_consts.defaultIconPath, function (path, type) {\n                _this2.actions.registDefalutIcons(type, path);\n            });\n        }\n\n        /**\n         * Set icon picker color\n         * @param {string} iconColor - rgb color string\n         */\n\n    }, {\n        key: 'setIconPickerColor',\n        value: function setIconPickerColor(iconColor) {\n            this._els.iconColorpicker.color = iconColor;\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.clearIconType();\n            this.actions.cancelAddIcon();\n        }\n\n        /**\n         * Change icon color\n         * @param {string} color - color for change\n         * @private\n         */\n\n    }, {\n        key: '_changeColorHandler',\n        value: function _changeColorHandler(color) {\n            color = color || 'transparent';\n            this.actions.changeColor(color);\n        }\n\n        /**\n         * Change icon color\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_addIconHandler',\n        value: function _addIconHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n\n            if (button) {\n                var iconType = button.getAttribute('data-icontype');\n                var iconColor = this._els.iconColorpicker.color;\n                this.actions.discardSelection();\n                this.actions.changeSelectableAll(false);\n                this._els.addIconButton.classList.remove(this.iconType);\n                this._els.addIconButton.classList.add(iconType);\n\n                if (this.iconType === iconType) {\n                    this.changeStandbyMode();\n                } else {\n                    this.actions.addIcon(iconType, iconColor);\n                    this.iconType = iconType;\n                }\n            }\n        }\n\n        /**\n         * register icon\n         * @param {object} event - file change event object\n         * @private\n         */\n\n    }, {\n        key: '_registerIconHandler',\n        value: function _registerIconHandler(event) {\n            var imgUrl = void 0;\n\n            if (!_util.isSupportFileApi) {\n                alert('This browser does not support file-api');\n            }\n\n            var _event$target$files = event.target.files,\n                file = _event$target$files[0];\n\n\n            if (file) {\n                imgUrl = URL.createObjectURL(file);\n                this.actions.registCustomIcon(imgUrl, file);\n            }\n        }\n    }]);\n\n    return Icon;\n}(_submenuBase2.default);\n\nexports.default = Icon;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/icon.js?")},"./src/js/ui/locale/locale.js":function srcJsUiLocaleLocaleJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }\n\n/**\n * Translate messages\n */\nvar Locale = function () {\n  /**\n   * @constructor\n   * @param {Object} locale - Locale object for initialise\n   */\n  function Locale(locale) {\n    _classCallCheck(this, Locale);\n\n    this._locale = locale;\n  }\n\n  /**\n   * localize message\n   * @param {string} message - message who will be localized\n   * @returns {string}\n   */\n\n\n  _createClass(Locale, [{\n    key: "localize",\n    value: function localize(message) {\n      return this._locale[message] || message;\n    }\n  }]);\n\n  return Locale;\n}();\n\nexports.default = Locale;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/locale/locale.js?')},"./src/js/ui/mask.js":function srcJsUiMaskJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _mask = __webpack_require__(/*! ./template/submenu/mask */ \"./src/js/ui/template/submenu/mask.js\");\n\nvar _mask2 = _interopRequireDefault(_mask);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Mask ui class\n * @class\n * @ignore\n */\nvar Mask = function (_Submenu) {\n    _inherits(Mask, _Submenu);\n\n    function Mask(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Mask);\n\n        var _this = _possibleConstructorReturn(this, (Mask.__proto__ || Object.getPrototypeOf(Mask)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'mask',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _mask2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this._els = {\n            applyButton: _this.selector('.tie-mask-apply'),\n            maskImageButton: _this.selector('.tie-mask-image-file')\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Mask, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for mask\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.loadImageFromURL - load image action\n         *   @param {Function} actions.applyFilter - apply filter action\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var loadMaskFile = this._loadMaskFile.bind(this);\n            var applyMask = this._applyMask.bind(this);\n\n            this.eventHandler = {\n                loadMaskFile: loadMaskFile,\n                applyMask: applyMask\n            };\n\n            this.actions = actions;\n            this._els.maskImageButton.addEventListener('change', loadMaskFile);\n            this._els.applyButton.addEventListener('click', applyMask);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.maskImageButton.removeEventListener('change', this.eventHandler.loadMaskFile);\n            this._els.applyButton.removeEventListener('click', this.eventHandler.applyMask);\n        }\n\n        /**\n         * Apply mask\n         * @private\n         */\n\n    }, {\n        key: '_applyMask',\n        value: function _applyMask() {\n            this.actions.applyFilter();\n            this._els.applyButton.classList.remove('active');\n        }\n\n        /**\n         * Load mask file\n         * @param {object} event - File change event object\n         * @private\n         */\n\n    }, {\n        key: '_loadMaskFile',\n        value: function _loadMaskFile(event) {\n            var imgUrl = void 0;\n\n            if (!_util2.default.isSupportFileApi()) {\n                alert('This browser does not support file-api');\n            }\n\n            var _event$target$files = event.target.files,\n                file = _event$target$files[0];\n\n\n            if (file) {\n                imgUrl = URL.createObjectURL(file);\n                this.actions.loadImageFromURL(imgUrl, file);\n                this._els.applyButton.classList.add('active');\n            }\n        }\n    }]);\n\n    return Mask;\n}(_submenuBase2.default);\n\nexports.default = Mask;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/mask.js?")},"./src/js/ui/rotate.js":function srcJsUiRotateJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _rotate = __webpack_require__(/*! ./template/submenu/rotate */ \"./src/js/ui/template/submenu/rotate.js\");\n\nvar _rotate2 = _interopRequireDefault(_rotate);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar CLOCKWISE = 30;\nvar COUNTERCLOCKWISE = -30;\n\n/**\n * Rotate ui class\n * @class\n * @ignore\n */\n\nvar Rotate = function (_Submenu) {\n    _inherits(Rotate, _Submenu);\n\n    function Rotate(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Rotate);\n\n        var _this = _possibleConstructorReturn(this, (Rotate.__proto__ || Object.getPrototypeOf(Rotate)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'rotate',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _rotate2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this._value = 0;\n\n        _this._els = {\n            rotateButton: _this.selector('.tie-retate-button'),\n            rotateRange: new _range2.default({\n                slider: _this.selector('.tie-rotate-range'),\n                input: _this.selector('.tie-ratate-range-value')\n            }, _consts.defaultRotateRangeValus)\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Rotate, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.rotateRange.destroy();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n    }, {\n        key: 'setRangeBarAngle',\n        value: function setRangeBarAngle(type, angle) {\n            var resultAngle = angle;\n\n            if (type === 'rotate') {\n                resultAngle = parseInt(this._els.rotateRange.value, 10) + angle;\n            }\n\n            this._setRangeBarRatio(resultAngle);\n        }\n    }, {\n        key: '_setRangeBarRatio',\n        value: function _setRangeBarRatio(angle) {\n            this._els.rotateRange.value = angle;\n        }\n\n        /**\n         * Add event for rotate\n         * @param {Object} actions - actions for crop\n         *   @param {Function} actions.rotate - rotate action\n         *   @param {Function} actions.setAngle - set angle action\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.rotationAngleChanged = this._changeRotateForButton.bind(this);\n\n            // {rotate, setAngle}\n            this.actions = actions;\n            this._els.rotateButton.addEventListener('click', this.eventHandler.rotationAngleChanged);\n            this._els.rotateRange.on('change', this._changeRotateForRange.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.rotateButton.removeEventListener('click', this.eventHandler.rotationAngleChanged);\n            this._els.rotateRange.off();\n        }\n\n        /**\n         * Change rotate for range\n         * @param {number} value - angle value\n         * @param {boolean} isLast - Is last change\n         * @private\n         */\n\n    }, {\n        key: '_changeRotateForRange',\n        value: function _changeRotateForRange(value, isLast) {\n            var angle = (0, _util.toInteger)(value);\n            this.actions.setAngle(angle, !isLast);\n            this._value = angle;\n        }\n\n        /**\n         * Change rotate for button\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_changeRotateForButton',\n        value: function _changeRotateForButton(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            var angle = this._els.rotateRange.value;\n\n            if (button) {\n                var rotateType = this.getButtonType(button, ['counterclockwise', 'clockwise']);\n                var rotateAngle = {\n                    clockwise: CLOCKWISE,\n                    counterclockwise: COUNTERCLOCKWISE\n                }[rotateType];\n                var newAngle = parseInt(angle, 10) + rotateAngle;\n                var isRotatable = newAngle >= -360 && newAngle <= 360;\n                if (isRotatable) {\n                    this.actions.rotate(rotateAngle);\n                }\n            }\n        }\n    }]);\n\n    return Rotate;\n}(_submenuBase2.default);\n\nexports.default = Rotate;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/rotate.js?")},"./src/js/ui/shape.js":function srcJsUiShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _shape = __webpack_require__(/*! ./template/submenu/shape */ \"./src/js/ui/template/submenu/shape.js\");\n\nvar _shape2 = _interopRequireDefault(_shape);\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar SHAPE_DEFAULT_OPTION = {\n    stroke: '#ffbb3b',\n    fill: '',\n    strokeWidth: 3\n};\n\n/**\n * Shape ui class\n * @class\n * @ignore\n */\n\nvar Shape = function (_Submenu) {\n    _inherits(Shape, _Submenu);\n\n    function Shape(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Shape);\n\n        var _this = _possibleConstructorReturn(this, (Shape.__proto__ || Object.getPrototypeOf(Shape)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'shape',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _shape2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.type = null;\n        _this.options = SHAPE_DEFAULT_OPTION;\n\n        _this._els = {\n            shapeSelectButton: _this.selector('.tie-shape-button'),\n            shapeColorButton: _this.selector('.tie-shape-color-button'),\n            strokeRange: new _range2.default({\n                slider: _this.selector('.tie-stroke-range'),\n                input: _this.selector('.tie-stroke-range-value')\n            }, _consts.defaultShapeStrokeValus),\n            fillColorpicker: new _colorpicker2.default(_this.selector('.tie-color-fill'), '', _this.toggleDirection, _this.usageStatistics),\n            strokeColorpicker: new _colorpicker2.default(_this.selector('.tie-color-stroke'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics)\n        };\n\n        _this.colorPickerControls.push(_this._els.fillColorpicker);\n        _this.colorPickerControls.push(_this._els.strokeColorpicker);\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Shape, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.strokeRange.destroy();\n            this._els.fillColorpicker.destroy();\n            this._els.strokeColorpicker.destroy();\n\n            (0, _util.assignmentForDestroy)(this);\n        }\n\n        /**\n         * Add event for shape\n         * @param {Object} actions - actions for shape\n         *   @param {Function} actions.changeShape - change shape mode\n         *   @param {Function} actions.setDrawingShape - set dreawing shape\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            this.eventHandler.shapeTypeSelected = this._changeShapeHandler.bind(this);\n            this.actions = actions;\n\n            this._els.shapeSelectButton.addEventListener('click', this.eventHandler.shapeTypeSelected);\n            this._els.strokeRange.on('change', this._changeStrokeRangeHandler.bind(this));\n            this._els.fillColorpicker.on('change', this._changeFillColorHandler.bind(this));\n            this._els.strokeColorpicker.on('change', this._changeStrokeColorHandler.bind(this));\n            this._els.fillColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n            this._els.strokeColorpicker.on('changeShow', this.colorPickerChangeShow.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this._els.shapeSelectButton.removeEventListener('click', this.eventHandler.shapeTypeSelected);\n            this._els.strokeRange.off();\n            this._els.fillColorpicker.off();\n            this._els.strokeColorpicker.off();\n        }\n\n        /**\n         * Set Shape status\n         * @param {Object} options - options of shape status\n         *   @param {string} strokeWidth - stroke width\n         *   @param {string} strokeColor - stroke color\n         *   @param {string} fillColor - fill color\n         */\n\n    }, {\n        key: 'setShapeStatus',\n        value: function setShapeStatus(_ref2) {\n            var strokeWidth = _ref2.strokeWidth,\n                strokeColor = _ref2.strokeColor,\n                fillColor = _ref2.fillColor;\n\n            this._els.strokeRange.value = strokeWidth;\n            this._els.strokeColorpicker.color = strokeColor;\n            this._els.fillColorpicker.color = fillColor;\n            this.options.stroke = strokeColor;\n            this.options.fill = fillColor;\n            this.options.strokeWidth = strokeWidth;\n\n            this.actions.setDrawingShape(this.type, { strokeWidth: strokeWidth });\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.actions.stopDrawingMode();\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.type = null;\n            this.actions.changeSelectableAll(true);\n            this._els.shapeSelectButton.classList.remove('circle');\n            this._els.shapeSelectButton.classList.remove('triangle');\n            this._els.shapeSelectButton.classList.remove('rect');\n        }\n\n        /**\n         * set range stroke max value\n         * @param {number} maxValue - expect max value for change\n         */\n\n    }, {\n        key: 'setMaxStrokeValue',\n        value: function setMaxStrokeValue(maxValue) {\n            var strokeMaxValue = maxValue;\n            if (strokeMaxValue <= 0) {\n                strokeMaxValue = _consts.defaultShapeStrokeValus.max;\n            }\n            this._els.strokeRange.max = strokeMaxValue;\n        }\n\n        /**\n         * Set stroke value\n         * @param {number} value - expect value for strokeRange change\n         */\n\n    }, {\n        key: 'setStrokeValue',\n        value: function setStrokeValue(value) {\n            this._els.strokeRange.value = value;\n            this._els.strokeRange.trigger('change');\n        }\n\n        /**\n         * Get stroke value\n         * @returns {number} - stroke range value\n         */\n\n    }, {\n        key: 'getStrokeValue',\n        value: function getStrokeValue() {\n            return this._els.strokeRange.value;\n        }\n\n        /**\n         * Change icon color\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_changeShapeHandler',\n        value: function _changeShapeHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                this.actions.stopDrawingMode();\n                this.actions.discardSelection();\n                var shapeType = this.getButtonType(button, ['circle', 'triangle', 'rect']);\n\n                if (this.type === shapeType) {\n                    this.changeStandbyMode();\n\n                    return;\n                }\n                this.changeStandbyMode();\n                this.type = shapeType;\n                event.currentTarget.classList.add(shapeType);\n                this.actions.changeSelectableAll(false);\n                this.actions.modeChange('shape');\n            }\n        }\n\n        /**\n         * Change stroke range\n         * @param {number} value - stroke range value\n         * @param {boolean} isLast - Is last change\n         * @private\n         */\n\n    }, {\n        key: '_changeStrokeRangeHandler',\n        value: function _changeStrokeRangeHandler(value, isLast) {\n            this.options.strokeWidth = (0, _util.toInteger)(value);\n            this.actions.changeShape({\n                strokeWidth: value\n            }, !isLast);\n\n            this.actions.setDrawingShape(this.type, this.options);\n        }\n\n        /**\n         * Change shape color\n         * @param {string} color - fill color\n         * @private\n         */\n\n    }, {\n        key: '_changeFillColorHandler',\n        value: function _changeFillColorHandler(color) {\n            color = color || 'transparent';\n            this.options.fill = color;\n            this.actions.changeShape({\n                fill: color\n            });\n        }\n\n        /**\n         * Change shape stroke color\n         * @param {string} color - fill color\n         * @private\n         */\n\n    }, {\n        key: '_changeStrokeColorHandler',\n        value: function _changeStrokeColorHandler(color) {\n            color = color || 'transparent';\n            this.options.stroke = color;\n            this.actions.changeShape({\n                stroke: color\n            });\n        }\n    }]);\n\n    return Shape;\n}(_submenuBase2.default);\n\nexports.default = Shape;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/shape.js?")},"./src/js/ui/submenuBase.js":function srcJsUiSubmenuBaseJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Submenu Base Class\n * @class\n * @ignore\n */\nvar Submenu = function () {\n    /**\n     * @param {HTMLElement} subMenuElement - submenu dom element\n     * @param {Locale} locale - translate text\n     * @param {string} name - name of sub menu\n     * @param {Object} iconStyle - style of icon\n     * @param {string} menuBarPosition - position of menu\n     * @param {*} templateHtml - template for SubMenuElement\n     * @param {boolean} [usageStatistics=false] - template for SubMenuElement\n     */\n    function Submenu(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            name = _ref.name,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            templateHtml = _ref.templateHtml,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Submenu);\n\n        this.subMenuElement = subMenuElement;\n        this.menuBarPosition = menuBarPosition;\n        this.toggleDirection = menuBarPosition === 'top' ? 'down' : 'up';\n        this.colorPickerControls = [];\n        this.usageStatistics = usageStatistics;\n        this.eventHandler = {};\n        this._makeSubMenuElement({\n            locale: locale,\n            name: name,\n            makeSvgIcon: makeSvgIcon,\n            templateHtml: templateHtml\n        });\n    }\n\n    /**\n     * editor dom ui query selector\n     * @param {string} selectName - query selector string name\n     * @returns {HTMLElement}\n     */\n\n\n    _createClass(Submenu, [{\n        key: 'selector',\n        value: function selector(selectName) {\n            return this.subMenuElement.querySelector(selectName);\n        }\n\n        /**\n         * change show state change for colorpicker instance\n         * @param {Colorpicker} occurredControl - target Colorpicker Instance\n         */\n\n    }, {\n        key: 'colorPickerChangeShow',\n        value: function colorPickerChangeShow(occurredControl) {\n            this.colorPickerControls.forEach(function (pickerControl) {\n                if (occurredControl !== pickerControl) {\n                    pickerControl.hide();\n                }\n            });\n        }\n\n        /**\n         * Get butten type\n         * @param {HTMLElement} button - event target element\n         * @param {array} buttonNames - Array of button names\n         * @returns {string} - button type\n         */\n\n    }, {\n        key: 'getButtonType',\n        value: function getButtonType(button, buttonNames) {\n            return button.className.match(RegExp('(' + buttonNames.join('|') + ')'))[0];\n        }\n\n        /**\n         * Get butten type\n         * @param {HTMLElement} target - event target element\n         * @param {string} removeClass - remove class name\n         * @param {string} addClass - add class name\n         */\n\n    }, {\n        key: 'changeClass',\n        value: function changeClass(target, removeClass, addClass) {\n            target.classList.remove(removeClass);\n            target.classList.add(addClass);\n        }\n\n        /**\n         * Interface method whose implementation is optional.\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {}\n\n        /**\n         * Interface method whose implementation is optional.\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {}\n\n        /**\n         * Make submenu dom element\n         * @param {Locale} locale - translate text\n         * @param {string} name - submenu name\n         * @param {Object} iconStyle -  icon style\n         * @param {*} templateHtml - template for SubMenuElement\n         * @private\n         */\n\n    }, {\n        key: '_makeSubMenuElement',\n        value: function _makeSubMenuElement(_ref2) {\n            var locale = _ref2.locale,\n                name = _ref2.name,\n                iconStyle = _ref2.iconStyle,\n                makeSvgIcon = _ref2.makeSvgIcon,\n                templateHtml = _ref2.templateHtml;\n\n            var iconSubMenu = document.createElement('div');\n            iconSubMenu.className = 'tui-image-editor-menu-' + name;\n            iconSubMenu.innerHTML = templateHtml({\n                locale: locale,\n                iconStyle: iconStyle,\n                makeSvgIcon: makeSvgIcon\n            });\n\n            this.subMenuElement.appendChild(iconSubMenu);\n        }\n    }]);\n\n    return Submenu;\n}();\n\nexports.default = Submenu;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/submenuBase.js?")},"./src/js/ui/template/controls.js":function srcJsUiTemplateControlsJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        biImage = _ref.biImage,\n        loadButtonStyle = _ref.loadButtonStyle,\n        downloadButtonStyle = _ref.downloadButtonStyle;\n    return \'\\n    <div class="tui-image-editor-controls">\\n        <div class="tui-image-editor-controls-logo">\\n            <img src="\' + biImage + \'" />\\n        </div>\\n        <ul class="tui-image-editor-menu"></ul>\\n\\n        <div class="tui-image-editor-controls-buttons">\\n            <div style="\' + loadButtonStyle + \'">\\n                \' + locale.localize(\'Load\') + \'\\n                <input type="file" class="tui-image-editor-load-btn" />\\n            </div>\\n            <button class="tui-image-editor-download-btn" style="\' + downloadButtonStyle + \'">\\n                \' + locale.localize(\'Download\') + \'\\n            </button>\\n        </div>\\n    </div>\\n\';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/controls.js?')},"./src/js/ui/template/icon.svg":function srcJsUiTemplateIconSvg(module,exports){eval('module.exports = "<svg display=\\"none\\" xmlns=\\"http://www.w3.org/2000/svg\\" xmlns:xlink=\\"http://www.w3.org/1999/xlink\\"><defs id=\\"tui-image-editor-svg-default-icons\\"><symbol id=\\"ic-apply\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" stroke=\\"none\\" fill=\\"none\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M4 12.011l5 5L20.011 6\\"></path></symbol><symbol id=\\"ic-cancel\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M6 6l12 12M18 6L6 18\\"></path></symbol><symbol id=\\"ic-crop\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" stroke=\\"none\\" fill=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M4 0h1v20a1 1 0 0 1-1-1V0zM20 17h-1V5h1v12zm0 2v5h-1v-5h1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M5 19h19v1H5zM4.762 4v1H0V4h4.762zM7 4h12a1 1 0 0 1 1 1H7V4z\\"></path></symbol><symbol id=\\"ic-delete-all\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M5 23H3a1 1 0 0 1-1-1V6h1v16h2v1zm16-10h-1V6h1v7zM9 13H8v-3h1v3zm3 0h-1v-3h1v3zm3 0h-1v-3h1v3zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M0 3h23v1H0zM11.286 21H8.714L8 23H7l1-2.8V20h.071L9.5 16h1l1.429 4H12v.2l1 2.8h-1l-.714-2zm-.357-1L10 17.4 9.071 20h1.858zM20 22h3v1h-4v-7h1v6zm-5 0h3v1h-4v-7h1v6z\\"></path></symbol><symbol id=\\"ic-delete\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M3 6v16h17V6h1v16a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V6h1zM14.794 3.794L13 2h-3L8.206 3.794A.963.963 0 0 1 8 2.5l.703-1.055A1 1 0 0 1 9.535 1h3.93a1 1 0 0 1 .832.445L15 2.5a.965.965 0 0 1-.206 1.294zM14.197 4H8.803h5.394z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M0 3h23v1H0zM8 10h1v6H8v-6zm3 0h1v6h-1v-6zm3 0h1v6h-1v-6z\\"></path></symbol><symbol id=\\"ic-draw-free\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2.5 20.929C2.594 10.976 4.323 6 7.686 6c5.872 0 2.524 19 7.697 19s1.89-14.929 6.414-14.929 1.357 10.858 5.13 10.858c1.802 0 2.657-2.262 2.566-6.786\\"></path></symbol><symbol id=\\"ic-draw-line\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2 15.5h28\\"></path></symbol><symbol id=\\"ic-draw\\" viewBox=\\"0 0 24 24\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2.5 21.5H5c.245 0 .48-.058.691-.168l.124-.065.14.01c.429.028.85-.127 1.16-.437L22.55 5.405a.5.5 0 0 0 0-.707l-3.246-3.245a.5.5 0 0 0-.707 0L3.162 16.888a1.495 1.495 0 0 0-.437 1.155l.01.14-.065.123c-.111.212-.17.448-.17.694v2.5z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M16.414 3.707l3.89 3.89-.708.706-3.889-3.889z\\"></path></symbol><symbol id=\\"ic-filter\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M12 7v1H2V7h10zm6 0h4v1h-4V7zM12 16v1h10v-1H12zm-6 0H2v1h4v-1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M8.5 20a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5zM15.5 11a3.5 3.5 0 1 1 0-7 3.5 3.5 0 0 1 0 7zm0-1a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5z\\"></path></symbol><symbol id=\\"ic-flip-reset\\" viewBox=\\"0 0 31 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M31 0H0v32h31z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M28 16a8 8 0 0 1-8 8H3v-1h1v-7H3a8 8 0 0 1 8-8h17v1h-1v7h1zM11 9a7 7 0 0 0-7 7v7h16a7 7 0 0 0 7-7V9H11z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M24 5l3.5 3.5L24 12M7 20l-3.5 3.5L7 27\\"></path></symbol><symbol id=\\"ic-flip-x\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M32 32H0V0h32z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M17 32h-1V0h1zM27.167 11l.5 3h-1.03l-.546-3h1.076zm-.5-3h-1.122L25 5h-5V4h5.153a1 1 0 0 1 .986.836L26.667 8zm1.5 9l.5 3h-.94l-.545-3h.985zm1 6l.639 3.836A1 1 0 0 1 28.819 28H26v-1h3l-.726-4h.894zM23 28h-3v-1h3v1zM13 4v1H7L3 27h10v1H3.18a1 1 0 0 1-.986-1.164l3.666-22A1 1 0 0 1 6.847 4H13z\\"></path></symbol><symbol id=\\"ic-flip-y\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M0 0v32h32V0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M0 16v1h32v-1zM11 27.167l3 .5v-1.03l-3-.546v1.076zm-3-.5v-1.122L5 25v-5H4v5.153a1 1 0 0 0 .836.986L8 26.667zm9 1.5l3 .5v-.94l-3-.545v.985zm6 1l3.836.639A1 1 0 0 0 28 28.82V26h-1v3l-4-.727v.894zM28 23v-3h-1v3h1zM4 13h1V7l22-4v10h1V3.18a1 1 0 0 0-1.164-.986l-22 3.667A1 1 0 0 0 4 6.847V13z\\"></path></symbol><symbol id=\\"ic-flip\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path fill=\\"inherit\\" stroke=\\"none\\" d=\\"M11 0h1v24h-1zM19 21v-1h2v-2h1v2a1 1 0 0 1-1 1h-2zm-2 0h-3v-1h3v1zm5-5h-1v-3h1v3zm0-5h-1V8h1v3zm0-5h-1V4h-2V3h2a1 1 0 0 1 1 1v2zm-5-3v1h-3V3h3zM9 3v1H2v16h7v1H2a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h7z\\"></path></symbol><symbol id=\\"ic-icon-arrow-2\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M21.793 18.5H2.5v-5h18.935l-7.6-8h5.872l10.5 10.5-10.5 10.5h-5.914l8-8z\\"></path></symbol><symbol id=\\"ic-icon-arrow-3\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M25.288 16.42L14.208 27.5H6.792l11.291-11.291L6.826 4.5h7.381l11.661 11.661-.58.258z\\"></path></symbol><symbol id=\\"ic-icon-arrow\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M2.5 11.5v9h18v5.293L30.293 16 20.5 6.207V11.5h-18z\\"></path></symbol><symbol id=\\"ic-icon-bubble\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M22.207 24.5L16.5 30.207V24.5H8A6.5 6.5 0 0 1 1.5 18V9A6.5 6.5 0 0 1 8 2.5h16A6.5 6.5 0 0 1 30.5 9v9a6.5 6.5 0 0 1-6.5 6.5h-1.793z\\"></path></symbol><symbol id=\\"ic-icon-heart\\" viewBox=\\"0 0 32 32\\"><path fill-rule=\\"nonzero\\" fill=\\"none\\" stroke=\\"inherit\\" d=\\"M15.996 30.675l1.981-1.79c7.898-7.177 10.365-9.718 12.135-13.012.922-1.716 1.377-3.37 1.377-5.076 0-4.65-3.647-8.297-8.297-8.297-2.33 0-4.86 1.527-6.817 3.824l-.38.447-.381-.447C13.658 4.027 11.126 2.5 8.797 2.5 4.147 2.5.5 6.147.5 10.797c0 1.714.46 3.375 1.389 5.098 1.775 3.288 4.26 5.843 12.123 12.974l1.984 1.806z\\"></path></symbol><symbol id=\\"ic-icon-load\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M17.314 18.867l1.951-2.53 4 5.184h-17l6.5-8.84 4.549 6.186z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M25 3h1v9h-1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M22 6l3.5-3.5L29 6\\"></path></symbol><symbol id=\\"ic-icon-location\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M16 31.28C23.675 23.302 27.5 17.181 27.5 13c0-6.351-5.149-11.5-11.5-11.5S4.5 6.649 4.5 13c0 4.181 3.825 10.302 11.5 18.28z\\"></path><circle fill=\\"none\\" stroke=\\"inherit\\" cx=\\"16\\" cy=\\"13\\" r=\\"4.5\\"></circle></symbol><symbol id=\\"ic-icon-polygon\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M.576 16L8.29 29.5h15.42L31.424 16 23.71 2.5H8.29L.576 16z\\"></path></symbol><symbol id=\\"ic-icon-star-2\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M19.446 31.592l2.265-3.272 3.946.25.636-3.94 3.665-1.505-1.12-3.832 2.655-2.962-2.656-2.962 1.12-3.832-3.664-1.505-.636-3.941-3.946.25-2.265-3.271L16 3.024 12.554 1.07 10.289 4.34l-3.946-.25-.636 3.941-3.665 1.505 1.12 3.832L.508 16.33l2.656 2.962-1.12 3.832 3.664 1.504.636 3.942 3.946-.25 2.265 3.27L16 29.638l3.446 1.955z\\"></path></symbol><symbol id=\\"ic-icon-star\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M25.292 29.878l-1.775-10.346 7.517-7.327-10.388-1.51L16 1.282l-4.646 9.413-10.388 1.51 7.517 7.327-1.775 10.346L16 24.993l9.292 4.885z\\"></path></symbol><symbol id=\\"ic-icon\\" viewBox=\\"0 0 24 24\\"><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M11.923 19.136L5.424 22l.715-7.065-4.731-5.296 6.94-1.503L11.923 2l3.574 6.136 6.94 1.503-4.731 5.296L18.42 22z\\"></path></symbol><symbol id=\\"ic-mask-load\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M18.01 4a11.798 11.798 0 0 0 0 1H3v24h24V14.986a8.738 8.738 0 0 0 1 0V29a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V5a1 1 0 0 1 1-1h15.01zM15 23a6 6 0 1 1 0-12 6 6 0 0 1 0 12zm0-1a5 5 0 1 0 0-10 5 5 0 0 0 0 10z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M25 3h1v9h-1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" d=\\"M22 6l3.5-3.5L29 6\\"></path></symbol><symbol id=\\"ic-mask\\" viewBox=\\"0 0 24 24\\"><circle cx=\\"12\\" cy=\\"12\\" r=\\"4.5\\" stroke=\\"inherit\\" fill=\\"none\\"></circle><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 1h20a1 1 0 0 1 1 1v20a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zm0 1v20h20V2H2z\\"></path></symbol><symbol id=\\"ic-redo\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" opacity=\\".5\\" fill=\\"none\\" stroke=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M21 6H9a6 6 0 1 0 0 12h12v1H9A7 7 0 0 1 9 5h12v1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M19 3l2.5 2.5L19 8\\"></path></symbol><symbol id=\\"ic-reset\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" opacity=\\".5\\" stroke=\\"none\\" fill=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 13v-1a7 7 0 0 1 7-7h13v1h-1v5h1v1a7 7 0 0 1-7 7H2v-1h1v-5H2zm7-7a6 6 0 0 0-6 6v6h12a6 6 0 0 0 6-6V6H9z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M19 3l2.5 2.5L19 8M5 16l-2.5 2.5L5 21\\"></path></symbol><symbol id=\\"ic-rotate-clockwise\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M29 17h-.924c0 6.627-5.373 12-12 12-6.628 0-12-5.373-12-12C4.076 10.398 9.407 5.041 16 5V4C8.82 4 3 9.82 3 17s5.82 13 13 13 13-5.82 13-13z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M16 1.5l4 3-4 3\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" fill-rule=\\"nonzero\\" d=\\"M16 4h4v1h-4z\\"></path></symbol><symbol id=\\"ic-rotate-counterclockwise\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" d=\\"M3 17h.924c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.602-5.331-11.96-11.924-12V4c7.18 0 13 5.82 13 13s-5.82 13-13 13S3 24.18 3 17z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" fill-rule=\\"nonzero\\" d=\\"M12 4h4v1h-4z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M16 1.5l-4 3 4 3\\"></path></symbol><symbol id=\\"ic-rotate\\" viewBox=\\"0 0 24 24\\"><path d=\\"M0 0h24v24H0z\\" fill=\\"none\\" stroke=\\"none\\"></path><path fill=\\"inherit\\" stroke=\\"none\\" d=\\"M8.349 22.254a10.002 10.002 0 0 1-2.778-1.719l.65-.76a9.002 9.002 0 0 0 2.495 1.548l-.367.931zm2.873.704l.078-.997a9 9 0 1 0-.557-17.852l-.14-.99A10.076 10.076 0 0 1 12.145 3c5.523 0 10 4.477 10 10s-4.477 10-10 10c-.312 0-.62-.014-.924-.042zm-7.556-4.655a9.942 9.942 0 0 1-1.253-2.996l.973-.234a8.948 8.948 0 0 0 1.124 2.693l-.844.537zm-1.502-5.91A9.949 9.949 0 0 1 2.88 9.23l.925.382a8.954 8.954 0 0 0-.644 2.844l-.998-.062zm2.21-5.686c.687-.848 1.51-1.58 2.436-2.166l.523.852a9.048 9.048 0 0 0-2.188 1.95l-.771-.636z\\"></path><path stroke=\\"inherit\\" fill=\\"none\\" stroke-linecap=\\"square\\" d=\\"M13 1l-2.5 2.5L13 6\\"></path></symbol><symbol id=\\"ic-shape-circle\\" viewBox=\\"0 0 32 32\\"><circle cx=\\"16\\" cy=\\"16\\" r=\\"14.5\\" fill=\\"none\\" stroke=\\"inherit\\"></circle></symbol><symbol id=\\"ic-shape-rectangle\\" viewBox=\\"0 0 32 32\\"><rect width=\\"27\\" height=\\"27\\" x=\\"2.5\\" y=\\"2.5\\" fill=\\"none\\" stroke=\\"inherit\\" rx=\\"1\\"></rect></symbol><symbol id=\\"ic-shape-triangle\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M16 2.5l15.5 27H.5z\\"></path></symbol><symbol id=\\"ic-shape\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M14.706 8H21a1 1 0 0 1 1 1v12a1 1 0 0 1-1 1H9a1 1 0 0 1-1-1v-4h1v4h12V9h-5.706l-.588-1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"round\\" stroke-linejoin=\\"round\\" d=\\"M8.5 1.5l7.5 13H1z\\"></path></symbol><symbol id=\\"ic-text-align-center\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 5h28v1H2zM8 12h16v1H8zM2 19h28v1H2zM8 26h16v1H8z\\"></path></symbol><symbol id=\\"ic-text-align-left\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 5h28v1H2zM2 12h16v1H2zM2 19h28v1H2zM2 26h16v1H2z\\"></path></symbol><symbol id=\\"ic-text-align-right\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M2 5h28v1H2zM14 12h16v1H14zM2 19h28v1H2zM14 26h16v1H14z\\"></path></symbol><symbol id=\\"ic-text-bold\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M7 2h2v2H7zM7 28h2v2H7z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-width=\\"2\\" d=\\"M9 3v12h9a6 6 0 1 0 0-12H9zM9 15v14h10a7 7 0 0 0 0-14H9z\\"></path></symbol><symbol id=\\"ic-text-italic\\" viewBox=\\"0 0 32 32\\"><path fill=\\"none\\" stroke=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M15 2h5v1h-5zM11 29h5v1h-5zM17 3h1l-4 26h-1z\\"></path></symbol><symbol id=\\"ic-text-underline\\" viewBox=\\"0 0 32 32\\"><path stroke=\\"none\\" fill=\\"none\\" d=\\"M0 0h32v32H0z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M8 2v14a8 8 0 1 0 16 0V2h1v14a9 9 0 0 1-18 0V2h1zM3 29h26v1H3z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M5 2h5v1H5zM22 2h5v1h-5z\\"></path></symbol><symbol id=\\"ic-text\\" viewBox=\\"0 0 24 24\\"><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M4 3h15a1 1 0 0 1 1 1H3a1 1 0 0 1 1-1zM3 4h1v1H3zM19 4h1v1h-1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M11 3h1v18h-1z\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M10 20h3v1h-3z\\"></path></symbol><symbol id=\\"ic-undo\\" viewBox=\\"0 0 24 24\\"><path d=\\"M24 0H0v24h24z\\" opacity=\\".5\\" fill=\\"none\\" stroke=\\"none\\"></path><path stroke=\\"none\\" fill=\\"inherit\\" d=\\"M3 6h12a6 6 0 1 1 0 12H3v1h12a7 7 0 0 0 0-14H3v1z\\"></path><path fill=\\"none\\" stroke=\\"inherit\\" stroke-linecap=\\"square\\" d=\\"M5 3L2.5 5.5 5 8\\"></path></symbol></defs></svg>"\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/icon.svg?')},"./src/js/ui/template/mainContainer.js":function srcJsUiTemplateMainContainerJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        biImage = _ref.biImage,\n        commonStyle = _ref.commonStyle,\n        headerStyle = _ref.headerStyle,\n        loadButtonStyle = _ref.loadButtonStyle,\n        downloadButtonStyle = _ref.downloadButtonStyle,\n        submenuStyle = _ref.submenuStyle;\n    return \'\\n    <div class="tui-image-editor-main-container" style="\' + commonStyle + \'">\\n        <div class="tui-image-editor-header" style="\' + headerStyle + \'">\\n            <div class="tui-image-editor-header-logo">\\n                <img src="\' + biImage + \'" />\\n            </div>\\n            <div class="tui-image-editor-header-buttons">\\n                <div style="\' + loadButtonStyle + \'">\\n                    \' + locale.localize(\'Load\') + \'\\n                    <input type="file" class="tui-image-editor-load-btn" />\\n                </div>\\n                <button class="tui-image-editor-download-btn" style="\' + downloadButtonStyle + \'">\\n                    \' + locale.localize(\'Download\') + \'\\n                </button>\\n            </div>\\n        </div>\\n        <div class="tui-image-editor-main">\\n            <div class="tui-image-editor-submenu">\\n                <div class="tui-image-editor-submenu-style" style="\' + submenuStyle + \'"></div>\\n            </div>\\n            <div class="tui-image-editor-wrap">\\n                <div class="tui-image-editor-size-wrap">\\n                    <div class="tui-image-editor-align-wrap">\\n                        <div class="tui-image-editor"></div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/mainContainer.js?')},"./src/js/ui/template/style.js":function srcJsUiTemplateStyleJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\nexports.default = function (_ref) {\n    var subMenuLabelActive = _ref.subMenuLabelActive,\n        subMenuLabelNormal = _ref.subMenuLabelNormal,\n        subMenuRangeTitle = _ref.subMenuRangeTitle,\n        submenuPartitionVertical = _ref.submenuPartitionVertical,\n        submenuPartitionHorizontal = _ref.submenuPartitionHorizontal,\n        submenuCheckbox = _ref.submenuCheckbox,\n        submenuRangePointer = _ref.submenuRangePointer,\n        submenuRangeValue = _ref.submenuRangeValue,\n        submenuColorpickerTitle = _ref.submenuColorpickerTitle,\n        submenuColorpickerButton = _ref.submenuColorpickerButton,\n        submenuRangeBar = _ref.submenuRangeBar,\n        submenuRangeSubbar = _ref.submenuRangeSubbar,\n        submenuDisabledRangePointer = _ref.submenuDisabledRangePointer,\n        submenuDisabledRangeBar = _ref.submenuDisabledRangeBar,\n        submenuDisabledRangeSubbar = _ref.submenuDisabledRangeSubbar,\n        submenuIconSize = _ref.submenuIconSize,\n        menuIconSize = _ref.menuIconSize,\n        biSize = _ref.biSize,\n        menuIconStyle = _ref.menuIconStyle,\n        submenuIconStyle = _ref.submenuIconStyle;\n    return "\\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\\"icon-bubble\\"] label,\\n    .tie-icon-add-button.icon-heart .tui-image-editor-button[data-icontype=\\"icon-heart\\"] label,\\n    .tie-icon-add-button.icon-location .tui-image-editor-button[data-icontype=\\"icon-location\\"] label,\\n    .tie-icon-add-button.icon-polygon .tui-image-editor-button[data-icontype=\\"icon-polygon\\"] label,\\n    .tie-icon-add-button.icon-star .tui-image-editor-button[data-icontype=\\"icon-star\\"] label,\\n    .tie-icon-add-button.icon-star-2 .tui-image-editor-button[data-icontype=\\"icon-star-2\\"] label,\\n    .tie-icon-add-button.icon-arrow-3 .tui-image-editor-button[data-icontype=\\"icon-arrow-3\\"] label,\\n    .tie-icon-add-button.icon-arrow-2 .tui-image-editor-button[data-icontype=\\"icon-arrow-2\\"] label,\\n    .tie-icon-add-button.icon-arrow .tui-image-editor-button[data-icontype=\\"icon-arrow\\"] label,\\n    .tie-icon-add-button.icon-bubble .tui-image-editor-button[data-icontype=\\"icon-bubble\\"] label,\\n    .tie-draw-line-select-button.line .tui-image-editor-button.line label,\\n    .tie-draw-line-select-button.free .tui-image-editor-button.free label,\\n    .tie-flip-button.flipX .tui-image-editor-button.flipX label,\\n    .tie-flip-button.flipY .tui-image-editor-button.flipY label,\\n    .tie-flip-button.resetFlip .tui-image-editor-button.resetFlip label,\\n    .tie-crop-button .tui-image-editor-button.apply.active label,\\n    .tie-crop-preset-button .tui-image-editor-button.preset.active label,\\n    .tie-shape-button.rect .tui-image-editor-button.rect label,\\n    .tie-shape-button.circle .tui-image-editor-button.circle label,\\n    .tie-shape-button.triangle .tui-image-editor-button.triangle label,\\n    .tie-text-effect-button .tui-image-editor-button.active label,\\n    .tie-text-align-button.left .tui-image-editor-button.left label,\\n    .tie-text-align-button.center .tui-image-editor-button.center label,\\n    .tie-text-align-button.right .tui-image-editor-button.right label,\\n    .tie-mask-apply.apply.active .tui-image-editor-button.apply label,\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button:hover > label,\\n    .tui-image-editor-container .tui-image-editor-checkbox label > span {\\n        " + subMenuLabelActive + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button > label,\\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label,\\n    .tui-image-editor-container .tui-image-editor-range-wrap.tui-image-editor-newline.short label > span {\\n        " + subMenuLabelNormal + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-range-wrap label > span {\\n        " + subMenuRangeTitle + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-partition > div {\\n        " + submenuPartitionVertical + "\\n    }\\n    .tui-image-editor-container.left .tui-image-editor-submenu .tui-image-editor-partition > div,\\n    .tui-image-editor-container.right .tui-image-editor-submenu .tui-image-editor-partition > div {\\n        " + submenuPartitionHorizontal + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-checkbox label > span:before {\\n        " + submenuCheckbox + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-checkbox label > input:checked + span:before {\\n        border: 0;\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-pointer {\\n        " + submenuRangePointer + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-bar {\\n        " + submenuRangeBar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-virtual-range-subbar {\\n        " + submenuRangeSubbar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-pointer {\\n        " + submenuDisabledRangePointer + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-subbar {\\n        " + submenuDisabledRangeSubbar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-disabled .tui-image-editor-virtual-range-bar {\\n        " + submenuDisabledRangeBar + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-range-value {\\n        " + submenuRangeValue + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value + label {\\n        " + submenuColorpickerTitle + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-submenu .tui-image-editor-button .color-picker-value {\\n        " + submenuColorpickerButton + "\\n    }\\n    .tui-image-editor-container .svg_ic-menu {\\n        " + menuIconSize + "\\n    }\\n    .tui-image-editor-container .svg_ic-submenu {\\n        " + submenuIconSize + "\\n    }\\n    .tui-image-editor-container .tui-image-editor-controls-logo > img,\\n    .tui-image-editor-container .tui-image-editor-header-logo > img {\\n        " + biSize + "\\n    }\\n    .tui-image-editor-menu use.normal.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.normal.color + ";\\n        stroke: " + menuIconStyle.normal.color + ";\\n    }\\n    .tui-image-editor-menu use.active.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.active.color + ";\\n        stroke: " + menuIconStyle.active.color + ";\\n    }\\n    .tui-image-editor-menu use.hover.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.hover.color + ";\\n        stroke: " + menuIconStyle.hover.color + ";\\n    }\\n    .tui-image-editor-menu use.disabled.use-default {\\n        fill-rule: evenodd;\\n        fill: " + menuIconStyle.disabled.color + ";\\n        stroke: " + menuIconStyle.disabled.color + ";\\n    }\\n    .tui-image-editor-submenu use.normal.use-default {\\n        fill-rule: evenodd;\\n        fill: " + submenuIconStyle.normal.color + ";\\n        stroke: " + submenuIconStyle.normal.color + ";\\n    }\\n    .tui-image-editor-submenu use.active.use-default {\\n        fill-rule: evenodd;\\n        fill: " + submenuIconStyle.active.color + ";\\n        stroke: " + submenuIconStyle.active.color + ";\\n    }\\n";\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/style.js?')},"./src/js/ui/template/submenu/crop.js":function srcJsUiTemplateSubmenuCropJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-crop-preset-button\">\\n            <div class=\"tui-image-editor-button preset preset-none active\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-rectangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Custom') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-square\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('Square') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-3-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('3:2') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-4-3\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('4:3') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-5-4\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('5:4') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-7-5\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('7:5') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button preset preset-16-9\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'crop', true) + '\\n                </div>\\n                <label> ' + locale.localize('16:9') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition tui-image-editor-newline\">\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-crop-button action\">\\n            <div class=\"tui-image-editor-button apply\">\\n                ' + makeSvgIcon(['normal', 'active'], 'apply') + '\\n                <label>\\n                    ' + locale.localize('Apply') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button cancel\">\\n                ' + makeSvgIcon(['normal', 'active'], 'cancel') + '\\n                <label>\\n                    ' + locale.localize('Cancel') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/crop.js?")},"./src/js/ui/template/submenu/draw.js":function srcJsUiTemplateSubmenuDrawJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-draw-line-select-button\">\\n            <div class=\"tui-image-editor-button free\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'draw-free', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Free') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button line\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'draw-line', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Straight') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-draw-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Range') + '</label>\\n            <div class=\"tie-draw-range\"></div>\\n            <input class=\"tie-draw-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/draw.js?")},"./src/js/ui/template/submenu/filter.js":function srcJsUiTemplateSubmenuFilterJs(module,exports,__webpack_require__){"use strict";eval('\n\nObject.defineProperty(exports, "__esModule", {\n    value: true\n});\n\n/**\n * @param {Locale} locale - Translate text\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale;\n    return \'\\n    <ul class="tui-image-editor-submenu-item">\\n        <li class="tui-image-editor-submenu-align">\\n            <div class="tui-image-editor-checkbox-wrap fixed-width">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-grayscale">\\n                        <span>\' + locale.localize(\'Grayscale\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-invert">\\n                        <span>\' + locale.localize(\'Invert\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-sepia">\\n                        <span>\' + locale.localize(\'Sepia\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-vintage">\\n                        <span>\' + locale.localize(\'Sepia2\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-blur">\\n                        <span>\' + locale.localize(\'Blur\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-sharpen">\\n                        <span>\' + locale.localize(\'Sharpen\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-emboss">\\n                        <span>\' + locale.localize(\'Emboss\') + \'</span>\\n                    </label>\\n                </div>\\n            </div>\\n        </li>\\n        <li class="tui-image-editor-partition">\\n            <div></div>\\n        </li>\\n        <li class="tui-image-editor-submenu-align">\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled" style="margin-bottom: 7px;">\\n                <div class="tui-image-editor-checkbox-wrap">\\n                    <div class="tui-image-editor-checkbox">\\n                        <label>\\n                            <input type="checkbox" class="tie-remove-white">\\n                            <span>\' + locale.localize(\'Remove White\') + \'</span>\\n                        </label>\\n                    </div>\\n                </div>\\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\\n                    <label>\' + locale.localize(\'Distance\') + \'</label>\\n                    <div class="tie-removewhite-distance-range"></div>\\n                </div>\\n            </div>\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-brightness">\\n                        <span>\' + locale.localize(\'Brightness\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-range-wrap short">\\n                    <div class="tie-brightness-range"></div>\\n                </div>\\n            </div>\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-noise">\\n                        <span>\' + locale.localize(\'Noise\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-range-wrap short">\\n                    <div class="tie-noise-range"></div>\\n                </div>\\n            </div>\\n        </li>\\n        <li class="tui-image-editor-partition only-left-right">\\n            <div></div>\\n        </li>\\n        <li class="tui-image-editor-submenu-align">\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-pixelate">\\n                        <span>\' + locale.localize(\'Pixelate\') + \'</span>\\n                    </label>\\n                </div>\\n                <div class="tui-image-editor-range-wrap short">\\n                    <div class="tie-pixelate-range"></div>\\n                </div>\\n            </div>\\n            <div class="tui-image-editor-checkbox-group tui-image-editor-disabled">\\n                <div class="tui-image-editor-newline tui-image-editor-checkbox-wrap">\\n                    <div class="tui-image-editor-checkbox">\\n                        <label>\\n                            <input type="checkbox" class="tie-color-filter">\\n                            <span>\' + locale.localize(\'Color Filter\') + \'</span>\\n                        </label>\\n                    </div>\\n                </div>\\n                <div class="tui-image-editor-newline tui-image-editor-range-wrap short">\\n                    <label>\' + locale.localize(\'Threshold\') + \'</label>\\n                    <div class="tie-colorfilter-threshole-range"></div>\\n                </div>\\n            </div>\\n        </li>\\n        <li class="tui-image-editor-partition">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class="filter-color-item">\\n                <div class="tie-filter-tint-color" title="\' + locale.localize(\'Tint\') + \'"></div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-tint">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n            <div class="filter-color-item">\\n                <div class="tie-filter-multiply-color" title="\' + locale.localize(\'Multiply\') + \'"></div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-multiply">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n            <div class="filter-color-item">\\n                <div class="tie-filter-blend-color" title="\' + locale.localize(\'Blend\') + \'"></div>\\n                <div class="tui-image-editor-checkbox">\\n                    <label>\\n                        <input type="checkbox" class="tie-blend">\\n                        <span></span>\\n                    </label>\\n                </div>\\n            </div>\\n        </li>\\n    </ul>\\n\';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/filter.js?')},"./src/js/ui/template/submenu/flip.js":function srcJsUiTemplateSubmenuFlipJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tie-flip-button tui-image-editor-submenu-item\">\\n        <li>\\n            <div class=\"tui-image-editor-button flipX\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-x', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Flip X') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button flipY\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-y', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Flip Y') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tui-image-editor-button resetFlip\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'flip-reset', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Reset') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/flip.js?")},"./src/js/ui/template/submenu/icon.js":function srcJsUiTemplateSubmenuIconJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-icon-add-button\">\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow-2', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow-2') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-arrow-3\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-arrow-3', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Arrow-3') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-star', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Star-1') + '\\n                </label>\\n            </div>\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-star-2\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-star-2', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Star-2') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-polygon\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-polygon', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Polygon') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-location\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-location', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Location') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-heart\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-heart', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Heart') + '\\n                </label>\\n            </div>\\n\\n            <div class=\"tui-image-editor-button\" data-icontype=\"icon-bubble\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-bubble', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Bubble') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-icon-add-button\">\\n            <div class=\"tui-image-editor-button\" style=\"margin:0\">\\n                <div>\\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-icon-image-file\">\\n                    ' + makeSvgIcon(['normal', 'active'], 'icon-load', true) + '\\n                </div>\\n                <label>\\n                    ' + locale.localize('Custom icon') + '\\n                </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-icon-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/icon.js?")},"./src/js/ui/template/submenu/mask.js":function srcJsUiTemplateSubmenuMaskJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li>\\n            <div class=\"tui-image-editor-button\">\\n                <div>\\n                    <input type=\"file\" accept=\"image/*\" class=\"tie-mask-image-file\">\\n                    ' + makeSvgIcon(['normal', 'active'], 'mask-load', true) + '\\n                </div>\\n                <label> ' + locale.localize('Load Mask Image') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-mask-apply tui-image-editor-newline apply\" style=\"margin-top: 22px;margin-bottom: 5px\">\\n            <div class=\"tui-image-editor-button apply\">\\n                ' + makeSvgIcon(['normal', 'active'], 'apply') + '\\n                <label>\\n                    ' + locale.localize('Apply') + '\\n                </label>\\n            </div>\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/mask.js?")},"./src/js/ui/template/submenu/rotate.js":function srcJsUiTemplateSubmenuRotateJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-retate-button\">\\n            <div class=\"tui-image-editor-button clockwise\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'rotate-clockwise', true) + '\\n                </div>\\n                <label> 30 </label>\\n            </div>\\n            <div class=\"tui-image-editor-button counterclockwise\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'rotate-counterclockwise', true) + '\\n                </div>\\n                <label> -30 </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Range') + '</label>\\n            <div class=\"tie-rotate-range\"></div>\\n            <input class=\"tie-ratate-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/rotate.js?")},"./src/js/ui/template/submenu/shape.js":function srcJsUiTemplateSubmenuShapeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-shape-button\">\\n            <div class=\"tui-image-editor-button rect\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-rectangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Rectangle') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button circle\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-circle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Circle') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button triangle\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'shape-triangle', true) + '\\n                </div>\\n                <label> ' + locale.localize('Triangle') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-shape-color-button\">\\n            <div class=\"tie-color-fill\" title=\"' + locale.localize('Fill') + '\"></div>\\n            <div class=\"tie-color-stroke\" title=\"' + locale.localize('Stroke') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Stroke') + '</label>\\n            <div class=\"tie-stroke-range\"></div>\\n            <input class=\"tie-stroke-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/shape.js?")},"./src/js/ui/template/submenu/text.js":function srcJsUiTemplateSubmenuTextJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\n/**\n * @param {Object} submenuInfo - submenu info for make template\n *   @param {Locale} locale - Translate text\n *   @param {Function} makeSvgIcon - svg icon generator\n * @returns {string}\n */\nexports.default = function (_ref) {\n    var locale = _ref.locale,\n        makeSvgIcon = _ref.makeSvgIcon;\n    return '\\n    <ul class=\"tui-image-editor-submenu-item\">\\n        <li class=\"tie-text-effect-button\">\\n            <div class=\"tui-image-editor-button bold\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-bold', true) + '\\n                </div>\\n                <label> ' + locale.localize('Bold') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button italic\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-italic', true) + '\\n                </div>\\n                <label> ' + locale.localize('Italic') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button underline\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-underline', true) + '\\n                </div>\\n                <label> ' + locale.localize('Underline') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li class=\"tie-text-align-button\">\\n            <div class=\"tui-image-editor-button left\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-left', true) + '\\n                </div>\\n                <label> ' + locale.localize('Left') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button center\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-center', true) + '\\n                </div>\\n                <label> ' + locale.localize('Center') + ' </label>\\n            </div>\\n            <div class=\"tui-image-editor-button right\">\\n                <div>\\n                    ' + makeSvgIcon(['normal', 'active'], 'text-align-right', true) + '\\n                </div>\\n                <label> ' + locale.localize('Right') + ' </label>\\n            </div>\\n        </li>\\n        <li class=\"tui-image-editor-partition\">\\n            <div></div>\\n        </li>\\n        <li>\\n            <div class=\"tie-text-color\" title=\"' + locale.localize('Color') + '\"></div>\\n        </li>\\n        <li class=\"tui-image-editor-partition only-left-right\">\\n            <div></div>\\n        </li>\\n        <li class=\"tui-image-editor-newline tui-image-editor-range-wrap\">\\n            <label class=\"range\">' + locale.localize('Text size') + '</label>\\n            <div class=\"tie-text-range\"></div>\\n            <input class=\"tie-text-range-value tui-image-editor-range-value\" value=\"0\" />\\n        </li>\\n    </ul>\\n';\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/template/submenu/text.js?")},"./src/js/ui/text.js":function srcJsUiTextJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _util = __webpack_require__(/*! ../util */ \"./src/js/util.js\");\n\nvar _util2 = _interopRequireDefault(_util);\n\nvar _range = __webpack_require__(/*! ./tools/range */ \"./src/js/ui/tools/range.js\");\n\nvar _range2 = _interopRequireDefault(_range);\n\nvar _colorpicker = __webpack_require__(/*! ./tools/colorpicker */ \"./src/js/ui/tools/colorpicker.js\");\n\nvar _colorpicker2 = _interopRequireDefault(_colorpicker);\n\nvar _submenuBase = __webpack_require__(/*! ./submenuBase */ \"./src/js/ui/submenuBase.js\");\n\nvar _submenuBase2 = _interopRequireDefault(_submenuBase);\n\nvar _text = __webpack_require__(/*! ./template/submenu/text */ \"./src/js/ui/template/submenu/text.js\");\n\nvar _text2 = _interopRequireDefault(_text);\n\nvar _consts = __webpack_require__(/*! ../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n/**\n * Crop ui class\n * @class\n * @ignore\n */\nvar Text = function (_Submenu) {\n    _inherits(Text, _Submenu);\n\n    function Text(subMenuElement, _ref) {\n        var locale = _ref.locale,\n            makeSvgIcon = _ref.makeSvgIcon,\n            menuBarPosition = _ref.menuBarPosition,\n            usageStatistics = _ref.usageStatistics;\n\n        _classCallCheck(this, Text);\n\n        var _this = _possibleConstructorReturn(this, (Text.__proto__ || Object.getPrototypeOf(Text)).call(this, subMenuElement, {\n            locale: locale,\n            name: 'text',\n            makeSvgIcon: makeSvgIcon,\n            menuBarPosition: menuBarPosition,\n            templateHtml: _text2.default,\n            usageStatistics: usageStatistics\n        }));\n\n        _this.effect = {\n            bold: false,\n            italic: false,\n            underline: false\n        };\n        _this.align = 'left';\n        _this._els = {\n            textEffectButton: _this.selector('.tie-text-effect-button'),\n            textAlignButton: _this.selector('.tie-text-align-button'),\n            textColorpicker: new _colorpicker2.default(_this.selector('.tie-text-color'), '#ffbb3b', _this.toggleDirection, _this.usageStatistics),\n            textRange: new _range2.default({\n                slider: _this.selector('.tie-text-range'),\n                input: _this.selector('.tie-text-range-value')\n            }, _consts.defaultTextRangeValus)\n        };\n        return _this;\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Text, [{\n        key: 'destroy',\n        value: function destroy() {\n            this._removeEvent();\n            this._els.textColorpicker.destroy();\n            this._els.textRange.destroy();\n\n            _util2.default.assignmentForDestroy(this);\n        }\n\n        /**\n         * Add event for text\n         * @param {Object} actions - actions for text\n         *   @param {Function} actions.changeTextStyle - change text style\n         */\n\n    }, {\n        key: 'addEvent',\n        value: function addEvent(actions) {\n            var setTextEffect = this._setTextEffectHandler.bind(this);\n            var setTextAlign = this._setTextAlignHandler.bind(this);\n\n            this.eventHandler = {\n                setTextEffect: setTextEffect,\n                setTextAlign: setTextAlign\n            };\n\n            this.actions = actions;\n            this._els.textEffectButton.addEventListener('click', setTextEffect);\n            this._els.textAlignButton.addEventListener('click', setTextAlign);\n            this._els.textRange.on('change', this._changeTextRnageHandler.bind(this));\n            this._els.textColorpicker.on('change', this._changeColorHandler.bind(this));\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            var _eventHandler = this.eventHandler,\n                setTextEffect = _eventHandler.setTextEffect,\n                setTextAlign = _eventHandler.setTextAlign;\n\n\n            this._els.textEffectButton.removeEventListener('click', setTextEffect);\n            this._els.textAlignButton.removeEventListener('click', setTextAlign);\n            this._els.textRange.off();\n            this._els.textColorpicker.off();\n        }\n\n        /**\n         * Returns the menu to its default state.\n         */\n\n    }, {\n        key: 'changeStandbyMode',\n        value: function changeStandbyMode() {\n            this.actions.stopDrawingMode();\n        }\n\n        /**\n         * Executed when the menu starts.\n         */\n\n    }, {\n        key: 'changeStartMode',\n        value: function changeStartMode() {\n            this.actions.modeChange('text');\n        }\n    }, {\n        key: 'setTextStyleStateOnAction',\n        value: function setTextStyleStateOnAction() {\n            var textStyle = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n            var fill = textStyle.fill,\n                fontSize = textStyle.fontSize,\n                fontStyle = textStyle.fontStyle,\n                fontWeight = textStyle.fontWeight,\n                textDecoration = textStyle.textDecoration,\n                textAlign = textStyle.textAlign;\n\n\n            this.textColor = fill;\n            this.fontSize = fontSize;\n            this.setEffactState('italic', fontStyle);\n            this.setEffactState('bold', fontWeight);\n            this.setEffactState('underline', textDecoration);\n            this.setAlignState(textAlign);\n        }\n    }, {\n        key: 'setEffactState',\n        value: function setEffactState(effactName, value) {\n            var effactValue = value === 'italic' || value === 'bold' || value === 'underline';\n            var button = this._els.textEffectButton.querySelector('.tui-image-editor-button.' + effactName);\n\n            this.effect[effactName] = effactValue;\n\n            button.classList[effactValue ? 'add' : 'remove']('active');\n        }\n    }, {\n        key: 'setAlignState',\n        value: function setAlignState(value) {\n            var button = this._els.textAlignButton;\n            button.classList.remove(this.align);\n            button.classList.add(value);\n            this.align = value;\n        }\n\n        /**\n         * text effect set handler\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_setTextEffectHandler',\n        value: function _setTextEffectHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n\n            var _button$className$mat = button.className.match(/(bold|italic|underline)/),\n                styleType = _button$className$mat[0];\n\n            var styleObj = {\n                'bold': { fontWeight: 'bold' },\n                'italic': { fontStyle: 'italic' },\n                'underline': { textDecoration: 'underline' }\n            }[styleType];\n\n            this.effect[styleType] = !this.effect[styleType];\n            button.classList.toggle('active');\n            this.actions.changeTextStyle(styleObj);\n        }\n\n        /**\n         * text effect set handler\n         * @param {object} event - add button event object\n         * @private\n         */\n\n    }, {\n        key: '_setTextAlignHandler',\n        value: function _setTextAlignHandler(event) {\n            var button = event.target.closest('.tui-image-editor-button');\n            if (button) {\n                var styleType = this.getButtonType(button, ['left', 'center', 'right']);\n\n                event.currentTarget.classList.remove(this.align);\n                if (this.align !== styleType) {\n                    event.currentTarget.classList.add(styleType);\n                }\n                this.actions.changeTextStyle({ textAlign: styleType });\n\n                this.align = styleType;\n            }\n        }\n\n        /**\n         * text align set handler\n         * @param {number} value - range value\n         * @param {boolean} isLast - Is last change\n         * @private\n         */\n\n    }, {\n        key: '_changeTextRnageHandler',\n        value: function _changeTextRnageHandler(value, isLast) {\n            this.actions.changeTextStyle({\n                fontSize: value\n            }, !isLast);\n        }\n\n        /**\n         * change color handler\n         * @param {string} color - change color string\n         * @private\n         */\n\n    }, {\n        key: '_changeColorHandler',\n        value: function _changeColorHandler(color) {\n            color = color || 'transparent';\n            this.actions.changeTextStyle({\n                'fill': color\n            });\n        }\n    }, {\n        key: 'textColor',\n        set: function set(color) {\n            this._els.textColorpicker.color = color;\n        }\n\n        /**\n         * Get text color\n         * @returns {string} - text color\n         */\n        ,\n        get: function get() {\n            return this._els.textColorpicker.color;\n        }\n\n        /**\n         * Get text size\n         * @returns {string} - text size\n         */\n\n    }, {\n        key: 'fontSize',\n        get: function get() {\n            return this._els.textRange.value;\n        }\n\n        /**\n         * Set text size\n         * @param {Number} value - text size\n         */\n        ,\n        set: function set(value) {\n            this._els.textRange.value = value;\n        }\n\n        /**\n         * get font style\n         * @returns {string} - font style\n         */\n\n    }, {\n        key: 'fontStyle',\n        get: function get() {\n            return this.effect.italic ? 'italic' : 'normal';\n        }\n\n        /**\n         * get font weight\n         * @returns {string} - font weight\n         */\n\n    }, {\n        key: 'fontWeight',\n        get: function get() {\n            return this.effect.bold ? 'bold' : 'normal';\n        }\n\n        /**\n         * get text underline text underline\n         * @returns {boolean} - true or false\n         */\n\n    }, {\n        key: 'underline',\n        get: function get() {\n            return this.effect.underline;\n        }\n    }]);\n\n    return Text;\n}(_submenuBase2.default);\n\nexports.default = Text;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/text.js?")},"./src/js/ui/theme/standard.js":function srcJsUiThemeStandardJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n/**\n * @fileoverview The standard theme\n * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n */\n\n/**\n * Full configuration for theme.<br>\n * @typedef {object} themeConfig\n * @property {string} common.bi.image - Brand icon image\n * @property {string} common.bisize.width - Icon image width\n * @property {string} common.bisize.height - Icon Image Height\n * @property {string} common.backgroundImage - Background image\n * @property {string} common.backgroundColor - Background color\n * @property {string} common.border - Full area border style\n * @property {string} header.backgroundImage - header area background\n * @property {string} header.backgroundColor - header area background color\n * @property {string} header.border - header area border style\n * @property {string} loadButton.backgroundColor - load button background color\n * @property {string} loadButton.border - load button border style\n * @property {string} loadButton.color - load button foreground color\n * @property {string} loadButton.fontFamily - load button font type\n * @property {string} loadButton.fontSize - load button font size\n * @property {string} downloadButton.backgroundColor - download button background color\n * @property {string} downloadButton.border - download button border style\n * @property {string} downloadButton.color - download button foreground color\n * @property {string} downloadButton.fontFamily - download button font type\n * @property {string} downloadButton.fontSize - download button font size\n * @property {string} menu.normalIcon.color - Menu normal color for default icon\n * @property {string} menu.normalIcon.path - Menu normal icon svg bundle file path\n * @property {string} menu.normalIcon.name - Menu normal icon svg bundle name\n * @property {string} menu.activeIcon.color - Menu active color for default icon\n * @property {string} menu.activeIcon.path - Menu active icon svg bundle file path\n * @property {string} menu.activeIcon.name - Menu active icon svg bundle name\n * @property {string} menu.disabled.color - Menu disabled color for default icon\n * @property {string} menu.disabled.path - Menu disabled icon svg bundle file path\n * @property {string} menu.disabled.name - Menu disabled icon svg bundle name\n * @property {string} menu.hover.color - Menu default icon hover color\n * @property {string} menu.hover.path - Menu hover icon svg bundle file path\n * @property {string} menu.hover.name - Menu hover icon svg bundle name\n * @property {string} menu.iconSize.width - Menu icon Size Width\n * @property {string} menu.iconSize.height - Menu Icon Size Height\n * @property {string} submenu.backgroundColor - Sub-menu area background color\n * @property {string} submenu.partition.color - Submenu partition line color\n * @property {string} submenu.normalIcon.color - Submenu normal color for default icon\n * @property {string} submenu.normalIcon.path - Submenu default icon svg bundle file path\n * @property {string} submenu.normalIcon.name - Submenu default icon svg bundle name\n * @property {string} submenu.activeIcon.color - Submenu active color for default icon\n * @property {string} submenu.activeIcon.path - Submenu active icon svg bundle file path\n * @property {string} submenu.activeIcon.name - Submenu active icon svg bundle name\n * @property {string} submenu.iconSize.width - Submenu icon Size Width\n * @property {string} submenu.iconSize.height - Submenu Icon Size Height\n * @property {string} submenu.normalLabel.color - Submenu default label color\n * @property {string} submenu.normalLabel.fontWeight - Sub Menu Default Label Font Thickness\n * @property {string} submenu.activeLabel.color - Submenu active label color\n * @property {string} submenu.activeLabel.fontWeight - Submenu active label Font thickness\n * @property {string} checkbox.border - Checkbox border style\n * @property {string} checkbox.backgroundColor - Checkbox background color\n * @property {string} range.pointer.color - range control pointer color\n * @property {string} range.bar.color - range control bar color\n * @property {string} range.subbar.color - range control subbar color\n * @property {string} range.value.color - range number box font color\n * @property {string} range.value.fontWeight - range number box font thickness\n * @property {string} range.value.fontSize - range number box font size\n * @property {string} range.value.border - range number box border style\n * @property {string} range.value.backgroundColor - range number box background color\n * @property {string} range.title.color - range title font color\n * @property {string} range.title.fontWeight - range title font weight\n * @property {string} colorpicker.button.border - colorpicker button border style\n * @property {string} colorpicker.title.color - colorpicker button title font color\n * @example\n // default keys and styles\n var customTheme = {\n    'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n    'common.bisize.width': '251px',\n    'common.bisize.height': '21px',\n    'common.backgroundImage': 'none',\n    'common.backgroundColor': '#1e1e1e',\n    'common.border': '0px',\n\n    // header\n    'header.backgroundImage': 'none',\n    'header.backgroundColor': 'transparent',\n    'header.border': '0px',\n\n    // load button\n    'loadButton.backgroundColor': '#fff',\n    'loadButton.border': '1px solid #ddd',\n    'loadButton.color': '#222',\n    'loadButton.fontFamily': 'NotoSans, sans-serif',\n    'loadButton.fontSize': '12px',\n\n    // download button\n    'downloadButton.backgroundColor': '#fdba3b',\n    'downloadButton.border': '1px solid #fdba3b',\n    'downloadButton.color': '#fff',\n    'downloadButton.fontFamily': 'NotoSans, sans-serif',\n    'downloadButton.fontSize': '12px',\n\n    // icons default\n    'menu.normalIcon.color': '#8a8a8a',\n    'menu.activeIcon.color': '#555555',\n    'menu.disabledIcon.color': '#434343',\n    'menu.hoverIcon.color': '#e9e9e9',\n    'submenu.normalIcon.color': '#8a8a8a',\n    'submenu.activeIcon.color': '#e9e9e9',\n\n    'menu.iconSize.width': '24px',\n    'menu.iconSize.height': '24px',\n    'submenu.iconSize.width': '32px',\n    'submenu.iconSize.height': '32px',\n\n    // submenu primary color\n    'submenu.backgroundColor': '#1e1e1e',\n    'submenu.partition.color': '#858585',\n\n    // submenu labels\n    'submenu.normalLabel.color': '#858585',\n    'submenu.normalLabel.fontWeight': 'lighter',\n    'submenu.activeLabel.color': '#fff',\n    'submenu.activeLabel.fontWeight': 'lighter',\n\n    // checkbox style\n    'checkbox.border': '1px solid #ccc',\n    'checkbox.backgroundColor': '#fff',\n\n    // rango style\n    'range.pointer.color': '#fff',\n    'range.bar.color': '#666',\n    'range.subbar.color': '#d1d1d1',\n\n    'range.disabledPointer.color': '#414141',\n    'range.disabledBar.color': '#282828',\n    'range.disabledSubbar.color': '#414141',\n\n    'range.value.color': '#fff',\n    'range.value.fontWeight': 'lighter',\n    'range.value.fontSize': '11px',\n    'range.value.border': '1px solid #353535',\n    'range.value.backgroundColor': '#151515',\n    'range.title.color': '#fff',\n    'range.title.fontWeight': 'lighter',\n\n    // colorpicker style\n    'colorpicker.button.border': '1px solid #1e1e1e',\n    'colorpicker.title.color': '#fff'\n};\n */\nexports.default = {\n  'common.bi.image': 'https://uicdn.toast.com/toastui/img/tui-image-editor-bi.png',\n  'common.bisize.width': '251px',\n  'common.bisize.height': '21px',\n  'common.backgroundImage': 'none',\n  'common.backgroundColor': '#1e1e1e',\n  'common.border': '0px',\n\n  // header\n  'header.backgroundImage': 'none',\n  'header.backgroundColor': 'transparent',\n  'header.border': '0px',\n\n  // load button\n  'loadButton.backgroundColor': '#fff',\n  'loadButton.border': '1px solid #ddd',\n  'loadButton.color': '#222',\n  'loadButton.fontFamily': '\\'Noto Sans\\', sans-serif',\n  'loadButton.fontSize': '12px',\n\n  // download button\n  'downloadButton.backgroundColor': '#fdba3b',\n  'downloadButton.border': '1px solid #fdba3b',\n  'downloadButton.color': '#fff',\n  'downloadButton.fontFamily': '\\'Noto Sans\\', sans-serif',\n  'downloadButton.fontSize': '12px',\n\n  // main icons\n  'menu.normalIcon.color': '#8a8a8a',\n  'menu.activeIcon.color': '#555555',\n  'menu.disabledIcon.color': '#434343',\n  'menu.hoverIcon.color': '#e9e9e9',\n\n  // submenu icons\n  'submenu.normalIcon.color': '#8a8a8a',\n  'submenu.activeIcon.color': '#e9e9e9',\n\n  'menu.iconSize.width': '24px',\n  'menu.iconSize.height': '24px',\n\n  'submenu.iconSize.width': '32px',\n  'submenu.iconSize.height': '32px',\n\n  // submenu primary color\n  'submenu.backgroundColor': '#1e1e1e',\n  'submenu.partition.color': '#3c3c3c',\n\n  // submenu labels\n  'submenu.normalLabel.color': '#8a8a8a',\n  'submenu.normalLabel.fontWeight': 'lighter',\n  'submenu.activeLabel.color': '#fff',\n  'submenu.activeLabel.fontWeight': 'lighter',\n\n  // checkbox style\n  'checkbox.border': '0px',\n  'checkbox.backgroundColor': '#fff',\n\n  // range style\n  'range.pointer.color': '#fff',\n  'range.bar.color': '#666',\n  'range.subbar.color': '#d1d1d1',\n\n  'range.disabledPointer.color': '#414141',\n  'range.disabledBar.color': '#282828',\n  'range.disabledSubbar.color': '#414141',\n\n  'range.value.color': '#fff',\n  'range.value.fontWeight': 'lighter',\n  'range.value.fontSize': '11px',\n  'range.value.border': '1px solid #353535',\n  'range.value.backgroundColor': '#151515',\n  'range.title.color': '#fff',\n  'range.title.fontWeight': 'lighter',\n\n  // colorpicker style\n  'colorpicker.button.border': '1px solid #1e1e1e',\n  'colorpicker.title.color': '#fff'\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/theme/standard.js?")},"./src/js/ui/theme/theme.js":function srcJsUiThemeThemeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _util = __webpack_require__(/*! ../../util */ \"./src/js/util.js\");\n\nvar _style = __webpack_require__(/*! ../template/style */ \"./src/js/ui/template/style.js\");\n\nvar _style2 = _interopRequireDefault(_style);\n\nvar _standard = __webpack_require__(/*! ./standard */ \"./src/js/ui/theme/standard.js\");\n\nvar _standard2 = _interopRequireDefault(_standard);\n\nvar _icon = __webpack_require__(/*! ../template/icon.svg */ \"./src/js/ui/template/icon.svg\");\n\nvar _icon2 = _interopRequireDefault(_icon);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n/**\n * Theme manager\n * @class\n * @param {Object} customTheme - custom theme\n * @ignore\n */\nvar Theme = function () {\n    function Theme(customTheme) {\n        _classCallCheck(this, Theme);\n\n        this.styles = this._changeToObject((0, _tuiCodeSnippet.extend)({}, _standard2.default, customTheme));\n        (0, _util.styleLoad)(this._styleMaker());\n\n        this._loadDefaultSvgIcon();\n    }\n\n    /**\n     * Get a Style cssText or StyleObject\n     * @param {string} type - style type\n     * @returns {string|object} - cssText or StyleObject\n     */\n\n\n    _createClass(Theme, [{\n        key: 'getStyle',\n        value: function getStyle(type) {\n            // eslint-disable-line\n            var result = null;\n            var firstProperty = type.replace(/\\..+$/, '');\n            var option = this.styles[type];\n            switch (type) {\n                case 'common.bi':\n                    result = this.styles[type].image;\n                    break;\n                case 'menu.icon':\n                    result = {\n                        active: this.styles[firstProperty + '.activeIcon'],\n                        normal: this.styles[firstProperty + '.normalIcon'],\n                        hover: this.styles[firstProperty + '.hoverIcon'],\n                        disabled: this.styles[firstProperty + '.disabledIcon']\n                    };\n                    break;\n                case 'submenu.icon':\n                    result = {\n                        active: this.styles[firstProperty + '.activeIcon'],\n                        normal: this.styles[firstProperty + '.normalIcon']\n                    };\n                    break;\n                case 'submenu.label':\n                    result = {\n                        active: this._makeCssText(this.styles[firstProperty + '.activeLabel']),\n                        normal: this._makeCssText(this.styles[firstProperty + '.normalLabel'])\n                    };\n                    break;\n                case 'submenu.partition':\n                    result = {\n                        vertical: this._makeCssText((0, _tuiCodeSnippet.extend)({}, option, { borderLeft: '1px solid ' + option.color })),\n                        horizontal: this._makeCssText((0, _tuiCodeSnippet.extend)({}, option, { borderBottom: '1px solid ' + option.color }))\n                    };\n                    break;\n\n                case 'range.disabledPointer':\n                case 'range.disabledBar':\n                case 'range.disabledSubbar':\n                case 'range.pointer':\n                case 'range.bar':\n                case 'range.subbar':\n                    option.backgroundColor = option.color;\n                    result = this._makeCssText(option);\n                    break;\n                default:\n                    result = this._makeCssText(option);\n                    break;\n            }\n\n            return result;\n        }\n\n        /**\n         * Make css resource\n         * @returns {string} - serialized css text\n         * @private\n         */\n\n    }, {\n        key: '_styleMaker',\n        value: function _styleMaker() {\n            var submenuLabelStyle = this.getStyle('submenu.label');\n            var submenuPartitionStyle = this.getStyle('submenu.partition');\n\n            return (0, _style2.default)({\n                subMenuLabelActive: submenuLabelStyle.active,\n                subMenuLabelNormal: submenuLabelStyle.normal,\n                submenuPartitionVertical: submenuPartitionStyle.vertical,\n                submenuPartitionHorizontal: submenuPartitionStyle.horizontal,\n                biSize: this.getStyle('common.bisize'),\n                subMenuRangeTitle: this.getStyle('range.title'),\n                submenuRangePointer: this.getStyle('range.pointer'),\n                submenuRangeBar: this.getStyle('range.bar'),\n                submenuRangeSubbar: this.getStyle('range.subbar'),\n\n                submenuDisabledRangePointer: this.getStyle('range.disabledPointer'),\n                submenuDisabledRangeBar: this.getStyle('range.disabledBar'),\n                submenuDisabledRangeSubbar: this.getStyle('range.disabledSubbar'),\n\n                submenuRangeValue: this.getStyle('range.value'),\n                submenuColorpickerTitle: this.getStyle('colorpicker.title'),\n                submenuColorpickerButton: this.getStyle('colorpicker.button'),\n                submenuCheckbox: this.getStyle('checkbox'),\n                menuIconSize: this.getStyle('menu.iconSize'),\n                submenuIconSize: this.getStyle('submenu.iconSize'),\n                menuIconStyle: this.getStyle('menu.icon'),\n                submenuIconStyle: this.getStyle('submenu.icon')\n            });\n        }\n\n        /**\n         * Change to low dimensional object.\n         * @param {object} styleOptions - style object of user interface\n         * @returns {object} low level object for style apply\n         * @private\n         */\n\n    }, {\n        key: '_changeToObject',\n        value: function _changeToObject(styleOptions) {\n            var styleObject = {};\n            (0, _tuiCodeSnippet.forEach)(styleOptions, function (value, key) {\n                var keyExplode = key.match(/^(.+)\\.([a-z]+)$/i);\n                var property = keyExplode[1],\n                    subProperty = keyExplode[2];\n\n\n                if (!styleObject[property]) {\n                    styleObject[property] = {};\n                }\n                styleObject[property][subProperty] = value;\n            });\n\n            return styleObject;\n        }\n\n        /**\n         * Style object to Csstext serialize\n         * @param {object} styleObject - style object\n         * @returns {string} - css text string\n         * @private\n         */\n\n    }, {\n        key: '_makeCssText',\n        value: function _makeCssText(styleObject) {\n            var _this = this;\n\n            var converterStack = [];\n\n            (0, _tuiCodeSnippet.forEach)(styleObject, function (value, key) {\n                if (['backgroundImage'].indexOf(key) > -1 && value !== 'none') {\n                    value = 'url(' + value + ')';\n                }\n\n                converterStack.push(_this._toUnderScore(key) + ': ' + value);\n            });\n\n            return converterStack.join(';');\n        }\n\n        /**\n         * Camel key string to Underscore string\n         * @param {string} targetString - change target\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_toUnderScore',\n        value: function _toUnderScore(targetString) {\n            return targetString.replace(/([A-Z])/g, function ($0, $1) {\n                return '-' + $1.toLowerCase();\n            });\n        }\n\n        /**\n         * Load defulat svg icon \n         * @private\n         */\n\n    }, {\n        key: '_loadDefaultSvgIcon',\n        value: function _loadDefaultSvgIcon() {\n            if (!document.getElementById('tui-image-editor-svg-default-icons')) {\n                var parser = new DOMParser();\n                var dom = parser.parseFromString(_icon2.default, 'text/xml');\n\n                document.body.appendChild(dom.documentElement);\n            }\n        }\n\n        /**\n         * Make className for svg icon\n         * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_makeIconClassName',\n        value: function _makeIconClassName(iconType, isSubmenu) {\n            var iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n            var _iconStyleInfo$iconTy = iconStyleInfo[iconType],\n                path = _iconStyleInfo$iconTy.path,\n                name = _iconStyleInfo$iconTy.name;\n\n\n            return path && name ? iconType : iconType + ' use-default';\n        }\n\n        /**\n         * Make svg use link path name\n         * @param {string} iconType - normal' or 'active' or 'hover' or 'disabled\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_makeSvgIconPrefix',\n        value: function _makeSvgIconPrefix(iconType, isSubmenu) {\n            var iconStyleInfo = isSubmenu ? this.getStyle('submenu.icon') : this.getStyle('menu.icon');\n            var _iconStyleInfo$iconTy2 = iconStyleInfo[iconType],\n                path = _iconStyleInfo$iconTy2.path,\n                name = _iconStyleInfo$iconTy2.name;\n\n\n            return path && name ? path + '#' + name + '-' : '#';\n        }\n\n        /**\n         * Make svg use link path name\n         * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n         * @param {string} menuName - menu name\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         * @private\n         */\n\n    }, {\n        key: '_makeSvgItem',\n        value: function _makeSvgItem(useIconTypes, menuName, isSubmenu) {\n            var _this2 = this;\n\n            return (0, _tuiCodeSnippet.map)(useIconTypes, function (iconType) {\n                var svgIconPrefix = _this2._makeSvgIconPrefix(iconType, isSubmenu);\n                var iconName = _this2._toUnderScore(menuName);\n                var svgIconClassName = _this2._makeIconClassName(iconType, isSubmenu);\n\n                return '<use xlink:href=\"' + svgIconPrefix + 'ic-' + iconName + '\" class=\"' + svgIconClassName + '\"/>';\n            }).join('');\n        }\n\n        /**\n         * Make svg icon set\n         * @param {Array.<string>} useIconTypes - normal' or 'active' or 'hover' or 'disabled\n         * @param {string} menuName - menu name\n         * @param {boolean} isSubmenu - submenu icon or not.\n         * @returns {string}\n         */\n\n    }, {\n        key: 'makeMenSvgIconSet',\n        value: function makeMenSvgIconSet(useIconTypes, menuName) {\n            var isSubmenu = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : false;\n\n            return '<svg class=\"svg_ic-' + (isSubmenu ? 'submenu' : 'menu') + '\">' + this._makeSvgItem(useIconTypes, menuName, isSubmenu) + '</svg>';\n        }\n    }]);\n\n    return Theme;\n}();\n\nexports.default = Theme;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/theme/theme.js?")},"./src/js/ui/tools/colorpicker.js":function srcJsUiToolsColorpickerJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _tuiColorPicker = __webpack_require__(/*! tui-color-picker */ \"tui-color-picker\");\n\nvar _tuiColorPicker2 = _interopRequireDefault(_tuiColorPicker);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar PICKER_COLOR = ['#000000', '#2a2a2a', '#545454', '#7e7e7e', '#a8a8a8', '#d2d2d2', '#ffffff', '', '#ff4040', '#ff6518', '#ffbb3b', '#03bd9e', '#00a9ff', '#515ce6', '#9e5fff', '#ff5583'];\n\n/**\n * Colorpicker control class\n * @class\n * @ignore\n */\n\nvar Colorpicker = function () {\n    function Colorpicker(colorpickerElement) {\n        var defaultColor = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '#7e7e7e';\n        var toggleDirection = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'up';\n        var usageStatistics = arguments[3];\n\n        _classCallCheck(this, Colorpicker);\n\n        this.colorpickerElement = colorpickerElement;\n        this.usageStatistics = usageStatistics;\n\n        this._show = false;\n\n        this._colorpickerElement = colorpickerElement;\n        this._toggleDirection = toggleDirection;\n        this._makePickerButtonElement(defaultColor);\n        this._makePickerLayerElement(colorpickerElement, colorpickerElement.getAttribute('title'));\n        this._color = defaultColor;\n        this.picker = _tuiColorPicker2.default.create({\n            container: this.pickerElement,\n            preset: PICKER_COLOR,\n            color: defaultColor,\n            usageStatistics: this.usageStatistics\n        });\n\n        this._addEvent();\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Colorpicker, [{\n        key: 'destroy',\n        value: function destroy() {\n            var _this = this;\n\n            this._removeEvent();\n            this.picker.destroy();\n            this.colorpickerElement.innerHTML = '';\n            _tuiCodeSnippet2.default.forEach(this, function (value, key) {\n                _this[key] = null;\n            });\n        }\n\n        /**\n         * Get color\n         * @returns {Number} color value\n         */\n\n    }, {\n        key: '_changeColorElement',\n\n\n        /**\n         * Change color element\n         * @param {string} color color value\n         * #private\n         */\n        value: function _changeColorElement(color) {\n            if (color) {\n                this.colorElement.classList.remove('transparent');\n                this.colorElement.style.backgroundColor = color;\n            } else {\n                this.colorElement.style.backgroundColor = '#fff';\n                this.colorElement.classList.add('transparent');\n            }\n        }\n\n        /**\n         * Make picker button element\n         * @param {string} defaultColor color value\n         * @private\n         */\n\n    }, {\n        key: '_makePickerButtonElement',\n        value: function _makePickerButtonElement(defaultColor) {\n            this.colorpickerElement.classList.add('tui-image-editor-button');\n\n            this.colorElement = document.createElement('div');\n            this.colorElement.className = 'color-picker-value';\n            if (defaultColor) {\n                this.colorElement.style.backgroundColor = defaultColor;\n            } else {\n                this.colorElement.classList.add('transparent');\n            }\n        }\n\n        /**\n         * Make picker layer element\n         * @param {HTMLElement} colorpickerElement color picker element\n         * @param {string} title picker title\n         * @private\n         */\n\n    }, {\n        key: '_makePickerLayerElement',\n        value: function _makePickerLayerElement(colorpickerElement, title) {\n            var label = document.createElement('label');\n            var triangle = document.createElement('div');\n\n            this.pickerControl = document.createElement('div');\n            this.pickerControl.className = 'color-picker-control';\n\n            this.pickerElement = document.createElement('div');\n            this.pickerElement.className = 'color-picker';\n\n            label.innerHTML = title;\n            triangle.className = 'triangle';\n\n            this.pickerControl.appendChild(this.pickerElement);\n            this.pickerControl.appendChild(triangle);\n\n            colorpickerElement.appendChild(this.pickerControl);\n            colorpickerElement.appendChild(this.colorElement);\n            colorpickerElement.appendChild(label);\n        }\n\n        /**\n         * Add event\n         * @private\n         */\n\n    }, {\n        key: '_addEvent',\n        value: function _addEvent() {\n            var _this2 = this;\n\n            this.picker.on('selectColor', function (value) {\n                _this2._changeColorElement(value.color);\n                _this2._color = value.color;\n                _this2.fire('change', value.color);\n            });\n\n            this.eventHandler = {\n                pickerToggle: this._pickerToggleEventHandler.bind(this),\n                pickerHide: function pickerHide() {\n                    return _this2.hide();\n                }\n            };\n\n            this.colorpickerElement.addEventListener('click', this.eventHandler.pickerToggle);\n            document.body.addEventListener('click', this.eventHandler.pickerHide);\n        }\n\n        /**\n         * Remove event\n         * @private\n         */\n\n    }, {\n        key: '_removeEvent',\n        value: function _removeEvent() {\n            this.colorpickerElement.removeEventListener('click', this.eventHandler.pickerToggle);\n            document.body.removeEventListener('click', this.eventHandler.pickerHide);\n            this.picker.off();\n        }\n\n        /**\n         * Picker toggle event handler\n         * @param {object} event - change event\n         * @private\n         */\n\n    }, {\n        key: '_pickerToggleEventHandler',\n        value: function _pickerToggleEventHandler(event) {\n            var target = event.target;\n\n            var isInPickerControl = target && this._isElementInColorPickerControl(target);\n\n            if (!isInPickerControl || isInPickerControl && this._isPaletteButton(target)) {\n                this._show = !this._show;\n                this.pickerControl.style.display = this._show ? 'block' : 'none';\n                this._setPickerControlPosition();\n                this.fire('changeShow', this);\n            }\n            event.stopPropagation();\n        }\n\n        /**\n         * Check hex input or not\n         * @param {Element} target - Event target element\n         * @returns {boolean}\n         * @private\n         */\n\n    }, {\n        key: '_isPaletteButton',\n        value: function _isPaletteButton(target) {\n            return target.className === 'tui-colorpicker-palette-button';\n        }\n\n        /**\n         * Check given element is in pickerControl element\n         * @param {Element} element - element to check\n         * @returns {boolean}\n         * @private\n         */\n\n    }, {\n        key: '_isElementInColorPickerControl',\n        value: function _isElementInColorPickerControl(element) {\n            var parentNode = element;\n\n            while (parentNode !== document.body) {\n                if (!parentNode) {\n                    break;\n                }\n\n                if (parentNode === this.pickerControl) {\n                    return true;\n                }\n\n                parentNode = parentNode.parentNode;\n            }\n\n            return false;\n        }\n    }, {\n        key: 'hide',\n        value: function hide() {\n            this._show = false;\n            this.pickerControl.style.display = 'none';\n        }\n\n        /**\n         * Set picker control position\n         * @private\n         */\n\n    }, {\n        key: '_setPickerControlPosition',\n        value: function _setPickerControlPosition() {\n            var controlStyle = this.pickerControl.style;\n            var halfPickerWidth = this._colorpickerElement.clientWidth / 2 + 2;\n            var left = this.pickerControl.offsetWidth / 2 - halfPickerWidth;\n            var top = (this.pickerControl.offsetHeight + 10) * -1;\n\n            if (this._toggleDirection === 'down') {\n                top = 30;\n            }\n\n            controlStyle.top = top + 'px';\n            controlStyle.left = '-' + left + 'px';\n        }\n    }, {\n        key: 'color',\n        get: function get() {\n            return this._color;\n        }\n\n        /**\n         * Set color\n         * @param {string} color color value\n         */\n        ,\n        set: function set(color) {\n            this._color = color;\n            this._changeColorElement(color);\n        }\n    }]);\n\n    return Colorpicker;\n}();\n\n_tuiCodeSnippet2.default.CustomEvents.mixin(Colorpicker);\nexports.default = Colorpicker;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/tools/colorpicker.js?")},"./src/js/ui/tools/range.js":function srcJsUiToolsRangeJs(module,exports,__webpack_require__){"use strict";eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar _tuiCodeSnippet2 = _interopRequireDefault(_tuiCodeSnippet);\n\nvar _util = __webpack_require__(/*! ../../util */ \"./src/js/util.js\");\n\nvar _consts = __webpack_require__(/*! ../../consts */ \"./src/js/consts.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar INPUT_FILTER_REGEXP = /(-?)([0-9]*)[^0-9]*([0-9]*)/g;\n\n/**\n * Range control class\n * @class\n * @ignore\n */\n\nvar Range = function () {\n    /**\n     * @constructor\n     * @extends {View}\n     * @param {Object} rangeElements - Html resources for creating sliders\n     *  @param {HTMLElement} rangeElements.slider - b\n     *  @param {HTMLElement} [rangeElements.input] - c\n     * @param {Object} options - Slider make options\n     *  @param {number} options.min - min value\n     *  @param {number} options.max - max value\n     *  @param {number} options.value - default value\n     *  @param {number} [options.useDecimal] - Decimal point processing.\n     *  @param {number} [options.realTimeEvent] - Reflect live events.\n     */\n    function Range(rangeElements) {\n        var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n        _classCallCheck(this, Range);\n\n        this._value = options.value || 0;\n\n        this.rangeElement = rangeElements.slider;\n        this.rangeInputElement = rangeElements.input;\n\n        this._drawRangeElement();\n\n        this.rangeWidth = this._getRangeWidth();\n        this._min = options.min || 0;\n        this._max = options.max || 100;\n        this._useDecimal = options.useDecimal;\n        this._absMax = this._min * -1 + this._max;\n        this.realTimeEvent = options.realTimeEvent || false;\n\n        this.eventHandler = {\n            startChangingSlide: this._startChangingSlide.bind(this),\n            stopChangingSlide: this._stopChangingSlide.bind(this),\n            changeSlide: this._changeSlide.bind(this),\n            changeSlideFinally: this._changeSlideFinally.bind(this),\n            changeInput: this._changeValueWithInput.bind(this, false),\n            changeInputFinally: this._changeValueWithInput.bind(this, true),\n            changeInputWithArrow: this._changeValueWithInputKeyEvent.bind(this)\n        };\n\n        this._addClickEvent();\n        this._addDragEvent();\n        this._addInputEvent();\n        this.value = options.value;\n        this.trigger('change');\n    }\n\n    /**\n     * Destroys the instance.\n     */\n\n\n    _createClass(Range, [{\n        key: 'destroy',\n        value: function destroy() {\n            var _this = this;\n\n            this._removeClickEvent();\n            this._removeDragEvent();\n            this._removeInputEvent();\n            this.rangeElement.innerHTML = '';\n            _tuiCodeSnippet2.default.forEach(this, function (value, key) {\n                _this[key] = null;\n            });\n        }\n\n        /**\n         * Set range max value and re position cursor\n         * @param {number} maxValue - max value\n         */\n\n    }, {\n        key: 'trigger',\n\n\n        /**\n         * event tirigger\n         * @param {string} type - type\n         */\n        value: function trigger(type) {\n            this.fire(type, this._value);\n        }\n\n        /**\n         * Calculate slider width\n         * @returns {number} - slider width\n         */\n\n    }, {\n        key: '_getRangeWidth',\n        value: function _getRangeWidth() {\n            var getElementWidth = function getElementWidth(element) {\n                return (0, _util.toInteger)(window.getComputedStyle(element, null).width);\n            };\n\n            return getElementWidth(this.rangeElement) - getElementWidth(this.pointer);\n        }\n\n        /**\n         * Make range element\n         * @private\n         */\n\n    }, {\n        key: '_drawRangeElement',\n        value: function _drawRangeElement() {\n            this.rangeElement.classList.add('tui-image-editor-range');\n\n            this.bar = document.createElement('div');\n            this.bar.className = 'tui-image-editor-virtual-range-bar';\n\n            this.subbar = document.createElement('div');\n            this.subbar.className = 'tui-image-editor-virtual-range-subbar';\n\n            this.pointer = document.createElement('div');\n            this.pointer.className = 'tui-image-editor-virtual-range-pointer';\n\n            this.bar.appendChild(this.subbar);\n            this.bar.appendChild(this.pointer);\n            this.rangeElement.appendChild(this.bar);\n        }\n\n        /**\n         * Add range input editing event\n         * @private\n         */\n\n    }, {\n        key: '_addInputEvent',\n        value: function _addInputEvent() {\n            if (this.rangeInputElement) {\n                this.rangeInputElement.addEventListener('keydown', this.eventHandler.changeInputWithArrow);\n                this.rangeInputElement.addEventListener('keyup', this.eventHandler.changeInput);\n                this.rangeInputElement.addEventListener('blur', this.eventHandler.changeInputFinally);\n            }\n        }\n\n        /**\n         * Remove range input editing event\n         * @private\n         */\n\n    }, {\n        key: '_removeInputEvent',\n        value: function _removeInputEvent() {\n            if (this.rangeInputElement) {\n                this.rangeInputElement.removeEventListener('keydown', this.eventHandler.changeInputWithArrow);\n                this.rangeInputElement.removeEventListener('keyup', this.eventHandler.changeInput);\n                this.rangeInputElement.removeEventListener('blur', this.eventHandler.changeInputFinally);\n            }\n        }\n\n        /**\n         * change angle event\n         * @param {object} event - key event\n         * @private\n         */\n\n    }, {\n        key: '_changeValueWithInputKeyEvent',\n        value: function _changeValueWithInputKeyEvent(event) {\n            var keyCode = event.keyCode,\n                target = event.target;\n\n\n            if ([_consts.keyCodes.ARROW_UP, _consts.keyCodes.ARROW_DOWN].indexOf(keyCode) < 0) {\n                return;\n            }\n\n            var value = Number(target.value);\n\n            value = this._valueUpDownForKeyEvent(value, keyCode);\n\n            var unChanged = value < this._min || value > this._max;\n\n            if (!unChanged) {\n                var clampValue = (0, _util.clamp)(value, this._min, this.max);\n                this.value = clampValue;\n                this.fire('change', clampValue, false);\n            }\n        }\n\n        /**\n         * value up down for input\n         * @param {number} value - original value number\n         * @param {number} keyCode - input event key code\n         * @returns {number} value - changed value\n         * @private\n         */\n\n    }, {\n        key: '_valueUpDownForKeyEvent',\n        value: function _valueUpDownForKeyEvent(value, keyCode) {\n            var step = this._useDecimal ? 0.1 : 1;\n\n            if (keyCode === _consts.keyCodes.ARROW_UP) {\n                value += step;\n            } else if (keyCode === _consts.keyCodes.ARROW_DOWN) {\n                value -= step;\n            }\n\n            return value;\n        }\n\n        /**\n         * change angle event\n         * @param {boolean} isLast - Is last change\n         * @param {object} event - key event\n         * @private\n         */\n\n    }, {\n        key: '_changeValueWithInput',\n        value: function _changeValueWithInput(isLast, event) {\n            var keyCode = event.keyCode,\n                target = event.target;\n\n\n            if ([_consts.keyCodes.ARROW_UP, _consts.keyCodes.ARROW_DOWN].indexOf(keyCode) >= 0) {\n                return;\n            }\n\n            var stringValue = this._filterForInputText(target.value);\n            var waitForChange = !stringValue || isNaN(stringValue);\n            target.value = stringValue;\n\n            if (!waitForChange) {\n                var value = this._useDecimal ? Number(stringValue) : (0, _util.toInteger)(stringValue);\n                value = (0, _util.clamp)(value, this._min, this.max);\n\n                this.value = value;\n                this.fire('change', value, isLast);\n            }\n        }\n\n        /**\n         * Add Range click event\n         * @private\n         */\n\n    }, {\n        key: '_addClickEvent',\n        value: function _addClickEvent() {\n            this.rangeElement.addEventListener('click', this.eventHandler.changeSlideFinally);\n        }\n\n        /**\n         * Remove Range click event\n         * @private\n         */\n\n    }, {\n        key: '_removeClickEvent',\n        value: function _removeClickEvent() {\n            this.rangeElement.removeEventListener('click', this.eventHandler.changeSlideFinally);\n        }\n\n        /**\n         * Add Range drag event\n         * @private\n         */\n\n    }, {\n        key: '_addDragEvent',\n        value: function _addDragEvent() {\n            this.pointer.addEventListener('mousedown', this.eventHandler.startChangingSlide);\n        }\n\n        /**\n         * Remove Range drag event\n         * @private\n         */\n\n    }, {\n        key: '_removeDragEvent',\n        value: function _removeDragEvent() {\n            this.pointer.removeEventListener('mousedown', this.eventHandler.startChangingSlide);\n        }\n\n        /**\n         * change angle event\n         * @param {object} event - change event\n         * @private\n         */\n\n    }, {\n        key: '_changeSlide',\n        value: function _changeSlide(event) {\n            var changePosition = event.screenX;\n            var diffPosition = changePosition - this.firstPosition;\n            var touchPx = this.firstLeft + diffPosition;\n            touchPx = touchPx > this.rangeWidth ? this.rangeWidth : touchPx;\n            touchPx = touchPx < 0 ? 0 : touchPx;\n\n            this.pointer.style.left = touchPx + 'px';\n            this.subbar.style.right = this.rangeWidth - touchPx + 'px';\n\n            var ratio = touchPx / this.rangeWidth;\n            var resultValue = this._absMax * ratio + this._min;\n            var value = this._useDecimal ? resultValue : (0, _util.toInteger)(resultValue);\n            var isValueChanged = this.value !== value;\n\n            if (isValueChanged) {\n                this.value = value;\n                if (this.realTimeEvent) {\n                    this.fire('change', this._value, false);\n                }\n            }\n        }\n    }, {\n        key: '_changeSlideFinally',\n        value: function _changeSlideFinally(event) {\n            event.stopPropagation();\n            if (event.target.className !== 'tui-image-editor-range') {\n                return;\n            }\n            var touchPx = event.offsetX;\n            var ratio = touchPx / this.rangeWidth;\n            var value = this._absMax * ratio + this._min;\n            this.pointer.style.left = ratio * this.rangeWidth + 'px';\n            this.subbar.style.right = (1 - ratio) * this.rangeWidth + 'px';\n            this.value = value;\n\n            this.fire('change', value, true);\n        }\n    }, {\n        key: '_startChangingSlide',\n        value: function _startChangingSlide(event) {\n            this.firstPosition = event.screenX;\n            this.firstLeft = (0, _util.toInteger)(this.pointer.style.left) || 0;\n\n            document.addEventListener('mousemove', this.eventHandler.changeSlide);\n            document.addEventListener('mouseup', this.eventHandler.stopChangingSlide);\n        }\n\n        /**\n         * stop change angle event\n         * @private\n         */\n\n    }, {\n        key: '_stopChangingSlide',\n        value: function _stopChangingSlide() {\n            this.fire('change', this._value, true);\n\n            document.removeEventListener('mousemove', this.eventHandler.changeSlide);\n            document.removeEventListener('mouseup', this.eventHandler.stopChangingSlide);\n        }\n\n        /**\n         * Unnecessary string filtering.\n         * @param {string} inputValue - origin string of input\n         * @returns {string} filtered string\n         * @private\n         */\n\n    }, {\n        key: '_filterForInputText',\n        value: function _filterForInputText(inputValue) {\n            return inputValue.replace(INPUT_FILTER_REGEXP, '$1$2$3');\n        }\n    }, {\n        key: 'max',\n        set: function set(maxValue) {\n            this._max = maxValue;\n            this._absMax = this._min * -1 + this._max;\n            this.value = this._value;\n        },\n        get: function get() {\n            return this._max;\n        }\n\n        /**\n         * Get range value\n         * @returns {Number} range value\n         */\n\n    }, {\n        key: 'value',\n        get: function get() {\n            return this._value;\n        }\n\n        /**\n         * Set range value\n         * @param {Number} value range value\n         * @param {Boolean} fire whether fire custom event or not\n         */\n        ,\n        set: function set(value) {\n            value = this._useDecimal ? value : (0, _util.toInteger)(value);\n\n            var absValue = value - this._min;\n            var leftPosition = absValue * this.rangeWidth / this._absMax;\n\n            if (this.rangeWidth < leftPosition) {\n                leftPosition = this.rangeWidth;\n            }\n\n            this.pointer.style.left = leftPosition + 'px';\n            this.subbar.style.right = this.rangeWidth - leftPosition + 'px';\n\n            this._value = value;\n            if (this.rangeInputElement) {\n                this.rangeInputElement.value = value;\n            }\n        }\n    }]);\n\n    return Range;\n}();\n\n_tuiCodeSnippet2.default.CustomEvents.mixin(Range);\nexports.default = Range;\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/ui/tools/range.js?")},"./src/js/util.js":function srcJsUtilJs(module,exports,__webpack_require__){"use strict";eval("\n\nvar _tuiCodeSnippet = __webpack_require__(/*! tui-code-snippet */ \"tui-code-snippet\");\n\nvar FLOATING_POINT_DIGIT = 2; /**\n                               * @author NHN Ent. FE Development Team <dl_javascript@nhn.com>\n                               * @fileoverview Util\n                               */\n\nvar CSS_PREFIX = 'tui-image-editor-';\nvar min = Math.min,\n    max = Math.max;\n\nvar hostnameSent = false;\n\nmodule.exports = {\n    /**\n     * Clamp value\n     * @param {number} value - Value\n     * @param {number} minValue - Minimum value\n     * @param {number} maxValue - Maximum value\n     * @returns {number} clamped value\n     */\n    clamp: function clamp(value, minValue, maxValue) {\n        var temp = void 0;\n        if (minValue > maxValue) {\n            temp = minValue;\n            minValue = maxValue;\n            maxValue = temp;\n        }\n\n        return max(minValue, min(value, maxValue));\n    },\n\n\n    /**\n     * Make key-value object from arguments\n     * @returns {object.<string, string>}\n     */\n    keyMirror: function keyMirror() {\n        var obj = {};\n\n        for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n            args[_key] = arguments[_key];\n        }\n\n        (0, _tuiCodeSnippet.forEach)(args, function (key) {\n            obj[key] = key;\n        });\n\n        return obj;\n    },\n\n\n    /**\n     * Make CSSText\n     * @param {Object} styleObj - Style info object\n     * @returns {string} Connected string of style\n     */\n    makeStyleText: function makeStyleText(styleObj) {\n        var styleStr = '';\n\n        (0, _tuiCodeSnippet.forEach)(styleObj, function (value, prop) {\n            styleStr += prop + ': ' + value + ';';\n        });\n\n        return styleStr;\n    },\n\n\n    /**\n     * Get object's properties\n     * @param {Object} obj - object\n     * @param {Array} keys - keys\n     * @returns {Object} properties object\n     */\n    getProperties: function getProperties(obj, keys) {\n        var props = {};\n        var length = keys.length;\n\n        var i = 0;\n        var key = void 0;\n\n        for (i = 0; i < length; i += 1) {\n            key = keys[i];\n            props[key] = obj[key];\n        }\n\n        return props;\n    },\n\n\n    /**\n     * ParseInt simpliment\n     * @param {number} value - Value\n     * @returns {number}\n     */\n    toInteger: function toInteger(value) {\n        return parseInt(value, 10);\n    },\n\n\n    /**\n     * String to camelcase string\n     * @param {string} targetString - change target\n     * @returns {string}\n     * @private\n     */\n    toCamelCase: function toCamelCase(targetString) {\n        return targetString.replace(/-([a-z])/g, function ($0, $1) {\n            return $1.toUpperCase();\n        });\n    },\n\n\n    /**\n     * Check browser file api support\n     * @returns {boolean}\n     * @private\n     */\n    isSupportFileApi: function isSupportFileApi() {\n        return !!(window.File && window.FileList && window.FileReader);\n    },\n\n\n    /**\n     * hex to rgb\n     * @param {string} color - hex color\n     * @param {string} alpha - color alpha value\n     * @returns {string} rgb expression\n     */\n    getRgb: function getRgb(color, alpha) {\n        if (color.length === 4) {\n            color = '' + color + color.slice(1, 4);\n        }\n        var r = parseInt(color.slice(1, 3), 16);\n        var g = parseInt(color.slice(3, 5), 16);\n        var b = parseInt(color.slice(5, 7), 16);\n        var a = alpha || 1;\n\n        return 'rgba(' + r + ', ' + g + ', ' + b + ', ' + a + ')';\n    },\n\n\n    /**\n     * send hostname\n     */\n    sendHostName: function sendHostName() {\n        if (hostnameSent) {\n            return;\n        }\n        hostnameSent = true;\n\n        (0, _tuiCodeSnippet.sendHostname)('image-editor', 'UA-129999381-1');\n    },\n\n\n    /**\n     * Apply css resource\n     * @param {string} styleBuffer - serialized css text\n     * @param {string} tagId - style tag id\n     */\n    styleLoad: function styleLoad(styleBuffer, tagId) {\n        var _document$getElements = document.getElementsByTagName('head'),\n            head = _document$getElements[0];\n\n        var linkElement = document.createElement('link');\n        var styleData = encodeURIComponent(styleBuffer);\n        if (tagId) {\n            linkElement.id = tagId;\n            // linkElement.id = 'tui-image-editor-theme-style';\n        }\n        linkElement.setAttribute('rel', 'stylesheet');\n        linkElement.setAttribute('type', 'text/css');\n        linkElement.setAttribute('href', 'data:text/css;charset=UTF-8,' + styleData);\n        head.appendChild(linkElement);\n    },\n\n\n    /**\n     * Get selector\n     * @param {HTMLElement} targetElement - target element\n     * @returns {Function} selector\n     */\n    getSelector: function getSelector(targetElement) {\n        return function (str) {\n            return targetElement.querySelector(str);\n        };\n    },\n\n\n    /**\n     * Change base64 to blob\n     * @param {String} data - base64 string data\n     * @returns {Blob} Blob Data\n     */\n    base64ToBlob: function base64ToBlob(data) {\n        var rImageType = /data:(image\\/.+);base64,/;\n        var mimeString = '';\n        var raw = void 0,\n            uInt8Array = void 0,\n            i = void 0;\n\n        raw = data.replace(rImageType, function (header, imageType) {\n            mimeString = imageType;\n\n            return '';\n        });\n\n        raw = atob(raw);\n        var rawLength = raw.length;\n        uInt8Array = new Uint8Array(rawLength); // eslint-disable-line\n\n        for (i = 0; i < rawLength; i += 1) {\n            uInt8Array[i] = raw.charCodeAt(i);\n        }\n\n        return new Blob([uInt8Array], { type: mimeString });\n    },\n\n\n    /**\n     * Fix floating point diff.\n     * @param {number} value - original value\n     * @returns {number} fixed value\n     */\n    fixFloatingPoint: function fixFloatingPoint(value) {\n        return Number(value.toFixed(FLOATING_POINT_DIGIT));\n    },\n\n\n    /**\n     * Assignment for destroying objects.\n     * @param {Object} targetObject - object to be removed.\n     */\n    assignmentForDestroy: function assignmentForDestroy(targetObject) {\n        (0, _tuiCodeSnippet.forEach)(targetObject, function (value, key) {\n            targetObject[key] = null;\n        });\n    },\n\n\n    /**\n     * Make class name for ui\n     * @param {String} str  - main string of className\n     * @param {String} prefix - prefix string of className\n     * @returns {String} class name\n     */\n    cls: function cls() {\n        var str = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n        var prefix = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n        if (str.charAt(0) === '.') {\n            return '.' + CSS_PREFIX + prefix + str.slice(1);\n        }\n\n        return '' + CSS_PREFIX + prefix + str;\n    }\n};\n\n//# sourceURL=webpack://tui.ImageEditor/./src/js/util.js?")},fabric:function fabric(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_fabric__;\n\n//# sourceURL=webpack://tui.ImageEditor/external_%7B%22commonjs%22:%5B%22fabric%22,%22fabric%22%5D,%22commonjs2%22:%5B%22fabric%22,%22fabric%22%5D,%22amd%22:%22fabric%22,%22root%22:%22fabric%22%7D?")},"tui-code-snippet":function tuiCodeSnippet(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_tui_code_snippet__;\n\n//# sourceURL=webpack://tui.ImageEditor/external_%7B%22commonjs%22:%22tui-code-snippet%22,%22commonjs2%22:%22tui-code-snippet%22,%22amd%22:%22tui-code-snippet%22,%22root%22:%5B%22tui%22,%22util%22%5D%7D?")},"tui-color-picker":function tuiColorPicker(module,exports){eval("module.exports = __WEBPACK_EXTERNAL_MODULE_tui_color_picker__;\n\n//# sourceURL=webpack://tui.ImageEditor/external_%7B%22commonjs%22:%22tui-color-picker%22,%22commonjs2%22:%22tui-color-picker%22,%22amd%22:%22tui-color-picker%22,%22root%22:%5B%22tui%22,%22colorPicker%22%5D%7D?")}})},module.exports=factory(__webpack_require__("epSk").fabric,__webpack_require__("SuO2"),__webpack_require__("/sK6"))},qBft:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.AnsiX923={pad:function(e,t){var n=e.sigBytes,r=4*t,i=r-n%r,a=n+i-1;e.clamp(),e.words[a>>>2]|=i<<24-a%4*8,e.sigBytes+=i},unpad:function(e){e.sigBytes-=255&e.words[e.sigBytes-1>>>2]}},r.pad.Ansix923)},qM6L:function(e,t,n){var r;e.exports=(r=n("Ib8C"),function(){var e=r.lib.WordArray,t=r.enc;function n(e){return e<<8&4278255360|e>>>8&16711935}t.Utf16=t.Utf16BE={stringify:function(e){for(var t=e.words,n=e.sigBytes,r=[],i=0;i<n;i+=2)r.push(String.fromCharCode(t[i>>>2]>>>16-i%4*8&65535));return r.join("")},parse:function(t){for(var n=t.length,r=[],i=0;i<n;i++)r[i>>>1]|=t.charCodeAt(i)<<16-i%2*16;return e.create(r,2*n)}},t.Utf16LE={stringify:function(e){for(var t=e.words,r=e.sigBytes,i=[],a=0;a<r;a+=2){var o=n(t[a>>>2]>>>16-a%4*8&65535);i.push(String.fromCharCode(o))}return i.join("")},parse:function(t){for(var r=t.length,i=[],a=0;a<r;a++)i[a>>>1]|=n(t.charCodeAt(a)<<16-a%2*16);return e.create(i,2*r)}}}(),r.enc.Utf16)},qu8F:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.mode.CTRGladman=function(){var e=r.lib.BlockCipherMode.extend();function t(e){if(255==(e>>24&255)){var t=e>>16&255,n=e>>8&255,r=255&e;255===t?(t=0,255===n?(n=0,255===r?r=0:++r):++n):++t,e=0,e+=t<<16,e+=n<<8,e+=r}else e+=1<<24;return e}var n=e.Encryptor=e.extend({processBlock:function(e,n){var r=this._cipher,i=r.blockSize,a=this._iv,o=this._counter;a&&(o=this._counter=a.slice(0),this._iv=void 0),function(e){0===(e[0]=t(e[0]))&&(e[1]=t(e[1]))}(o);var s=o.slice(0);r.encryptBlock(s,0);for(var l=0;l<i;l++)e[n+l]^=s[l]}});return e.Decryptor=n,e}(),r.mode.CTRGladman)},r8II:function(e,t,n){"use strict";t.decode=t.parse=n("YcCt"),t.encode=t.stringify=n("6MUB")},uGsb:function(e,t,n){var r,i,a,o,s,l,c,u;e.exports=(u=n("Ib8C"),n("MlIO"),n("1uat"),a=(i=(r=u).x64).Word,o=i.WordArray,c=(s=r.algo).SHA384=(l=s.SHA512).extend({_doReset:function(){this._hash=new o.init([new a.init(3418070365,3238371032),new a.init(1654270250,914150663),new a.init(2438529370,812702999),new a.init(355462360,4144912697),new a.init(1731405415,4290775857),new a.init(2394180231,1750603025),new a.init(3675008525,1694076839),new a.init(1203062813,3204075428)])},_doFinalize:function(){var e=l._doFinalize.call(this);return e.sigBytes-=16,e}}),r.SHA384=l._createHelper(c),r.HmacSHA384=l._createHmacHelper(c),u.SHA384)},uGxW:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("OLod"),r.pad.NoPadding={pad:function(){},unpad:function(){}},r.pad.NoPadding)},w7YG:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.StreamCipher,n=e.algo,i=n.RC4=t.extend({_doReset:function(){for(var e=this._key,t=e.words,n=e.sigBytes,r=this._S=[],i=0;i<256;i++)r[i]=i;i=0;for(var a=0;i<256;i++){var o=i%n,s=r[i];r[i]=r[a=(a+r[i]+(t[o>>>2]>>>24-o%4*8&255))%256],r[a]=s}this._i=this._j=0},_doProcessBlock:function(e,t){e[t]^=a.call(this)},keySize:8,ivSize:0});function a(){for(var e=this._S,t=this._i,n=this._j,r=0,i=0;i<4;i++){var a=e[t=(t+1)%256];e[t]=e[n=(n+e[t])%256],e[n]=a,r|=e[(e[t]+e[n])%256]<<24-8*i}return this._i=t,this._j=n,r}e.RC4=t._createHelper(i);var o=n.RC4Drop=i.extend({cfg:i.cfg.extend({drop:192}),_doReset:function(){i._doReset.call(this);for(var e=this.cfg.drop;e>0;e--)a.call(this)}});e.RC4Drop=t._createHelper(o)}(),r.RC4)},wZgz:function(e,t,n){var r;e.exports=(r=n("Ib8C"),n("ETIr"),n("cv67"),n("K3mO"),n("OLod"),function(){var e=r,t=e.lib.BlockCipher,n=e.algo,i=[],a=[],o=[],s=[],l=[],c=[],u=[],h=[],d=[],p=[];!function(){for(var e=[],t=0;t<256;t++)e[t]=t<128?t<<1:t<<1^283;var n=0,r=0;for(t=0;t<256;t++){var f=r^r<<1^r<<2^r<<3^r<<4;i[n]=f=f>>>8^255&f^99,a[f]=n;var m,g=e[n],v=e[g],_=e[v];o[n]=(m=257*e[f]^16843008*f)<<24|m>>>8,s[n]=m<<16|m>>>16,l[n]=m<<8|m>>>24,c[n]=m,u[f]=(m=16843009*_^65537*v^257*g^16843008*n)<<24|m>>>8,h[f]=m<<16|m>>>16,d[f]=m<<8|m>>>24,p[f]=m,n?(n=g^e[e[e[_^g]]],r^=e[e[r]]):n=r=1}}();var f=[0,1,2,4,8,16,32,64,128,27,54],m=n.AES=t.extend({_doReset:function(){if(!this._nRounds||this._keyPriorReset!==this._key){for(var e=this._keyPriorReset=this._key,t=e.words,n=e.sigBytes/4,r=4*((this._nRounds=n+6)+1),a=this._keySchedule=[],o=0;o<r;o++)o<n?a[o]=t[o]:(c=a[o-1],o%n?n>6&&o%n==4&&(c=i[c>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c]):(c=i[(c=c<<8|c>>>24)>>>24]<<24|i[c>>>16&255]<<16|i[c>>>8&255]<<8|i[255&c],c^=f[o/n|0]<<24),a[o]=a[o-n]^c);for(var s=this._invKeySchedule=[],l=0;l<r;l++){if(o=r-l,l%4)var c=a[o];else c=a[o-4];s[l]=l<4||o<=4?c:u[i[c>>>24]]^h[i[c>>>16&255]]^d[i[c>>>8&255]]^p[i[255&c]]}}},encryptBlock:function(e,t){this._doCryptBlock(e,t,this._keySchedule,o,s,l,c,i)},decryptBlock:function(e,t){var n=e[t+1];e[t+1]=e[t+3],e[t+3]=n,this._doCryptBlock(e,t,this._invKeySchedule,u,h,d,p,a),n=e[t+1],e[t+1]=e[t+3],e[t+3]=n},_doCryptBlock:function(e,t,n,r,i,a,o,s){for(var l=this._nRounds,c=e[t]^n[0],u=e[t+1]^n[1],h=e[t+2]^n[2],d=e[t+3]^n[3],p=4,f=1;f<l;f++){var m=r[c>>>24]^i[u>>>16&255]^a[h>>>8&255]^o[255&d]^n[p++],g=r[u>>>24]^i[h>>>16&255]^a[d>>>8&255]^o[255&c]^n[p++],v=r[h>>>24]^i[d>>>16&255]^a[c>>>8&255]^o[255&u]^n[p++],_=r[d>>>24]^i[c>>>16&255]^a[u>>>8&255]^o[255&h]^n[p++];c=m,u=g,h=v,d=_}m=(s[c>>>24]<<24|s[u>>>16&255]<<16|s[h>>>8&255]<<8|s[255&d])^n[p++],g=(s[u>>>24]<<24|s[h>>>16&255]<<16|s[d>>>8&255]<<8|s[255&c])^n[p++],v=(s[h>>>24]<<24|s[d>>>16&255]<<16|s[c>>>8&255]<<8|s[255&u])^n[p++],_=(s[d>>>24]<<24|s[c>>>16&255]<<16|s[u>>>8&255]<<8|s[255&h])^n[p++],e[t]=m,e[t+1]=g,e[t+2]=v,e[t+3]=_},keySize:8});e.AES=t._createHelper(m)}(),r.AES)},zUnb:function(e,t,n){"use strict";function r(e){return"function"==typeof e}n.r(t);var i=!1,a={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){var t=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+t.stack)}else i&&console.log("RxJS: Back to a better error behavior. Thank you. <3");i=e},get useDeprecatedSynchronousErrorHandling(){return i}};function o(e){setTimeout((function(){throw e}))}var s={closed:!0,next:function(e){},error:function(e){if(a.useDeprecatedSynchronousErrorHandling)throw e;o(e)},complete:function(){}},l=Array.isArray||function(e){return e&&"number"==typeof e.length};function c(e){return null!==e&&"object"==typeof e}function u(e){return Error.call(this),this.message=e?"".concat(e.length," errors occurred during unsubscription:\n").concat(e.map((function(e,t){return"".concat(t+1,") ").concat(e.toString())})).join("\n  ")):"",this.name="UnsubscriptionError",this.errors=e,this}u.prototype=Object.create(Error.prototype);var h,d=u,p=((h=function(){function e(t){_classCallCheck2(this,e),this.closed=!1,this._parent=null,this._parents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return _createClass2(e,[{key:"unsubscribe",value:function(){var e,t=!1;if(!this.closed){var n=this._parent,i=this._parents,a=this._unsubscribe,o=this._subscriptions;this.closed=!0,this._parent=null,this._parents=null,this._subscriptions=null;for(var s=-1,u=i?i.length:0;n;)n.remove(this),n=++s<u&&i[s]||null;if(r(a))try{a.call(this)}catch(p){t=!0,e=p instanceof d?f(p.errors):[p]}if(l(o))for(s=-1,u=o.length;++s<u;){var h=o[s];if(c(h))try{h.unsubscribe()}catch(p){t=!0,e=e||[],p instanceof d?e=e.concat(f(p.errors)):e.push(p)}}if(t)throw new d(e)}}},{key:"add",value:function(t){var n=t;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:if(!t)return e.EMPTY;throw new Error("unrecognized teardown "+t+" added to Subscription.")}if(n._addParent(this)){var i=this._subscriptions;i?i.push(n):this._subscriptions=[n]}return n}},{key:"remove",value:function(e){var t=this._subscriptions;if(t){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}}},{key:"_addParent",value:function(e){var t=this._parent,n=this._parents;return t!==e&&(t?n?-1===n.indexOf(e)&&(n.push(e),!0):(this._parents=[e],!0):(this._parent=e,!0))}}]),e}()).EMPTY=function(e){return e.closed=!0,e}(new h),h);function f(e){return e.reduce((function(e,t){return e.concat(t instanceof d?t.errors:t)}),[])}var m="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),g=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;switch(_classCallCheck2(this,n),(a=t.call(this)).syncErrorValue=null,a.syncErrorThrown=!1,a.syncErrorThrowable=!1,a.isStopped=!1,arguments.length){case 0:a.destination=s;break;case 1:if(!e){a.destination=s;break}if("object"==typeof e){e instanceof n?(a.syncErrorThrowable=e.syncErrorThrowable,a.destination=e,e.add(_assertThisInitialized(a))):(a.syncErrorThrowable=!0,a.destination=new v(_assertThisInitialized(a),e));break}default:a.syncErrorThrowable=!0,a.destination=new v(_assertThisInitialized(a),e,r,i)}return a}return _createClass2(n,[{key:m,value:function(){return this}},{key:"next",value:function(e){this.isStopped||this._next(e)}},{key:"error",value:function(e){this.isStopped||(this.isStopped=!0,this._error(e))}},{key:"complete",value:function(){this.isStopped||(this.isStopped=!0,this._complete())}},{key:"unsubscribe",value:function(){this.closed||(this.isStopped=!0,_get2(_getPrototypeOf2(n.prototype),"unsubscribe",this).call(this))}},{key:"_next",value:function(e){this.destination.next(e)}},{key:"_error",value:function(e){this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.destination.complete(),this.unsubscribe()}},{key:"_unsubscribeAndRecycle",value:function(){var e=this._parent,t=this._parents;return this._parent=null,this._parents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parent=e,this._parents=t,this}}],[{key:"create",value:function(e,t,r){var i=new n(e,t,r);return i.syncErrorThrowable=!1,i}}]),n}(p),v=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,o){var l,c;_classCallCheck2(this,n),(l=t.call(this))._parentSubscriber=e;var u=_assertThisInitialized(l);return r(i)?c=i:i&&(c=i.next,a=i.error,o=i.complete,i!==s&&(r((u=Object.create(i)).unsubscribe)&&l.add(u.unsubscribe.bind(u)),u.unsubscribe=l.unsubscribe.bind(_assertThisInitialized(l)))),l._context=u,l._next=c,l._error=a,l._complete=o,l}return _createClass2(n,[{key:"next",value:function(e){if(!this.isStopped&&this._next){var t=this._parentSubscriber;a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}},{key:"error",value:function(e){if(!this.isStopped){var t=this._parentSubscriber,n=a.useDeprecatedSynchronousErrorHandling;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):o(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;o(e)}}}},{key:"complete",value:function(){var e=this;if(!this.isStopped){var t=this._parentSubscriber;if(this._complete){var n=function(){return e._complete.call(e._context)};a.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?(this.__tryOrSetError(t,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}}},{key:"__tryOrUnsub",value:function(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),a.useDeprecatedSynchronousErrorHandling)throw n;o(n)}}},{key:"__tryOrSetError",value:function(e,t,n){if(!a.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(r){return a.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=r,e.syncErrorThrown=!0,!0):(o(r),!0)}return!1}},{key:"_unsubscribe",value:function(){var e=this._parentSubscriber;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}]),n}(g),_="function"==typeof Symbol&&Symbol.observable||"@@observable";function b(){}function y(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return C(t)}function C(e){return e?1===e.length?e[0]:function(t){return e.reduce((function(e,t){return t(e)}),t)}:b}var w,k=((w=function(){function e(t){_classCallCheck2(this,e),this._isScalar=!1,t&&(this._subscribe=t)}return _createClass2(e,[{key:"lift",value:function(t){var n=new e;return n.source=this,n.operator=t,n}},{key:"subscribe",value:function(e,t,n){var r=this.operator,i=function(e,t,n){if(e){if(e instanceof g)return e;if(e[m])return e[m]()}return e||t||n?new g(e,t,n):new g(s)}(e,t,n);if(i.add(r?r.call(i,this.source):this.source||a.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),a.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i}},{key:"_trySubscribe",value:function(e){try{return this._subscribe(e)}catch(t){a.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){var t=e,n=t.closed,r=t.destination,i=t.isStopped;if(n||i)return!1;e=r&&r instanceof g?r:null}return!0}(e)?e.error(t):console.warn(t)}}},{key:"forEach",value:function(e,t){var n=this;return new(t=x(t))((function(t,r){var i;i=n.subscribe((function(t){try{e(t)}catch(n){r(n),i&&i.unsubscribe()}}),r,t)}))}},{key:"_subscribe",value:function(e){var t=this.source;return t&&t.subscribe(e)}},{key:_,value:function(){return this}},{key:"pipe",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?this:C(t)(this)}},{key:"toPromise",value:function(e){var t=this;return new(e=x(e))((function(e,n){var r;t.subscribe((function(e){return r=e}),(function(e){return n(e)}),(function(){return e(r)}))}))}}]),e}()).create=function(e){return new w(e)},w);function x(e){if(e||(e=a.Promise||Promise),!e)throw new Error("no Promise impl found");return e}function S(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}S.prototype=Object.create(Error.prototype);var O,j=S,E=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).subject=e,i.subscriber=r,i.closed=!1,i}return _createClass2(n,[{key:"unsubscribe",value:function(){if(!this.closed){this.closed=!0;var e=this.subject,t=e.observers;if(this.subject=null,t&&0!==t.length&&!e.isStopped&&!e.closed){var n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}}}]),n}(p),P=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).destination=e,r}return n}(g),M=((O=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.call(this)).observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return _createClass2(n,[{key:m,value:function(){return new P(this)}},{key:"lift",value:function(e){var t=new T(this,this);return t.operator=e,t}},{key:"next",value:function(e){if(this.closed)throw new j;if(!this.isStopped)for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].next(e)}},{key:"error",value:function(e){if(this.closed)throw new j;this.hasError=!0,this.thrownError=e,this.isStopped=!0;for(var t=this.observers,n=t.length,r=t.slice(),i=0;i<n;i++)r[i].error(e);this.observers.length=0}},{key:"complete",value:function(){if(this.closed)throw new j;this.isStopped=!0;for(var e=this.observers,t=e.length,n=e.slice(),r=0;r<t;r++)n[r].complete();this.observers.length=0}},{key:"unsubscribe",value:function(){this.isStopped=!0,this.closed=!0,this.observers=null}},{key:"_trySubscribe",value:function(e){if(this.closed)throw new j;return _get2(_getPrototypeOf2(n.prototype),"_trySubscribe",this).call(this,e)}},{key:"_subscribe",value:function(e){if(this.closed)throw new j;return this.hasError?(e.error(this.thrownError),p.EMPTY):this.isStopped?(e.complete(),p.EMPTY):(this.observers.push(e),new E(this,e))}},{key:"asObservable",value:function(){var e=new k;return e.source=this,e}}]),n}(k)).create=function(e,t){return new T(e,t)},O),T=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).destination=e,i.source=r,i}return _createClass2(n,[{key:"next",value:function(e){var t=this.destination;t&&t.next&&t.next(e)}},{key:"error",value:function(e){var t=this.destination;t&&t.error&&this.destination.error(e)}},{key:"complete",value:function(){var e=this.destination;e&&e.complete&&this.destination.complete()}},{key:"_subscribe",value:function(e){return this.source?this.source.subscribe(e):p.EMPTY}}]),n}(M);function I(e){return e&&"function"==typeof e.schedule}var A=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this)).parent=e,a.outerValue=r,a.outerIndex=i,a.index=0,a}return _createClass2(n,[{key:"_next",value:function(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}},{key:"_error",value:function(e){this.parent.notifyError(e,this),this.unsubscribe()}},{key:"_complete",value:function(){this.parent.notifyComplete(this),this.unsubscribe()}}]),n}(g),D=function(e){return function(t){for(var n=0,r=e.length;n<r&&!t.closed;n++)t.next(e[n]);t.closed||t.complete()}},R=function(e){return function(t){return e.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,o),t}};var F="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",L=function(e){return function(t){for(var n=e[F]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t}},N=function(e){return function(t){var n=e[_]();if("function"!=typeof n.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return n.subscribe(t)}},B=function(e){return e&&"number"==typeof e.length&&"function"!=typeof e};function z(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}var q=function(e){if(e instanceof k)return function(t){return e._isScalar?(t.next(e.value),void t.complete()):e.subscribe(t)};if(e&&"function"==typeof e[_])return N(e);if(B(e))return D(e);if(z(e))return R(e);if(e&&"function"==typeof e[F])return L(e);var t=c(e)?"an invalid object":"'".concat(e,"'");throw new TypeError("You provided ".concat(t," where a stream was expected. You can provide an Observable, Promise, Array, or Iterable."))};function U(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:new A(e,n,r);if(!i.closed)return q(t)(i)}var H=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyError",value:function(e,t){this.destination.error(e)}},{key:"notifyComplete",value:function(e){this.destination.complete()}}]),n}(g);function V(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new W(e,t))}}var W=function(){function e(t,n){_classCallCheck2(this,e),this.project=t,this.thisArg=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new G(e,this.project,this.thisArg))}}]),e}(),G=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).project=r,a.count=0,a.thisArg=i||_assertThisInitialized(a),a}return _createClass2(n,[{key:"_next",value:function(e){var t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(g);function Y(e,t){return new k(t?function(n){var r=new p,i=0;return r.add(t.schedule((function(){i!==e.length?(n.next(e[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}:D(e))}function X(e,t){if(!t)return e instanceof k?e:new k(q(e));if(null!=e){if(function(e){return e&&"function"==typeof e[_]}(e))return function(e,t){return new k(t?function(n){var r=new p;return r.add(t.schedule((function(){var i=e[_]();r.add(i.subscribe({next:function(e){r.add(t.schedule((function(){return n.next(e)})))},error:function(e){r.add(t.schedule((function(){return n.error(e)})))},complete:function(){r.add(t.schedule((function(){return n.complete()})))}}))}))),r}:N(e))}(e,t);if(z(e))return function(e,t){return new k(t?function(n){var r=new p;return r.add(t.schedule((function(){return e.then((function(e){r.add(t.schedule((function(){n.next(e),r.add(t.schedule((function(){return n.complete()})))})))}),(function(e){r.add(t.schedule((function(){return n.error(e)})))}))}))),r}:R(e))}(e,t);if(B(e))return Y(e,t);if(function(e){return e&&"function"==typeof e[F]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new k(t?function(n){var r,i=new p;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(t.schedule((function(){r=e[F](),i.add(t.schedule((function(){if(!n.closed){var e,t;try{var i=r.next();e=i.value,t=i.done}catch(a){return void n.error(a)}t?n.complete():(n.next(e),this.schedule())}})))}))),i}:L(e))}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}function J(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return"function"==typeof t?function(r){return r.pipe(J((function(n,r){return X(e(n,r)).pipe(V((function(e,i){return t(n,e,r,i)})))}),n))}:("number"==typeof t&&(n=t),function(t){return t.lift(new K(e,n))})}var K=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY;_classCallCheck2(this,e),this.project=t,this.concurrent=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new $(e,this.project,this.concurrent))}}]),e}(),$=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.POSITIVE_INFINITY;return _classCallCheck2(this,n),(i=t.call(this,e)).project=r,i.concurrent=a,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return _createClass2(n,[{key:"_next",value:function(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=new A(this,void 0,void 0);this.destination.add(r),U(this,e,t,n,r)}},{key:"_complete",value:function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}},{key:"notifyComplete",value:function(e){var t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}]),n}(H);function Z(e){return e}function Q(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY;return J(Z,e)}function ee(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=Number.POSITIVE_INFINITY,i=null,a=t[t.length-1];return I(a)?(i=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(r=t.pop())):"number"==typeof a&&(r=t.pop()),null===i&&1===t.length&&t[0]instanceof k?t[0]:Q(r)(Y(t,i))}function te(){return function(e){return e.lift(new ne(e))}}var ne=function(){function e(t){_classCallCheck2(this,e),this.connectable=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=this.connectable;n._refCount++;var r=new re(e,n),i=t.subscribe(r);return r.closed||(r.connection=n.connect()),i}}]),e}(),re=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass2(n,[{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._refCount;if(t<=0)this.connection=null;else if(e._refCount=t-1,t>1)this.connection=null;else{var n=this.connection,r=e._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null}}]),n}(g),ie=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).source=e,i.subjectFactory=r,i._refCount=0,i._isComplete=!1,i}return _createClass2(n,[{key:"_subscribe",value:function(e){return this.getSubject().subscribe(e)}},{key:"getSubject",value:function(){var e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}},{key:"connect",value:function(){var e=this._connection;return e||(this._isComplete=!1,(e=this._connection=new p).add(this.source.subscribe(new oe(this.getSubject(),this))),e.closed?(this._connection=null,e=p.EMPTY):this._connection=e),e}},{key:"refCount",value:function(){return te()(this)}}]),n}(k).prototype,ae={operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:ie._subscribe},_isComplete:{value:ie._isComplete,writable:!0},getSubject:{value:ie.getSubject},connect:{value:ie.connect},refCount:{value:ie.refCount}},oe=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).connectable=r,i}return _createClass2(n,[{key:"_error",value:function(e){this._unsubscribe(),_get2(_getPrototypeOf2(n.prototype),"_error",this).call(this,e)}},{key:"_complete",value:function(){this.connectable._isComplete=!0,this._unsubscribe(),_get2(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"_unsubscribe",value:function(){var e=this.connectable;if(e){this.connectable=null;var t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}]),n}(P);function se(e,t){return function(n){var r;if(r="function"==typeof e?e:function(){return e},"function"==typeof t)return n.lift(new le(r,t));var i=Object.create(n,ae);return i.source=n,i.subjectFactory=r,i}}var le=function(){function e(t,n){_classCallCheck2(this,e),this.subjectFactory=t,this.selector=n}return _createClass2(e,[{key:"call",value:function(e,t){var n=this.selector,r=this.subjectFactory(),i=n(r).subscribe(e);return i.add(t.subscribe(r)),i}}]),e}();function ce(){return new M}var ue="__annotations__",he="__parameters__",de="__prop__metadata__";function pe(e,t,n,r,i){var a=fe(t);function o(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof o)return a.call.apply(a,[this].concat(t)),this;var s=_construct2(o,t);return function(e){return i&&i.apply(void 0,[e].concat(t)),(e.hasOwnProperty(ue)?e[ue]:Object.defineProperty(e,ue,{value:[]})[ue]).push(s),r&&r(e),e}}return n&&(o.prototype=Object.create(n.prototype)),o.prototype.ngMetadataName=e,o.annotationCls=o,o}function fe(e){return function(){if(e){var t=e.apply(void 0,arguments);for(var n in t)this[n]=t[n]}}}function me(e,t,n){var r=fe(t);function i(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof i)return r.apply(this,t),this;var a=_construct2(i,t);return o.annotation=a,o;function o(e,t,n){for(var r=e.hasOwnProperty(he)?e[he]:Object.defineProperty(e,he,{value:[]})[he];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(a),e}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=e,i.annotationCls=i,i}function ge(e,t,n,r){var i=fe(t);function a(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(this instanceof a)return i.apply(this,t),this;var o=_construct2(a,t);return function(e,n){var i=e.constructor,a=i.hasOwnProperty(de)?i[de]:Object.defineProperty(i,de,{value:{}})[de];a[n]=a.hasOwnProperty(n)&&a[n]||[],a[n].unshift(o),r&&r.apply(void 0,[e,n].concat(t))}}return n&&(a.prototype=Object.create(n.prototype)),a.prototype.ngMetadataName=e,a.annotationCls=a,a}var ve=me("Inject",(function(e){return{token:e}})),_e=me("Optional"),be=me("Self"),ye=me("SkipSelf"),Ce=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function we(e){for(var t in e)if(e[t]===we)return t;throw Error("Could not find renamed property on target object.")}function ke(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function xe(e){var t=e[Se];return t&&t.token===e?t:null}var Se=we({ngInjectableDef:we});function Oe(e){if("string"==typeof e)return e;if(e instanceof Array)return"["+e.map(Oe).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;var t=e.toString();if(null==t)return""+t;var n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}var je=we({__forward_ref__:we});function Ee(e){return e.__forward_ref__=Ee,e.toString=function(){return Oe(this())},e}function Pe(e){var t=e;return"function"==typeof t&&t.hasOwnProperty(je)&&t.__forward_ref__===Ee?t():e}var Me="undefined"!=typeof globalThis&&globalThis,Te="undefined"!=typeof window&&window,Ie="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ae="undefined"!=typeof global&&global,De=Me||Ae||Te||Ie,Re=function(){function e(t,n){_classCallCheck2(this,e),this._desc=t,this.ngMetadataName="InjectionToken",this.ngInjectableDef=void 0,"number"==typeof n?this.__NG_ELEMENT_ID__=n:void 0!==n&&(this.ngInjectableDef=ke({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}return _createClass2(e,[{key:"toString",value:function(){return"InjectionToken "+this._desc}}]),e}(),Fe=new Re("INJECTOR",-1),Le=new Object,Ne=/\n/gm,Be=we({provide:String,useValue:we}),ze=void 0;function qe(e){var t=ze;return ze=e,t}function Ue(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce.Default;return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ce.Default;if(void 0===ze)throw new Error("inject() must be called from an injection context");return null===ze?function(e,t,n){var r=xe(e);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&Ce.Optional)return null;throw new Error("Injector: NOT_FOUND [".concat(Oe(e),"]"))}(e,0,t):ze.get(e,t&Ce.Optional?null:void 0,t)}(e,t)}function He(e){for(var t=[],n=0;n<e.length;n++){var r=Pe(e[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,a=Ce.Default,o=0;o<r.length;o++){var s=r[o];s instanceof _e||"Optional"===s.ngMetadataName||s===_e?a|=Ce.Optional:s instanceof ye||"SkipSelf"===s.ngMetadataName||s===ye?a|=Ce.SkipSelf:s instanceof be||"Self"===s.ngMetadataName||s===be?a|=Ce.Self:i=s instanceof ve||s===ve?s.token:s}t.push(Ue(i,a))}else t.push(Ue(r))}return t}var Ve=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Le;if(t===Le){var n=new Error("NullInjectorError: No provider for ".concat(Oe(e),"!"));throw n.name="NullInjectorError",n}return t}}]),e}();function We(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;var i=Oe(t);if(t instanceof Array)i=t.map(Oe).join(" -> ");else if("object"==typeof t){var a=[];for(var o in t)if(t.hasOwnProperty(o)){var s=t[o];a.push(o+":"+("string"==typeof s?JSON.stringify(s):Oe(s)))}i="{".concat(a.join(", "),"}")}return"".concat(n).concat(r?"("+r+")":"","[").concat(i,"]: ").concat(e.replace(Ne,"\n  "))}var Ge=function e(){_classCallCheck2(this,e)},Ye=function e(){_classCallCheck2(this,e)};function Xe(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function Je(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}var Ke=function(){var e={OnPush:0,Default:1};return e[e.OnPush]="OnPush",e[e.Default]="Default",e}(),$e=function(){var e={Emulated:0,Native:1,None:2,ShadowDom:3};return e[e.Emulated]="Emulated",e[e.Native]="Native",e[e.None]="None",e[e.ShadowDom]="ShadowDom",e}(),Ze=("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(De);function Qe(e){return e.ngDebugContext}function et(e){return e.ngOriginalError}function tt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.error.apply(e,n)}var nt=function(){function e(){_classCallCheck2(this,e),this._console=console}return _createClass2(e,[{key:"handleError",value:function(e){var t=this._findOriginalError(e),n=this._findContext(e),r=function(e){return e.ngErrorLogger||tt}(e);r(this._console,"ERROR",e),t&&r(this._console,"ORIGINAL ERROR",t),n&&r(this._console,"ERROR CONTEXT",n)}},{key:"_findContext",value:function(e){return e?Qe(e)?Qe(e):this._findContext(et(e)):null}},{key:"_findOriginalError",value:function(e){for(var t=et(e);t&&et(t);)t=et(t);return t}}]),e}(),rt=!0,it=!1;function at(){return it=!0,rt}var ot=function(){function e(t){if(_classCallCheck2(this,e),this.defaultDoc=t,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),this.inertBodyElement=this.inertDocument.body,null==this.inertBodyElement){var n=this.inertDocument.createElement("html");this.inertDocument.appendChild(n),this.inertBodyElement=this.inertDocument.createElement("body"),n.appendChild(this.inertBodyElement)}this.inertBodyElement.innerHTML='<svg><g onload="this.parentNode.remove()"></g></svg>',!this.inertBodyElement.querySelector||this.inertBodyElement.querySelector("svg")?(this.inertBodyElement.innerHTML='<svg><p><style><img src="</style><img src=x onerror=alert(1)//">',this.getInertBodyElement=this.inertBodyElement.querySelector&&this.inertBodyElement.querySelector("svg img")&&function(){try{return!!window.DOMParser}catch(e){return!1}}()?this.getInertBodyElement_DOMParser:this.getInertBodyElement_InertDocument):this.getInertBodyElement=this.getInertBodyElement_XHR}return _createClass2(e,[{key:"getInertBodyElement_XHR",value:function(e){e="<body><remove></remove>"+e+"</body>";try{e=encodeURI(e)}catch(r){return null}var t=new XMLHttpRequest;t.responseType="document",t.open("GET","data:text/html;charset=utf-8,"+e,!1),t.send(void 0);var n=t.response.body;return n.removeChild(n.firstChild),n}},{key:"getInertBodyElement_DOMParser",value:function(e){e="<body><remove></remove>"+e+"</body>";try{var t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(n){return null}}},{key:"getInertBodyElement_InertDocument",value:function(e){var t=this.inertDocument.createElement("template");return"content"in t?(t.innerHTML=e,t):(this.inertBodyElement.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(this.inertBodyElement),this.inertBodyElement)}},{key:"stripCustomNsAttrs",value:function(e){for(var t=e.attributes,n=t.length-1;0<n;n--){var r=t.item(n).name;"xmlns:ns1"!==r&&0!==r.indexOf("ns1:")||e.removeAttribute(r)}for(var i=e.firstChild;i;)i.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(i),i=i.nextSibling}}]),e}(),st=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,lt=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function ct(e){return(e=String(e)).match(st)||e.match(lt)?e:(at()&&console.warn("WARNING: sanitizing unsafe URL value ".concat(e," (see http://g.co/ng/security#xss)")),"unsafe:"+e)}function ut(e){var t,n={},r=_createForOfIteratorHelper(e.split(","));try{for(r.s();!(t=r.n()).done;){n[t.value]=!0}}catch(i){r.e(i)}finally{r.f()}return n}function ht(){for(var e={},t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];for(var s in o)o.hasOwnProperty(s)&&(e[s]=!0)}return e}var dt,pt=ut("area,br,col,hr,img,wbr"),ft=ut("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),mt=ut("rp,rt"),gt=ht(mt,ft),vt=ht(pt,ht(ft,ut("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),ht(mt,ut("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gt),_t=ut("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),bt=ut("srcset"),yt=ht(_t,bt,ut("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),ut("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),Ct=ut("script,style,template"),wt=function(){function e(){_classCallCheck2(this,e),this.sanitizedSomething=!1,this.buf=[]}return _createClass2(e,[{key:"sanitizeChildren",value:function(e){for(var t=e.firstChild,n=!0;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);var r=this.checkClobberedElement(t,t.nextSibling);if(r){t=r;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}},{key:"startElement",value:function(e){var t=e.nodeName.toLowerCase();if(!vt.hasOwnProperty(t))return this.sanitizedSomething=!0,!Ct.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);for(var n,r=e.attributes,i=0;i<r.length;i++){var a=r.item(i),o=a.name,s=o.toLowerCase();if(yt.hasOwnProperty(s)){var l=a.value;_t[s]&&(l=ct(l)),bt[s]&&(n=l,l=(n=String(n)).split(",").map((function(e){return ct(e.trim())})).join(", ")),this.buf.push(" ",o,'="',St(l),'"')}else this.sanitizedSomething=!0}return this.buf.push(">"),!0}},{key:"endElement",value:function(e){var t=e.nodeName.toLowerCase();vt.hasOwnProperty(t)&&!pt.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}},{key:"chars",value:function(e){this.buf.push(St(e))}},{key:"checkClobberedElement",value:function(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}]),e}(),kt=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,xt=/([^\#-~ |!])/g;function St(e){return e.replace(/&/g,"&amp;").replace(kt,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(xt,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Ot(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var jt=function(){var e={NONE:0,HTML:1,STYLE:2,SCRIPT:3,URL:4,RESOURCE_URL:5};return e[e.NONE]="NONE",e[e.HTML]="HTML",e[e.STYLE]="STYLE",e[e.SCRIPT]="SCRIPT",e[e.URL]="URL",e[e.RESOURCE_URL]="RESOURCE_URL",e}(),Et=function e(){_classCallCheck2(this,e)},Pt=new RegExp("^([-,.\"'%_!# a-zA-Z0-9]+|(?:(?:matrix|translate|scale|rotate|skew|perspective)(?:X|Y|Z|3d)?|(?:rgb|hsl)a?|(?:repeating-)?(?:linear|radial)-gradient|(?:calc|attr))\\([-0-9.%, #a-zA-Z]+\\))$","g"),Mt=/^url\(([^)]+)\)$/,Tt=/([A-Z])/g;function It(e){try{return null!=e?e.toString().slice(0,30):e}catch(t){return"[ERROR] Exception while trying to serialize the value"}}var At=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return Dt()},e}(),Dt=function(){},Rt=Function;function Ft(e){return"function"==typeof e}var Lt=/^function\s+\S+\(\)\s*{[\s\S]+\.apply\(this,\s*arguments\)/,Nt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{/,Bt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(/,zt=/^class\s+[A-Za-z\d$_]*\s*extends\s+[^{]+{[\s\S]*constructor\s*\(\)\s*{\s+super\(\.\.\.arguments\)/,qt=function(){function e(t){_classCallCheck2(this,e),this._reflect=t||De.Reflect}return _createClass2(e,[{key:"isReflectionEnabled",value:function(){return!0}},{key:"factory",value:function(e){return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return _construct2(e,n)}}},{key:"_zipTypesAndAnnotations",value:function(e,t){var n;n=new Array(void 0===e?t.length:e.length);for(var r=0;r<n.length;r++)n[r]=void 0===e?[]:e[r]&&e[r]!=Object?[e[r]]:[],t&&null!=t[r]&&(n[r]=n[r].concat(t[r]));return n}},{key:"_ownParameters",value:function(e,t){if(n=e.toString(),Lt.test(n)||zt.test(n)||Nt.test(n)&&!Bt.test(n))return null;var n;if(e.parameters&&e.parameters!==t.parameters)return e.parameters;var r=e.ctorParameters;if(r&&r!==t.ctorParameters){var i="function"==typeof r?r():r,a=i.map((function(e){return e&&e.type})),o=i.map((function(e){return e&&Ut(e.decorators)}));return this._zipTypesAndAnnotations(a,o)}var s=e.hasOwnProperty(he)&&e[he],l=this._reflect&&this._reflect.getOwnMetadata&&this._reflect.getOwnMetadata("design:paramtypes",e);return l||s?this._zipTypesAndAnnotations(l,s):new Array(e.length).fill(void 0)}},{key:"parameters",value:function(e){if(!Ft(e))return[];var t=Ht(e),n=this._ownParameters(e,t);return n||t===Object||(n=this.parameters(t)),n||[]}},{key:"_ownAnnotations",value:function(e,t){if(e.annotations&&e.annotations!==t.annotations){var n=e.annotations;return"function"==typeof n&&n.annotations&&(n=n.annotations),n}return e.decorators&&e.decorators!==t.decorators?Ut(e.decorators):e.hasOwnProperty(ue)?e[ue]:null}},{key:"annotations",value:function(e){if(!Ft(e))return[];var t=Ht(e),n=this._ownAnnotations(e,t)||[];return(t!==Object?this.annotations(t):[]).concat(n)}},{key:"_ownPropMetadata",value:function(e,t){if(e.propMetadata&&e.propMetadata!==t.propMetadata){var n=e.propMetadata;return"function"==typeof n&&n.propMetadata&&(n=n.propMetadata),n}if(e.propDecorators&&e.propDecorators!==t.propDecorators){var r=e.propDecorators,i={};return Object.keys(r).forEach((function(e){i[e]=Ut(r[e])})),i}return e.hasOwnProperty(de)?e[de]:null}},{key:"propMetadata",value:function(e){if(!Ft(e))return{};var t=Ht(e),n={};if(t!==Object){var r=this.propMetadata(t);Object.keys(r).forEach((function(e){n[e]=r[e]}))}var i=this._ownPropMetadata(e,t);return i&&Object.keys(i).forEach((function(e){var t=[];n.hasOwnProperty(e)&&t.push.apply(t,_toConsumableArray(n[e])),t.push.apply(t,_toConsumableArray(i[e])),n[e]=t})),n}},{key:"ownPropMetadata",value:function(e){return Ft(e)&&this._ownPropMetadata(e,Ht(e))||{}}},{key:"hasLifecycleHook",value:function(e,t){return e instanceof Rt&&t in e.prototype}},{key:"guards",value:function(e){return{}}},{key:"getter",value:function(e){return new Function("o","return o."+e+";")}},{key:"setter",value:function(e){return new Function("o","v","return o."+e+" = v;")}},{key:"method",value:function(e){return new Function("o","args","if (!o.".concat(e,") throw new Error('\"").concat(e,"\" is undefined');\n        return o.").concat(e,".apply(o, args);"))}},{key:"importUri",value:function(e){return"object"==typeof e&&e.filePath?e.filePath:"./"+Oe(e)}},{key:"resourceUri",value:function(e){return"./"+Oe(e)}},{key:"resolveIdentifier",value:function(e,t,n,r){return r}},{key:"resolveEnum",value:function(e,t){return e[t]}}]),e}();function Ut(e){return e?e.map((function(e){return _construct2(e.type.annotationCls,_toConsumableArray(e.args?e.args:[]))})):[]}function Ht(e){var t=e.prototype?Object.getPrototypeOf(e.prototype):null;return(t?t.constructor:null)||Object}var Vt=we({provide:String,useValue:we}),Wt=[];function Gt(e,t){if(!t){var n=(new qt).parameters(e);return function(){return _construct2(e,_toConsumableArray(He(n)))}}if(Vt in t){var r=t;return function(){return r.useValue}}if(t.useExisting){var i=t;return function(){return Ue(i.useExisting)}}if(t.useFactory){var a=t;return function(){return a.useFactory.apply(a,_toConsumableArray(He(a.deps||Wt)))}}if(t.useClass){var o=t,s=t.deps;if(!s){var l=new qt;s=l.parameters(e)}return function(){return _construct2(o.useClass,_toConsumableArray(He(s)))}}var c=t.deps;if(!c){var u=new qt;c=u.parameters(e)}return function(){return _construct2(e,_toConsumableArray(He(c)))}}var Yt=new Re("The presence of this token marks an injector as being the root injector."),Xt=function(e,t,n){return new en(e,t,n)},Jt=function(){var e=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"create",value:function(e,t){return Array.isArray(e)?Xt(e,t,""):Xt(e.providers,e.parent,e.name||"")}}]),e}();return e.THROW_IF_NOT_FOUND=Le,e.NULL=new Ve,e.ngInjectableDef=ke({token:e,providedIn:"any",factory:function(){return Ue(Fe)}}),e.__NG_ELEMENT_ID__=-1,e}(),Kt=function(e){return e},$t=[],Zt=Kt,Qt=function(){return Array.prototype.slice.call(arguments)},en=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt.NULL,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;_classCallCheck2(this,e),this.parent=n,this.source=r;var i=this._records=new Map;i.set(Jt,{token:Jt,fn:Kt,deps:$t,value:this,useNew:!1}),i.set(Fe,{token:Fe,fn:Kt,deps:$t,value:this,useNew:!1}),function e(t,n){if(n)if((n=Pe(n))instanceof Array)for(var r=0;r<n.length;r++)e(t,n[r]);else{if("function"==typeof n)throw nn("Function/Class not supported",n);if(!n||"object"!=typeof n||!n.provide)throw nn("Unexpected provider",n);var i=Pe(n.provide),a=function(e){var t=function(e){var t=$t,n=e.deps;if(n&&n.length){t=[];for(var r=0;r<n.length;r++){var i=6,a=Pe(n[r]);if(a instanceof Array)for(var o=0,s=a;o<s.length;o++){var l=s[o];l instanceof _e||l==_e?i|=1:l instanceof ye||l==ye?i&=-3:l instanceof be||l==be?i&=-5:a=l instanceof ve?l.token:Pe(l)}t.push({token:a,options:i})}}else if(e.useExisting)t=[{token:Pe(e.useExisting),options:6}];else if(!(n||Be in e))throw nn("'deps' required",e);return t}(e),n=Kt,r=$t,i=!1,a=Pe(e.provide);if(Be in e)r=e.useValue;else if(e.useFactory)n=e.useFactory;else if(e.useExisting);else if(e.useClass)i=!0,n=Pe(e.useClass);else{if("function"!=typeof a)throw nn("StaticProvider does not have [useValue|useFactory|useExisting|useClass] or [provide] is not newable",e);i=!0,n=a}return{deps:t,fn:n,useNew:i,value:r}}(n);if(!0===n.multi){var o=t.get(i);if(o){if(o.fn!==Qt)throw tn(i)}else t.set(i,o={token:n.provide,deps:[],useNew:!1,fn:Qt,value:$t});i=n,o.deps.push({token:i,options:6})}var s=t.get(i);if(s&&s.fn==Qt)throw tn(i);t.set(i,a)}}(i,t)}return _createClass2(e,[{key:"get",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce.Default,r=this._records.get(e);try{return function e(t,n,r,i,a,o){try{return function(t,n,r,i,a,o){var s;if(!n||o&Ce.SkipSelf)o&Ce.Self||(s=i.get(t,a,Ce.Default));else{if((s=n.value)==Zt)throw Error("\u0275Circular dependency");if(s===$t){n.value=Zt;var l=n.useNew,c=n.fn,u=n.deps,h=$t;if(u.length){h=[];for(var d=0;d<u.length;d++){var p=u[d],f=p.options,m=2&f?r.get(p.token):void 0;h.push(e(p.token,m,r,m||4&f?i:Jt.NULL,1&f?null:Jt.THROW_IF_NOT_FOUND,Ce.Default))}}n.value=s=l?_construct2(c,_toConsumableArray(h)):c.apply(void 0,h)}}return s}(t,n,r,i,a,o)}catch(s){throw s instanceof Error||(s=new Error(s)),(s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(t),n&&n.value==Zt&&(n.value=$t),s}}(e,r,this._records,this.parent,t,n)}catch(i){return function(e,t,n,r){var i=e.ngTempTokenPath;throw t.__source&&i.unshift(t.__source),e.message=We("\n"+e.message,i,"StaticInjectorError",r),e.ngTokenPath=i,e.ngTempTokenPath=null,e}(i,e,0,this.source)}}},{key:"toString",value:function(){var e=[];return this._records.forEach((function(t,n){return e.push(Oe(n))})),"StaticInjector[".concat(e.join(", "),"]")}}]),e}();function tn(e){return nn("Cannot mix multi providers and regular providers",e)}function nn(e,t){return new Error(We(e,t,"StaticInjectorError"))}var rn=new Re("AnalyzeForEntryComponents"),an=null;function on(){if(!an){var e=De.Symbol;if(e&&e.iterator)an=e.iterator;else for(var t=Object.getOwnPropertyNames(Map.prototype),n=0;n<t.length;++n){var r=t[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(an=r)}}return an}function sn(e,t){return e===t||"number"==typeof e&&"number"==typeof t&&isNaN(e)&&isNaN(t)}function ln(e,t){var n=un(e),r=un(t);return n&&r?function(e,t,n){for(var r=e[on()](),i=t[on()]();;){var a=r.next(),o=i.next();if(a.done&&o.done)return!0;if(a.done||o.done)return!1;if(!n(a.value,o.value))return!1}}(e,t,ln):!(n||!(e&&("object"==typeof e||"function"==typeof e))||r||!(t&&("object"==typeof t||"function"==typeof t)))||sn(e,t)}var cn=function(){function e(t){_classCallCheck2(this,e),this.wrapped=t}return _createClass2(e,null,[{key:"wrap",value:function(t){return new e(t)}},{key:"unwrap",value:function(t){return e.isWrapped(t)?t.wrapped:t}},{key:"isWrapped",value:function(t){return t instanceof e}}]),e}();function un(e){return!!hn(e)&&(Array.isArray(e)||!(e instanceof Map)&&on()in e)}function hn(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function dn(e){return!!e&&"function"==typeof e.then}function pn(e){return!!e&&"function"==typeof e.subscribe}var fn=function(){function e(t,n,r){_classCallCheck2(this,e),this.previousValue=t,this.currentValue=n,this.firstChange=r}return _createClass2(e,[{key:"isFirstChange",value:function(){return this.firstChange}}]),e}(),mn=function e(){_classCallCheck2(this,e)};function gn(e){var t=Error("No component factory found for ".concat(Oe(e),". Did you add it to @NgModule.entryComponents?"));return t[vn]=e,t}var vn="ngComponent",_n=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"resolveComponentFactory",value:function(e){throw gn(e)}}]),e}(),bn=function(){var e=function e(){_classCallCheck2(this,e)};return e.NULL=new _n,e}(),yn=function(){function e(t,n,r){_classCallCheck2(this,e),this._parent=n,this._ngModule=r,this._factories=new Map;for(var i=0;i<t.length;i++){var a=t[i];this._factories.set(a.componentType,a)}}return _createClass2(e,[{key:"resolveComponentFactory",value:function(e){var t=this._factories.get(e);if(!t&&this._parent&&(t=this._parent.resolveComponentFactory(e)),!t)throw gn(e);return new Cn(t,this._ngModule)}}]),e}(),Cn=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).factory=e,i.ngModule=r,i.selector=e.selector,i.componentType=e.componentType,i.ngContentSelectors=e.ngContentSelectors,i.inputs=e.inputs,i.outputs=e.outputs,i}return _createClass2(n,[{key:"create",value:function(e,t,n,r){return this.factory.create(e,t,n,r||this.ngModule)}}]),n}(mn);function wn(){}var kn=function(){var e=function e(t){_classCallCheck2(this,e),this.nativeElement=t};return e.__NG_ELEMENT_ID__=function(){return xn(e)},e}(),xn=wn,Sn=function e(){_classCallCheck2(this,e)},On=function(){var e={Important:1,DashCase:2};return e[e.Important]="Important",e[e.DashCase]="DashCase",e}(),jn=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return En()},e}(),En=wn,Pn=new function e(t){_classCallCheck2(this,e),this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}("8.2.14"),Mn=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"supports",value:function(e){return un(e)}},{key:"create",value:function(e){return new In(e)}}]),e}(),Tn=function(e,t){return t},In=function(){function e(t){_classCallCheck2(this,e),this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||Tn}return _createClass2(e,[{key:"forEachItem",value:function(e){var t;for(t=this._itHead;null!==t;t=t._next)e(t)}},{key:"forEachOperation",value:function(e){for(var t=this._itHead,n=this._removalsHead,r=0,i=null;t||n;){var a=!n||t&&t.currentIndex<Fn(n,r,i)?t:n,o=Fn(a,r,i),s=a.currentIndex;if(a===n)r--,n=n._nextRemoved;else if(t=t._next,null==a.previousIndex)r++;else{i||(i=[]);var l=o-r,c=s-r;if(l!=c){for(var u=0;u<l;u++){var h=u<i.length?i[u]:i[u]=0,d=h+u;c<=d&&d<l&&(i[u]=h+1)}i[a.previousIndex]=c-l}}o!==s&&e(a,o,s)}}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachMovedItem",value:function(e){var t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"forEachIdentityChange",value:function(e){var t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}},{key:"diff",value:function(e){if(null==e&&(e=[]),!un(e))throw new Error("Error trying to diff '".concat(Oe(e),"'. Only arrays and iterables are allowed"));return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n,r,i,a=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(var s=0;s<this.length;s++)r=e[s],i=this._trackByFn(s,r),null!==a&&sn(a.trackById,i)?(o&&(a=this._verifyReinsertion(a,r,i,s)),sn(a.item,r)||this._addIdentityChange(a,r)):(a=this._mismatch(a,r,i,s),o=!0),a=a._next}else n=0,function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)t(e[n]);else for(var r,i=e[on()]();!(r=i.next()).done;)t(r.value)}(e,(function(e){i=t._trackByFn(n,e),null!==a&&sn(a.trackById,i)?(o&&(a=t._verifyReinsertion(a,e,i,n)),sn(a.item,e)||t._addIdentityChange(a,e)):(a=t._mismatch(a,e,i,n),o=!0),a=a._next,n++})),this.length=n;return this._truncate(a),this.collection=e,this.isDirty}},{key:"_reset",value:function(){if(this.isDirty){var e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}},{key:"_mismatch",value:function(e,t,n,r){var i;return null===e?i=this._itTail:(i=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(sn(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,i,r)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(sn(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,i,r)):e=this._addAfter(new An(t,n),i,r),e}},{key:"_verifyReinsertion",value:function(e,t,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?e=this._reinsertAfter(i,e._prev,r):e.currentIndex!=r&&(e.currentIndex=r,this._addToMoves(e,r)),e}},{key:"_truncate",value:function(e){for(;null!==e;){var t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}},{key:"_reinsertAfter",value:function(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);var r=e._prevRemoved,i=e._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_moveAfter",value:function(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}},{key:"_addAfter",value:function(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}},{key:"_insertAfter",value:function(e,t,n){var r=null===t?this._itHead:t._next;return e._next=r,e._prev=t,null===r?this._itTail=e:r._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Rn),this._linkedRecords.put(e),e.currentIndex=n,e}},{key:"_remove",value:function(e){return this._addToRemovals(this._unlink(e))}},{key:"_unlink",value:function(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);var t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}},{key:"_addToMoves",value:function(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}},{key:"_addToRemovals",value:function(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Rn),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}},{key:"_addIdentityChange",value:function(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}}]),e}(),An=function e(t,n){_classCallCheck2(this,e),this.item=t,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null},Dn=function(){function e(){_classCallCheck2(this,e),this._head=null,this._tail=null}return _createClass2(e,[{key:"add",value:function(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}},{key:"get",value:function(e,t){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&sn(n.trackById,e))return n;return null}},{key:"remove",value:function(e){var t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}]),e}(),Rn=function(){function e(){_classCallCheck2(this,e),this.map=new Map}return _createClass2(e,[{key:"put",value:function(e){var t=e.trackById,n=this.map.get(t);n||(n=new Dn,this.map.set(t,n)),n.add(e)}},{key:"get",value:function(e,t){var n=this.map.get(e);return n?n.get(e,t):null}},{key:"remove",value:function(e){var t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}},{key:"clear",value:function(){this.map.clear()}},{key:"isEmpty",get:function(){return 0===this.map.size}}]),e}();function Fn(e,t,n){var r=e.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+t+i}var Ln=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"supports",value:function(e){return e instanceof Map||hn(e)}},{key:"create",value:function(){return new Nn}}]),e}(),Nn=function(){function e(){_classCallCheck2(this,e),this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return _createClass2(e,[{key:"forEachItem",value:function(e){var t;for(t=this._mapHead;null!==t;t=t._next)e(t)}},{key:"forEachPreviousItem",value:function(e){var t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}},{key:"forEachChangedItem",value:function(e){var t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}},{key:"forEachAddedItem",value:function(e){var t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}},{key:"forEachRemovedItem",value:function(e){var t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}},{key:"diff",value:function(e){if(e){if(!(e instanceof Map||hn(e)))throw new Error("Error trying to diff '".concat(Oe(e),"'. Only maps and objects are allowed"))}else e=new Map;return this.check(e)?this:null}},{key:"onDestroy",value:function(){}},{key:"check",value:function(e){var t=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(e,(function(e,r){if(n&&n.key===r)t._maybeAddToChanges(n,e),t._appendAfter=n,n=n._next;else{var i=t._getOrCreateRecordForKey(r,e);n=t._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}},{key:"_insertBeforeOrAppend",value:function(e,t){if(e){var n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}},{key:"_getOrCreateRecordForKey",value:function(e,t){if(this._records.has(e)){var n=this._records.get(e);this._maybeAddToChanges(n,t);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var a=new Bn(e);return this._records.set(e,a),a.currentValue=t,this._addToAdditions(a),a}},{key:"_reset",value:function(){if(this.isDirty){var e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}},{key:"_maybeAddToChanges",value:function(e,t){sn(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}},{key:"_addToAdditions",value:function(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}},{key:"_addToChanges",value:function(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}},{key:"_forEach",value:function(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach((function(n){return t(e[n],n)}))}},{key:"isDirty",get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}}]),e}(),Bn=function e(t){_classCallCheck2(this,e),this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null},zn=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass2(e,[{key:"find",value:function(e){var t,n=this.factories.find((function(t){return t.supports(e)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'"))}}],[{key:"create",value:function(t,n){if(null!=n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ye,new _e]]}}}]),e}();return e.ngInjectableDef=ke({token:e,providedIn:"root",factory:function(){return new e([new Mn])}}),e}(),qn=function(){var e=function(){function e(t){_classCallCheck2(this,e),this.factories=t}return _createClass2(e,[{key:"find",value:function(e){var t=this.factories.find((function(t){return t.supports(e)}));if(t)return t;throw new Error("Cannot find a differ supporting object '".concat(e,"'"))}}],[{key:"create",value:function(t,n){if(n){var r=n.factories.slice();t=t.concat(r)}return new e(t)}},{key:"extend",value:function(t){return{provide:e,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new ye,new _e]]}}}]),e}();return e.ngInjectableDef=ke({token:e,providedIn:"root",factory:function(){return new e([new Ln])}}),e}(),Un=[new Ln],Hn=new zn([new Mn]),Vn=new qn(Un),Wn=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return Gn(e,kn)},e}(),Gn=wn,Yn=function(){var e=function e(){_classCallCheck2(this,e)};return e.__NG_ELEMENT_ID__=function(){return Xn(e,kn)},e}(),Xn=wn;function Jn(e,t,n,r){var i="ExpressionChangedAfterItHasBeenCheckedError: Expression has changed after it was checked. Previous value: '".concat(t,"'. Current value: '").concat(n,"'.");return r&&(i+=" It seems like the view has been created after its parent and its children have been dirty checked. Has it been created in a change detection hook ?"),function(e,t){var n=new Error(e);return Kn(n,t),n}(i,e)}function Kn(e,t){e.ngDebugContext=t,e.ngErrorLogger=t.logError.bind(t)}function $n(e){return new Error("ViewDestroyedError: Attempt to use a destroyed view: "+e)}function Zn(e,t,n){var r=e.state,i=1792&r;return i===t?(e.state=-1793&r|n,e.initIndex=-1,!0):i===n}function Qn(e,t,n){return(1792&e.state)===t&&e.initIndex<=n&&(e.initIndex=n+1,!0)}function er(e,t){return e.nodes[t]}function tr(e,t){return e.nodes[t]}function nr(e,t){return e.nodes[t]}function rr(e,t){return e.nodes[t]}function ir(e,t){return e.nodes[t]}var ar={setCurrentNode:void 0,createRootView:void 0,createEmbeddedView:void 0,createComponentView:void 0,createNgModuleRef:void 0,overrideProvider:void 0,overrideComponentView:void 0,clearOverrides:void 0,checkAndUpdateView:void 0,checkNoChangesView:void 0,destroyView:void 0,resolveDep:void 0,createDebugContext:void 0,handleEvent:void 0,updateDirectives:void 0,updateRenderer:void 0,dirtyParentQueries:void 0},or=function(){},sr=new Map;function lr(e){var t=sr.get(e);return t||(t=Oe(e)+"_"+sr.size,sr.set(e,t)),t}function cr(e,t,n,r){if(cn.isWrapped(r)){r=cn.unwrap(r);var i=e.def.nodes[t].bindingIndex+n,a=cn.unwrap(e.oldValues[i]);e.oldValues[i]=new cn(a)}return r}function ur(e){return{id:"$$undefined",styles:e.styles,encapsulation:e.encapsulation,data:e.data}}var hr=0;function dr(e,t,n,r){return!(!(2&e.state)&&sn(e.oldValues[t.bindingIndex+n],r))}function pr(e,t,n,r){return!!dr(e,t,n,r)&&(e.oldValues[t.bindingIndex+n]=r,!0)}function fr(e,t,n,r){var i=e.oldValues[t.bindingIndex+n];if(1&e.state||!ln(i,r)){var a=t.bindings[n].name;throw Jn(ar.createDebugContext(e,t.nodeIndex),"".concat(a,": ").concat(i),"".concat(a,": ").concat(r),0!=(1&e.state))}}function mr(e){for(var t=e;t;)2&t.def.flags&&(t.state|=8),t=t.viewContainerParent||t.parent}function gr(e,t){for(var n=e;n&&n!==t;)n.state|=64,n=n.viewContainerParent||n.parent}function vr(e,t,n,r){try{return mr(33554432&e.def.nodes[t].flags?tr(e,t).componentView:e),ar.handleEvent(e,t,n,r)}catch(i){e.root.errorHandler.handleError(i)}}function _r(e){return e.parent?tr(e.parent,e.parentNodeDef.nodeIndex):null}function br(e){return e.parent?e.parentNodeDef.parent:null}function yr(e,t){switch(201347067&t.flags){case 1:return tr(e,t.nodeIndex).renderElement;case 2:return er(e,t.nodeIndex).renderText}}function Cr(e){return!!e.parent&&!!(32768&e.parentNodeDef.flags)}function wr(e){return!(!e.parent||32768&e.parentNodeDef.flags)}function kr(e){return 1<<e%32}function xr(e){var t={},n=0,r={};return e&&e.forEach((function(e){var i=_slicedToArray(e,2),a=i[0],o=i[1];"number"==typeof a?(t[a]=o,n|=kr(a)):r[a]=o})),{matchedQueries:t,references:r,matchedQueryIds:n}}function Sr(e,t){return e.map((function(e){var n,r,i;return Array.isArray(e)?(i=(n=_slicedToArray(e,2))[0],r=n[1]):(i=0,r=e),r&&("function"==typeof r||"object"==typeof r)&&t&&Object.defineProperty(r,"__source",{value:t,configurable:!0}),{flags:i,token:r,tokenKey:lr(r)}}))}function Or(e,t,n){var r=n.renderParent;return r?0==(1&r.flags)||0==(33554432&r.flags)||r.element.componentRendererType&&r.element.componentRendererType.encapsulation===$e.Native?tr(e,n.renderParent.nodeIndex).renderElement:void 0:t}var jr=new WeakMap;function Er(e){var t=jr.get(e);return t||((t=e((function(){return or}))).factory=e,jr.set(e,t)),t}function Pr(e,t,n,r,i){3===t&&(n=e.renderer.parentNode(yr(e,e.def.lastRenderRootNode))),Mr(e,t,0,e.def.nodes.length-1,n,r,i)}function Mr(e,t,n,r,i,a,o){for(var s=n;s<=r;s++){var l=e.def.nodes[s];11&l.flags&&Ir(e,l,t,i,a,o),s+=l.childCount}}function Tr(e,t,n,r,i,a){for(var o=e;o&&!Cr(o);)o=o.parent;for(var s=o.parent,l=br(o),c=l.nodeIndex+l.childCount,u=l.nodeIndex+1;u<=c;u++){var h=s.def.nodes[u];h.ngContentIndex===t&&Ir(s,h,n,r,i,a),u+=h.childCount}if(!s.parent){var d=e.root.projectableNodes[t];if(d)for(var p=0;p<d.length;p++)Ar(e,d[p],n,r,i,a)}}function Ir(e,t,n,r,i,a){if(8&t.flags)Tr(e,t.ngContent.index,n,r,i,a);else{var o=yr(e,t);if(3===n&&33554432&t.flags&&48&t.bindingFlags?(16&t.bindingFlags&&Ar(e,o,n,r,i,a),32&t.bindingFlags&&Ar(tr(e,t.nodeIndex).componentView,o,n,r,i,a)):Ar(e,o,n,r,i,a),16777216&t.flags)for(var s=tr(e,t.nodeIndex).viewContainer._embeddedViews,l=0;l<s.length;l++)Pr(s[l],n,r,i,a);1&t.flags&&!t.element.name&&Mr(e,n,t.nodeIndex+1,t.nodeIndex+t.childCount,r,i,a)}}function Ar(e,t,n,r,i,a){var o=e.renderer;switch(n){case 1:o.appendChild(r,t);break;case 2:o.insertBefore(r,t,i);break;case 3:o.removeChild(r,t);break;case 0:a.push(t)}}var Dr=/^:([^:]+):(.+)$/;function Rr(e){if(":"===e[0]){var t=e.match(Dr);return[t[1],t[2]]}return["",e]}function Fr(e){for(var t=0,n=0;n<e.length;n++)t|=e[n].flags;return t}function Lr(e,t,n,r,i,a,o,s,l,c,u,h,d,p,f,m,g,v,_,b){switch(e){case 1:return t+Nr(n)+r;case 2:return t+Nr(n)+r+Nr(i)+a;case 3:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s;case 4:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s+Nr(l)+c;case 5:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s+Nr(l)+c+Nr(u)+h;case 6:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s+Nr(l)+c+Nr(u)+h+Nr(d)+p;case 7:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s+Nr(l)+c+Nr(u)+h+Nr(d)+p+Nr(f)+m;case 8:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s+Nr(l)+c+Nr(u)+h+Nr(d)+p+Nr(f)+m+Nr(g)+v;case 9:return t+Nr(n)+r+Nr(i)+a+Nr(o)+s+Nr(l)+c+Nr(u)+h+Nr(d)+p+Nr(f)+m+Nr(g)+v+Nr(_)+b;default:throw new Error("Does not support more than 9 expressions")}}function Nr(e){return null!=e?e.toString():""}var Br=new Object,zr=lr(Jt),qr=lr(Fe),Ur=lr(Ge);function Hr(e,t,n,r){return n=Pe(n),{index:-1,deps:Sr(r,Oe(t)),flags:e,token:t,value:n}}function Vr(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Jt.THROW_IF_NOT_FOUND,a=qe(e);try{if(8&t.flags)return t.token;if(2&t.flags&&(i=null),1&t.flags)return e._parent.get(t.token,i);var o=t.tokenKey;switch(o){case zr:case qr:case Ur:return e}var s,l=e._def.providersByKey[o];if(l){var c=e._providers[l.index];return void 0===c&&(c=e._providers[l.index]=Wr(e,l)),c===Br?void 0:c}if((s=xe(t.token))&&(n=e,null!=(r=s).providedIn&&(function(e,t){return e._def.modules.indexOf(t)>-1}(n,r.providedIn)||"root"===r.providedIn&&n._def.isRoot))){var u=e._providers.length;return e._def.providers[u]=e._def.providersByKey[t.tokenKey]={flags:5120,value:s.factory,deps:[],index:u,token:t.token},e._providers[u]=Br,e._providers[u]=Wr(e,e._def.providersByKey[t.tokenKey])}return 4&t.flags?i:e._parent.get(t.token,i)}finally{qe(a)}}function Wr(e,t){var n;switch(201347067&t.flags){case 512:n=function(e,t,n){var r=n.length;switch(r){case 0:return new t;case 1:return new t(Vr(e,n[0]));case 2:return new t(Vr(e,n[0]),Vr(e,n[1]));case 3:return new t(Vr(e,n[0]),Vr(e,n[1]),Vr(e,n[2]));default:for(var i=new Array(r),a=0;a<r;a++)i[a]=Vr(e,n[a]);return _construct2(t,i)}}(e,t.value,t.deps);break;case 1024:n=function(e,t,n){var r=n.length;switch(r){case 0:return t();case 1:return t(Vr(e,n[0]));case 2:return t(Vr(e,n[0]),Vr(e,n[1]));case 3:return t(Vr(e,n[0]),Vr(e,n[1]),Vr(e,n[2]));default:for(var i=Array(r),a=0;a<r;a++)i[a]=Vr(e,n[a]);return t.apply(void 0,i)}}(e,t.value,t.deps);break;case 2048:n=Vr(e,t.deps[0]);break;case 256:n=t.value}return n===Br||null===n||"object"!=typeof n||131072&t.flags||"function"!=typeof n.ngOnDestroy||(t.flags|=131072),void 0===n?Br:n}function Gr(e,t){var n=e.viewContainer._embeddedViews;if((null==t||t>=n.length)&&(t=n.length-1),t<0)return null;var r=n[t];return r.viewContainerParent=null,Je(n,t),ar.dirtyParentQueries(r),Xr(r),r}function Yr(e,t,n){var r=t?yr(t,t.def.lastRenderRootNode):e.renderElement,i=n.renderer.parentNode(r),a=n.renderer.nextSibling(r);Pr(n,2,i,a,void 0)}function Xr(e){Pr(e,3,null,null,void 0)}var Jr=new Object;function Kr(e,t,n,r,i,a){return new $r(e,t,n,r,i,a)}var $r=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o,s){var l;return _classCallCheck2(this,n),(l=t.call(this)).selector=e,l.componentType=r,l._inputs=a,l._outputs=o,l.ngContentSelectors=s,l.viewDefFactory=i,l}return _createClass2(n,[{key:"create",value:function(e,t,n,r){if(!r)throw new Error("ngModule should be provided");var i=Er(this.viewDefFactory),a=i.nodes[0].element.componentProvider.nodeIndex,o=ar.createRootView(e,t||[],n,i,r,Jr),s=nr(o,a).instance;return n&&o.renderer.setAttribute(tr(o,0).renderElement,"ng-version",Pn.full),new Zr(o,new ni(o),s)}},{key:"inputs",get:function(){var e=[],t=this._inputs;for(var n in t)e.push({propName:n,templateName:t[n]});return e}},{key:"outputs",get:function(){var e=[];for(var t in this._outputs)e.push({propName:t,templateName:this._outputs[t]});return e}}]),n}(mn),Zr=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this))._view=e,a._viewRef=r,a._component=i,a._elDef=a._view.def.nodes[0],a.hostView=r,a.changeDetectorRef=r,a.instance=i,a}return _createClass2(n,[{key:"destroy",value:function(){this._viewRef.destroy()}},{key:"onDestroy",value:function(e){this._viewRef.onDestroy(e)}},{key:"location",get:function(){return new kn(tr(this._view,this._elDef.nodeIndex).renderElement)}},{key:"injector",get:function(){return new oi(this._view,this._elDef)}},{key:"componentType",get:function(){return this._component.constructor}}]),n}(function(){return function e(){_classCallCheck2(this,e)}}());function Qr(e,t,n){return new ei(e,t,n)}var ei=function(){function e(t,n,r){_classCallCheck2(this,e),this._view=t,this._elDef=n,this._data=r,this._embeddedViews=[]}return _createClass2(e,[{key:"clear",value:function(){for(var e=this._embeddedViews.length-1;e>=0;e--){var t=Gr(this._data,e);ar.destroyView(t)}}},{key:"get",value:function(e){var t=this._embeddedViews[e];if(t){var n=new ni(t);return n.attachToViewContainerRef(this),n}return null}},{key:"createEmbeddedView",value:function(e,t,n){var r=e.createEmbeddedView(t||{});return this.insert(r,n),r}},{key:"createComponent",value:function(e,t,n,r,i){var a=n||this.parentInjector;i||e instanceof Cn||(i=a.get(Ge));var o=e.create(a,r,void 0,i);return this.insert(o.hostView,t),o}},{key:"insert",value:function(e,t){if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");var n,r,i,a,o,s=e;return n=this._view,r=this._data,i=t,a=s._view,o=r.viewContainer._embeddedViews,null==i&&(i=o.length),a.viewContainerParent=n,Xe(o,i,a),function(e,t){var n=_r(t);if(n&&n!==e&&!(16&t.state)){t.state|=16;var r=n.template._projectedViews;r||(r=n.template._projectedViews=[]),r.push(t),function(e,t){if(!(4&t.flags)){e.nodeFlags|=4,t.flags|=4;for(var n=t.parent;n;)n.childFlags|=4,n=n.parent}}(t.parent.def,t.parentNodeDef)}}(r,a),ar.dirtyParentQueries(a),Yr(r,i>0?o[i-1]:null,a),s.attachToViewContainerRef(this),e}},{key:"move",value:function(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");var n,r,i,a,o,s=this._embeddedViews.indexOf(e._view);return n=this._data,r=s,i=t,a=n.viewContainer._embeddedViews,o=a[r],Je(a,r),null==i&&(i=a.length),Xe(a,i,o),ar.dirtyParentQueries(o),Xr(o),Yr(n,i>0?a[i-1]:null,o),e}},{key:"indexOf",value:function(e){return this._embeddedViews.indexOf(e._view)}},{key:"remove",value:function(e){var t=Gr(this._data,e);t&&ar.destroyView(t)}},{key:"detach",value:function(e){var t=Gr(this._data,e);return t?new ni(t):null}},{key:"element",get:function(){return new kn(this._data.renderElement)}},{key:"injector",get:function(){return new oi(this._view,this._elDef)}},{key:"parentInjector",get:function(){for(var e=this._view,t=this._elDef.parent;!t&&e;)t=br(e),e=e.parent;return e?new oi(e,t):new oi(this._view,null)}},{key:"length",get:function(){return this._embeddedViews.length}}]),e}();function ti(e){return new ni(e)}var ni=function(){function e(t){_classCallCheck2(this,e),this._view=t,this._viewContainerRef=null,this._appRef=null}return _createClass2(e,[{key:"markForCheck",value:function(){mr(this._view)}},{key:"detach",value:function(){this._view.state&=-5}},{key:"detectChanges",value:function(){var e=this._view.root.rendererFactory;e.begin&&e.begin();try{ar.checkAndUpdateView(this._view)}finally{e.end&&e.end()}}},{key:"checkNoChanges",value:function(){ar.checkNoChangesView(this._view)}},{key:"reattach",value:function(){this._view.state|=4}},{key:"onDestroy",value:function(e){this._view.disposables||(this._view.disposables=[]),this._view.disposables.push(e)}},{key:"destroy",value:function(){this._appRef?this._appRef.detachView(this):this._viewContainerRef&&this._viewContainerRef.detach(this._viewContainerRef.indexOf(this)),ar.destroyView(this._view)}},{key:"detachFromAppRef",value:function(){this._appRef=null,Xr(this._view),ar.dirtyParentQueries(this._view)}},{key:"attachToAppRef",value:function(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}},{key:"attachToViewContainerRef",value:function(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}},{key:"rootNodes",get:function(){return Pr(this._view,0,void 0,void 0,e=[]),e;var e}},{key:"context",get:function(){return this._view.context}},{key:"destroyed",get:function(){return 0!=(128&this._view.state)}}]),e}();function ri(e,t){return new ii(e,t)}var ii=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._parentView=e,i._def=r,i}return _createClass2(n,[{key:"createEmbeddedView",value:function(e){return new ni(ar.createEmbeddedView(this._parentView,this._def,this._def.element.template,e))}},{key:"elementRef",get:function(){return new kn(tr(this._parentView,this._def.nodeIndex).renderElement)}}]),n}(Wn);function ai(e,t){return new oi(e,t)}var oi=function(){function e(t,n){_classCallCheck2(this,e),this.view=t,this.elDef=n}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt.THROW_IF_NOT_FOUND;return ar.resolveDep(this.view,this.elDef,!!this.elDef&&0!=(33554432&this.elDef.flags),{flags:0,token:e,tokenKey:lr(e)},t)}}]),e}();function si(e,t){var n=e.def.nodes[t];if(1&n.flags){var r=tr(e,n.nodeIndex);return n.element.template?r.template:r.renderElement}if(2&n.flags)return er(e,n.nodeIndex).renderText;if(20240&n.flags)return nr(e,n.nodeIndex).instance;throw new Error("Illegal state: read nodeValue for node index "+t)}function li(e){return new ci(e.renderer)}var ci=function(){function e(t){_classCallCheck2(this,e),this.delegate=t}return _createClass2(e,[{key:"selectRootElement",value:function(e){return this.delegate.selectRootElement(e)}},{key:"createElement",value:function(e,t){var n=_slicedToArray(Rr(t),2),r=n[0],i=n[1],a=this.delegate.createElement(i,r);return e&&this.delegate.appendChild(e,a),a}},{key:"createViewRoot",value:function(e){return e}},{key:"createTemplateAnchor",value:function(e){var t=this.delegate.createComment("");return e&&this.delegate.appendChild(e,t),t}},{key:"createText",value:function(e,t){var n=this.delegate.createText(t);return e&&this.delegate.appendChild(e,n),n}},{key:"projectNodes",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.appendChild(e,t[n])}},{key:"attachViewAfter",value:function(e,t){for(var n=this.delegate.parentNode(e),r=this.delegate.nextSibling(e),i=0;i<t.length;i++)this.delegate.insertBefore(n,t[i],r)}},{key:"detachView",value:function(e){for(var t=0;t<e.length;t++){var n=e[t],r=this.delegate.parentNode(n);this.delegate.removeChild(r,n)}}},{key:"destroyView",value:function(e,t){for(var n=0;n<t.length;n++)this.delegate.destroyNode(t[n])}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"listenGlobal",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"setElementProperty",value:function(e,t,n){this.delegate.setProperty(e,t,n)}},{key:"setElementAttribute",value:function(e,t,n){var r=_slicedToArray(Rr(t),2),i=r[0],a=r[1];null!=n?this.delegate.setAttribute(e,a,n,i):this.delegate.removeAttribute(e,a,i)}},{key:"setBindingDebugInfo",value:function(e,t,n){}},{key:"setElementClass",value:function(e,t,n){n?this.delegate.addClass(e,t):this.delegate.removeClass(e,t)}},{key:"setElementStyle",value:function(e,t,n){null!=n?this.delegate.setStyle(e,t,n):this.delegate.removeStyle(e,t)}},{key:"invokeElementMethod",value:function(e,t,n){e[t].apply(e,n)}},{key:"setText",value:function(e,t){this.delegate.setValue(e,t)}},{key:"animate",value:function(){throw new Error("Renderer.animate is no longer supported!")}}]),e}();function ui(e,t,n,r){return new hi(e,t,n,r)}var hi=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._moduleType=t,this._parent=n,this._bootstrapComponents=r,this._def=i,this._destroyListeners=[],this._destroyed=!1,this.injector=this,function(e){for(var t=e._def,n=e._providers=new Array(t.providers.length),r=0;r<t.providers.length;r++){var i=t.providers[r];4096&i.flags||void 0===n[r]&&(n[r]=Wr(e,i))}}(this)}return _createClass2(e,[{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Jt.THROW_IF_NOT_FOUND,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ce.Default,r=0;return n&Ce.SkipSelf?r|=1:n&Ce.Self&&(r|=4),Vr(this,{token:e,tokenKey:lr(e),flags:r},t)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The ng module ".concat(Oe(this.instance.constructor)," has already been destroyed."));this._destroyed=!0,function(e,t){for(var n=e._def,r=new Set,i=0;i<n.providers.length;i++)if(131072&n.providers[i].flags){var a=e._providers[i];if(a&&a!==Br){var o=a.ngOnDestroy;"function"!=typeof o||r.has(a)||(o.apply(a),r.add(a))}}}(this),this._destroyListeners.forEach((function(e){return e()}))}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"instance",get:function(){return this.get(this._moduleType)}},{key:"componentFactoryResolver",get:function(){return this.get(bn)}}]),e}(),di=lr((function e(){_classCallCheck2(this,e)})),pi=lr(jn),fi=lr(kn),mi=lr(Yn),gi=lr(Wn),vi=lr(At),_i=lr(Jt),bi=lr(Fe);function yi(e,t,n,r,i,a,o,s){var l=[];if(o)for(var c in o){var u=_slicedToArray(o[c],2),h=u[0],d=u[1];l[h]={flags:8,name:c,nonMinifiedName:d,ns:null,securityContext:null,suffix:null}}var p=[];if(s)for(var f in s)p.push({type:1,propName:f,target:null,eventName:s[f]});return ki(e,t|=16384,n,r,i,i,a,l,p)}function Ci(e,t,n){return ki(-1,e|=16,null,0,t,t,n)}function wi(e,t,n,r,i){return ki(-1,e,t,0,n,r,i)}function ki(e,t,n,r,i,a,o,s,l){var c=xr(n),u=c.matchedQueries,h=c.references,d=c.matchedQueryIds;l||(l=[]),s||(s=[]),a=Pe(a);var p=Sr(o,Oe(i));return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:u,matchedQueryIds:d,references:h,ngContentIndex:-1,childCount:r,bindings:s,bindingFlags:Fr(s),outputs:l,element:null,provider:{token:i,value:a,deps:p},text:null,query:null,ngContent:null}}function xi(e,t){return Ei(e,t)}function Si(e,t){for(var n=e;n.parent&&!Cr(n);)n=n.parent;return Pi(n.parent,br(n),!0,t.provider.value,t.provider.deps)}function Oi(e,t){var n=Pi(e,t.parent,(32768&t.flags)>0,t.provider.value,t.provider.deps);if(t.outputs.length)for(var r=0;r<t.outputs.length;r++){var i=t.outputs[r],a=n[i.propName];if(!pn(a))throw new Error("@Output ".concat(i.propName," not initialized in '").concat(n.constructor.name,"'."));var o=a.subscribe(ji(e,t.parent.nodeIndex,i.eventName));e.disposables[t.outputIndex+r]=o.unsubscribe.bind(o)}return n}function ji(e,t,n){return function(r){return vr(e,t,n,r)}}function Ei(e,t){var n=(8192&t.flags)>0,r=t.provider;switch(201347067&t.flags){case 512:return Pi(e,t.parent,n,r.value,r.deps);case 1024:return function(e,t,n,r,i){var a=i.length;switch(a){case 0:return r();case 1:return r(Ti(e,t,n,i[0]));case 2:return r(Ti(e,t,n,i[0]),Ti(e,t,n,i[1]));case 3:return r(Ti(e,t,n,i[0]),Ti(e,t,n,i[1]),Ti(e,t,n,i[2]));default:for(var o=Array(a),s=0;s<a;s++)o[s]=Ti(e,t,n,i[s]);return r.apply(void 0,o)}}(e,t.parent,n,r.value,r.deps);case 2048:return Ti(e,t.parent,n,r.deps[0]);case 256:return r.value}}function Pi(e,t,n,r,i){var a=i.length;switch(a){case 0:return new r;case 1:return new r(Ti(e,t,n,i[0]));case 2:return new r(Ti(e,t,n,i[0]),Ti(e,t,n,i[1]));case 3:return new r(Ti(e,t,n,i[0]),Ti(e,t,n,i[1]),Ti(e,t,n,i[2]));default:for(var o=new Array(a),s=0;s<a;s++)o[s]=Ti(e,t,n,i[s]);return _construct2(r,o)}}var Mi={};function Ti(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Jt.THROW_IF_NOT_FOUND;if(8&r.flags)return r.token;var a=e;2&r.flags&&(i=null);var o=r.tokenKey;o===vi&&(n=!(!t||!t.element.componentView)),t&&1&r.flags&&(n=!1,t=t.parent);for(var s=e;s;){if(t)switch(o){case di:return li(Ii(s,t,n));case pi:return Ii(s,t,n).renderer;case fi:return new kn(tr(s,t.nodeIndex).renderElement);case mi:return tr(s,t.nodeIndex).viewContainer;case gi:if(t.element.template)return tr(s,t.nodeIndex).template;break;case vi:return ti(Ii(s,t,n));case _i:case bi:return ai(s,t);default:var l=(n?t.element.allProviders:t.element.publicProviders)[o];if(l){var c=nr(s,l.nodeIndex);return c||(c={instance:Ei(s,l)},s.nodes[l.nodeIndex]=c),c.instance}}n=Cr(s),t=br(s),s=s.parent,4&r.flags&&(s=null)}var u=a.root.injector.get(r.token,Mi);return u!==Mi||i===Mi?u:a.root.ngModule.injector.get(r.token,i)}function Ii(e,t,n){var r;if(n)r=tr(e,t.nodeIndex).componentView;else for(r=e;r.parent&&!Cr(r);)r=r.parent;return r}function Ai(e,t,n,r,i,a){if(32768&n.flags){var o=tr(e,n.parent.nodeIndex).componentView;2&o.def.flags&&(o.state|=8)}if(t.instance[n.bindings[r].name]=i,524288&n.flags){a=a||{};var s=cn.unwrap(e.oldValues[n.bindingIndex+r]);a[n.bindings[r].nonMinifiedName]=new fn(s,i,0!=(2&e.state))}return e.oldValues[n.bindingIndex+r]=i,a}function Di(e,t){if(e.def.nodeFlags&t)for(var n=e.def.nodes,r=0,i=0;i<n.length;i++){var a=n[i],o=a.parent;for(!o&&a.flags&t&&Fi(e,i,a.flags&t,r++),0==(a.childFlags&t)&&(i+=a.childCount);o&&1&o.flags&&i===o.nodeIndex+o.childCount;)o.directChildFlags&t&&(r=Ri(e,o,t,r)),o=o.parent}}function Ri(e,t,n,r){for(var i=t.nodeIndex+1;i<=t.nodeIndex+t.childCount;i++){var a=e.def.nodes[i];a.flags&n&&Fi(e,i,a.flags&n,r++),i+=a.childCount}return r}function Fi(e,t,n,r){var i=nr(e,t);if(i){var a=i.instance;a&&(ar.setCurrentNode(e,t),1048576&n&&Qn(e,512,r)&&a.ngAfterContentInit(),2097152&n&&a.ngAfterContentChecked(),4194304&n&&Qn(e,768,r)&&a.ngAfterViewInit(),8388608&n&&a.ngAfterViewChecked(),131072&n&&a.ngOnDestroy())}}var Li=new Re("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return Ze}}),Ni={},Bi=function(){var e={LocaleId:0,DayPeriodsFormat:1,DayPeriodsStandalone:2,DaysFormat:3,DaysStandalone:4,MonthsFormat:5,MonthsStandalone:6,Eras:7,FirstDayOfWeek:8,WeekendRange:9,DateFormat:10,TimeFormat:11,DateTimeFormat:12,NumberSymbols:13,NumberFormats:14,CurrencySymbol:15,CurrencyName:16,Currencies:17,PluralCase:18,ExtraData:19};return e[e.LocaleId]="LocaleId",e[e.DayPeriodsFormat]="DayPeriodsFormat",e[e.DayPeriodsStandalone]="DayPeriodsStandalone",e[e.DaysFormat]="DaysFormat",e[e.DaysStandalone]="DaysStandalone",e[e.MonthsFormat]="MonthsFormat",e[e.MonthsStandalone]="MonthsStandalone",e[e.Eras]="Eras",e[e.FirstDayOfWeek]="FirstDayOfWeek",e[e.WeekendRange]="WeekendRange",e[e.DateFormat]="DateFormat",e[e.TimeFormat]="TimeFormat",e[e.DateTimeFormat]="DateTimeFormat",e[e.NumberSymbols]="NumberSymbols",e[e.NumberFormats]="NumberFormats",e[e.CurrencySymbol]="CurrencySymbol",e[e.CurrencyName]="CurrencyName",e[e.Currencies]="Currencies",e[e.PluralCase]="PluralCase",e[e.ExtraData]="ExtraData",e}(),zi=void 0,qi=["en",[["a","p"],["AM","PM"],zi],[["AM","PM"],zi,zi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],zi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],zi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",zi,"{1} 'at' {0}",zi],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"$","US Dollar",{},function(e){var t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];function Ui(e){var t=e.toLowerCase().replace(/_/g,"-"),n=Ni[t];if(n)return n;var r=t.split("-")[0];if(n=Ni[r])return n;if("en"===r)return qi;throw new Error('Missing locale data for the locale "'.concat(e,'".'))}var Hi=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return _classCallCheck2(this,n),(e=t.call(this)).__isAsync=r,e}return _createClass2(n,[{key:"emit",value:function(e){_get2(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"subscribe",value:function(e,t,r){var i,a=function(e){return null},o=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(a=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(o=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},t&&(a=this.__isAsync?function(e){setTimeout((function(){return t(e)}))}:function(e){t(e)}),r&&(o=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=_get2(_getPrototypeOf2(n.prototype),"subscribe",this).call(this,i,a,o);return e instanceof p&&e.add(s),s}}]),n}(M);function Vi(){return this._results[on()]()}var Wi=function(){function e(){_classCallCheck2(this,e),this.dirty=!0,this._results=[],this.changes=new Hi,this.length=0;var t=on(),n=e.prototype;n[t]||(n[t]=Vi)}return _createClass2(e,[{key:"map",value:function(e){return this._results.map(e)}},{key:"filter",value:function(e){return this._results.filter(e)}},{key:"find",value:function(e){return this._results.find(e)}},{key:"reduce",value:function(e,t){return this._results.reduce(e,t)}},{key:"forEach",value:function(e){this._results.forEach(e)}},{key:"some",value:function(e){return this._results.some(e)}},{key:"toArray",value:function(){return this._results.slice()}},{key:"toString",value:function(){return this._results.toString()}},{key:"reset",value:function(e){this._results=function e(t,n){void 0===n&&(n=t);for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?(n===t&&(n=t.slice(0,r)),e(i,n)):n!==t&&n.push(i)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}},{key:"notifyOnChanges",value:function(){this.changes.emit(this)}},{key:"setDirty",value:function(){this.dirty=!0}},{key:"destroy",value:function(){this.changes.complete(),this.changes.unsubscribe()}}]),e}(),Gi=pe("Directive",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e}),void 0,void 0,(function(e,t){return Zi(e,t)})),Yi=pe("Component",(function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object.assign({changeDetection:Ke.Default},e)}),Gi,void 0,(function(e,t){return $i(e,t)})),Xi=pe("Pipe",(function(e){return Object.assign({pure:!0},e)}),void 0,void 0,(function(e,t){return Qi(e,t)})),Ji=ge("Input",(function(e){return{bindingPropertyName:e}})),Ki=ge("Output",(function(e){return{bindingPropertyName:e}})),$i=wn,Zi=wn,Qi=wn,ea=pe("NgModule",(function(e){return e}),void 0,void 0,(function(e,t){return ta(e,t)})),ta=function(e,t){var n,r=t&&t.imports||[];t&&t.exports&&(r=[].concat(_toConsumableArray(r),[t.exports])),e.ngInjectorDef={factory:(n={factory:Gt(e,{useClass:e}),providers:t&&t.providers,imports:r}).factory,providers:n.providers||[],imports:n.imports||[]}},na=new Re("Application Initializer"),ra=function(){function e(t){var n=this;_classCallCheck2(this,e),this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(e,t){n.resolve=e,n.reject=t}))}return _createClass2(e,[{key:"runInitializers",value:function(){var e=this;if(!this.initialized){var t=[],n=function(){e.done=!0,e.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();dn(i)&&t.push(i)}Promise.all(t).then((function(){n()})).catch((function(t){e.reject(t)})),0===t.length&&n(),this.initialized=!0}}}]),e}(),ia=new Re("AppId");function aa(){return"".concat(oa()).concat(oa()).concat(oa())}function oa(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var sa=new Re("Platform Initializer"),la=new Re("Platform ID"),ca=new Re("appBootstrapListener"),ua=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"log",value:function(e){console.log(e)}},{key:"warn",value:function(e){console.warn(e)}}]),e}(),ha=new Re("LocaleId");function da(){throw new Error("Runtime compiler is not loaded")}var pa,fa,ma=da,ga=da,va=da,_a=da,ba=function(){function e(){_classCallCheck2(this,e),this.compileModuleSync=ma,this.compileModuleAsync=ga,this.compileModuleAndAllComponentsSync=va,this.compileModuleAndAllComponentsAsync=_a}return _createClass2(e,[{key:"clearCache",value:function(){}},{key:"clearCacheFor",value:function(e){}},{key:"getModuleId",value:function(e){}}]),e}(),ya=function e(){_classCallCheck2(this,e)};var Ca,wa=!(!(Ca=De.wtf)||(pa=Ca.trace,!pa)||(fa=pa.events,0));function ka(e,t){return null}var xa=wa?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return fa.createScope(e,t)}:function(e,t){return ka},Sa=wa?function(e,t){return pa.leaveScope(e,t),t}:function(e,t){return t},Oa=Promise.resolve(0);function ja(e){"undefined"==typeof Zone?Oa.then((function(){e&&e.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}var Ea=function(){function e(t){var n,r=t.enableLongStackTrace,i=void 0!==r&&r;if(_classCallCheck2(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hi(!1),this.onMicrotaskEmpty=new Hi(!1),this.onStable=new Hi(!1),this.onError=new Hi(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),(n=this)._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:function(e,t,r,i,a,o){try{return Ia(n),e.invokeTask(r,i,a,o)}finally{Aa(n)}},onInvoke:function(e,t,r,i,a,o,s){try{return Ia(n),e.invoke(r,i,a,o,s)}finally{Aa(n)}},onHasTask:function(e,t,r,i){e.hasTask(r,i),t===r&&("microTask"==i.change?(n.hasPendingMicrotasks=i.microTask,Ta(n)):"macroTask"==i.change&&(n.hasPendingMacrotasks=i.macroTask))},onHandleError:function(e,t,r,i){return e.handleError(r,i),n.runOutsideAngular((function(){return n.onError.emit(i)})),!1}})}return _createClass2(e,[{key:"run",value:function(e,t,n){return this._inner.run(e,t,n)}},{key:"runTask",value:function(e,t,n,r){var i=this._inner,a=i.scheduleEventTask("NgZoneEvent: "+r,e,Ma,Pa,Pa);try{return i.runTask(a,t,n)}finally{i.cancelTask(a)}}},{key:"runGuarded",value:function(e,t,n){return this._inner.runGuarded(e,t,n)}},{key:"runOutsideAngular",value:function(e){return this._outer.run(e)}}],[{key:"isInAngularZone",value:function(){return!0===Zone.current.get("isAngularZone")}},{key:"assertInAngularZone",value:function(){if(!e.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}},{key:"assertNotInAngularZone",value:function(){if(e.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}}]),e}();function Pa(){}var Ma={};function Ta(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular((function(){return e.onStable.emit(null)}))}finally{e.isStable=!0}}}function Ia(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function Aa(e){e._nesting--,Ta(e)}var Da,Ra=function(){function e(){_classCallCheck2(this,e),this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Hi,this.onMicrotaskEmpty=new Hi,this.onStable=new Hi,this.onError=new Hi}return _createClass2(e,[{key:"run",value:function(e){return e()}},{key:"runGuarded",value:function(e){return e()}},{key:"runOutsideAngular",value:function(e){return e()}},{key:"runTask",value:function(e){return e()}}]),e}(),Fa=function(){function e(t){var n=this;_classCallCheck2(this,e),this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){n.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return _createClass2(e,[{key:"_watchAngularEvents",value:function(){var e=this;this._ngZone.onUnstable.subscribe({next:function(){e._didWork=!0,e._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){e._ngZone.onStable.subscribe({next:function(){Ea.assertNotInAngularZone(),ja((function(){e._isZoneStable=!0,e._runCallbacksIfReady()}))}})}))}},{key:"increasePendingRequestCount",value:function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}},{key:"decreasePendingRequestCount",value:function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}},{key:"isStable",value:function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}},{key:"_runCallbacksIfReady",value:function(){var e=this;if(this.isStable())ja((function(){for(;0!==e._callbacks.length;){var t=e._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(e._didWork)}e._didWork=!1}));else{var t=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(e){return!e.updateCb||!e.updateCb(t)||(clearTimeout(e.timeoutId),!1)})),this._didWork=!0}}},{key:"getPendingTasks",value:function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(e){return{source:e.source,creationLocation:e.creationLocation,data:e.data}})):[]}},{key:"addCallback",value:function(e,t,n){var r=this,i=-1;t&&t>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(e){return e.timeoutId!==i})),e(r._didWork,r.getPendingTasks())}),t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}},{key:"whenStable",value:function(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}},{key:"getPendingRequestCount",value:function(){return this._pendingCount}},{key:"findProviders",value:function(e,t,n){return[]}}]),e}(),La=function(){function e(){_classCallCheck2(this,e),this._applications=new Map,Na.addToWindow(this)}return _createClass2(e,[{key:"registerApplication",value:function(e,t){this._applications.set(e,t)}},{key:"unregisterApplication",value:function(e){this._applications.delete(e)}},{key:"unregisterAllApplications",value:function(){this._applications.clear()}},{key:"getTestability",value:function(e){return this._applications.get(e)||null}},{key:"getAllTestabilities",value:function(){return Array.from(this._applications.values())}},{key:"getAllRootElements",value:function(){return Array.from(this._applications.keys())}},{key:"findTestabilityInTree",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return Na.findTestabilityInTree(this,e,t)}}]),e}(),Na=new(function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToWindow",value:function(e){}},{key:"findTestabilityInTree",value:function(e,t,n){return null}}]),e}()),Ba=new Re("AllowMultipleToken"),za=function e(t,n){_classCallCheck2(this,e),this.name=t,this.token=n};function qa(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r="Platform: "+t,i=new Re(r);return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],a=Ua();if(!a||a.injector.get(Ba,!1))if(e)e(n.concat(t).concat({provide:i,useValue:!0}));else{var o=n.concat(t).concat({provide:i,useValue:!0});!function(e){if(Da&&!Da.destroyed&&!Da.injector.get(Ba,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Da=e.get(Ha);var t=e.get(sa,null);t&&t.forEach((function(e){return e()}))}(Jt.create({providers:o,name:r}))}return function(e){var t=Ua();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(i)}}function Ua(){return Da&&!Da.destroyed?Da:null}var Ha=function(){function e(t){_classCallCheck2(this,e),this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return _createClass2(e,[{key:"bootstrapModuleFactory",value:function(e,t){var n,r=this,i="noop"===(n=t?t.ngZone:void 0)?new Ra:("zone.js"===n?void 0:n)||new Ea({enableLongStackTrace:at()}),a=[{provide:Ea,useValue:i}];return i.run((function(){var t=Jt.create({providers:a,parent:r.injector,name:e.moduleType.name}),n=e.create(t),o=n.injector.get(nt,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return Ya(r._modules,n)})),i.runOutsideAngular((function(){return i.onError.subscribe({next:function(e){o.handleError(e)}})})),function(e,t,i){try{var a=((o=n.injector.get(ra)).runInitializers(),o.donePromise.then((function(){return r._moduleDoBootstrap(n),n})));return dn(a)?a.catch((function(n){throw t.runOutsideAngular((function(){return e.handleError(n)})),n})):a}catch(s){throw t.runOutsideAngular((function(){return e.handleError(s)})),s}var o}(o,i)}))}},{key:"bootstrapModule",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Va({},n);return function(e,t,n){return e.get(ya).createCompiler([t]).compileModuleAsync(n)}(this.injector,r,e).then((function(e){return t.bootstrapModuleFactory(e,r)}))}},{key:"_moduleDoBootstrap",value:function(e){var t=e.injector.get(Ga);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach((function(e){return t.bootstrap(e)}));else{if(!e.instance.ngDoBootstrap)throw new Error("The module ".concat(Oe(e.instance.constructor),' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.'));e.instance.ngDoBootstrap(t)}this._modules.push(e)}},{key:"onDestroy",value:function(e){this._destroyListeners.push(e)}},{key:"destroy",value:function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(e){return e.destroy()})),this._destroyListeners.forEach((function(e){return e()})),this._destroyed=!0}},{key:"injector",get:function(){return this._injector}},{key:"destroyed",get:function(){return this._destroyed}}]),e}();function Va(e,t){return Array.isArray(t)?t.reduce(Va,e):Object.assign({},e,t)}var Wa,Ga=((Wa=function(){function e(t,n,r,i,a,o){var s=this;_classCallCheck2(this,e),this._zone=t,this._console=n,this._injector=r,this._exceptionHandler=i,this._componentFactoryResolver=a,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=at(),this._zone.onMicrotaskEmpty.subscribe({next:function(){s._zone.run((function(){s.tick()}))}});var l=new k((function(e){s._stable=s._zone.isStable&&!s._zone.hasPendingMacrotasks&&!s._zone.hasPendingMicrotasks,s._zone.runOutsideAngular((function(){e.next(s._stable),e.complete()}))})),c=new k((function(e){var t;s._zone.runOutsideAngular((function(){t=s._zone.onStable.subscribe((function(){Ea.assertNotInAngularZone(),ja((function(){s._stable||s._zone.hasPendingMacrotasks||s._zone.hasPendingMicrotasks||(s._stable=!0,e.next(!0))}))}))}));var n=s._zone.onUnstable.subscribe((function(){Ea.assertInAngularZone(),s._stable&&(s._stable=!1,s._zone.runOutsideAngular((function(){e.next(!1)})))}));return function(){t.unsubscribe(),n.unsubscribe()}}));this.isStable=ee(l,c.pipe((function(e){return te()(se(ce)(e))})))}return _createClass2(e,[{key:"bootstrap",value:function(e,t){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=e instanceof mn?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);var i=n instanceof Cn?null:this._injector.get(Ge),a=n.create(Jt.NULL,[],t||n.selector,i);a.onDestroy((function(){r._unloadComponent(a)}));var o=a.injector.get(Fa,null);return o&&a.injector.get(La).registerApplication(a.location.nativeElement,o),this._loadComponent(a),at()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),a}},{key:"tick",value:function(){var t=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");var n=e._tickScope();try{this._runningTick=!0;var r,i=_createForOfIteratorHelper(this._views);try{for(i.s();!(r=i.n()).done;)r.value.detectChanges()}catch(s){i.e(s)}finally{i.f()}if(this._enforceNoNewChanges){var a,o=_createForOfIteratorHelper(this._views);try{for(o.s();!(a=o.n()).done;)a.value.checkNoChanges()}catch(s){o.e(s)}finally{o.f()}}}catch(l){this._zone.runOutsideAngular((function(){return t._exceptionHandler.handleError(l)}))}finally{this._runningTick=!1,Sa(n)}}},{key:"attachView",value:function(e){var t=e;this._views.push(t),t.attachToAppRef(this)}},{key:"detachView",value:function(e){var t=e;Ya(this._views,t),t.detachFromAppRef()}},{key:"_loadComponent",value:function(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(ca,[]).concat(this._bootstrapListeners).forEach((function(t){return t(e)}))}},{key:"_unloadComponent",value:function(e){this.detachView(e.hostView),Ya(this.components,e)}},{key:"ngOnDestroy",value:function(){this._views.slice().forEach((function(e){return e.destroy()}))}},{key:"viewCount",get:function(){return this._views.length}}]),e}())._tickScope=xa("ApplicationRef#tick()"),Wa);function Ya(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)}var Xa=function e(){_classCallCheck2(this,e)},Ja=function e(){_classCallCheck2(this,e)},Ka={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},$a=function(){function e(t,n){_classCallCheck2(this,e),this._compiler=t,this._config=n||Ka}return _createClass2(e,[{key:"load",value:function(e){return this._compiler instanceof ba?this.loadFactory(e):this.loadAndCompile(e)}},{key:"loadAndCompile",value:function(e){var t=this,r=_slicedToArray(e.split("#"),2),i=r[0],a=r[1];return void 0===a&&(a="default"),n("zn8P")(i).then((function(e){return e[a]})).then((function(e){return Za(e,i,a)})).then((function(e){return t._compiler.compileModuleAsync(e)}))}},{key:"loadFactory",value:function(e){var t=_slicedToArray(e.split("#"),2),r=t[0],i=t[1],a="NgFactory";return void 0===i&&(i="default",a=""),n("zn8P")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(e){return e[i+a]})).then((function(e){return Za(e,r,i)}))}}]),e}();function Za(e,t,n){if(!e)throw new Error("Cannot find '".concat(n,"' in '").concat(t,"'"));return e}var Qa=function e(t,n){_classCallCheck2(this,e),this.name=t,this.callback=n},eo=function(){function e(t,n,r){_classCallCheck2(this,e),this.listeners=[],this.parent=null,this._debugContext=r,this.nativeNode=t,n&&n instanceof to&&n.addChild(this)}return _createClass2(e,[{key:"injector",get:function(){return this._debugContext.injector}},{key:"componentInstance",get:function(){return this._debugContext.component}},{key:"context",get:function(){return this._debugContext.context}},{key:"references",get:function(){return this._debugContext.references}},{key:"providerTokens",get:function(){return this._debugContext.providerTokens}}]),e}(),to=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r,i)).properties={},a.attributes={},a.classes={},a.styles={},a.childNodes=[],a.nativeElement=e,a}return _createClass2(n,[{key:"addChild",value:function(e){e&&(this.childNodes.push(e),e.parent=this)}},{key:"removeChild",value:function(e){var t=this.childNodes.indexOf(e);-1!==t&&(e.parent=null,this.childNodes.splice(t,1))}},{key:"insertChildrenAfter",value:function(e,t){var n,r=this,i=this.childNodes.indexOf(e);-1!==i&&((n=this.childNodes).splice.apply(n,[i+1,0].concat(_toConsumableArray(t))),t.forEach((function(t){t.parent&&t.parent.removeChild(t),e.parent=r})))}},{key:"insertBefore",value:function(e,t){var n=this.childNodes.indexOf(e);-1===n?this.addChild(t):(t.parent&&t.parent.removeChild(t),t.parent=this,this.childNodes.splice(n,0,t))}},{key:"query",value:function(e){return this.queryAll(e)[0]||null}},{key:"queryAll",value:function(e){var t=[];return function e(t,r,i){t.childNodes.forEach((function(t){t instanceof n&&(r(t)&&i.push(t),e(t,r,i))}))}(this,e,t),t}},{key:"queryAllNodes",value:function(e){var t=[];return function e(t,r,i){t instanceof n&&t.childNodes.forEach((function(t){r(t)&&i.push(t),t instanceof n&&e(t,r,i)}))}(this,e,t),t}},{key:"triggerEventHandler",value:function(e,t){this.listeners.forEach((function(n){n.name==e&&n.callback(t)}))}},{key:"children",get:function(){return this.childNodes.filter((function(e){return e instanceof n}))}}]),n}(eo),no=new Map,ro=function(e){return no.get(e)||null};function io(e){no.set(e.nativeNode,e)}var ao=qa(null,"core",[{provide:la,useValue:"unknown"},{provide:Ha,deps:[Jt]},{provide:La,deps:[]},{provide:ua,deps:[]}]);function oo(){return Hn}function so(){return Vn}function lo(e){return e||"en-US"}function co(e){var t=[];return e.onStable.subscribe((function(){for(;t.length;)t.pop()()})),function(e){t.push(e)}}var uo=function e(t){_classCallCheck2(this,e)};function ho(e,t,n,r,i,a){e|=1;var o=xr(t),s=o.matchedQueries,l=o.references;return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,flags:e,checkIndex:-1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:s,matchedQueryIds:o.matchedQueryIds,references:l,ngContentIndex:n,childCount:r,bindings:[],bindingFlags:0,outputs:[],element:{ns:null,name:null,attrs:null,template:a?Er(a):null,componentProvider:null,componentView:null,componentRendererType:null,publicProviders:null,allProviders:null,handleEvent:i||or},provider:null,text:null,query:null,ngContent:null}}function po(e,t,n,r,i,a){var o,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=arguments.length>7?arguments[7]:void 0,c=arguments.length>8?arguments[8]:void 0,u=arguments.length>9?arguments[9]:void 0,h=arguments.length>10?arguments[10]:void 0,d=arguments.length>11?arguments[11]:void 0;u||(u=or);var p=xr(n),f=p.matchedQueries,m=p.references,g=p.matchedQueryIds,v=null,_=null;a&&(v=(o=_slicedToArray(Rr(a),2))[0],_=o[1]),l=l||[];for(var b=new Array(l.length),y=0;y<l.length;y++){var C=_slicedToArray(l[y],3),w=C[0],k=C[1],x=C[2],S=Rr(k),O=_slicedToArray(S,2),j=O[0],E=O[1],P=void 0,M=void 0;switch(15&w){case 4:M=x;break;case 1:case 8:P=x}b[y]={flags:w,ns:j,name:E,nonMinifiedName:E,securityContext:P,suffix:M}}c=c||[];for(var T=new Array(c.length),I=0;I<c.length;I++){var A=_slicedToArray(c[I],2),D=A[0],R=A[1];T[I]={type:0,target:D,eventName:R,propName:null}}var F=(s=s||[]).map((function(e){var t=_slicedToArray(e,2),n=t[0],r=t[1],i=_slicedToArray(Rr(n),2);return[i[0],i[1],r]}));return d=function(e){if(e&&"$$undefined"===e.id){var t=null!=e.encapsulation&&e.encapsulation!==$e.None||e.styles.length||Object.keys(e.data).length;e.id=t?"c"+hr++:"$$empty"}return e&&"$$empty"===e.id&&(e=null),e||null}(d),h&&(t|=33554432),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:t|=1,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:f,matchedQueryIds:g,references:m,ngContentIndex:r,childCount:i,bindings:b,bindingFlags:Fr(b),outputs:T,element:{ns:v,name:_,attrs:F,template:null,componentProvider:null,componentView:h||null,componentRendererType:d,publicProviders:null,allProviders:null,handleEvent:u||or},provider:null,text:null,query:null,ngContent:null}}function fo(e,t,n){var r,i=n.element,a=e.root.selectorOrNode,o=e.renderer;if(e.parent||!a){r=i.name?o.createElement(i.name,i.ns):o.createComment("");var s=Or(e,t,n);s&&o.appendChild(s,r)}else r=o.selectRootElement(a,!!i.componentRendererType&&i.componentRendererType.encapsulation===$e.ShadowDom);if(i.attrs)for(var l=0;l<i.attrs.length;l++){var c=_slicedToArray(i.attrs[l],3),u=c[0],h=c[1],d=c[2];o.setAttribute(r,h,d,u)}return r}function mo(e,t,n,r){for(var i=0;i<n.outputs.length;i++){var a=n.outputs[i],o=go(e,n.nodeIndex,(h=a.eventName,(u=a.target)?"".concat(u,":").concat(h):h)),s=a.target,l=e;"component"===a.target&&(s=null,l=t);var c=l.renderer.listen(s||r,a.eventName,o);e.disposables[n.outputIndex+i]=c}var u,h}function go(e,t,n){return function(r){return vr(e,t,n,r)}}function vo(e,t,n,r){if(!pr(e,t,n,r))return!1;var i=t.bindings[n],a=tr(e,t.nodeIndex),o=a.renderElement,s=i.name;switch(15&i.flags){case 1:!function(e,t,n,r,i,a){var o=t.securityContext,s=o?e.root.sanitizer.sanitize(o,a):a;s=null!=s?s.toString():null;var l=e.renderer;null!=a?l.setAttribute(n,i,s,r):l.removeAttribute(n,i,r)}(e,i,o,i.ns,s,r);break;case 2:!function(e,t,n,r){var i=e.renderer;r?i.addClass(t,n):i.removeClass(t,n)}(e,o,s,r);break;case 4:!function(e,t,n,r,i){var a=e.root.sanitizer.sanitize(jt.STYLE,i);if(null!=a){a=a.toString();var o=t.suffix;null!=o&&(a+=o)}else a=null;var s=e.renderer;null!=a?s.setStyle(n,r,a):s.removeStyle(n,r)}(e,i,o,s,r);break;case 8:!function(e,t,n,r,i){var a=t.securityContext,o=a?e.root.sanitizer.sanitize(a,i):i;e.renderer.setProperty(n,r,o)}(33554432&t.flags&&32&i.flags?a.componentView:e,i,o,s,r)}return!0}function _o(e,t,n){var r=[];for(var i in n)r.push({propName:i,bindingType:n[i]});return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,ngContentIndex:-1,matchedQueries:{},matchedQueryIds:0,references:{},childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:{id:t,filterId:kr(t),bindings:r},ngContent:null}}function bo(e){for(var t=e.def.nodeMatchedQueries;e.parent&&wr(e);){var n=e.parentNodeDef;e=e.parent;for(var r=n.nodeIndex+n.childCount,i=0;i<=r;i++){var a=e.def.nodes[i];67108864&a.flags&&536870912&a.flags&&(a.query.filterId&t)===a.query.filterId&&ir(e,i).setDirty(),!(1&a.flags&&i+a.childCount<n.nodeIndex)&&67108864&a.childFlags&&536870912&a.childFlags||(i+=a.childCount)}}if(134217728&e.def.nodeFlags)for(var o=0;o<e.def.nodes.length;o++){var s=e.def.nodes[o];134217728&s.flags&&536870912&s.flags&&ir(e,o).setDirty(),o+=s.childCount}}function yo(e,t){var n=ir(e,t.nodeIndex);if(n.dirty){var r,i=void 0;if(67108864&t.flags){var a=t.parent.parent;i=Co(e,a.nodeIndex,a.nodeIndex+a.childCount,t.query,[]),r=nr(e,t.parent.nodeIndex).instance}else 134217728&t.flags&&(i=Co(e,0,e.def.nodes.length-1,t.query,[]),r=e.component);n.reset(i);for(var o=t.query.bindings,s=!1,l=0;l<o.length;l++){var c=o[l],u=void 0;switch(c.bindingType){case 0:u=n.first;break;case 1:u=n,s=!0}r[c.propName]=u}s&&n.notifyOnChanges()}}function Co(e,t,n,r,i){for(var a=t;a<=n;a++){var o=e.def.nodes[a],s=o.matchedQueries[r.id];if(null!=s&&i.push(wo(e,o,s)),1&o.flags&&o.element.template&&(o.element.template.nodeMatchedQueries&r.filterId)===r.filterId){var l=tr(e,a);if((o.childMatchedQueries&r.filterId)===r.filterId&&(Co(e,a+1,a+o.childCount,r,i),a+=o.childCount),16777216&o.flags)for(var c=l.viewContainer._embeddedViews,u=0;u<c.length;u++){var h=c[u],d=_r(h);d&&d===l&&Co(h,0,h.def.nodes.length-1,r,i)}var p=l.template._projectedViews;if(p)for(var f=0;f<p.length;f++){var m=p[f];Co(m,0,m.def.nodes.length-1,r,i)}}(o.childMatchedQueries&r.filterId)!==r.filterId&&(a+=o.childCount)}return i}function wo(e,t,n){if(null!=n)switch(n){case 1:return tr(e,t.nodeIndex).renderElement;case 0:return new kn(tr(e,t.nodeIndex).renderElement);case 2:return tr(e,t.nodeIndex).template;case 3:return tr(e,t.nodeIndex).viewContainer;case 4:return nr(e,t.nodeIndex).instance}}function ko(e,t,n){var r=Or(e,t,n);r&&Tr(e,n.ngContent.index,1,r,null,void 0)}function xo(e,t){return Oo(128,e,new Array(t+1))}function So(e,t){for(var n=Object.keys(t),r=n.length,i=new Array(r),a=0;a<r;a++){var o=n[a];i[t[o]]=o}return Oo(64,e,i)}function Oo(e,t,n){for(var r=new Array(n.length),i=0;i<n.length;i++){var a=n[i];r[i]={flags:8,name:a,ns:null,nonMinifiedName:a,securityContext:null,suffix:null}}return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:t,flags:e,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:-1,childCount:0,bindings:r,bindingFlags:Fr(r),outputs:[],element:null,provider:null,text:null,query:null,ngContent:null}}function jo(e,t,n){for(var r=new Array(n.length-1),i=1;i<n.length;i++)r[i-1]={flags:8,name:null,ns:null,nonMinifiedName:null,securityContext:null,suffix:n[i]};return{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:e,flags:2,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:t,childCount:0,bindings:r,bindingFlags:8,outputs:[],element:null,provider:null,text:{prefix:n[0]},query:null,ngContent:null}}function Eo(e,t,n){var r,i=e.renderer;r=i.createText(n.text.prefix);var a=Or(e,t,n);return a&&i.appendChild(a,r),{renderText:r}}function Po(e,t){return(null!=e?e.toString():"")+t.suffix}function Mo(e,t,n,r){for(var i=0,a=0,o=0,s=0,l=0,c=null,u=null,h=!1,d=!1,p=null,f=0;f<t.length;f++){var m=t[f];if(m.nodeIndex=f,m.parent=c,m.bindingIndex=i,m.outputIndex=a,m.renderParent=u,o|=m.flags,l|=m.matchedQueryIds,m.element){var g=m.element;g.publicProviders=c?c.element.publicProviders:Object.create(null),g.allProviders=g.publicProviders,h=!1,d=!1,m.element.template&&(l|=m.element.template.nodeMatchedQueries)}if(Io(c,m,t.length),i+=m.bindings.length,a+=m.outputs.length,!u&&3&m.flags&&(p=m),20224&m.flags){h||(h=!0,c.element.publicProviders=Object.create(c.element.publicProviders),c.element.allProviders=c.element.publicProviders);var v=0!=(32768&m.flags);0==(8192&m.flags)||v?c.element.publicProviders[lr(m.provider.token)]=m:(d||(d=!0,c.element.allProviders=Object.create(c.element.publicProviders)),c.element.allProviders[lr(m.provider.token)]=m),v&&(c.element.componentProvider=m)}if(c?(c.childFlags|=m.flags,c.directChildFlags|=m.flags,c.childMatchedQueries|=m.matchedQueryIds,m.element&&m.element.template&&(c.childMatchedQueries|=m.element.template.nodeMatchedQueries)):s|=m.flags,m.childCount>0)c=m,To(m)||(u=m);else for(;c&&f===c.nodeIndex+c.childCount;){var _=c.parent;_&&(_.childFlags|=c.childFlags,_.childMatchedQueries|=c.childMatchedQueries),u=(c=_)&&To(c)?c.renderParent:c}}return{factory:null,nodeFlags:o,rootNodeFlags:s,nodeMatchedQueries:l,flags:e,nodes:t,updateDirectives:n||or,updateRenderer:r||or,handleEvent:function(e,n,r,i){return t[n].element.handleEvent(e,r,i)},bindingCount:i,outputCount:a,lastRenderRootNode:p}}function To(e){return 0!=(1&e.flags)&&null===e.element.name}function Io(e,t,n){var r=t.element&&t.element.template;if(r){if(!r.lastRenderRootNode)throw new Error("Illegal State: Embedded templates without nodes are not allowed!");if(r.lastRenderRootNode&&16777216&r.lastRenderRootNode.flags)throw new Error("Illegal State: Last root node of a template can't have embedded views, at index ".concat(t.nodeIndex,"!"))}if(20224&t.flags&&0==(1&(e?e.flags:0)))throw new Error("Illegal State: StaticProvider/Directive nodes need to be children of elements or anchors, at index ".concat(t.nodeIndex,"!"));if(t.query){if(67108864&t.flags&&(!e||0==(16384&e.flags)))throw new Error("Illegal State: Content Query nodes need to be children of directives, at index ".concat(t.nodeIndex,"!"));if(134217728&t.flags&&e)throw new Error("Illegal State: View Query nodes have to be top level nodes, at index ".concat(t.nodeIndex,"!"))}if(t.childCount){var i=e?e.nodeIndex+e.childCount:n-1;if(t.nodeIndex<=i&&t.nodeIndex+t.childCount>i)throw new Error("Illegal State: childCount of node leads outside of parent, at index ".concat(t.nodeIndex,"!"))}}function Ao(e,t,n,r){var i=Fo(e.root,e.renderer,e,t,n);return Lo(i,e.component,r),No(i),i}function Do(e,t,n){var r=Fo(e,e.renderer,null,null,t);return Lo(r,n,n),No(r),r}function Ro(e,t,n,r){var i,a=t.element.componentRendererType;return i=a?e.root.rendererFactory.createRenderer(r,a):e.root.renderer,Fo(e.root,i,e,t.element.componentProvider,n)}function Fo(e,t,n,r,i){var a=new Array(i.nodes.length),o=i.outputCount?new Array(i.outputCount):null;return{def:i,parent:n,viewContainerParent:null,parentNodeDef:r,context:null,component:null,nodes:a,state:13,root:e,renderer:t,oldValues:new Array(i.bindingCount),disposables:o,initIndex:-1}}function Lo(e,t,n){e.component=t,e.context=n}function No(e){var t;Cr(e)&&(t=tr(e.parent,e.parentNodeDef.parent.nodeIndex).renderElement);for(var n=e.def,r=e.nodes,i=0;i<n.nodes.length;i++){var a=n.nodes[i],o=void 0;switch(ar.setCurrentNode(e,i),201347067&a.flags){case 1:var s=fo(e,t,a),l=void 0;if(33554432&a.flags){var c=Er(a.element.componentView);l=ar.createComponentView(e,a,c,s)}mo(e,l,a,s),o={renderElement:s,componentView:l,viewContainer:null,template:a.element.template?ri(e,a):void 0},16777216&a.flags&&(o.viewContainer=Qr(e,a,o));break;case 2:o=Eo(e,t,a);break;case 512:case 1024:case 2048:case 256:(o=r[i])||4096&a.flags||(o={instance:xi(e,a)});break;case 16:o={instance:Si(e,a)};break;case 16384:(o=r[i])||(o={instance:Oi(e,a)}),32768&a.flags&&Lo(tr(e,a.parent.nodeIndex).componentView,o.instance,o.instance);break;case 32:case 64:case 128:o={value:void 0};break;case 67108864:case 134217728:o=new Wi;break;case 8:ko(e,t,a),o=void 0}r[i]=o}Yo(e,Go.CreateViewNodes),$o(e,201326592,268435456,0)}function Bo(e){Uo(e),ar.updateDirectives(e,1),Xo(e,Go.CheckNoChanges),ar.updateRenderer(e,1),Yo(e,Go.CheckNoChanges),e.state&=-97}function zo(e){1&e.state?(e.state&=-2,e.state|=2):e.state&=-3,Zn(e,0,256),Uo(e),ar.updateDirectives(e,0),Xo(e,Go.CheckAndUpdate),$o(e,67108864,536870912,0);var t=Zn(e,256,512);Di(e,2097152|(t?1048576:0)),ar.updateRenderer(e,0),Yo(e,Go.CheckAndUpdate),$o(e,134217728,536870912,0),Di(e,8388608|((t=Zn(e,512,768))?4194304:0)),2&e.def.flags&&(e.state&=-9),e.state&=-97,Zn(e,768,1024)}function qo(e,t,n,r,i,a,o,s,l,c,u,h,d){return 0===n?function(e,t,n,r,i,a,o,s,l,c,u,h){switch(201347067&t.flags){case 1:return function(e,t,n,r,i,a,o,s,l,c,u,h){var d=t.bindings.length,p=!1;return d>0&&vo(e,t,0,n)&&(p=!0),d>1&&vo(e,t,1,r)&&(p=!0),d>2&&vo(e,t,2,i)&&(p=!0),d>3&&vo(e,t,3,a)&&(p=!0),d>4&&vo(e,t,4,o)&&(p=!0),d>5&&vo(e,t,5,s)&&(p=!0),d>6&&vo(e,t,6,l)&&(p=!0),d>7&&vo(e,t,7,c)&&(p=!0),d>8&&vo(e,t,8,u)&&(p=!0),d>9&&vo(e,t,9,h)&&(p=!0),p}(e,t,n,r,i,a,o,s,l,c,u,h);case 2:return function(e,t,n,r,i,a,o,s,l,c,u,h){var d=!1,p=t.bindings,f=p.length;if(f>0&&pr(e,t,0,n)&&(d=!0),f>1&&pr(e,t,1,r)&&(d=!0),f>2&&pr(e,t,2,i)&&(d=!0),f>3&&pr(e,t,3,a)&&(d=!0),f>4&&pr(e,t,4,o)&&(d=!0),f>5&&pr(e,t,5,s)&&(d=!0),f>6&&pr(e,t,6,l)&&(d=!0),f>7&&pr(e,t,7,c)&&(d=!0),f>8&&pr(e,t,8,u)&&(d=!0),f>9&&pr(e,t,9,h)&&(d=!0),d){var m=t.text.prefix;f>0&&(m+=Po(n,p[0])),f>1&&(m+=Po(r,p[1])),f>2&&(m+=Po(i,p[2])),f>3&&(m+=Po(a,p[3])),f>4&&(m+=Po(o,p[4])),f>5&&(m+=Po(s,p[5])),f>6&&(m+=Po(l,p[6])),f>7&&(m+=Po(c,p[7])),f>8&&(m+=Po(u,p[8])),f>9&&(m+=Po(h,p[9]));var g=er(e,t.nodeIndex).renderText;e.renderer.setValue(g,m)}return d}(e,t,n,r,i,a,o,s,l,c,u,h);case 16384:return function(e,t,n,r,i,a,o,s,l,c,u,h){var d=nr(e,t.nodeIndex),p=d.instance,f=!1,m=void 0,g=t.bindings.length;return g>0&&dr(e,t,0,n)&&(f=!0,m=Ai(e,d,t,0,n,m)),g>1&&dr(e,t,1,r)&&(f=!0,m=Ai(e,d,t,1,r,m)),g>2&&dr(e,t,2,i)&&(f=!0,m=Ai(e,d,t,2,i,m)),g>3&&dr(e,t,3,a)&&(f=!0,m=Ai(e,d,t,3,a,m)),g>4&&dr(e,t,4,o)&&(f=!0,m=Ai(e,d,t,4,o,m)),g>5&&dr(e,t,5,s)&&(f=!0,m=Ai(e,d,t,5,s,m)),g>6&&dr(e,t,6,l)&&(f=!0,m=Ai(e,d,t,6,l,m)),g>7&&dr(e,t,7,c)&&(f=!0,m=Ai(e,d,t,7,c,m)),g>8&&dr(e,t,8,u)&&(f=!0,m=Ai(e,d,t,8,u,m)),g>9&&dr(e,t,9,h)&&(f=!0,m=Ai(e,d,t,9,h,m)),m&&p.ngOnChanges(m),65536&t.flags&&Qn(e,256,t.nodeIndex)&&p.ngOnInit(),262144&t.flags&&p.ngDoCheck(),f}(e,t,n,r,i,a,o,s,l,c,u,h);case 32:case 64:case 128:return function(e,t,n,r,i,a,o,s,l,c,u,h){var d=t.bindings,p=!1,f=d.length;if(f>0&&pr(e,t,0,n)&&(p=!0),f>1&&pr(e,t,1,r)&&(p=!0),f>2&&pr(e,t,2,i)&&(p=!0),f>3&&pr(e,t,3,a)&&(p=!0),f>4&&pr(e,t,4,o)&&(p=!0),f>5&&pr(e,t,5,s)&&(p=!0),f>6&&pr(e,t,6,l)&&(p=!0),f>7&&pr(e,t,7,c)&&(p=!0),f>8&&pr(e,t,8,u)&&(p=!0),f>9&&pr(e,t,9,h)&&(p=!0),p){var m,g=rr(e,t.nodeIndex);switch(201347067&t.flags){case 32:m=new Array(d.length),f>0&&(m[0]=n),f>1&&(m[1]=r),f>2&&(m[2]=i),f>3&&(m[3]=a),f>4&&(m[4]=o),f>5&&(m[5]=s),f>6&&(m[6]=l),f>7&&(m[7]=c),f>8&&(m[8]=u),f>9&&(m[9]=h);break;case 64:m={},f>0&&(m[d[0].name]=n),f>1&&(m[d[1].name]=r),f>2&&(m[d[2].name]=i),f>3&&(m[d[3].name]=a),f>4&&(m[d[4].name]=o),f>5&&(m[d[5].name]=s),f>6&&(m[d[6].name]=l),f>7&&(m[d[7].name]=c),f>8&&(m[d[8].name]=u),f>9&&(m[d[9].name]=h);break;case 128:var v=n;switch(f){case 1:m=v.transform(n);break;case 2:m=v.transform(r);break;case 3:m=v.transform(r,i);break;case 4:m=v.transform(r,i,a);break;case 5:m=v.transform(r,i,a,o);break;case 6:m=v.transform(r,i,a,o,s);break;case 7:m=v.transform(r,i,a,o,s,l);break;case 8:m=v.transform(r,i,a,o,s,l,c);break;case 9:m=v.transform(r,i,a,o,s,l,c,u);break;case 10:m=v.transform(r,i,a,o,s,l,c,u,h)}}g.value=m}return p}(e,t,n,r,i,a,o,s,l,c,u,h);default:throw"unreachable"}}(e,t,r,i,a,o,s,l,c,u,h,d):function(e,t,n){switch(201347067&t.flags){case 1:return function(e,t,n){for(var r=!1,i=0;i<n.length;i++)vo(e,t,i,n[i])&&(r=!0);return r}(e,t,n);case 2:return function(e,t,n){for(var r=t.bindings,i=!1,a=0;a<n.length;a++)pr(e,t,a,n[a])&&(i=!0);if(i){for(var o="",s=0;s<n.length;s++)o+=Po(n[s],r[s]);o=t.text.prefix+o;var l=er(e,t.nodeIndex).renderText;e.renderer.setValue(l,o)}return i}(e,t,n);case 16384:return function(e,t,n){for(var r=nr(e,t.nodeIndex),i=r.instance,a=!1,o=void 0,s=0;s<n.length;s++)dr(e,t,s,n[s])&&(a=!0,o=Ai(e,r,t,s,n[s],o));return o&&i.ngOnChanges(o),65536&t.flags&&Qn(e,256,t.nodeIndex)&&i.ngOnInit(),262144&t.flags&&i.ngDoCheck(),a}(e,t,n);case 32:case 64:case 128:return function(e,t,n){for(var r=t.bindings,i=!1,a=0;a<n.length;a++)pr(e,t,a,n[a])&&(i=!0);if(i){var o,s=rr(e,t.nodeIndex);switch(201347067&t.flags){case 32:o=n;break;case 64:o={};for(var l=0;l<n.length;l++)o[r[l].name]=n[l];break;case 128:var c=n[0],u=n.slice(1);o=c.transform.apply(c,_toConsumableArray(u))}s.value=o}return i}(e,t,n);default:throw"unreachable"}}(e,t,r)}function Uo(e){var t=e.def;if(4&t.nodeFlags)for(var n=0;n<t.nodes.length;n++){var r=t.nodes[n];if(4&r.flags){var i=tr(e,n).template._projectedViews;if(i)for(var a=0;a<i.length;a++){var o=i[a];o.state|=32,gr(o,e)}}else 0==(4&r.childFlags)&&(n+=r.childCount)}}function Ho(e,t,n,r,i,a,o,s,l,c,u,h,d){return 0===n?function(e,t,n,r,i,a,o,s,l,c,u,h){var d=t.bindings.length;d>0&&fr(e,t,0,n),d>1&&fr(e,t,1,r),d>2&&fr(e,t,2,i),d>3&&fr(e,t,3,a),d>4&&fr(e,t,4,o),d>5&&fr(e,t,5,s),d>6&&fr(e,t,6,l),d>7&&fr(e,t,7,c),d>8&&fr(e,t,8,u),d>9&&fr(e,t,9,h)}(e,t,r,i,a,o,s,l,c,u,h,d):function(e,t,n){for(var r=0;r<n.length;r++)fr(e,t,r,n[r])}(e,t,r),!1}function Vo(e,t){if(ir(e,t.nodeIndex).dirty)throw Jn(ar.createDebugContext(e,t.nodeIndex),"Query ".concat(t.query.id," not dirty"),"Query ".concat(t.query.id," dirty"),0!=(1&e.state))}function Wo(e){if(!(128&e.state)){if(Xo(e,Go.Destroy),Yo(e,Go.Destroy),Di(e,131072),e.disposables)for(var t=0;t<e.disposables.length;t++)e.disposables[t]();!function(e){if(16&e.state){var t=_r(e);if(t){var n=t.template._projectedViews;n&&(Je(n,n.indexOf(e)),ar.dirtyParentQueries(e))}}}(e),e.renderer.destroyNode&&function(e){for(var t=e.def.nodes.length,n=0;n<t;n++){var r=e.def.nodes[n];1&r.flags?e.renderer.destroyNode(tr(e,n).renderElement):2&r.flags?e.renderer.destroyNode(er(e,n).renderText):(67108864&r.flags||134217728&r.flags)&&ir(e,n).destroy()}}(e),Cr(e)&&e.renderer.destroy(),e.state|=128}}var Go=function(){var e={CreateViewNodes:0,CheckNoChanges:1,CheckNoChangesProjectedViews:2,CheckAndUpdate:3,CheckAndUpdateProjectedViews:4,Destroy:5};return e[e.CreateViewNodes]="CreateViewNodes",e[e.CheckNoChanges]="CheckNoChanges",e[e.CheckNoChangesProjectedViews]="CheckNoChangesProjectedViews",e[e.CheckAndUpdate]="CheckAndUpdate",e[e.CheckAndUpdateProjectedViews]="CheckAndUpdateProjectedViews",e[e.Destroy]="Destroy",e}();function Yo(e,t){var n=e.def;if(33554432&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];33554432&i.flags?Jo(tr(e,r).componentView,t):0==(33554432&i.childFlags)&&(r+=i.childCount)}}function Xo(e,t){var n=e.def;if(16777216&n.nodeFlags)for(var r=0;r<n.nodes.length;r++){var i=n.nodes[r];if(16777216&i.flags)for(var a=tr(e,r).viewContainer._embeddedViews,o=0;o<a.length;o++)Jo(a[o],t);else 0==(16777216&i.childFlags)&&(r+=i.childCount)}}function Jo(e,t){var n=e.state;switch(t){case Go.CheckNoChanges:0==(128&n)&&(12==(12&n)?Bo(e):64&n&&Ko(e,Go.CheckNoChangesProjectedViews));break;case Go.CheckNoChangesProjectedViews:0==(128&n)&&(32&n?Bo(e):64&n&&Ko(e,t));break;case Go.CheckAndUpdate:0==(128&n)&&(12==(12&n)?zo(e):64&n&&Ko(e,Go.CheckAndUpdateProjectedViews));break;case Go.CheckAndUpdateProjectedViews:0==(128&n)&&(32&n?zo(e):64&n&&Ko(e,t));break;case Go.Destroy:Wo(e);break;case Go.CreateViewNodes:No(e)}}function Ko(e,t){Xo(e,t),Yo(e,t)}function $o(e,t,n,r){if(e.def.nodeFlags&t&&e.def.nodeFlags&n)for(var i=e.def.nodes.length,a=0;a<i;a++){var o=e.def.nodes[a];if(o.flags&t&&o.flags&n)switch(ar.setCurrentNode(e,o.nodeIndex),r){case 0:yo(e,o);break;case 1:Vo(e,o)}o.childFlags&t&&o.childFlags&n||(a+=o.childCount)}}var Zo=!1;function Qo(e,t,n,r,i,a){var o=i.injector.get(Sn);return Do(ts(e,i,o,t,n),r,a)}function es(e,t,n,r,i,a){var o=i.injector.get(Sn),s=ts(e,i,new As(o),t,n),l=hs(r);return Ts(ys.create,Do,null,[s,l,a])}function ts(e,t,n,r,i){var a=t.injector.get(Et),o=t.injector.get(nt),s=n.createRenderer(null,null);return{ngModule:t,injector:e,projectableNodes:r,selectorOrNode:i,sanitizer:a,rendererFactory:n,renderer:s,errorHandler:o}}function ns(e,t,n,r){var i=hs(n);return Ts(ys.create,Ao,null,[e,t,i,r])}function rs(e,t,n,r){return n=ss.get(t.element.componentProvider.provider.token)||hs(n),Ts(ys.create,Ro,null,[e,t,n,r])}function is(e,t,n,r){return ui(e,t,n,function(e){var t=function(e){var t=!1,n=!1;return 0===as.size||(e.providers.forEach((function(e){var r=as.get(e.token);3840&e.flags&&r&&(t=!0,n=n||r.deprecatedBehavior)})),e.modules.forEach((function(e){os.forEach((function(r,i){xe(i).providedIn===e&&(t=!0,n=n||r.deprecatedBehavior)}))}))),{hasOverrides:t,hasDeprecatedOverrides:n}}(e),n=t.hasOverrides,r=t.hasDeprecatedOverrides;return n?(function(e){for(var t=0;t<e.providers.length;t++){var n=e.providers[t];r&&(n.flags|=4096);var i=as.get(n.token);i&&(n.flags=-3841&n.flags|i.flags,n.deps=Sr(i.deps),n.value=i.value)}if(os.size>0){var a=new Set(e.modules);os.forEach((function(t,n){if(a.has(xe(n).providedIn)){var i={token:n,flags:t.flags|(r?4096:0),deps:Sr(t.deps),value:t.value,index:e.providers.length};e.providers.push(i),e.providersByKey[lr(n)]=i}}))}}(e=e.factory((function(){return or}))),e):e}(r))}var as=new Map,os=new Map,ss=new Map;function ls(e){var t;as.set(e.token,e),"function"==typeof e.token&&(t=xe(e.token))&&"function"==typeof t.providedIn&&os.set(e.token,e)}function cs(e,t){var n=Er(t.viewDefFactory),r=Er(n.nodes[0].element.componentView);ss.set(e,r)}function us(){as.clear(),os.clear(),ss.clear()}function hs(e){if(0===as.size)return e;var t=function(e){for(var t=[],n=null,r=0;r<e.nodes.length;r++){var i=e.nodes[r];1&i.flags&&(n=i),n&&3840&i.flags&&as.has(i.provider.token)&&(t.push(n.nodeIndex),n=null)}return t}(e);if(0===t.length)return e;e=e.factory((function(){return or}));for(var n=0;n<t.length;n++)r(e,t[n]);return e;function r(e,t){for(var n=t+1;n<e.nodes.length;n++){var r=e.nodes[n];if(1&r.flags)return;if(3840&r.flags){var i=r.provider,a=as.get(i.token);a&&(r.flags=-3841&r.flags|a.flags,i.deps=Sr(a.deps),i.value=a.value)}}}}function ds(e,t,n,r,i,a,o,s,l,c,u,h,d){var p=e.def.nodes[t];return qo(e,p,n,r,i,a,o,s,l,c,u,h,d),224&p.flags?rr(e,t).value:void 0}function ps(e,t,n,r,i,a,o,s,l,c,u,h,d){var p=e.def.nodes[t];return Ho(e,p,n,r,i,a,o,s,l,c,u,h,d),224&p.flags?rr(e,t).value:void 0}function fs(e){return Ts(ys.detectChanges,zo,null,[e])}function ms(e){return Ts(ys.checkNoChanges,Bo,null,[e])}function gs(e){return Ts(ys.destroy,Wo,null,[e])}var vs,_s,bs,ys=function(){var e={create:0,detectChanges:1,checkNoChanges:2,destroy:3,handleEvent:4};return e[e.create]="create",e[e.detectChanges]="detectChanges",e[e.checkNoChanges]="checkNoChanges",e[e.destroy]="destroy",e[e.handleEvent]="handleEvent",e}();function Cs(e,t){_s=e,bs=t}function ws(e,t,n,r){return Cs(e,t),Ts(ys.handleEvent,e.def.handleEvent,null,[e,t,n,r])}function ks(e,t){if(128&e.state)throw $n(ys[vs]);return Cs(e,js(e,0)),e.def.updateDirectives((function(e,n,r){for(var i=e.def.nodes[n],a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return 0===t?Ss(e,i,r,o):Os(e,i,r,o),16384&i.flags&&Cs(e,js(e,n)),224&i.flags?rr(e,i.nodeIndex).value:void 0}),e)}function xs(e,t){if(128&e.state)throw $n(ys[vs]);return Cs(e,Es(e,0)),e.def.updateRenderer((function(e,n,r){for(var i=e.def.nodes[n],a=arguments.length,o=new Array(a>3?a-3:0),s=3;s<a;s++)o[s-3]=arguments[s];return 0===t?Ss(e,i,r,o):Os(e,i,r,o),3&i.flags&&Cs(e,Es(e,n)),224&i.flags?rr(e,i.nodeIndex).value:void 0}),e)}function Ss(e,t,n,r){if(qo.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))){var i=1===n?r[0]:r;if(16384&t.flags){for(var a={},o=0;o<t.bindings.length;o++){var s=t.bindings[o],l=i[o];8&s.flags&&(a[(p=s.nonMinifiedName,"ng-reflect-"+p.replace(/[$@]/g,"_").replace(Tt,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return"-"+t[1].toLowerCase()})))]=It(l))}var c=t.parent,u=tr(e,c.nodeIndex).renderElement;if(c.element.name)for(var h in a){var d=a[h];null!=d?e.renderer.setAttribute(u,h,d):e.renderer.removeAttribute(u,h)}else e.renderer.setValue(u,"bindings="+JSON.stringify(a,null,2))}}var p}function Os(e,t,n,r){Ho.apply(void 0,[e,t,n].concat(_toConsumableArray(r)))}function js(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(16384&r.flags&&r.bindings&&r.bindings.length)return n}return null}function Es(e,t){for(var n=t;n<e.def.nodes.length;n++){var r=e.def.nodes[n];if(3&r.flags&&r.bindings&&r.bindings.length)return n}return null}var Ps=function(){function e(t,n){_classCallCheck2(this,e),this.view=t,this.nodeIndex=n,null==n&&(this.nodeIndex=n=0),this.nodeDef=t.def.nodes[n];for(var r=this.nodeDef,i=t;r&&0==(1&r.flags);)r=r.parent;if(!r)for(;!r&&i;)r=br(i),i=i.parent;this.elDef=r,this.elView=i}return _createClass2(e,[{key:"logError",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a;2&this.nodeDef.flags?(i=this.view.def,a=this.nodeDef.nodeIndex):(i=this.elView.def,a=this.elDef.nodeIndex);var o=function(e,t){for(var n=-1,r=0;r<=t;r++)3&e.nodes[r].flags&&n++;return n}(i,a),s=-1;i.factory((function(){var t;return++s===o?(t=e.error).bind.apply(t,[e].concat(n)):or})),s<o&&(e.error("Illegal state: the ViewDefinitionFactory did not call the logger!"),e.error.apply(e,n))}},{key:"elOrCompView",get:function(){return tr(this.elView,this.elDef.nodeIndex).componentView||this.view}},{key:"injector",get:function(){return ai(this.elView,this.elDef)}},{key:"component",get:function(){return this.elOrCompView.component}},{key:"context",get:function(){return this.elOrCompView.context}},{key:"providerTokens",get:function(){var e=[];if(this.elDef)for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&e.push(n.provider.token),t+=n.childCount}return e}},{key:"references",get:function(){var e={};if(this.elDef){Ms(this.elView,this.elDef,e);for(var t=this.elDef.nodeIndex+1;t<=this.elDef.nodeIndex+this.elDef.childCount;t++){var n=this.elView.def.nodes[t];20224&n.flags&&Ms(this.elView,n,e),t+=n.childCount}}return e}},{key:"componentRenderElement",get:function(){var e=function(e){for(;e&&!Cr(e);)e=e.parent;return e.parent?tr(e.parent,br(e).nodeIndex):null}(this.elOrCompView);return e?e.renderElement:void 0}},{key:"renderNode",get:function(){return 2&this.nodeDef.flags?yr(this.view,this.nodeDef):yr(this.elView,this.elDef)}}]),e}();function Ms(e,t,n){for(var r in t.references)n[r]=wo(e,t,t.references[r])}function Ts(e,t,n,r){var i,a,o=vs,s=_s,l=bs;try{vs=e;var c=t.apply(n,r);return _s=s,bs=l,vs=o,c}catch(u){if(Qe(u)||!_s)throw u;throw i=u,a=Is(),i instanceof Error||(i=new Error(i.toString())),Kn(i,a),i}}function Is(){return _s?new Ps(_s,bs):null}var As=function(){function e(t){_classCallCheck2(this,e),this.delegate=t}return _createClass2(e,[{key:"createRenderer",value:function(e,t){return new Ds(this.delegate.createRenderer(e,t))}},{key:"begin",value:function(){this.delegate.begin&&this.delegate.begin()}},{key:"end",value:function(){this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.delegate.whenRenderingDone?this.delegate.whenRenderingDone():Promise.resolve(null)}}]),e}(),Ds=function(){function e(t){_classCallCheck2(this,e),this.delegate=t,this.debugContextFactory=Is,this.data=this.delegate.data}return _createClass2(e,[{key:"createDebugContext",value:function(e){return this.debugContextFactory(e)}},{key:"destroyNode",value:function(e){var t=ro(e);!function(e){no.delete(e.nativeNode)}(t),t instanceof eo&&(t.listeners.length=0),this.delegate.destroyNode&&this.delegate.destroyNode(e)}},{key:"destroy",value:function(){this.delegate.destroy()}},{key:"createElement",value:function(e,t){var n=this.delegate.createElement(e,t),r=this.createDebugContext(n);if(r){var i=new to(n,null,r);i.name=e,io(i)}return n}},{key:"createComment",value:function(e){var t=this.delegate.createComment(e),n=this.createDebugContext(t);return n&&io(new eo(t,null,n)),t}},{key:"createText",value:function(e){var t=this.delegate.createText(e),n=this.createDebugContext(t);return n&&io(new eo(t,null,n)),t}},{key:"appendChild",value:function(e,t){var n=ro(e),r=ro(t);n&&r&&n instanceof to&&n.addChild(r),this.delegate.appendChild(e,t)}},{key:"insertBefore",value:function(e,t,n){var r=ro(e),i=ro(t),a=ro(n);r&&i&&r instanceof to&&r.insertBefore(a,i),this.delegate.insertBefore(e,t,n)}},{key:"removeChild",value:function(e,t){var n=ro(e),r=ro(t);n&&r&&n instanceof to&&n.removeChild(r),this.delegate.removeChild(e,t)}},{key:"selectRootElement",value:function(e,t){var n=this.delegate.selectRootElement(e,t),r=Is();return r&&io(new to(n,null,r)),n}},{key:"setAttribute",value:function(e,t,n,r){var i=ro(e);i&&i instanceof to&&(i.attributes[r?r+":"+t:t]=n),this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){var r=ro(e);r&&r instanceof to&&(r.attributes[n?n+":"+t:t]=null),this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){var n=ro(e);n&&n instanceof to&&(n.classes[t]=!0),this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){var n=ro(e);n&&n instanceof to&&(n.classes[t]=!1),this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){var i=ro(e);i&&i instanceof to&&(i.styles[t]=n),this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){var r=ro(e);r&&r instanceof to&&(r.styles[t]=null),this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){var r=ro(e);r&&r instanceof to&&(r.properties[t]=n),this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){if("string"!=typeof e){var r=ro(e);r&&r.listeners.push(new Qa(t,n))}return this.delegate.listen(e,t,n)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setValue",value:function(e,t){return this.delegate.setValue(e,t)}}]),e}();var Rs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this)).moduleType=e,a._bootstrapComponents=r,a._ngModuleDefFactory=i,a}return _createClass2(n,[{key:"create",value:function(e){!function(){if(!Zo){Zo=!0;var e=at()?{setCurrentNode:Cs,createRootView:es,createEmbeddedView:ns,createComponentView:rs,createNgModuleRef:is,overrideProvider:ls,overrideComponentView:cs,clearOverrides:us,checkAndUpdateView:fs,checkNoChangesView:ms,destroyView:gs,createDebugContext:function(e,t){return new Ps(e,t)},handleEvent:ws,updateDirectives:ks,updateRenderer:xs}:{setCurrentNode:function(){},createRootView:Qo,createEmbeddedView:Ao,createComponentView:Ro,createNgModuleRef:ui,overrideProvider:or,overrideComponentView:or,clearOverrides:or,checkAndUpdateView:zo,checkNoChangesView:Bo,destroyView:Wo,createDebugContext:function(e,t){return new Ps(e,t)},handleEvent:function(e,t,n,r){return e.def.handleEvent(e,t,n,r)},updateDirectives:function(e,t){return e.def.updateDirectives(0===t?ds:ps,e)},updateRenderer:function(e,t){return e.def.updateRenderer(0===t?ds:ps,e)}};ar.setCurrentNode=e.setCurrentNode,ar.createRootView=e.createRootView,ar.createEmbeddedView=e.createEmbeddedView,ar.createComponentView=e.createComponentView,ar.createNgModuleRef=e.createNgModuleRef,ar.overrideProvider=e.overrideProvider,ar.overrideComponentView=e.overrideComponentView,ar.clearOverrides=e.clearOverrides,ar.checkAndUpdateView=e.checkAndUpdateView,ar.checkNoChangesView=e.checkNoChangesView,ar.destroyView=e.destroyView,ar.resolveDep=Ti,ar.createDebugContext=e.createDebugContext,ar.handleEvent=e.handleEvent,ar.updateDirectives=e.updateDirectives,ar.updateRenderer=e.updateRenderer,ar.dirtyParentQueries=bo}}();var t=function(e){var t=Array.from(e.providers),n=Array.from(e.modules),r={};for(var i in e.providersByKey)r[i]=e.providersByKey[i];return{factory:e.factory,isRoot:e.isRoot,providers:t,modules:n,providersByKey:r}}(Er(this._ngModuleDefFactory));return ar.createNgModuleRef(this.moduleType,e||Jt.NULL,this._bootstrapComponents,t)}}]),n}(Ye);function Fs(){return localStorage.getItem("access_token")}var Ls=function e(){_classCallCheck2(this,e)},Ns=function e(){_classCallCheck2(this,e),this.title="graphClient"},Bs=function e(){_classCallCheck2(this,e)},zs=new Re("Location Initialized"),qs=function e(){_classCallCheck2(this,e)},Us=new Re("appBaseHref"),Hs=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this._subject=new Hi,this._urlChangeListeners=[],this._platformStrategy=t;var i=this._platformStrategy.getBaseHref();this._platformLocation=n,this._baseHref=e.stripTrailingSlash(Vs(i)),this._platformStrategy.onPopState((function(e){r._subject.emit({url:r.path(!0),pop:!0,state:e.state,type:e.type})}))}return _createClass2(e,[{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this.normalize(this._platformStrategy.path(e))}},{key:"getState",value:function(){return this._platformLocation.getState()}},{key:"isCurrentPathEqualTo",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this.path()==this.normalize(t+e.normalizeQueryParams(n))}},{key:"normalize",value:function(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,Vs(t)))}},{key:"prepareExternalUrl",value:function(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}},{key:"go",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.pushState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"replaceState",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;this._platformStrategy.replaceState(r,"",t,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+e.normalizeQueryParams(n)),r)}},{key:"forward",value:function(){this._platformStrategy.forward()}},{key:"back",value:function(){this._platformStrategy.back()}},{key:"onUrlChange",value:function(e){var t=this;this._urlChangeListeners.push(e),this.subscribe((function(e){t._notifyUrlChangeListeners(e.url,e.state)}))}},{key:"_notifyUrlChangeListeners",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;this._urlChangeListeners.forEach((function(n){return n(e,t)}))}},{key:"subscribe",value:function(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}],[{key:"normalizeQueryParams",value:function(e){return e&&"?"!==e[0]?"?"+e:e}},{key:"joinWithSlash",value:function(e,t){if(0==e.length)return t;if(0==t.length)return e;var n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}},{key:"stripTrailingSlash",value:function(e){var t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}}]),e}();function Vs(e){return e.replace(/\/index.html$/,"")}var Ws=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._platformLocation=e,i._baseHref="",null!=r&&(i._baseHref=r),i}return _createClass2(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"path",value:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e}},{key:"prepareExternalUrl",value:function(e){var t=Hs.joinWithSlash(this._baseHref,e);return t.length>0?"#"+t:t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hs.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hs.normalizeQueryParams(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(qs),Gs=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;if(_classCallCheck2(this,n),(i=t.call(this))._platformLocation=e,null==r&&(r=i._platformLocation.getBaseHrefFromDOM()),null==r)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return i._baseHref=r,_possibleConstructorReturn2(i)}return _createClass2(n,[{key:"onPopState",value:function(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}},{key:"getBaseHref",value:function(){return this._baseHref}},{key:"prepareExternalUrl",value:function(e){return Hs.joinWithSlash(this._baseHref,e)}},{key:"path",value:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this._platformLocation.pathname+Hs.normalizeQueryParams(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?"".concat(t).concat(n):t}},{key:"pushState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hs.normalizeQueryParams(r));this._platformLocation.pushState(e,t,i)}},{key:"replaceState",value:function(e,t,n,r){var i=this.prepareExternalUrl(n+Hs.normalizeQueryParams(r));this._platformLocation.replaceState(e,t,i)}},{key:"forward",value:function(){this._platformLocation.forward()}},{key:"back",value:function(){this._platformLocation.back()}}]),n}(qs),Ys=function(){var e={Decimal:0,Percent:1,Currency:2,Scientific:3};return e[e.Decimal]="Decimal",e[e.Percent]="Percent",e[e.Currency]="Currency",e[e.Scientific]="Scientific",e}(),Xs=function(){var e={Zero:0,One:1,Two:2,Few:3,Many:4,Other:5};return e[e.Zero]="Zero",e[e.One]="One",e[e.Two]="Two",e[e.Few]="Few",e[e.Many]="Many",e[e.Other]="Other",e}(),Js=function(){var e={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};return e[e.Decimal]="Decimal",e[e.Group]="Group",e[e.List]="List",e[e.PercentSign]="PercentSign",e[e.PlusSign]="PlusSign",e[e.MinusSign]="MinusSign",e[e.Exponential]="Exponential",e[e.SuperscriptingExponent]="SuperscriptingExponent",e[e.PerMille]="PerMille",e[e.Infinity]="Infinity",e[e.NaN]="NaN",e[e.TimeSeparator]="TimeSeparator",e[e.CurrencyDecimal]="CurrencyDecimal",e[e.CurrencyGroup]="CurrencyGroup",e}();function Ks(e,t){var n=Ui(e),r=n[Bi.NumberSymbols][t];if(void 0===r){if(t===Js.CurrencyDecimal)return n[Bi.NumberSymbols][Js.Decimal];if(t===Js.CurrencyGroup)return n[Bi.NumberSymbols][Js.Group]}return r}var $s=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Zs(e){var t=parseInt(e);if(isNaN(t))throw new Error("Invalid integer literal when parsing "+e);return t}var Qs=new Re("UseV4Plurals"),el=function e(){_classCallCheck2(this,e)},tl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).locale=e,i.deprecatedPluralFn=r,i}return _createClass2(n,[{key:"getPluralCategory",value:function(e,t){switch(this.deprecatedPluralFn?this.deprecatedPluralFn(t||this.locale,e):function(e){return Ui(e)[Bi.PluralCase]}(t||this.locale)(e)){case Xs.Zero:return"zero";case Xs.One:return"one";case Xs.Two:return"two";case Xs.Few:return"few";case Xs.Many:return"many";default:return"other"}}}]),n}(el);function nl(e,t){t=encodeURIComponent(t);var n,r=_createForOfIteratorHelper(e.split(";"));try{for(r.s();!(n=r.n()).done;){var i=n.value,a=i.indexOf("="),o=_slicedToArray(-1==a?[i,""]:[i.slice(0,a),i.slice(a+1)],2),s=o[0],l=o[1];if(s.trim()===t)return decodeURIComponent(l)}}catch(c){r.e(c)}finally{r.f()}return null}var rl=function e(){_classCallCheck2(this,e)},il=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._iterableDiffers=t,this._keyValueDiffers=n,this._ngEl=r,this._renderer=i,this._initialClasses=[]}return _createClass2(e,[{key:"getValue",value:function(){return null}},{key:"setClass",value:function(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}},{key:"setNgClass",value:function(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(un(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}},{key:"applyChanges",value:function(){if(this._iterableDiffer){var e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){var t=this._keyValueDiffer.diff(this._rawClass);t&&this._applyKeyValueChanges(t)}}},{key:"_applyKeyValueChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachChangedItem((function(e){return t._toggleClass(e.key,e.currentValue)})),e.forEachRemovedItem((function(e){e.previousValue&&t._toggleClass(e.key,!1)}))}},{key:"_applyIterableChanges",value:function(e){var t=this;e.forEachAddedItem((function(e){if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Oe(e.item));t._toggleClass(e.item,!0)})),e.forEachRemovedItem((function(e){return t._toggleClass(e.item,!1)}))}},{key:"_applyClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!0)})):Object.keys(e).forEach((function(n){return t._toggleClass(n,!!e[n])})))}},{key:"_removeClasses",value:function(e){var t=this;e&&(Array.isArray(e)||e instanceof Set?e.forEach((function(e){return t._toggleClass(e,!1)})):Object.keys(e).forEach((function(e){return t._toggleClass(e,!1)})))}},{key:"_toggleClass",value:function(e,t){var n=this;(e=e.trim())&&e.split(/\s+/g).forEach((function(e){t?n._renderer.addClass(n._ngEl.nativeElement,e):n._renderer.removeClass(n._ngEl.nativeElement,e)}))}}]),e}(),al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"ngDoCheck",value:function(){this._delegate.applyChanges()}},{key:"klass",set:function(e){this._delegate.setClass(e)}},{key:"ngClass",set:function(e){this._delegate.setNgClass(e)}}]),n}(function(){var e=function(){function e(t){_classCallCheck2(this,e),this._delegate=t}return _createClass2(e,[{key:"getValue",value:function(){return this._delegate.getValue()}}]),e}();return e.ngDirectiveDef=void 0,e}()),ol=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.$implicit=t,this.ngForOf=n,this.index=r,this.count=i}return _createClass2(e,[{key:"first",get:function(){return 0===this.index}},{key:"last",get:function(){return this.index===this.count-1}},{key:"even",get:function(){return this.index%2==0}},{key:"odd",get:function(){return!this.even}}]),e}(),sl=function(){function e(t,n,r){_classCallCheck2(this,e),this._viewContainer=t,this._template=n,this._differs=r,this._ngForOfDirty=!0,this._differ=null}return _createClass2(e,[{key:"ngDoCheck",value:function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var e=this._ngForOf;if(!this._differ&&e)try{this._differ=this._differs.find(e).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '".concat(e,"' of type '").concat((t=e).name||typeof t,"'. NgFor only supports binding to Iterables such as Arrays."))}}var t;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}},{key:"_applyChanges",value:function(e){var t=this,n=[];e.forEachOperation((function(e,r,i){if(null==e.previousIndex){var a=t._viewContainer.createEmbeddedView(t._template,new ol(null,t._ngForOf,-1,-1),null===i?void 0:i),o=new ll(e,a);n.push(o)}else if(null==i)t._viewContainer.remove(null===r?void 0:r);else if(null!==r){var s=t._viewContainer.get(r);t._viewContainer.move(s,i);var l=new ll(e,s);n.push(l)}}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);for(var i=0,a=this._viewContainer.length;i<a;i++){var o=this._viewContainer.get(i);o.context.index=i,o.context.count=a,o.context.ngForOf=this._ngForOf}e.forEachIdentityChange((function(e){t._viewContainer.get(e.currentIndex).context.$implicit=e.item}))}},{key:"_perViewChange",value:function(e,t){e.context.$implicit=t.item}},{key:"ngForOf",set:function(e){this._ngForOf=e,this._ngForOfDirty=!0}},{key:"ngForTrackBy",set:function(e){at()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn("trackBy must be a function, but received ".concat(JSON.stringify(e),". See https://angular.io/docs/ts/latest/api/common/index/NgFor-directive.html#!#change-propagation for more information.")),this._trackByFn=e},get:function(){return this._trackByFn}},{key:"ngForTemplate",set:function(e){e&&(this._template=e)}}],[{key:"ngTemplateContextGuard",value:function(e,t){return!0}}]),e}(),ll=function e(t,n){_classCallCheck2(this,e),this.record=t,this.view=n},cl=function(){function e(t,n){_classCallCheck2(this,e),this._viewContainer=t,this._context=new ul,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}return _createClass2(e,[{key:"_updateView",value:function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}},{key:"ngIf",set:function(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}},{key:"ngIfThen",set:function(e){hl("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}},{key:"ngIfElse",set:function(e){hl("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}}]),e}(),ul=function e(){_classCallCheck2(this,e),this.$implicit=null,this.ngIf=null};function hl(e,t){if(t&&!t.createEmbeddedView)throw new Error("".concat(e," must be a TemplateRef, but received '").concat(Oe(t),"'."))}var dl=function(){function e(t){_classCallCheck2(this,e),this._locale=t}return _createClass2(e,[{key:"transform",value:function(t,n,r){if(function(e){return null==e||""===e||e!=e}(t))return null;r=r||this._locale;try{return function(e,t,n){return function(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s="",l=!1;if(isFinite(e)){var c=function(e){var t,n,r,i,a,o=Math.abs(e)+"",s=0;for((n=o.indexOf("."))>-1&&(o=o.replace(".","")),(r=o.search(/e/i))>0?(n<0&&(n=r),n+=+o.slice(r+1),o=o.substring(0,r)):n<0&&(n=o.length),r=0;"0"===o.charAt(r);r++);if(r===(a=o.length))t=[0],n=1;else{for(a--;"0"===o.charAt(a);)a--;for(n-=r,t=[],i=0;r<=a;r++,i++)t[i]=Number(o.charAt(r))}return n>22&&(t=t.splice(0,21),s=n-1,n=1),{digits:t,exponent:s,integerLen:n}}(e);o&&(c=function(e){if(0===e.digits[0])return e;var t=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(0===t?e.digits.push(0,0):1===t&&e.digits.push(0),e.integerLen+=2),e}(c));var u=t.minInt,h=t.minFrac,d=t.maxFrac;if(a){var p=a.match($s);if(null===p)throw new Error(a+" is not a valid digit info");var f=p[1],m=p[3],g=p[5];null!=f&&(u=Zs(f)),null!=m&&(h=Zs(m)),null!=g?d=Zs(g):null!=m&&h>d&&(d=h)}!function(e,t,n){if(t>n)throw new Error("The minimum number of digits after fraction (".concat(t,") is higher than the maximum (").concat(n,")."));var r=e.digits,i=r.length-e.integerLen,a=Math.min(Math.max(t,i),n),o=a+e.integerLen,s=r[o];if(o>0){r.splice(Math.max(e.integerLen,o));for(var l=o;l<r.length;l++)r[l]=0}else{i=Math.max(0,i),e.integerLen=1,r.length=Math.max(1,o=a+1),r[0]=0;for(var c=1;c<o;c++)r[c]=0}if(s>=5)if(o-1<0){for(var u=0;u>o;u--)r.unshift(0),e.integerLen++;r.unshift(1),e.integerLen++}else r[o-1]++;for(;i<Math.max(0,a);i++)r.push(0);var h=0!==a,d=t+e.integerLen,p=r.reduceRight((function(e,t,n,r){return r[n]=(t+=e)<10?t:t-10,h&&(0===r[n]&&n>=d?r.pop():h=!1),t>=10?1:0}),0);p&&(r.unshift(p),e.integerLen++)}(c,h,d);var v=c.digits,_=c.integerLen,b=c.exponent,y=[];for(l=v.every((function(e){return!e}));_<u;_++)v.unshift(0);for(;_<0;_++)v.unshift(0);_>0?y=v.splice(_,v.length):(y=v,v=[0]);var C=[];for(v.length>=t.lgSize&&C.unshift(v.splice(-t.lgSize,v.length).join(""));v.length>t.gSize;)C.unshift(v.splice(-t.gSize,v.length).join(""));v.length&&C.unshift(v.join("")),s=C.join(Ks(n,r)),y.length&&(s+=Ks(n,i)+y.join("")),b&&(s+=Ks(n,Js.Exponential)+"+"+b)}else s=Ks(n,Js.Infinity);return s=e<0&&!l?t.negPre+s+t.negSuf:t.posPre+s+t.posSuf}(e,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"-",n={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=e.split(";"),i=r[0],a=r[1],o=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],s=o[0],l=o[1]||"";n.posPre=s.substr(0,s.indexOf("#"));for(var c=0;c<l.length;c++){var u=l.charAt(c);"0"===u?n.minFrac=n.maxFrac=c+1:"#"===u?n.maxFrac=c+1:n.posSuf+=u}var h=s.split(",");if(n.gSize=h[1]?h[1].length:0,n.lgSize=h[2]||h[1]?(h[2]||h[1]).length:0,a){var d=i.length-n.posPre.length-n.posSuf.length,p=a.indexOf("#");n.negPre=a.substr(0,p).replace(/'/g,""),n.negSuf=a.substr(p+d).replace(/'/g,"")}else n.negPre=t+n.posPre,n.negSuf=n.posSuf;return n}(function(e,t){return Ui(e)[Bi.NumberFormats][t]}(t,Ys.Decimal),Ks(t,Js.MinusSign)),t,Js.Group,Js.Decimal,n)}(function(e){if("string"==typeof e&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if("number"!=typeof e)throw new Error(e+" is not a number");return e}(t),r,n)}catch(i){throw function(e,t){return Error("InvalidPipeArgument: '".concat(t,"' for pipe '").concat(Oe(e),"'"))}(e,i.message)}}}]),e}(),pl=function e(){_classCallCheck2(this,e)},fl=new Re("DocumentToken");function ml(e){return"browser"===e}var gl,vl=((gl=function e(){_classCallCheck2(this,e)}).ngInjectableDef=ke({token:gl,providedIn:"root",factory:function(){return new _l(Ue(fl),window,Ue(nt))}}),gl),_l=function(){function e(t,n,r){_classCallCheck2(this,e),this.document=t,this.window=n,this.errorHandler=r,this.offset=function(){return[0,0]}}return _createClass2(e,[{key:"setOffset",value:function(e){this.offset=Array.isArray(e)?function(){return e}:e}},{key:"getScrollPosition",value:function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]}},{key:"scrollToPosition",value:function(e){this.supportScrollRestoration()&&this.window.scrollTo(e[0],e[1])}},{key:"scrollToAnchor",value:function(e){if(this.supportScrollRestoration()){e=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(e):e.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var t=this.document.querySelector("#"+e);if(t)return void this.scrollToElement(t);var n=this.document.querySelector("[name='".concat(e,"']"));if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}}},{key:"setHistoryScrollRestoration",value:function(e){if(this.supportScrollRestoration()){var t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}},{key:"scrollToElement",value:function(e){var t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,r=t.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])}},{key:"supportScrollRestoration",value:function(){try{return!!this.window&&!!this.window.scrollTo}catch(e){return!1}}}]),e}(),bl=new k((function(e){return e.complete()}));function yl(e){return e?function(e){return new k((function(t){return e.schedule((function(){return t.complete()}))}))}(e):bl}function Cl(e){var t=new k((function(t){t.next(e),t.complete()}));return t._isScalar=!0,t.value=e,t}function wl(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[t.length-1];switch(I(r)?t.pop():r=void 0,t.length){case 0:return yl(r);case 1:return r?Y(t,r):Cl(t[0]);default:return Y(t,r)}}var kl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._value=e,r}return _createClass2(n,[{key:"_subscribe",value:function(e){var t=_get2(_getPrototypeOf2(n.prototype),"_subscribe",this).call(this,e);return t&&!t.closed&&e.next(this._value),t}},{key:"getValue",value:function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new j;return this._value}},{key:"next",value:function(e){_get2(_getPrototypeOf2(n.prototype),"next",this).call(this,this._value=e)}},{key:"value",get:function(){return this.getValue()}}]),n}(M);function xl(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}xl.prototype=Object.create(Error.prototype);var Sl=xl,Ol={},jl=function(){function e(t){_classCallCheck2(this,e),this.resultSelector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new El(e,this.resultSelector))}}]),e}(),El=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).resultSelector=r,i.active=0,i.values=[],i.observables=[],i}return _createClass2(n,[{key:"_next",value:function(e){this.values.push(Ol),this.observables.push(e)}},{key:"_complete",value:function(){var e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(var n=0;n<t;n++){var r=e[n];this.add(U(this,r,r,n))}}}},{key:"notifyComplete",value:function(e){0==(this.active-=1)&&this.destination.complete()}},{key:"notifyNext",value:function(e,t,n,r,i){var a=this.values,o=this.toRespond?a[n]===Ol?--this.toRespond:this.toRespond:0;a[n]=t,0===o&&(this.resultSelector?this._tryResultSelector(a):this.destination.next(a.slice()))}},{key:"_tryResultSelector",value:function(e){var t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}]),n}(H);function Pl(e){return new k((function(t){var n;try{n=e()}catch(r){return void t.error(r)}return(n?X(n):yl()).subscribe(t)}))}function Ml(){return Q(1)}function Tl(e,t){return function(n){return n.lift(new Il(e,t))}}var Il=function(){function e(t,n){_classCallCheck2(this,e),this.predicate=t,this.thisArg=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Al(e,this.predicate,this.thisArg))}}]),e}(),Al=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).predicate=r,a.thisArg=i,a.count=0,a}return _createClass2(n,[{key:"_next",value:function(e){var t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}]),n}(g);function Dl(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}Dl.prototype=Object.create(Error.prototype);var Rl=Dl;function Fl(e){return function(t){return 0===e?yl():t.lift(new Ll(e))}}var Ll=function(){function e(t){if(_classCallCheck2(this,e),this.total=t,this.total<0)throw new Rl}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Nl(e,this.total))}}]),e}(),Nl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).total=r,i.ring=new Array,i.count=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.ring,n=this.total,r=this.count++;t.length<n?t.push(e):t[r%n]=e}},{key:"_complete",value:function(){var e=this.destination,t=this.count;if(t>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var a=t++%n;e.next(r[a])}e.complete()}}]),n}(g);function Bl(e,t,n){return function(r){return r.lift(new zl(e,t,n))}}var zl=function(){function e(t,n,r){_classCallCheck2(this,e),this.nextOrObserver=t,this.error=n,this.complete=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ql(e,this.nextOrObserver,this.error,this.complete))}}]),e}(),ql=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,i,a,o){var s;return _classCallCheck2(this,n),(s=t.call(this,e))._tapNext=b,s._tapError=b,s._tapComplete=b,s._tapError=a||b,s._tapComplete=o||b,r(i)?(s._context=_assertThisInitialized(s),s._tapNext=i):i&&(s._context=i,s._tapNext=i.next||b,s._tapError=i.error||b,s._tapComplete=i.complete||b),s}return _createClass2(n,[{key:"_next",value:function(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}},{key:"_error",value:function(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}},{key:"_complete",value:function(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}]),n}(g),Ul=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Hl;return Bl({hasValue:!1,next:function(){this.hasValue=!0},complete:function(){if(!this.hasValue)throw e()}})};function Hl(){return new Sl}function Vl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return function(t){return t.lift(new Wl(e))}}var Wl=function(){function e(t){_classCallCheck2(this,e),this.defaultValue=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Gl(e,this.defaultValue))}}]),e}(),Gl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).defaultValue=r,i.isEmpty=!0,i}return _createClass2(n,[{key:"_next",value:function(e){this.isEmpty=!1,this.destination.next(e)}},{key:"_complete",value:function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}]),n}(g);function Yl(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Tl((function(t,n){return e(t,n,r)})):Z,Fl(1),n?Vl(t):Ul((function(){return new Sl})))}}function Xl(e){return function(t){var n=new Jl(e),r=t.lift(n);return n.caught=r}}var Jl=function(){function e(t){_classCallCheck2(this,e),this.selector=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Kl(e,this.selector,this.caught))}}]),e}(),Kl=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).selector=r,a.caught=i,a}return _createClass2(n,[{key:"error",value:function(e){if(!this.isStopped){var t;try{t=this.selector(e,this.caught)}catch(i){return void _get2(_getPrototypeOf2(n.prototype),"error",this).call(this,i)}this._unsubscribeAndRecycle();var r=new A(this,void 0,void 0);this.add(r),U(this,t,void 0,void 0,r)}}}]),n}(H);function $l(e){return function(t){return 0===e?yl():t.lift(new Zl(e))}}var Zl=function(){function e(t){if(_classCallCheck2(this,e),this.total=t,this.total<0)throw new Rl}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Ql(e,this.total))}}]),e}(),Ql=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).total=r,i.count=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}]),n}(g);function ec(e,t){var n=arguments.length>=2;return function(r){return r.pipe(e?Tl((function(t,n){return e(t,n,r)})):Z,$l(1),n?Vl(t):Ul((function(){return new Sl})))}}var tc=function(){function e(t,n,r){_classCallCheck2(this,e),this.predicate=t,this.thisArg=n,this.source=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new nc(e,this.predicate,this.thisArg,this.source))}}]),e}(),nc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).predicate=r,o.thisArg=i,o.source=a,o.index=0,o.thisArg=i||_assertThisInitialized(o),o}return _createClass2(n,[{key:"notifyComplete",value:function(e){this.destination.next(e),this.destination.complete()}},{key:"_next",value:function(e){var t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}},{key:"_complete",value:function(){this.notifyComplete(!0)}}]),n}(g);function rc(e,t){return"function"==typeof t?function(n){return n.pipe(rc((function(n,r){return X(e(n,r)).pipe(V((function(e,i){return t(n,e,r,i)})))})))}:function(t){return t.lift(new ic(e))}}var ic=function(){function e(t){_classCallCheck2(this,e),this.project=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new ac(e,this.project))}}]),e}(),ac=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).project=r,i.index=0,i}return _createClass2(n,[{key:"_next",value:function(e){var t,n=this.index++;try{t=this.project(e,n)}catch(r){return void this.destination.error(r)}this._innerSub(t,e,n)}},{key:"_innerSub",value:function(e,t,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new A(this,void 0,void 0);this.destination.add(i),this.innerSubscription=U(this,e,t,n,i)}},{key:"_complete",value:function(){var e=this.innerSubscription;e&&!e.closed||_get2(_getPrototypeOf2(n.prototype),"_complete",this).call(this),this.unsubscribe()}},{key:"_unsubscribe",value:function(){this.innerSubscription=null}},{key:"notifyComplete",value:function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&_get2(_getPrototypeOf2(n.prototype),"_complete",this).call(this)}},{key:"notifyNext",value:function(e,t,n,r,i){this.destination.next(t)}}]),n}(H);function oc(){return Ml()(wl.apply(void 0,arguments))}function sc(e,t){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new lc(e,t,n))}}var lc=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];_classCallCheck2(this,e),this.accumulator=t,this.seed=n,this.hasSeed=r}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new cc(e,this.accumulator,this.seed,this.hasSeed))}}]),e}(),cc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e)).accumulator=r,o._seed=i,o.hasSeed=a,o.index=0,o}return _createClass2(n,[{key:"_next",value:function(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}},{key:"_tryNext",value:function(e){var t,n=this.index++;try{t=this.accumulator(this.seed,e,n)}catch(r){this.destination.error(r)}this.seed=t,this.destination.next(t)}},{key:"seed",get:function(){return this._seed},set:function(e){this.hasSeed=!0,this._seed=e}}]),n}(g);function uc(e,t){return J(e,t,1)}var hc=function(){function e(t){_classCallCheck2(this,e),this.callback=t}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new dc(e,this.callback))}}]),e}(),dc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).add(new p(r)),i}return n}(g),pc=null;function fc(){return pc}var mc,gc={class:"className",innerHtml:"innerHTML",readonly:"readOnly",tabindex:"tabIndex"},vc={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_c={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},bc=function(){if(De.Node)return De.Node.prototype.contains||function(e){return!!(16&this.compareDocumentPosition(e))}}(),yc=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"parse",value:function(e){throw new Error("parse not implemented")}},{key:"hasProperty",value:function(e,t){return t in e}},{key:"setProperty",value:function(e,t,n){e[t]=n}},{key:"getProperty",value:function(e,t){return e[t]}},{key:"invoke",value:function(e,t,n){e[t].apply(e,_toConsumableArray(n))}},{key:"logError",value:function(e){window.console&&(console.error?console.error(e):console.log(e))}},{key:"log",value:function(e){window.console&&window.console.log&&window.console.log(e)}},{key:"logGroup",value:function(e){window.console&&window.console.group&&window.console.group(e)}},{key:"logGroupEnd",value:function(){window.console&&window.console.groupEnd&&window.console.groupEnd()}},{key:"contains",value:function(e,t){return bc.call(e,t)}},{key:"querySelector",value:function(e,t){return e.querySelector(t)}},{key:"querySelectorAll",value:function(e,t){return e.querySelectorAll(t)}},{key:"on",value:function(e,t,n){e.addEventListener(t,n,!1)}},{key:"onAndCancel",value:function(e,t,n){return e.addEventListener(t,n,!1),function(){e.removeEventListener(t,n,!1)}}},{key:"dispatchEvent",value:function(e,t){e.dispatchEvent(t)}},{key:"createMouseEvent",value:function(e){var t=this.getDefaultDocument().createEvent("MouseEvent");return t.initEvent(e,!0,!0),t}},{key:"createEvent",value:function(e){var t=this.getDefaultDocument().createEvent("Event");return t.initEvent(e,!0,!0),t}},{key:"preventDefault",value:function(e){e.preventDefault(),e.returnValue=!1}},{key:"isPrevented",value:function(e){return e.defaultPrevented||null!=e.returnValue&&!e.returnValue}},{key:"getInnerHTML",value:function(e){return e.innerHTML}},{key:"getTemplateContent",value:function(e){return"content"in e&&this.isTemplateElement(e)?e.content:null}},{key:"getOuterHTML",value:function(e){return e.outerHTML}},{key:"nodeName",value:function(e){return e.nodeName}},{key:"nodeValue",value:function(e){return e.nodeValue}},{key:"type",value:function(e){return e.type}},{key:"content",value:function(e){return this.hasProperty(e,"content")?e.content:e}},{key:"firstChild",value:function(e){return e.firstChild}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"parentElement",value:function(e){return e.parentNode}},{key:"childNodes",value:function(e){return e.childNodes}},{key:"childNodesAsList",value:function(e){for(var t=e.childNodes,n=new Array(t.length),r=0;r<t.length;r++)n[r]=t[r];return n}},{key:"clearNodes",value:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"removeChild",value:function(e,t){e.removeChild(t)}},{key:"replaceChild",value:function(e,t,n){e.replaceChild(t,n)}},{key:"remove",value:function(e){return e.parentNode&&e.parentNode.removeChild(e),e}},{key:"insertBefore",value:function(e,t,n){e.insertBefore(n,t)}},{key:"insertAllBefore",value:function(e,t,n){n.forEach((function(n){return e.insertBefore(n,t)}))}},{key:"insertAfter",value:function(e,t,n){e.insertBefore(n,t.nextSibling)}},{key:"setInnerHTML",value:function(e,t){e.innerHTML=t}},{key:"getText",value:function(e){return e.textContent}},{key:"setText",value:function(e,t){e.textContent=t}},{key:"getValue",value:function(e){return e.value}},{key:"setValue",value:function(e,t){e.value=t}},{key:"getChecked",value:function(e){return e.checked}},{key:"setChecked",value:function(e,t){e.checked=t}},{key:"createComment",value:function(e){return this.getDefaultDocument().createComment(e)}},{key:"createTemplate",value:function(e){var t=this.getDefaultDocument().createElement("template");return t.innerHTML=e,t}},{key:"createElement",value:function(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}},{key:"createElementNS",value:function(e,t,n){return(n=n||this.getDefaultDocument()).createElementNS(e,t)}},{key:"createTextNode",value:function(e,t){return(t=t||this.getDefaultDocument()).createTextNode(e)}},{key:"createScriptTag",value:function(e,t,n){var r=(n=n||this.getDefaultDocument()).createElement("SCRIPT");return r.setAttribute(e,t),r}},{key:"createStyleElement",value:function(e,t){var n=(t=t||this.getDefaultDocument()).createElement("style");return this.appendChild(n,this.createTextNode(e,t)),n}},{key:"createShadowRoot",value:function(e){return e.createShadowRoot()}},{key:"getShadowRoot",value:function(e){return e.shadowRoot}},{key:"getHost",value:function(e){return e.host}},{key:"clone",value:function(e){return e.cloneNode(!0)}},{key:"getElementsByClassName",value:function(e,t){return e.getElementsByClassName(t)}},{key:"getElementsByTagName",value:function(e,t){return e.getElementsByTagName(t)}},{key:"classList",value:function(e){return Array.prototype.slice.call(e.classList,0)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"hasClass",value:function(e,t){return e.classList.contains(t)}},{key:"setStyle",value:function(e,t,n){e.style[t]=n}},{key:"removeStyle",value:function(e,t){e.style[t]=""}},{key:"getStyle",value:function(e,t){return e.style[t]}},{key:"hasStyle",value:function(e,t,n){var r=this.getStyle(e,t)||"";return n?r==n:r.length>0}},{key:"tagName",value:function(e){return e.tagName}},{key:"attributeMap",value:function(e){for(var t=new Map,n=e.attributes,r=0;r<n.length;r++){var i=n.item(r);t.set(i.name,i.value)}return t}},{key:"hasAttribute",value:function(e,t){return e.hasAttribute(t)}},{key:"hasAttributeNS",value:function(e,t,n){return e.hasAttributeNS(t,n)}},{key:"getAttribute",value:function(e,t){return e.getAttribute(t)}},{key:"getAttributeNS",value:function(e,t,n){return e.getAttributeNS(t,n)}},{key:"setAttribute",value:function(e,t,n){e.setAttribute(t,n)}},{key:"setAttributeNS",value:function(e,t,n,r){e.setAttributeNS(t,n,r)}},{key:"removeAttribute",value:function(e,t){e.removeAttribute(t)}},{key:"removeAttributeNS",value:function(e,t,n){e.removeAttributeNS(t,n)}},{key:"templateAwareRoot",value:function(e){return this.isTemplateElement(e)?this.content(e):e}},{key:"createHtmlDocument",value:function(){return document.implementation.createHTMLDocument("fakeTitle")}},{key:"getDefaultDocument",value:function(){return document}},{key:"getBoundingClientRect",value:function(e){try{return e.getBoundingClientRect()}catch(t){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}}},{key:"getTitle",value:function(e){return e.title}},{key:"setTitle",value:function(e,t){e.title=t||""}},{key:"elementMatches",value:function(e,t){return!!this.isElementNode(e)&&(e.matches&&e.matches(t)||e.msMatchesSelector&&e.msMatchesSelector(t)||e.webkitMatchesSelector&&e.webkitMatchesSelector(t))}},{key:"isTemplateElement",value:function(e){return this.isElementNode(e)&&"TEMPLATE"===e.nodeName}},{key:"isTextNode",value:function(e){return e.nodeType===Node.TEXT_NODE}},{key:"isCommentNode",value:function(e){return e.nodeType===Node.COMMENT_NODE}},{key:"isElementNode",value:function(e){return e.nodeType===Node.ELEMENT_NODE}},{key:"hasShadowRoot",value:function(e){return null!=e.shadowRoot&&e instanceof HTMLElement}},{key:"isShadowRoot",value:function(e){return e instanceof DocumentFragment}},{key:"importIntoDoc",value:function(e){return document.importNode(this.templateAwareRoot(e),!0)}},{key:"adoptNode",value:function(e){return document.adoptNode(e)}},{key:"getHref",value:function(e){return e.getAttribute("href")}},{key:"getEventKey",value:function(e){var t=e.key;if(null==t){if(null==(t=e.keyIdentifier))return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&_c.hasOwnProperty(t)&&(t=_c[t]))}return vc[t]||t}},{key:"getGlobalEventTarget",value:function(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}},{key:"getHistory",value:function(){return window.history}},{key:"getLocation",value:function(){return window.location}},{key:"getBaseHref",value:function(e){var t,n=Cc||(Cc=document.querySelector("base"))?Cc.getAttribute("href"):null;return null==n?null:(t=n,mc||(mc=document.createElement("a")),mc.setAttribute("href",t),"/"===mc.pathname.charAt(0)?mc.pathname:"/"+mc.pathname)}},{key:"resetBaseElement",value:function(){Cc=null}},{key:"getUserAgent",value:function(){return window.navigator.userAgent}},{key:"setData",value:function(e,t,n){this.setAttribute(e,"data-"+t,n)}},{key:"getData",value:function(e,t){return this.getAttribute(e,"data-"+t)}},{key:"getComputedStyle",value:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return getComputedStyle(e)}))},{key:"supportsWebAnimation",value:function(){return"function"==typeof Element.prototype.animate}},{key:"performanceNow",value:function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}},{key:"supportsCookies",value:function(){return!0}},{key:"getCookie",value:function(e){return nl(document.cookie,e)}},{key:"setCookie",value:function(e,t){document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(t)}},{key:"attrToPropMap",get:function(){return gc}}],[{key:"makeCurrent",value:function(){var e;e=new n,pc||(pc=e)}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;_classCallCheck2(this,n),(e=t.call(this))._animationPrefix=null,e._transitionEnd=null;try{var r=e.createElement("div",document);if(null!=e.getStyle(r,"animationName"))e._animationPrefix="";else for(var i=["Webkit","Moz","O","ms"],a=0;a<i.length;a++)if(null!=e.getStyle(r,i[a]+"AnimationName")){e._animationPrefix="-"+i[a].toLowerCase()+"-";break}var o={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};Object.keys(o).forEach((function(t){null!=e.getStyle(r,t)&&(e._transitionEnd=o[t])}))}catch(s){e._animationPrefix=null,e._transitionEnd=null}return e}return _createClass2(n,[{key:"getDistributedNodes",value:function(e){return e.getDistributedNodes()}},{key:"resolveAndSetHref",value:function(e,t,n){e.href=null==n?t:t+"/../"+n}},{key:"supportsDOMEvents",value:function(){return!0}},{key:"supportsNativeShadowDOM",value:function(){return"function"==typeof document.body.createShadowRoot}},{key:"getAnimationPrefix",value:function(){return this._animationPrefix?this._animationPrefix:""}},{key:"getTransitionEnd",value:function(){return this._transitionEnd?this._transitionEnd:""}},{key:"supportsAnimation",value:function(){return null!=this._animationPrefix&&null!=this._transitionEnd}}]),n}(function(){function e(){_classCallCheck2(this,e),this.resourceLoaderType=null}return _createClass2(e,[{key:"attrToPropMap",get:function(){return this._attrToPropMap},set:function(e){this._attrToPropMap=e}}]),e}())),Cc=null;function wc(){return!!window.history.pushState}var kc=new Re("TRANSITION_ID"),xc=[{provide:na,useFactory:function(e,t,n){return function(){n.get(ra).donePromise.then((function(){var n=fc();Array.prototype.slice.apply(n.querySelectorAll(t,"style[ng-transition]")).filter((function(t){return n.getAttribute(t,"ng-transition")===e})).forEach((function(e){return n.remove(e)}))}))}},deps:[kc,fl,Jt],multi:!0}],Sc=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"addToWindow",value:function(e){De.getAngularTestability=function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=e.findTestabilityInTree(t,n);if(null==r)throw new Error("Could not find testability for element.");return r},De.getAllAngularTestabilities=function(){return e.getAllTestabilities()},De.getAllAngularRootElements=function(){return e.getAllRootElements()},De.frameworkStabilizers||(De.frameworkStabilizers=[]),De.frameworkStabilizers.push((function(e){var t=De.getAllAngularTestabilities(),n=t.length,r=!1,i=function(t){r=r||t,0==--n&&e(r)};t.forEach((function(e){e.whenStable(i)}))}))}},{key:"findTestabilityInTree",value:function(e,t,n){if(null==t)return null;var r=e.getTestability(t);return null!=r?r:n?fc().isShadowRoot(t)?this.findTestabilityInTree(e,fc().getHost(t),!0):this.findTestabilityInTree(e,fc().parentElement(t),!0):null}}],[{key:"init",value:function(){var t;t=new e,Na=t}}]),e}();function Oc(e,t){"undefined"!=typeof COMPILED&&COMPILED||((De.ng=De.ng||{})[e]=t)}var jc={ApplicationRef:Ga,NgZone:Ea};function Ec(e){return ro(e)}var Pc=new Re("EventManagerPlugins"),Mc=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this._zone=n,this._eventNameToPlugin=new Map,t.forEach((function(e){return e.manager=r})),this._plugins=t.slice().reverse()}return _createClass2(e,[{key:"addEventListener",value:function(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}},{key:"addGlobalEventListener",value:function(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}},{key:"getZone",value:function(){return this._zone}},{key:"_findPluginFor",value:function(e){var t=this._eventNameToPlugin.get(e);if(t)return t;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(e))return this._eventNameToPlugin.set(e,i),i}throw new Error("No event manager plugin found for event "+e)}}]),e}(),Tc=function(){function e(t){_classCallCheck2(this,e),this._doc=t}return _createClass2(e,[{key:"addGlobalEventListener",value:function(e,t,n){var r=fc().getGlobalEventTarget(this._doc,e);if(!r)throw new Error("Unsupported event target ".concat(r," for event ").concat(t));return this.addEventListener(r,t,n)}}]),e}(),Ic=function(){function e(){_classCallCheck2(this,e),this._stylesSet=new Set}return _createClass2(e,[{key:"addStyles",value:function(e){var t=this,n=new Set;e.forEach((function(e){t._stylesSet.has(e)||(t._stylesSet.add(e),n.add(e))})),this.onStylesAdded(n)}},{key:"onStylesAdded",value:function(e){}},{key:"getAllStyles",value:function(){return Array.from(this._stylesSet)}}]),e}(),Ac=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r._hostNodes=new Set,r._styleNodes=new Set,r._hostNodes.add(e.head),r}return _createClass2(n,[{key:"_addStylesToHost",value:function(e,t){var n=this;e.forEach((function(e){var r=n._doc.createElement("style");r.textContent=e,n._styleNodes.add(t.appendChild(r))}))}},{key:"addHost",value:function(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}},{key:"removeHost",value:function(e){this._hostNodes.delete(e)}},{key:"onStylesAdded",value:function(e){var t=this;this._hostNodes.forEach((function(n){return t._addStylesToHost(e,n)}))}},{key:"ngOnDestroy",value:function(){this._styleNodes.forEach((function(e){return fc().remove(e)}))}}]),n}(Ic),Dc={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Rc=/%COMP%/g;function Fc(e,t,n){for(var r=0;r<t.length;r++){var i=t[r];Array.isArray(i)?Fc(e,i,n):(i=i.replace(Rc,e),n.push(i))}return n}function Lc(e){return function(t){!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}var Nc=function(){function e(t,n,r){_classCallCheck2(this,e),this.eventManager=t,this.sharedStylesHost=n,this.appId=r,this.rendererByCompId=new Map,this.defaultRenderer=new Bc(t)}return _createClass2(e,[{key:"createRenderer",value:function(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case $e.Emulated:var n=this.rendererByCompId.get(t.id);return n||(n=new Uc(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n;case $e.Native:case $e.ShadowDom:return new Hc(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){var r=Fc(t.id,t.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}},{key:"begin",value:function(){}},{key:"end",value:function(){}}]),e}(),Bc=function(){function e(t){_classCallCheck2(this,e),this.eventManager=t,this.data=Object.create(null)}return _createClass2(e,[{key:"destroy",value:function(){}},{key:"createElement",value:function(e,t){return t?document.createElementNS(Dc[t]||t,e):document.createElement(e)}},{key:"createComment",value:function(e){return document.createComment(e)}},{key:"createText",value:function(e){return document.createTextNode(e)}},{key:"appendChild",value:function(e,t){e.appendChild(t)}},{key:"insertBefore",value:function(e,t,n){e&&e.insertBefore(t,n)}},{key:"removeChild",value:function(e,t){e&&e.removeChild(t)}},{key:"selectRootElement",value:function(e,t){var n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error('The selector "'.concat(e,'" did not match any elements'));return t||(n.textContent=""),n}},{key:"parentNode",value:function(e){return e.parentNode}},{key:"nextSibling",value:function(e){return e.nextSibling}},{key:"setAttribute",value:function(e,t,n,r){if(r){t=r+":"+t;var i=Dc[r];i?e.setAttributeNS(i,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}},{key:"removeAttribute",value:function(e,t,n){if(n){var r=Dc[n];r?e.removeAttributeNS(r,t):e.removeAttribute("".concat(n,":").concat(t))}else e.removeAttribute(t)}},{key:"addClass",value:function(e,t){e.classList.add(t)}},{key:"removeClass",value:function(e,t){e.classList.remove(t)}},{key:"setStyle",value:function(e,t,n,r){r&On.DashCase?e.style.setProperty(t,n,r&On.Important?"important":""):e.style[t]=n}},{key:"removeStyle",value:function(e,t,n){n&On.DashCase?e.style.removeProperty(t):e.style[t]=""}},{key:"setProperty",value:function(e,t,n){qc(t,"property"),e[t]=n}},{key:"setValue",value:function(e,t){e.nodeValue=t}},{key:"listen",value:function(e,t,n){return qc(t,"listener"),"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Lc(n)):this.eventManager.addEventListener(e,t,Lc(n))}}]),e}(),zc="@".charCodeAt(0);function qc(e,t){if(e.charCodeAt(0)===zc)throw new Error("Found the synthetic ".concat(t," ").concat(e,'. Please include either "BrowserAnimationsModule" or "NoopAnimationsModule" in your application.'))}var Uc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck2(this,n),(o=t.call(this,e)).component=i;var s,l=Fc(a+"-"+i.id,i.styles,[]);return r.addStyles(l),o.contentAttr="_ngcontent-%COMP%".replace(Rc,a+"-"+i.id),o.hostAttr=(s=a+"-"+i.id,"_nghost-%COMP%".replace(Rc,s)),o}return _createClass2(n,[{key:"applyToHost",value:function(e){_get2(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,e,this.hostAttr,"")}},{key:"createElement",value:function(e,t){var r=_get2(_getPrototypeOf2(n.prototype),"createElement",this).call(this,e,t);return _get2(_getPrototypeOf2(n.prototype),"setAttribute",this).call(this,r,this.contentAttr,""),r}}]),n}(Bc),Hc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;_classCallCheck2(this,n),(o=t.call(this,e)).sharedStylesHost=r,o.hostEl=i,o.component=a,o.shadowRoot=a.encapsulation===$e.ShadowDom?i.attachShadow({mode:"open"}):i.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var s=Fc(a.id,a.styles,[]),l=0;l<s.length;l++){var c=document.createElement("style");c.textContent=s[l],o.shadowRoot.appendChild(c)}return o}return _createClass2(n,[{key:"nodeOrShadowRoot",value:function(e){return e===this.hostEl?this.shadowRoot:e}},{key:"destroy",value:function(){this.sharedStylesHost.removeHost(this.shadowRoot)}},{key:"appendChild",value:function(e,t){return _get2(_getPrototypeOf2(n.prototype),"appendChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"insertBefore",value:function(e,t,r){return _get2(_getPrototypeOf2(n.prototype),"insertBefore",this).call(this,this.nodeOrShadowRoot(e),t,r)}},{key:"removeChild",value:function(e,t){return _get2(_getPrototypeOf2(n.prototype),"removeChild",this).call(this,this.nodeOrShadowRoot(e),t)}},{key:"parentNode",value:function(e){return this.nodeOrShadowRoot(_get2(_getPrototypeOf2(n.prototype),"parentNode",this).call(this,this.nodeOrShadowRoot(e)))}}]),n}(Bc),Vc="undefined"!=typeof Zone&&Zone.__symbol__||function(e){return"__zone_symbol__"+e},Wc=Vc("addEventListener"),Gc=Vc("removeEventListener"),Yc={},Xc="__zone_symbol__propagationStopped",Jc=function(){var e="undefined"!=typeof Zone&&Zone[Vc("BLACK_LISTED_EVENTS")];if(e){var t={};return e.forEach((function(e){t[e]=e})),t}}(),Kc=function(e){return!!Jc&&Jc.hasOwnProperty(e)},$c=function(e){var t=Yc[e.type];if(t){var n=this[t];if(n){var r=[e];if(1===n.length){var i=n[0];return i.zone!==Zone.current?i.zone.run(i.handler,this,r):i.handler.apply(this,r)}for(var a=n.slice(),o=0;o<a.length&&!0!==e[Xc];o++){var s=a[o];s.zone!==Zone.current?s.zone.run(s.handler,this,r):s.handler.apply(this,r)}}}},Zc=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).ngZone=r,i&&function(e){return"server"===e}(i)||a.patchEvent(),a}return _createClass2(n,[{key:"patchEvent",value:function(){if("undefined"!=typeof Event&&Event&&Event.prototype&&!Event.prototype.__zone_symbol__stopImmediatePropagation){var e=Event.prototype.__zone_symbol__stopImmediatePropagation=Event.prototype.stopImmediatePropagation;Event.prototype.stopImmediatePropagation=function(){this&&(this[Xc]=!0),e&&e.apply(this,arguments)}}}},{key:"supports",value:function(e){return!0}},{key:"addEventListener",value:function(e,t,n){var r=this,i=n;if(!e[Wc]||Ea.isInAngularZone()&&!Kc(t))e.addEventListener(t,i,!1);else{var a=Yc[t];a||(a=Yc[t]=Vc("ANGULAR"+t+"FALSE"));var o=e[a],s=o&&o.length>0;o||(o=e[a]=[]);var l=Kc(t)?Zone.root:Zone.current;if(0===o.length)o.push({zone:l,handler:i});else{for(var c=!1,u=0;u<o.length;u++)if(o[u].handler===i){c=!0;break}c||o.push({zone:l,handler:i})}s||e[Wc](t,$c,!1)}return function(){return r.removeEventListener(e,t,i)}}},{key:"removeEventListener",value:function(e,t,n){var r=e[Gc];if(!r)return e.removeEventListener.apply(e,[t,n,!1]);var i=Yc[t],a=i&&e[i];if(!a)return e.removeEventListener.apply(e,[t,n,!1]);for(var o=!1,s=0;s<a.length;s++)if(a[s].handler===n){o=!0,a.splice(s,1);break}o?0===a.length&&r.apply(e,[t,$c,!1]):e.removeEventListener.apply(e,[t,n,!1])}}]),n}(Tc),Qc={pan:!0,panstart:!0,panmove:!0,panend:!0,pancancel:!0,panleft:!0,panright:!0,panup:!0,pandown:!0,pinch:!0,pinchstart:!0,pinchmove:!0,pinchend:!0,pinchcancel:!0,pinchin:!0,pinchout:!0,press:!0,pressup:!0,rotate:!0,rotatestart:!0,rotatemove:!0,rotateend:!0,rotatecancel:!0,swipe:!0,swipeleft:!0,swiperight:!0,swipeup:!0,swipedown:!0,tap:!0},eu=new Re("HammerGestureConfig"),tu=new Re("HammerLoader"),nu=function(){function e(){_classCallCheck2(this,e),this.events=[],this.overrides={}}return _createClass2(e,[{key:"buildHammer",value:function(e){var t=new Hammer(e,this.options);for(var n in t.get("pinch").set({enable:!0}),t.get("rotate").set({enable:!0}),this.overrides)t.get(n).set(this.overrides[n]);return t}}]),e}(),ru=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e))._config=r,o.console=i,o.loader=a,o}return _createClass2(n,[{key:"supports",value:function(e){return!(!Qc.hasOwnProperty(e.toLowerCase())&&!this.isCustomEvent(e)||!window.Hammer&&!this.loader&&(this.console.warn('The "'.concat(e,'" event cannot be bound because Hammer.JS is not loaded and no custom loader has been specified.')),1))}},{key:"addEventListener",value:function(e,t,n){var r=this,i=this.manager.getZone();if(t=t.toLowerCase(),!window.Hammer&&this.loader){var a=!1,o=function(){a=!0};return this.loader().then((function(){if(!window.Hammer)return r.console.warn("The custom HAMMER_LOADER completed, but Hammer.JS is not present."),void(o=function(){});a||(o=r.addEventListener(e,t,n))})).catch((function(){r.console.warn('The "'.concat(t,'" event cannot be bound because the custom Hammer.JS loader failed.')),o=function(){}})),function(){o()}}return i.runOutsideAngular((function(){var a=r._config.buildHammer(e),o=function(e){i.runGuarded((function(){n(e)}))};return a.on(t,o),function(){a.off(t,o),"function"==typeof a.destroy&&a.destroy()}}))}},{key:"isCustomEvent",value:function(e){return this._config.events.indexOf(e)>-1}}]),n}(Tc),iu=["alt","control","meta","shift"],au={alt:function(e){return e.altKey},control:function(e){return e.ctrlKey},meta:function(e){return e.metaKey},shift:function(e){return e.shiftKey}},ou=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return _createClass2(n,[{key:"supports",value:function(e){return null!=n.parseEventName(e)}},{key:"addEventListener",value:function(e,t,r){var i=n.parseEventName(t),a=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return fc().onAndCancel(e,i.domEventName,a)}))}}],[{key:"parseEventName",value:function(e){var t=e.toLowerCase().split("."),r=t.shift();if(0===t.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(t.pop()),a="";if(iu.forEach((function(e){var n=t.indexOf(e);n>-1&&(t.splice(n,1),a+=e+".")})),a+=i,0!=t.length||0===i.length)return null;var o={};return o.domEventName=r,o.fullKey=a,o}},{key:"getEventFullKey",value:function(e){var t="",n=fc().getEventKey(e);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),iu.forEach((function(r){r!=n&&(0,au[r])(e)&&(t+=r+".")})),t+=n}},{key:"eventCallback",value:function(e,t,r){return function(i){n.getEventFullKey(i)===e&&r.runGuarded((function(){return t(i)}))}}},{key:"_normalizeKey",value:function(e){switch(e){case"esc":return"escape";default:return e}}}]),n}(Tc),su=function e(){_classCallCheck2(this,e)},lu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r}return _createClass2(n,[{key:"sanitize",value:function(e,t){if(null==t)return null;switch(e){case jt.NONE:return t;case jt.HTML:return t instanceof uu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"HTML"),function(e,t){var n=null;try{dt=dt||new ot(e);var r=t?String(t):"";n=dt.getInertBodyElement(r);var i=5,a=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=a,a=n.innerHTML,n=dt.getInertBodyElement(r)}while(r!==a);var o=new wt,s=o.sanitizeChildren(Ot(n)||n);return at()&&o.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),s}finally{if(n)for(var l=Ot(n)||n;l.firstChild;)l.removeChild(l.firstChild)}}(this._doc,String(t)));case jt.STYLE:return t instanceof hu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"Style"),function(e){if(!(e=String(e).trim()))return"";var t=e.match(Mt);return t&&ct(t[1])===t[1]||e.match(Pt)&&function(e){for(var t=!0,n=!0,r=0;r<e.length;r++){var i=e.charAt(r);"'"===i&&n?t=!t:'"'===i&&t&&(n=!n)}return t&&n}(e)?e:(at()&&console.warn("WARNING: sanitizing unsafe style value ".concat(e," (see http://g.co/ng/security#xss).")),"unsafe")}(t));case jt.SCRIPT:if(t instanceof du)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"Script"),new Error("unsafe value used in a script context");case jt.URL:return t instanceof fu||t instanceof pu?t.changingThisBreaksApplicationSecurity:(this.checkNotSafeValue(t,"URL"),ct(String(t)));case jt.RESOURCE_URL:if(t instanceof fu)return t.changingThisBreaksApplicationSecurity;throw this.checkNotSafeValue(t,"ResourceURL"),new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error("Unexpected SecurityContext ".concat(e," (see http://g.co/ng/security#xss)"))}}},{key:"checkNotSafeValue",value:function(e,t){if(e instanceof cu)throw new Error("Required a safe ".concat(t,", got a ").concat(e.getTypeName()," (see http://g.co/ng/security#xss)"))}},{key:"bypassSecurityTrustHtml",value:function(e){return new uu(e)}},{key:"bypassSecurityTrustStyle",value:function(e){return new hu(e)}},{key:"bypassSecurityTrustScript",value:function(e){return new du(e)}},{key:"bypassSecurityTrustUrl",value:function(e){return new pu(e)}},{key:"bypassSecurityTrustResourceUrl",value:function(e){return new fu(e)}}]),n}(su),cu=function(){function e(t){_classCallCheck2(this,e),this.changingThisBreaksApplicationSecurity=t}return _createClass2(e,[{key:"toString",value:function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}]),e}(),uu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"HTML"}}]),n}(cu),hu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"Style"}}]),n}(cu),du=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"Script"}}]),n}(cu),pu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"URL"}}]),n}(cu),fu=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"getTypeName",value:function(){return"ResourceURL"}}]),n}(cu),mu=qa(ao,"browser",[{provide:la,useValue:"browser"},{provide:sa,useValue:function(){yc.makeCurrent(),Sc.init()},multi:!0},{provide:Bs,useClass:function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this))._doc=e,r._init(),r}return _createClass2(n,[{key:"_init",value:function(){this.location=fc().getLocation(),this._history=fc().getHistory()}},{key:"getBaseHrefFromDOM",value:function(){return fc().getBaseHref(this._doc)}},{key:"onPopState",value:function(e){fc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}},{key:"onHashChange",value:function(e){fc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}},{key:"pushState",value:function(e,t,n){wc()?this._history.pushState(e,t,n):this.location.hash=n}},{key:"replaceState",value:function(e,t,n){wc()?this._history.replaceState(e,t,n):this.location.hash=n}},{key:"forward",value:function(){this._history.forward()}},{key:"back",value:function(){this._history.back()}},{key:"getState",value:function(){return this._history.state}},{key:"href",get:function(){return this.location.href}},{key:"protocol",get:function(){return this.location.protocol}},{key:"hostname",get:function(){return this.location.hostname}},{key:"port",get:function(){return this.location.port}},{key:"pathname",get:function(){return this.location.pathname},set:function(e){this.location.pathname=e}},{key:"search",get:function(){return this.location.search}},{key:"hash",get:function(){return this.location.hash}}]),n}(Bs),deps:[fl]},{provide:fl,useFactory:function(){return document},deps:[]}]);function gu(){return new nt}var vu=function(){function e(t){if(_classCallCheck2(this,e),t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}return _createClass2(e,null,[{key:"withServerTransition",value:function(t){return{ngModule:e,providers:[{provide:ia,useValue:t.appId},{provide:kc,useExisting:ia},xc]}}}]),e}();"undefined"!=typeof window&&window;var _u=function e(t,n){_classCallCheck2(this,e),this.id=t,this.url=n},bu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"imperative",o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return _classCallCheck2(this,n),(i=t.call(this,e,r)).navigationTrigger=a,i.restoredState=o,i}return _createClass2(n,[{key:"toString",value:function(){return"NavigationStart(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(_u),yu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).urlAfterRedirects=i,a}return _createClass2(n,[{key:"toString",value:function(){return"NavigationEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"')")}}]),n}(_u),Cu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).reason=i,a}return _createClass2(n,[{key:"toString",value:function(){return"NavigationCancel(id: ".concat(this.id,", url: '").concat(this.url,"')")}}]),n}(_u),wu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e,r)).error=i,a}return _createClass2(n,[{key:"toString",value:function(){return"NavigationError(id: ".concat(this.id,", url: '").concat(this.url,"', error: ").concat(this.error,")")}}]),n}(_u),ku=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass2(n,[{key:"toString",value:function(){return"RoutesRecognized(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(_u),xu=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass2(n,[{key:"toString",value:function(){return"GuardsCheckStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(_u),Su=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck2(this,n),(s=t.call(this,e,r)).urlAfterRedirects=i,s.state=a,s.shouldActivate=o,s}return _createClass2(n,[{key:"toString",value:function(){return"GuardsCheckEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,", shouldActivate: ").concat(this.shouldActivate,")")}}]),n}(_u),Ou=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass2(n,[{key:"toString",value:function(){return"ResolveStart(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(_u),ju=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,e,r)).urlAfterRedirects=i,o.state=a,o}return _createClass2(n,[{key:"toString",value:function(){return"ResolveEnd(id: ".concat(this.id,", url: '").concat(this.url,"', urlAfterRedirects: '").concat(this.urlAfterRedirects,"', state: ").concat(this.state,")")}}]),n}(_u),Eu=function(){function e(t){_classCallCheck2(this,e),this.route=t}return _createClass2(e,[{key:"toString",value:function(){return"RouteConfigLoadStart(path: ".concat(this.route.path,")")}}]),e}(),Pu=function(){function e(t){_classCallCheck2(this,e),this.route=t}return _createClass2(e,[{key:"toString",value:function(){return"RouteConfigLoadEnd(path: ".concat(this.route.path,")")}}]),e}(),Mu=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ChildActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Tu=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ChildActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Iu=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ActivationStart(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Au=function(){function e(t){_classCallCheck2(this,e),this.snapshot=t}return _createClass2(e,[{key:"toString",value:function(){return"ActivationEnd(path: '".concat(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"","')")}}]),e}(),Du=function(){function e(t,n,r){_classCallCheck2(this,e),this.routerEvent=t,this.position=n,this.anchor=r}return _createClass2(e,[{key:"toString",value:function(){return"Scroll(anchor: '".concat(this.anchor,"', position: '").concat(this.position?"".concat(this.position[0],", ").concat(this.position[1]):null,"')")}}]),e}(),Ru=function e(){_classCallCheck2(this,e)},Fu=function(){function e(t){_classCallCheck2(this,e),this.params=t||{}}return _createClass2(e,[{key:"has",value:function(e){return this.params.hasOwnProperty(e)}},{key:"get",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t[0]:t}return null}},{key:"getAll",value:function(e){if(this.has(e)){var t=this.params[e];return Array.isArray(t)?t:[t]}return[]}},{key:"keys",get:function(){return Object.keys(this.params)}}]),e}();function Lu(e){return new Fu(e)}function Nu(e){var t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function Bu(e,t,n){var r=n.path.split("/");if(r.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||r.length<e.length))return null;for(var i={},a=0;a<r.length;a++){var o=r[a],s=e[a];if(o.startsWith(":"))i[o.substring(1)]=s;else if(o!==s.path)return null}return{consumed:e.slice(0,r.length),posParams:i}}var zu=function e(t,n){_classCallCheck2(this,e),this.routes=t,this.module=n};function qu(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=0;n<e.length;n++){var r=e[n];Uu(r,Hu(t,r))}}function Uu(e,t){if(!e)throw new Error("\n      Invalid configuration of route '".concat(t,"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    "));if(Array.isArray(e))throw new Error("Invalid configuration of route '".concat(t,"': Array cannot be specified"));if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error("Invalid configuration of route '".concat(t,"': a componentless route without children or loadChildren cannot have a named outlet set"));if(e.redirectTo&&e.children)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and children cannot be used together"));if(e.redirectTo&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and loadChildren cannot be used together"));if(e.children&&e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"': children and loadChildren cannot be used together"));if(e.redirectTo&&e.component)throw new Error("Invalid configuration of route '".concat(t,"': redirectTo and component cannot be used together"));if(e.path&&e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': path and matcher cannot be used together"));if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error("Invalid configuration of route '".concat(t,"'. One of the following must be provided: component, redirectTo, children or loadChildren"));if(void 0===e.path&&void 0===e.matcher)throw new Error("Invalid configuration of route '".concat(t,"': routes must have either a path or a matcher specified"));if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error("Invalid configuration of route '".concat(t,"': path cannot start with a slash"));if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error("Invalid configuration of route '{path: \"".concat(t,'", redirectTo: "').concat(e.redirectTo,"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'."));if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error("Invalid configuration of route '".concat(t,"': pathMatch can only be set to 'prefix' or 'full'"));e.children&&qu(e.children,t)}function Hu(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:"".concat(e,"/").concat(t.path):"":e}function Vu(e){var t=e.children&&e.children.map(Vu),n=t?Object.assign({},e,{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=Ru),n}function Wu(e,t){var n,r=Object.keys(e),i=Object.keys(t);if(!r||!i||r.length!=i.length)return!1;for(var a=0;a<r.length;a++)if(e[n=r[a]]!==t[n])return!1;return!0}function Gu(e){return Array.prototype.concat.apply([],e)}function Yu(e){return e.length>0?e[e.length-1]:null}function Xu(e,t){for(var n in e)e.hasOwnProperty(n)&&t(e[n],n)}function Ju(e){return pn(e)?e:dn(e)?X(Promise.resolve(e)):wl(e)}function Ku(e,t,n){return n?function(e,t){return Wu(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!eh(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!t.children[r])return!1;if(!e(t.children[r],n.children[r]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every((function(n){return t[n]===e[n]}))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,r,i){if(n.segments.length>i.length)return!!eh(n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!eh(n.segments,i))return!1;for(var a in r.children){if(!n.children[a])return!1;if(!e(n.children[a],r.children[a]))return!1}return!0}var o=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!eh(n.segments,o)&&!!n.children.primary&&t(n.children.primary,r,s)}(t,n,n.segments)}(e.root,t.root)}var $u=function(){function e(t,n,r){_classCallCheck2(this,e),this.root=t,this.queryParams=n,this.fragment=r}return _createClass2(e,[{key:"toString",value:function(){return ih.serialize(this)}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}}]),e}(),Zu=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this.segments=t,this.children=n,this.parent=null,Xu(n,(function(e,t){return e.parent=r}))}return _createClass2(e,[{key:"hasChildren",value:function(){return this.numberOfChildren>0}},{key:"toString",value:function(){return ah(this)}},{key:"numberOfChildren",get:function(){return Object.keys(this.children).length}}]),e}(),Qu=function(){function e(t,n){_classCallCheck2(this,e),this.path=t,this.parameters=n}return _createClass2(e,[{key:"toString",value:function(){return hh(this)}},{key:"parameterMap",get:function(){return this._parameterMap||(this._parameterMap=Lu(this.parameters)),this._parameterMap}}]),e}();function eh(e,t){return e.length===t.length&&e.every((function(e,n){return e.path===t[n].path}))}function th(e,t){var n=[];return Xu(e.children,(function(e,r){"primary"===r&&(n=n.concat(t(e,r)))})),Xu(e.children,(function(e,r){"primary"!==r&&(n=n.concat(t(e,r)))})),n}var nh=function e(){_classCallCheck2(this,e)},rh=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"parse",value:function(e){var t=new gh(e);return new $u(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}},{key:"serialize",value:function(e){return"".concat("/"+function e(t,n){if(!t.hasChildren())return ah(t);if(n){var r=t.children.primary?e(t.children.primary,!1):"",i=[];return Xu(t.children,(function(t,n){"primary"!==n&&i.push("".concat(n,":").concat(e(t,!1)))})),i.length>0?"".concat(r,"(").concat(i.join("//"),")"):r}var a=th(t,(function(n,r){return"primary"===r?[e(t.children.primary,!1)]:["".concat(r,":").concat(e(n,!1))]}));return"".concat(ah(t),"/(").concat(a.join("//"),")")}(e.root,!0)).concat((t=e.queryParams,n=Object.keys(t).map((function(e){var n=t[e];return Array.isArray(n)?n.map((function(t){return"".concat(sh(e),"=").concat(sh(t))})).join("&"):"".concat(sh(e),"=").concat(sh(n))})),n.length?"?"+n.join("&"):"")).concat("string"==typeof e.fragment?"#"+encodeURI(e.fragment):"");var t,n}}]),e}(),ih=new rh;function ah(e){return e.segments.map((function(e){return hh(e)})).join("/")}function oh(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function sh(e){return oh(e).replace(/%3B/gi,";")}function lh(e){return oh(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ch(e){return decodeURIComponent(e)}function uh(e){return ch(e.replace(/\+/g,"%20"))}function hh(e){return"".concat(lh(e.path)).concat((t=e.parameters,Object.keys(t).map((function(e){return";".concat(lh(e),"=").concat(lh(t[e]))})).join("")));var t}var dh=/^[^\/()?;=#]+/;function ph(e){var t=e.match(dh);return t?t[0]:""}var fh=/^[^=?&#]+/,mh=/^[^?&#]+/,gh=function(){function e(t){_classCallCheck2(this,e),this.url=t,this.remaining=t}return _createClass2(e,[{key:"parseRootSegment",value:function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zu([],{}):new Zu([],this.parseChildren())}},{key:"parseQueryParams",value:function(){var e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}},{key:"parseFragment",value:function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}},{key:"parseChildren",value:function(){if(""===this.remaining)return{};this.consumeOptional("/");var e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());var t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new Zu(e,t)),n}},{key:"parseSegment",value:function(){var e=ph(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '".concat(this.remaining,"'."));return this.capture(e),new Qu(ch(e),this.parseMatrixParams())}},{key:"parseMatrixParams",value:function(){for(var e={};this.consumeOptional(";");)this.parseParam(e);return e}},{key:"parseParam",value:function(e){var t=ph(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=ph(this.remaining);r&&(n=r,this.capture(n))}e[ch(t)]=ch(n)}}},{key:"parseQueryParam",value:function(e){var t=function(e){var t=e.match(fh);return t?t[0]:""}(this.remaining);if(t){this.capture(t);var n="";if(this.consumeOptional("=")){var r=function(e){var t=e.match(mh);return t?t[0]:""}(this.remaining);r&&(n=r,this.capture(n))}var i=uh(t),a=uh(n);if(e.hasOwnProperty(i)){var o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(a)}else e[i]=a}}},{key:"parseParens",value:function(e){var t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=ph(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '".concat(this.url,"'"));var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):e&&(i="primary");var a=this.parseChildren();t[i]=1===Object.keys(a).length?a.primary:new Zu([],a),this.consumeOptional("//")}return t}},{key:"peekStartsWith",value:function(e){return this.remaining.startsWith(e)}},{key:"consumeOptional",value:function(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}},{key:"capture",value:function(e){if(!this.consumeOptional(e))throw new Error('Expected "'.concat(e,'".'))}}]),e}(),vh=function(){function e(t){_classCallCheck2(this,e),this._root=t}return _createClass2(e,[{key:"parent",value:function(e){var t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}},{key:"children",value:function(e){var t=_h(e,this._root);return t?t.children.map((function(e){return e.value})):[]}},{key:"firstChild",value:function(e){var t=_h(e,this._root);return t&&t.children.length>0?t.children[0].value:null}},{key:"siblings",value:function(e){var t=bh(e,this._root);return t.length<2?[]:t[t.length-2].children.map((function(e){return e.value})).filter((function(t){return t!==e}))}},{key:"pathFromRoot",value:function(e){return bh(e,this._root).map((function(e){return e.value}))}},{key:"root",get:function(){return this._root.value}}]),e}();function _h(e,t){if(e===t.value)return t;var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=_h(e,n.value);if(i)return i}}catch(a){r.e(a)}finally{r.f()}return null}function bh(e,t){if(e===t.value)return[t];var n,r=_createForOfIteratorHelper(t.children);try{for(r.s();!(n=r.n()).done;){var i=bh(e,n.value);if(i.length)return i.unshift(t),i}}catch(a){r.e(a)}finally{r.f()}return[]}var yh=function(){function e(t,n){_classCallCheck2(this,e),this.value=t,this.children=n}return _createClass2(e,[{key:"toString",value:function(){return"TreeNode(".concat(this.value,")")}}]),e}();function Ch(e){var t={};return e&&e.children.forEach((function(e){return t[e.value.outlet]=e})),t}var wh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e)).snapshot=r,Eh(_assertThisInitialized(i),e),i}return _createClass2(n,[{key:"toString",value:function(){return this.snapshot.toString()}}]),n}(vh);function kh(e,t){var n=function(e,t){var n=new Oh([],{},{},"",{},"primary",t,null,e.root,-1,{});return new jh("",new yh(n,[]))}(e,t),r=new kl([new Qu("",{})]),i=new kl({}),a=new kl({}),o=new kl({}),s=new kl(""),l=new xh(r,i,o,s,a,"primary",t,n.root);return l.snapshot=n.root,new wh(new yh(l,[]),n)}var xh=function(){function e(t,n,r,i,a,o,s,l){_classCallCheck2(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this._futureSnapshot=l}return _createClass2(e,[{key:"toString",value:function(){return this.snapshot?this.snapshot.toString():"Future(".concat(this._futureSnapshot,")")}},{key:"routeConfig",get:function(){return this._futureSnapshot.routeConfig}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=this.params.pipe(V((function(e){return Lu(e)})))),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(V((function(e){return Lu(e)})))),this._queryParamMap}}]),e}();function Sh(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"emptyOnly",n=e.pathFromRoot,r=0;if("always"!==t)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(e){return e.reduce((function(e,t){return{params:Object.assign({},e.params,t.params),data:Object.assign({},e.data,t.data),resolve:Object.assign({},e.resolve,t._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var Oh=function(){function e(t,n,r,i,a,o,s,l,c,u,h){_classCallCheck2(this,e),this.url=t,this.params=n,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=o,this.component=s,this.routeConfig=l,this._urlSegment=c,this._lastPathIndex=u,this._resolve=h}return _createClass2(e,[{key:"toString",value:function(){return"Route(url:'".concat(this.url.map((function(e){return e.toString()})).join("/"),"', path:'").concat(this.routeConfig?this.routeConfig.path:"","')")}},{key:"root",get:function(){return this._routerState.root}},{key:"parent",get:function(){return this._routerState.parent(this)}},{key:"firstChild",get:function(){return this._routerState.firstChild(this)}},{key:"children",get:function(){return this._routerState.children(this)}},{key:"pathFromRoot",get:function(){return this._routerState.pathFromRoot(this)}},{key:"paramMap",get:function(){return this._paramMap||(this._paramMap=Lu(this.params)),this._paramMap}},{key:"queryParamMap",get:function(){return this._queryParamMap||(this._queryParamMap=Lu(this.queryParams)),this._queryParamMap}}]),e}(),jh=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,r)).url=e,Eh(_assertThisInitialized(i),r),i}return _createClass2(n,[{key:"toString",value:function(){return Ph(this._root)}}]),n}(vh);function Eh(e,t){t.value._routerState=e,t.children.forEach((function(t){return Eh(e,t)}))}function Ph(e){var t=e.children.length>0?" { ".concat(e.children.map(Ph).join(", ")," } "):"";return"".concat(e.value).concat(t)}function Mh(e){if(e.snapshot){var t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,Wu(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),Wu(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;++n)if(!Wu(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),Wu(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function Th(e,t){var n,r;return Wu(e.params,t.params)&&eh(n=e.url,r=t.url)&&n.every((function(e,t){return Wu(e.parameters,r[t].parameters)}))&&!(!e.parent!=!t.parent)&&(!e.parent||Th(e.parent,t.parent))}function Ih(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function Ah(e,t,n,r,i){var a={};return r&&Xu(r,(function(e,t){a[t]=Array.isArray(e)?e.map((function(e){return""+e})):""+e})),new $u(n.root===e?t:function e(t,n,r){var i={};return Xu(t.children,(function(t,a){i[a]=t===n?r:e(t,n,r)})),new Zu(t.segments,i)}(n.root,e,t),a,i)}var Dh=function(){function e(t,n,r){if(_classCallCheck2(this,e),this.isAbsolute=t,this.numberOfDoubleDots=n,this.commands=r,t&&r.length>0&&Ih(r[0]))throw new Error("Root segment cannot have matrix parameters");var i=r.find((function(e){return"object"==typeof e&&null!=e&&e.outlets}));if(i&&i!==Yu(r))throw new Error("{outlets:{}} has to be the last command")}return _createClass2(e,[{key:"toRoot",value:function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}]),e}(),Rh=function e(t,n,r){_classCallCheck2(this,e),this.segmentGroup=t,this.processChildren=n,this.index=r};function Fh(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function Lh(e,t,n){if(e||(e=new Zu([],{})),0===e.segments.length&&e.hasChildren())return Nh(e,t,n);var r=function(e,t,n){for(var r=0,i=t,a={match:!1,pathIndex:0,commandIndex:0};i<e.segments.length;){if(r>=n.length)return a;var o=e.segments[i],s=Fh(n[r]),l=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&l&&"object"==typeof l&&void 0===l.outlets){if(!Uh(s,l,o))return a;r+=2}else{if(!Uh(s,{},o))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(e,t,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<e.segments.length){var a=new Zu(e.segments.slice(0,r.pathIndex),{});return a.children.primary=new Zu(e.segments.slice(r.pathIndex),e.children),Nh(a,0,i)}return r.match&&0===i.length?new Zu(e.segments,{}):r.match&&!e.hasChildren()?Bh(e,t,n):r.match?Nh(e,0,i):Bh(e,t,n)}function Nh(e,t,n){if(0===n.length)return new Zu(e.segments,{});var r=function(e){return"object"!=typeof e[0]||void 0===e[0].outlets?{primary:e}:e[0].outlets}(n),i={};return Xu(r,(function(n,r){null!==n&&(i[r]=Lh(e.children[r],t,n))})),Xu(e.children,(function(e,t){void 0===r[t]&&(i[t]=e)})),new Zu(e.segments,i)}function Bh(e,t,n){for(var r=e.segments.slice(0,t),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var a=zh(n[i].outlets);return new Zu(r,a)}if(0===i&&Ih(n[0]))r.push(new Qu(e.segments[t].path,n[0])),i++;else{var o=Fh(n[i]),s=i<n.length-1?n[i+1]:null;o&&s&&Ih(s)?(r.push(new Qu(o,qh(s))),i+=2):(r.push(new Qu(o,{})),i++)}}return new Zu(r,{})}function zh(e){var t={};return Xu(e,(function(e,n){null!==e&&(t[n]=Bh(new Zu([],{}),0,e))})),t}function qh(e){var t={};return Xu(e,(function(e,n){return t[n]=""+e})),t}function Uh(e,t,n){return e==n.path&&Wu(t,n.parameters)}var Hh=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.routeReuseStrategy=t,this.futureState=n,this.currState=r,this.forwardEvent=i}return _createClass2(e,[{key:"activate",value:function(e){var t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),Mh(this.futureState.root),this.activateChildRoutes(t,n,e)}},{key:"deactivateChildRoutes",value:function(e,t,n){var r=this,i=Ch(t);e.children.forEach((function(e){var t=e.value.outlet;r.deactivateRoutes(e,i[t],n),delete i[t]})),Xu(i,(function(e,t){r.deactivateRouteAndItsChildren(e,n)}))}},{key:"deactivateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(r===i)if(r.component){var a=n.getContext(r.outlet);a&&this.deactivateChildRoutes(e,t,a.children)}else this.deactivateChildRoutes(e,t,n);else i&&this.deactivateRouteAndItsChildren(t,n)}},{key:"deactivateRouteAndItsChildren",value:function(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}},{key:"detachAndStoreRouteSubtree",value:function(e,t){var n=t.getContext(e.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:r,route:e,contexts:i})}}},{key:"deactivateRouteAndOutlet",value:function(e,t){var n=this,r=t.getContext(e.value.outlet);if(r){var i=Ch(e),a=e.value.component?r.children:t;Xu(i,(function(e,t){return n.deactivateRouteAndItsChildren(e,a)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}}},{key:"activateChildRoutes",value:function(e,t,n){var r=this,i=Ch(t);e.children.forEach((function(e){r.activateRoutes(e,i[e.value.outlet],n),r.forwardEvent(new Au(e.value.snapshot))})),e.children.length&&this.forwardEvent(new Tu(e.value.snapshot))}},{key:"activateRoutes",value:function(e,t,n){var r=e.value,i=t?t.value:null;if(Mh(r),r===i)if(r.component){var a=n.getOrCreateContext(r.outlet);this.activateChildRoutes(e,t,a.children)}else this.activateChildRoutes(e,t,n);else if(r.component){var o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){var s=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(s.contexts),o.attachRef=s.componentRef,o.route=s.route.value,o.outlet&&o.outlet.attach(s.componentRef,s.route.value),Vh(s.route)}else{var l=function(e){for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),c=l?l.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=c,o.outlet&&o.outlet.activateWith(r,c),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,n)}}]),e}();function Vh(e){Mh(e.value),e.children.forEach(Vh)}function Wh(e){return"function"==typeof e}function Gh(e){return e instanceof $u}var Yh=function e(t){_classCallCheck2(this,e),this.segmentGroup=t||null},Xh=function e(t){_classCallCheck2(this,e),this.urlTree=t};function Jh(e){return new k((function(t){return t.error(new Yh(e))}))}function Kh(e){return new k((function(t){return t.error(new Xh(e))}))}function $h(e){return new k((function(t){return t.error(new Error("Only absolute redirects can have named outlets. redirectTo: '".concat(e,"'")))}))}var Zh=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.configLoader=n,this.urlSerializer=r,this.urlTree=i,this.config=a,this.allowRedirects=!0,this.ngModule=t.get(Ge)}return _createClass2(e,[{key:"apply",value:function(){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(V((function(t){return e.createUrlTree(t,e.urlTree.queryParams,e.urlTree.fragment)}))).pipe(Xl((function(t){if(t instanceof Xh)return e.allowRedirects=!1,e.match(t.urlTree);if(t instanceof Yh)throw e.noMatchError(t);throw t})))}},{key:"match",value:function(e){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(V((function(n){return t.createUrlTree(n,e.queryParams,e.fragment)}))).pipe(Xl((function(e){if(e instanceof Yh)throw t.noMatchError(e);throw e})))}},{key:"noMatchError",value:function(e){return new Error("Cannot match any routes. URL Segment: '".concat(e.segmentGroup,"'"))}},{key:"createUrlTree",value:function(e,t,n){var r=e.segments.length>0?new Zu([],{primary:e}):e;return new $u(r,t,n)}},{key:"expandSegmentGroup",value:function(e,t,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(V((function(e){return new Zu([],e)}))):this.expandSegment(e,n,t,n.segments,r,!0)}},{key:"expandChildren",value:function(e,t,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return wl({});var a=[],o=[],s={};return Xu(n,(function(n,i){var l,c,u=(l=i,c=n,r.expandSegmentGroup(e,t,c,l)).pipe(V((function(e){return s[i]=e})));"primary"===i?a.push(u):o.push(u)})),wl.apply(null,a.concat(o)).pipe(Ml(),Yl(),V((function(){return s})))}(n.children)}},{key:"expandSegment",value:function(e,t,n,r,i,a){var o=this;return wl.apply(void 0,_toConsumableArray(n)).pipe(V((function(s){return o.expandSegmentAgainstRoute(e,t,n,s,r,i,a).pipe(Xl((function(e){if(e instanceof Yh)return wl(null);throw e})))})),Ml(),ec((function(e){return!!e})),Xl((function(e,n){if(e instanceof Sl||"EmptyError"===e.name){if(o.noLeftoversInUrl(t,r,i))return wl(new Zu([],{}));throw new Yh(t)}throw e})))}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"expandSegmentAgainstRoute",value:function(e,t,n,r,i,a,o){return nd(r)!==a?Jh(t):void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,t,r,i):o&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a):Jh(t)}},{key:"expandSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,r,a):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,r,i,a)}},{key:"expandWildCardWithParamsAgainstRouteUsingRedirect",value:function(e,t,n,r){var i=this,a=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Kh(a):this.lineralizeSegments(n,a).pipe(J((function(n){var a=new Zu(n,{});return i.expandSegment(e,a,t,n,r,!1)})))}},{key:"expandRegularSegmentAgainstRouteUsingRedirect",value:function(e,t,n,r,i,a){var o=this,s=Qh(t,r,i),l=s.matched,c=s.consumedSegments,u=s.lastChild,h=s.positionalParamSegments;if(!l)return Jh(t);var d=this.applyRedirectCommands(c,r.redirectTo,h);return r.redirectTo.startsWith("/")?Kh(d):this.lineralizeSegments(r,d).pipe(J((function(r){return o.expandSegment(e,t,n,r.concat(i.slice(u)),a,!1)})))}},{key:"matchSegmentAgainstRoute",value:function(e,t,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(V((function(e){return n._loadedConfig=e,new Zu(r,{})}))):wl(new Zu(r,{}));var a=Qh(t,n,r),o=a.matched,s=a.consumedSegments,l=a.lastChild;if(!o)return Jh(t);var c=r.slice(l);return this.getChildConfig(e,n,r).pipe(J((function(e){var n=e.module,r=e.routes,a=function(e,t,n,r){return n.length>0&&function(e,t,n){return n.some((function(n){return td(e,t,n)&&"primary"!==nd(n)}))}(e,n,r)?{segmentGroup:ed(new Zu(t,function(e,t){var n={};n.primary=t;var r,i=_createForOfIteratorHelper(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;""===a.path&&"primary"!==nd(a)&&(n[nd(a)]=new Zu([],{}))}}catch(o){i.e(o)}finally{i.f()}return n}(r,new Zu(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some((function(n){return td(e,t,n)}))}(e,n,r)?{segmentGroup:ed(new Zu(e.segments,function(e,t,n,r){var i,a={},o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var s=i.value;td(e,t,s)&&!r[nd(s)]&&(a[nd(s)]=new Zu([],{}))}}catch(l){o.e(l)}finally{o.f()}return Object.assign({},r,a)}(e,n,r,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,s,c,r),o=a.segmentGroup,l=a.slicedSegments;return 0===l.length&&o.hasChildren()?i.expandChildren(n,r,o).pipe(V((function(e){return new Zu(s,e)}))):0===r.length&&0===l.length?wl(new Zu(s,{})):i.expandSegment(n,o,r,l,"primary",!0).pipe(V((function(e){return new Zu(s.concat(e.segments),e.children)})))})))}},{key:"getChildConfig",value:function(e,t,n){var r=this;return t.children?wl(new zu(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?wl(t._loadedConfig):function(e,t,n){var r,i=t.canLoad;return i&&0!==i.length?X(i).pipe(V((function(r){var i,a=e.get(r);if(function(e){return e&&Wh(e.canLoad)}(a))i=a.canLoad(t,n);else{if(!Wh(a))throw new Error("Invalid CanLoad guard");i=a(t,n)}return Ju(i)}))).pipe(Ml(),(r=function(e){return!0===e},function(e){return e.lift(new tc(r,void 0,e))})):wl(!0)}(e.injector,t,n).pipe(J((function(n){return n?r.configLoader.load(e.injector,t).pipe(V((function(e){return t._loadedConfig=e,e}))):function(e){return new k((function(t){return t.error(Nu("Cannot load children because the guard of the route \"path: '".concat(e.path,"'\" returned false")))}))}(t)}))):wl(new zu([],e))}},{key:"lineralizeSegments",value:function(e,t){for(var n=[],r=t.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return wl(n);if(r.numberOfChildren>1||!r.children.primary)return $h(e.redirectTo);r=r.children.primary}}},{key:"applyRedirectCommands",value:function(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}},{key:"applyRedirectCreatreUrlTree",value:function(e,t,n,r){var i=this.createSegmentGroup(e,t.root,n,r);return new $u(i,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}},{key:"createQueryParams",value:function(e,t){var n={};return Xu(e,(function(e,r){if("string"==typeof e&&e.startsWith(":")){var i=e.substring(1);n[r]=t[i]}else n[r]=e})),n}},{key:"createSegmentGroup",value:function(e,t,n,r){var i=this,a=this.createSegments(e,t.segments,n,r),o={};return Xu(t.children,(function(t,a){o[a]=i.createSegmentGroup(e,t,n,r)})),new Zu(a,o)}},{key:"createSegments",value:function(e,t,n,r){var i=this;return t.map((function(t){return t.path.startsWith(":")?i.findPosParam(e,t,r):i.findOrReturn(t,n)}))}},{key:"findPosParam",value:function(e,t,n){var r=n[t.path.substring(1)];if(!r)throw new Error("Cannot redirect to '".concat(e,"'. Cannot find '").concat(t.path,"'."));return r}},{key:"findOrReturn",value:function(e,t){var n,r=0,i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.path===e.path)return t.splice(r),a;r++}}catch(o){i.e(o)}finally{i.f()}return e}}]),e}();function Qh(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(t.matcher||Bu)(n,e,t);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function ed(e){if(1===e.numberOfChildren&&e.children.primary){var t=e.children.primary;return new Zu(e.segments.concat(t.segments),t.children)}return e}function td(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function nd(e){return e.outlet||"primary"}var rd=function e(t){_classCallCheck2(this,e),this.path=t,this.route=this.path[this.path.length-1]},id=function e(t,n){_classCallCheck2(this,e),this.component=t,this.route=n};function ad(e,t,n){var r=function(e){if(!e)return null;for(var t=e.parent;t;t=t.parent){var n=t.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(t);return(r?r.module.injector:n).get(e)}function od(e,t,n){var r=Ch(e),i=e.value;Xu(r,(function(e,r){od(e,i.component?t?t.children.getContext(r):null:t,n)})),n.canDeactivateChecks.push(new id(i.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,i))}var sd=Symbol("INITIAL_VALUE");function ld(){return rc((function(e){return(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=null,i=null;return I(t[t.length-1])&&(i=t.pop()),"function"==typeof t[t.length-1]&&(r=t.pop()),1===t.length&&l(t[0])&&(t=t[0]),Y(t,i).lift(new jl(r))}).apply(void 0,_toConsumableArray(e.map((function(e){return e.pipe($l(1),function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){var n=t[t.length-1];I(n)?t.pop():n=null;var r=t.length;return oc(1!==r||n?r>0?Y(t,n):yl(n):Cl(t[0]),e)}}(sd))})))).pipe(sc((function(e,t){var n=!1;return t.reduce((function(e,r,i){if(e!==sd)return e;if(r===sd&&(n=!0),!n){if(!1===r)return r;if(i===t.length-1||Gh(r))return r}return e}),e)}),sd),Tl((function(e){return e!==sd})),V((function(e){return Gh(e)?e:!0===e})),$l(1))}))}function cd(e,t){return null!==e&&t&&t(new Iu(e)),wl(!0)}function ud(e,t){return null!==e&&t&&t(new Mu(e)),wl(!0)}function hd(e,t,n){var r=t.routeConfig?t.routeConfig.canActivate:null;return r&&0!==r.length?wl(r.map((function(r){return Pl((function(){var i,a=ad(r,t,n);if(function(e){return e&&Wh(e.canActivate)}(a))i=Ju(a.canActivate(t,e));else{if(!Wh(a))throw new Error("Invalid CanActivate guard");i=Ju(a(t,e))}return i.pipe(ec())}))}))).pipe(ld()):wl(!0)}function dd(e,t,n){var r=t[t.length-1],i=t.slice(0,t.length-1).reverse().map((function(e){return function(e){var t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)})).filter((function(e){return null!==e})).map((function(t){return Pl((function(){return wl(t.guards.map((function(i){var a,o=ad(i,t.node,n);if(function(e){return e&&Wh(e.canActivateChild)}(o))a=Ju(o.canActivateChild(r,e));else{if(!Wh(o))throw new Error("Invalid CanActivateChild guard");a=Ju(o(r,e))}return a.pipe(ec())}))).pipe(ld())}))}));return wl(i).pipe(ld())}var pd=function e(){_classCallCheck2(this,e)},fd=function(){function e(t,n,r,i,a,o){_classCallCheck2(this,e),this.rootComponentType=t,this.config=n,this.urlTree=r,this.url=i,this.paramsInheritanceStrategy=a,this.relativeLinkResolution=o}return _createClass2(e,[{key:"recognize",value:function(){try{var e=vd(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new Oh([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new yh(n,t),i=new jh(this.url,r);return this.inheritParamsAndData(i._root),wl(i)}catch(a){return new k((function(e){return e.error(a)}))}}},{key:"inheritParamsAndData",value:function(e){var t=this,n=e.value,r=Sh(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),e.children.forEach((function(e){return t.inheritParamsAndData(e)}))}},{key:"processSegmentGroup",value:function(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}},{key:"processChildren",value:function(e,t){var n,r=this,i=th(t,(function(t,n){return r.processSegmentGroup(e,t,n)}));return n={},i.forEach((function(e){var t=n[e.value.outlet];if(t){var r=t.url.map((function(e){return e.toString()})).join("/"),i=e.value.url.map((function(e){return e.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '".concat(r,"' and '").concat(i,"'."))}n[e.value.outlet]=e.value})),i.sort((function(e,t){return"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)})),i}},{key:"processSegment",value:function(e,t,n,r){var i,a=_createForOfIteratorHelper(e);try{for(a.s();!(i=a.n()).done;){var o=i.value;try{return this.processSegmentAgainstRoute(o,t,n,r)}catch(s){if(!(s instanceof pd))throw s}}}catch(l){a.e(l)}finally{a.f()}if(this.noLeftoversInUrl(t,n,r))return[];throw new pd}},{key:"noLeftoversInUrl",value:function(e,t,n){return 0===t.length&&!e.children[n]}},{key:"processSegmentAgainstRoute",value:function(e,t,n,r){if(e.redirectTo)throw new pd;if((e.outlet||"primary")!==r)throw new pd;var i,a=[],o=[];if("**"===e.path){var s=n.length>0?Yu(n).parameters:{};i=new Oh(n,s,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yd(e),r,e.component,e,md(t),gd(t)+n.length,Cd(e))}else{var l=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new pd;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(t.matcher||Bu)(n,e,t);if(!r)throw new pd;var i={};Xu(r.posParams,(function(e,t){i[t]=e.path}));var a=r.consumed.length>0?Object.assign({},i,r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(t,e,n);a=l.consumedSegments,o=n.slice(l.lastChild),i=new Oh(a,l.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,yd(e),r,e.component,e,md(t),gd(t)+a.length,Cd(e))}var c=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),u=vd(t,a,o,c,this.relativeLinkResolution),h=u.segmentGroup,d=u.slicedSegments;if(0===d.length&&h.hasChildren()){var p=this.processChildren(c,h);return[new yh(i,p)]}if(0===c.length&&0===d.length)return[new yh(i,[])];var f=this.processSegment(c,h,d,"primary");return[new yh(i,f)]}}]),e}();function md(e){for(var t=e;t._sourceSegment;)t=t._sourceSegment;return t}function gd(e){for(var t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;t._sourceSegment;)n+=(t=t._sourceSegment)._segmentIndexShift?t._segmentIndexShift:0;return n-1}function vd(e,t,n,r,i){if(n.length>0&&function(e,t,n){return n.some((function(n){return _d(e,t,n)&&"primary"!==bd(n)}))}(e,n,r)){var a=new Zu(t,function(e,t,n,r){var i={};i.primary=r,r._sourceSegment=e,r._segmentIndexShift=t.length;var a,o=_createForOfIteratorHelper(n);try{for(o.s();!(a=o.n()).done;){var s=a.value;if(""===s.path&&"primary"!==bd(s)){var l=new Zu([],{});l._sourceSegment=e,l._segmentIndexShift=t.length,i[bd(s)]=l}}}catch(c){o.e(c)}finally{o.f()}return i}(e,t,r,new Zu(n,e.children)));return a._sourceSegment=e,a._segmentIndexShift=t.length,{segmentGroup:a,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some((function(n){return _d(e,t,n)}))}(e,n,r)){var o=new Zu(e.segments,function(e,t,n,r,i,a){var o,s={},l=_createForOfIteratorHelper(r);try{for(l.s();!(o=l.n()).done;){var c=o.value;if(_d(e,n,c)&&!i[bd(c)]){var u=new Zu([],{});u._sourceSegment=e,u._segmentIndexShift="legacy"===a?e.segments.length:t.length,s[bd(c)]=u}}}catch(h){l.e(h)}finally{l.f()}return Object.assign({},i,s)}(e,t,n,r,e.children,i));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}var s=new Zu(e.segments,e.children);return s._sourceSegment=e,s._segmentIndexShift=t.length,{segmentGroup:s,slicedSegments:n}}function _d(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function bd(e){return e.outlet||"primary"}function yd(e){return e.data||{}}function Cd(e){return e.resolve||{}}function wd(e,t,n,r){var i=ad(e,t,r);return Ju(i.resolve?i.resolve(t,n):i(t,n))}function kd(e){return function(t){return t.pipe(rc((function(t){var n=e(t);return n?X(n).pipe(V((function(){return t}))):X([t])})))}}var xd=function e(){_classCallCheck2(this,e)},Sd=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"shouldDetach",value:function(e){return!1}},{key:"store",value:function(e,t){}},{key:"shouldAttach",value:function(e){return!1}},{key:"retrieve",value:function(e){return null}},{key:"shouldReuseRoute",value:function(e,t){return e.routeConfig===t.routeConfig}}]),e}(),Od=new Re("ROUTES"),jd=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.loader=t,this.compiler=n,this.onLoadStartListener=r,this.onLoadEndListener=i}return _createClass2(e,[{key:"load",value:function(e,t){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(V((function(r){n.onLoadEndListener&&n.onLoadEndListener(t);var i=r.create(e);return new zu(Gu(i.injector.get(Od)).map(Vu),i)})))}},{key:"loadModuleFactory",value:function(e){var t=this;return"string"==typeof e?X(this.loader.load(e)):Ju(e()).pipe(J((function(e){return e instanceof Ye?wl(e):X(t.compiler.compileModuleAsync(e))})))}}]),e}(),Ed=function e(){_classCallCheck2(this,e)},Pd=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"shouldProcessUrl",value:function(e){return!0}},{key:"extract",value:function(e){return e}},{key:"merge",value:function(e,t){return e}}]),e}();function Md(e){throw e}function Td(e,t,n){return t.parse("/")}function Id(e,t){return wl(null)}var Ad=function(){function e(t,n,r,i,a,o,s,l){var c=this;_classCallCheck2(this,e),this.rootComponentType=t,this.urlSerializer=n,this.rootContexts=r,this.location=i,this.config=l,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new M,this.errorHandler=Md,this.malformedUriErrorHandler=Td,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:Id,afterPreactivation:Id},this.urlHandlingStrategy=new Pd,this.routeReuseStrategy=new Sd,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=a.get(Ge),this.console=a.get(ua);var u=a.get(Ea);this.isNgZoneEnabled=u instanceof Ea,this.resetConfig(l),this.currentUrlTree=new $u(new Zu([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new jd(o,s,(function(e){return c.triggerEvent(new Eu(e))}),(function(e){return c.triggerEvent(new Pu(e))})),this.routerState=kh(this.currentUrlTree,this.rootComponentType),this.transitions=new kl({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return _createClass2(e,[{key:"setupNavigations",value:function(e){var t=this,n=this.events;return e.pipe(Tl((function(e){return 0!==e.id})),V((function(e){return Object.assign({},e,{extractedUrl:t.urlHandlingStrategy.extract(e.rawUrl)})})),rc((function(e){var r,i,a,o,s=!1,l=!1;return wl(e).pipe(Bl((function(e){t.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:t.lastSuccessfulNavigation?Object.assign({},t.lastSuccessfulNavigation,{previousNavigation:null}):null}})),rc((function(e){var r,i,a,o,s=!t.navigated||e.extractedUrl.toString()!==t.browserUrlTree.toString();if(("reload"===t.onSameUrlNavigation||s)&&t.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return wl(e).pipe(rc((function(e){var r=t.transitions.getValue();return n.next(new bu(e.id,t.serializeUrl(e.extractedUrl),e.source,e.restoredState)),r!==t.transitions.getValue()?bl:[e]})),rc((function(e){return Promise.resolve(e)})),(r=t.ngModule.injector,i=t.configLoader,a=t.urlSerializer,o=t.config,function(e){return e.pipe(rc((function(e){return function(e,t,n,r,i){return new Zh(e,t,n,r,i).apply()}(r,i,a,e.extractedUrl,o).pipe(V((function(t){return Object.assign({},e,{urlAfterRedirects:t})})))})))}),Bl((function(e){t.currentNavigation=Object.assign({},t.currentNavigation,{finalUrl:e.urlAfterRedirects})})),function(e,n,r,i,a){return function(r){return r.pipe(J((function(r){return function(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"emptyOnly",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"legacy";return new fd(e,t,n,r,i,a).recognize()}(e,n,r.urlAfterRedirects,(o=r.urlAfterRedirects,t.serializeUrl(o)),i,a).pipe(V((function(e){return Object.assign({},r,{targetSnapshot:e})})));var o})))}}(t.rootComponentType,t.config,0,t.paramsInheritanceStrategy,t.relativeLinkResolution),Bl((function(e){"eager"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),Bl((function(e){var r=new ku(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);n.next(r)})));if(s&&t.rawUrlTree&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){var l=e.id,c=e.extractedUrl,u=e.source,h=e.restoredState,d=e.extras,p=new bu(l,t.serializeUrl(c),u,h);n.next(p);var f=kh(c,t.rootComponentType).snapshot;return wl(Object.assign({},e,{targetSnapshot:f,urlAfterRedirects:c,extras:Object.assign({},d,{skipLocationChange:!1,replaceUrl:!1})}))}return t.rawUrlTree=e.rawUrl,t.browserUrlTree=e.urlAfterRedirects,e.resolve(null),bl})),kd((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,l=o.replaceUrl;return t.hooks.beforePreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})})),Bl((function(e){var n=new xu(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),V((function(e){return Object.assign({},e,{guards:(n=e.targetSnapshot,r=e.currentSnapshot,i=t.rootContexts,a=n._root,function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=Ch(n);return t.children.forEach((function(t){!function(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{canDeactivateChecks:[],canActivateChecks:[]},o=t.value,s=n?n.value:null,l=r?r.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){var c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!eh(e.url,t.url);case"pathParamsOrQueryParamsChange":return!eh(e.url,t.url)||!Wu(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Th(e,t)||!Wu(e.queryParams,t.queryParams);case"paramsChange":default:return!Th(e,t)}}(s,o,o.routeConfig.runGuardsAndResolvers);c?a.canActivateChecks.push(new rd(i)):(o.data=s.data,o._resolvedData=s._resolvedData),e(t,n,o.component?l?l.children:null:r,i,a),c&&a.canDeactivateChecks.push(new id(l&&l.outlet&&l.outlet.component||null,s))}else s&&od(n,l,a),a.canActivateChecks.push(new rd(i)),e(t,null,o.component?l?l.children:null:r,i,a)}(t,o[t.value.outlet],r,i.concat([t.value]),a),delete o[t.value.outlet]})),Xu(o,(function(e,t){return od(e,r.getContext(t),a)})),a}(a,r?r._root:null,i,[a.value]))});var n,r,i,a})),function(e,t){return function(n){return n.pipe(J((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,o=a.canActivateChecks,s=a.canDeactivateChecks;return 0===s.length&&0===o.length?wl(Object.assign({},n,{guardsResult:!0})):function(e,t,n,r){return X(e).pipe(J((function(e){return function(e,t,n,r,i){var a=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return a&&0!==a.length?wl(a.map((function(a){var o,s=ad(a,t,i);if(function(e){return e&&Wh(e.canDeactivate)}(s))o=Ju(s.canDeactivate(e,t,n,r));else{if(!Wh(s))throw new Error("Invalid CanDeactivate guard");o=Ju(s(e,t,n,r))}return o.pipe(ec())}))).pipe(ld()):wl(!0)}(e.component,e.route,n,t,r)})),ec((function(e){return!0!==e}),!0))}(s,r,i,e).pipe(J((function(n){return n&&"boolean"==typeof n?function(e,t,n,r){return X(t).pipe(uc((function(t){return X([ud(t.route.parent,r),cd(t.route,r),dd(e,t.path,n),hd(e,t.route,n)]).pipe(Ml(),ec((function(e){return!0!==e}),!0))})),ec((function(e){return!0!==e}),!0))}(r,o,e,t):wl(n)})),V((function(e){return Object.assign({},n,{guardsResult:e})})))})))}}(t.ngModule.injector,(function(e){return t.triggerEvent(e)})),Bl((function(e){if(Gh(e.guardsResult)){var n=Nu('Redirecting to "'.concat(t.serializeUrl(e.guardsResult),'"'));throw n.url=e.guardsResult,n}})),Bl((function(e){var n=new Su(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);t.triggerEvent(n)})),Tl((function(e){if(!e.guardsResult){t.resetUrlToCurrentUrlTree();var r=new Cu(e.id,t.serializeUrl(e.extractedUrl),"");return n.next(r),e.resolve(!1),!1}return!0})),kd((function(e){if(e.guards.canActivateChecks.length)return wl(e).pipe(Bl((function(e){var n=new Ou(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})),(n=t.paramsInheritanceStrategy,r=t.ngModule.injector,function(e){return e.pipe(J((function(e){var t=e.targetSnapshot,i=e.guards.canActivateChecks;return i.length?X(i).pipe(uc((function(e){return function(e,t,n,r){return function(e,t,n,r){var i=Object.keys(e);if(0===i.length)return wl({});if(1===i.length){var a=i[0];return wd(e[a],t,n,r).pipe(V((function(e){return _defineProperty({},a,e)})))}var o={};return X(i).pipe(J((function(i){return wd(e[i],t,n,r).pipe(V((function(e){return o[i]=e,e})))}))).pipe(Yl(),V((function(){return o})))}(e._resolve,e,t,r).pipe(V((function(t){return e._resolvedData=t,e.data=Object.assign({},e.data,Sh(e,n).resolve),null})))}(e.route,t,n,r)})),function(e,t){return arguments.length>=2?function(n){return y(sc(e,t),Fl(1),Vl(t))(n)}:function(t){return y(sc((function(t,n,r){return e(t,n,r+1)})),Fl(1))(t)}}((function(e,t){return e})),V((function(t){return e}))):wl(e)})))}),Bl((function(e){var n=new ju(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.triggerEvent(n)})));var n,r})),kd((function(e){var n=e.targetSnapshot,r=e.id,i=e.extractedUrl,a=e.rawUrl,o=e.extras,s=o.skipLocationChange,l=o.replaceUrl;return t.hooks.afterPreactivation(n,{navigationId:r,appliedUrlTree:i,rawUrlTree:a,skipLocationChange:!!s,replaceUrl:!!l})})),V((function(e){var n=function(e,t,n){var r=function e(t,n,r){if(r&&t.shouldReuseRoute(n.value,r.value.snapshot)){var i=r.value;i._futureSnapshot=n.value;var a=function(t,n,r){return n.children.map((function(n){var i,a=_createForOfIteratorHelper(r.children);try{for(a.s();!(i=a.n()).done;){var o=i.value;if(t.shouldReuseRoute(o.value.snapshot,n.value))return e(t,n,o)}}catch(s){a.e(s)}finally{a.f()}return e(t,n)}))}(t,n,r);return new yh(i,a)}var o=t.retrieve(n.value);if(o){var s=o.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(var r=0;r<t.children.length;++r)e(t.children[r],n.children[r])}(n,s),s}var l,c=new xh(new kl((l=n.value).url),new kl(l.params),new kl(l.queryParams),new kl(l.fragment),new kl(l.data),l.outlet,l.component,l),u=n.children.map((function(n){return e(t,n)}));return new yh(c,u)}(e,t._root,n?n._root:void 0);return new wh(r,t)}(t.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign({},e,{targetRouterState:n})})),Bl((function(e){t.currentUrlTree=e.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(t.currentUrlTree,e.rawUrl),t.routerState=e.targetRouterState,"deferred"===t.urlUpdateStrategy&&(e.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),t.browserUrlTree=e.urlAfterRedirects)})),(i=t.rootContexts,a=t.routeReuseStrategy,o=function(e){return t.triggerEvent(e)},V((function(e){return new Hh(a,e.targetRouterState,e.currentRouterState,o).activate(i),e}))),Bl({next:function(){s=!0},complete:function(){s=!0}}),(r=function(){if(!s&&!l){t.resetUrlToCurrentUrlTree();var r=new Cu(e.id,t.serializeUrl(e.extractedUrl),"Navigation ID ".concat(e.id," is not equal to the current navigation id ").concat(t.navigationId));n.next(r),e.resolve(!1)}t.currentNavigation=null},function(e){return e.lift(new hc(r))}),Xl((function(r){if(l=!0,(s=r)&&s.ngNavigationCancelingError){var i=Gh(r.url);i||(t.navigated=!0,t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));var a=new Cu(e.id,t.serializeUrl(e.extractedUrl),r.message);n.next(a),e.resolve(!1),i&&t.navigateByUrl(r.url)}else{t.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);var o=new wu(e.id,t.serializeUrl(e.extractedUrl),r);n.next(o);try{e.resolve(t.errorHandler(r))}catch(c){e.reject(c)}}var s;return bl})))})))}},{key:"resetRootComponentType",value:function(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}},{key:"getTransition",value:function(){var e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}},{key:"setTransition",value:function(e){this.transitions.next(Object.assign({},this.getTransition(),e))}},{key:"initialNavigation",value:function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}},{key:"setUpLocationChangeListener",value:function(){var e=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(t){var n=e.parseUrl(t.url),r="popstate"===t.type?"popstate":"hashchange",i=t.state&&t.state.navigationId?t.state:null;setTimeout((function(){e.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))}},{key:"getCurrentNavigation",value:function(){return this.currentNavigation}},{key:"triggerEvent",value:function(e){this.events.next(e)}},{key:"resetConfig",value:function(e){qu(e),this.config=e.map(Vu),this.navigated=!1,this.lastSuccessfulId=-1}},{key:"ngOnDestroy",value:function(){this.dispose()}},{key:"dispose",value:function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}},{key:"createUrlTree",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.relativeTo,r=t.queryParams,i=t.fragment,a=t.preserveQueryParams,o=t.queryParamsHandling,s=t.preserveFragment;at()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,c=s?this.currentUrlTree.fragment:i,u=null;if(o)switch(o){case"merge":u=Object.assign({},this.currentUrlTree.queryParams,r);break;case"preserve":u=this.currentUrlTree.queryParams;break;default:u=r||null}else u=a?this.currentUrlTree.queryParams:r||null;return null!==u&&(u=this.removeEmptyProps(u)),function(e,t,n,r,i){if(0===n.length)return Ah(t.root,t.root,t,r,i);var a=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new Dh(!0,0,e);var t=0,n=!1,r=e.reduce((function(e,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var a={};return Xu(r.outlets,(function(e,t){a[t]="string"==typeof e?e.split("/"):e})),[].concat(_toConsumableArray(e),[{outlets:a}])}if(r.segmentPath)return[].concat(_toConsumableArray(e),[r.segmentPath])}return"string"!=typeof r?[].concat(_toConsumableArray(e),[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?t++:""!=r&&e.push(r))})),e):[].concat(_toConsumableArray(e),[r])}),[]);return new Dh(n,t,r)}(n);if(a.toRoot())return Ah(t.root,new Zu([],{}),t,r,i);var o=function(e,t,n){if(e.isAbsolute)return new Rh(t.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new Rh(n.snapshot._urlSegment,!0,0);var r=Ih(e.commands[0])?0:1;return function(e,t,n){for(var r=e,i=t,a=n;a>i;){if(a-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new Rh(r,!1,i-a)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,e.numberOfDoubleDots)}(a,t,e),s=o.processChildren?Nh(o.segmentGroup,o.index,a.commands):Lh(o.segmentGroup,o.index,a.commands);return Ah(o.segmentGroup,s,t,r,i)}(l,this.currentUrlTree,e,u,c)}},{key:"navigateByUrl",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};at()&&this.isNgZoneEnabled&&!Ea.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=Gh(e)?e:this.parseUrl(e),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,t)}},{key:"navigate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skipLocationChange:!1};return function(e){for(var t=0;t<e.length;t++){var n=e[t];if(null==n)throw new Error("The requested path contains ".concat(n," segment at index ").concat(t))}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}},{key:"serializeUrl",value:function(e){return this.urlSerializer.serialize(e)}},{key:"parseUrl",value:function(e){var t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}},{key:"isActive",value:function(e,t){if(Gh(e))return Ku(this.currentUrlTree,e,t);var n=this.parseUrl(e);return Ku(this.currentUrlTree,n,t)}},{key:"removeEmptyProps",value:function(e){return Object.keys(e).reduce((function(t,n){var r=e[n];return null!=r&&(t[n]=r),t}),{})}},{key:"processNavigations",value:function(){var e=this;this.navigations.subscribe((function(t){e.navigated=!0,e.lastSuccessfulId=t.id,e.events.next(new yu(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(e.currentUrlTree))),e.lastSuccessfulNavigation=e.currentNavigation,e.currentNavigation=null,t.resolve(!0)}),(function(t){e.console.warn("Unhandled Navigation Error: ")}))}},{key:"scheduleNavigation",value:function(e,t,n,r){var i=this.getTransition();if(i&&"imperative"!==t&&"imperative"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"hashchange"==t&&"popstate"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(i&&"popstate"==t&&"hashchange"===i.source&&i.rawUrl.toString()===e.toString())return Promise.resolve(!0);var a=null,o=null,s=new Promise((function(e,t){a=e,o=t})),l=++this.navigationId;return this.setTransition({id:l,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:r,resolve:a,reject:o,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(e){return Promise.reject(e)}))}},{key:"setBrowserUrl",value:function(e,t,n,r){var i=this.urlSerializer.serialize(e);r=r||{},this.location.isCurrentPathEqualTo(i)||t?this.location.replaceState(i,"",Object.assign({},r,{navigationId:n})):this.location.go(i,"",Object.assign({},r,{navigationId:n}))}},{key:"resetStateAndUrl",value:function(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}},{key:"resetUrlToCurrentUrlTree",value:function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}},{key:"url",get:function(){return this.serializeUrl(this.currentUrlTree)}}]),e}(),Dd=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.router=t,this.route=n,this.commands=[],null==r&&i.setAttribute(a.nativeElement,"tabindex","0")}return _createClass2(e,[{key:"onClick",value:function(){var e={skipLocationChange:Fd(this.skipLocationChange),replaceUrl:Fd(this.replaceUrl)};return this.router.navigateByUrl(this.urlTree,e),!0}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){at()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Fd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Fd(this.preserveFragment)})}}]),e}(),Rd=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this.router=t,this.route=n,this.locationStrategy=r,this.commands=[],this.subscription=t.events.subscribe((function(e){e instanceof yu&&i.updateTargetUrlAndHref()}))}return _createClass2(e,[{key:"ngOnChanges",value:function(e){this.updateTargetUrlAndHref()}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"onClick",value:function(e,t,n,r){if(0!==e||t||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:Fd(this.skipLocationChange),replaceUrl:Fd(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1}},{key:"updateTargetUrlAndHref",value:function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))}},{key:"routerLink",set:function(e){this.commands=null!=e?Array.isArray(e)?e:[e]:[]}},{key:"preserveQueryParams",set:function(e){at()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=e}},{key:"urlTree",get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:Fd(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:Fd(this.preserveFragment)})}}]),e}();function Fd(e){return""===e||!!e}var Ld=function e(){_classCallCheck2(this,e),this.outlet=null,this.route=null,this.resolver=null,this.children=new Nd,this.attachRef=null},Nd=function(){function e(){_classCallCheck2(this,e),this.contexts=new Map}return _createClass2(e,[{key:"onChildOutletCreated",value:function(e,t){var n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}},{key:"onChildOutletDestroyed",value:function(e){var t=this.getContext(e);t&&(t.outlet=null)}},{key:"onOutletDeactivated",value:function(){var e=this.contexts;return this.contexts=new Map,e}},{key:"onOutletReAttached",value:function(e){this.contexts=e}},{key:"getOrCreateContext",value:function(e){var t=this.getContext(e);return t||(t=new Ld,this.contexts.set(e,t)),t}},{key:"getContext",value:function(e){return this.contexts.get(e)||null}}]),e}(),Bd=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.parentContexts=t,this.location=n,this.resolver=r,this.changeDetector=a,this.activated=null,this._activatedRoute=null,this.activateEvents=new Hi,this.deactivateEvents=new Hi,this.name=i||"primary",t.onChildOutletCreated(this.name,this)}return _createClass2(e,[{key:"ngOnDestroy",value:function(){this.parentContexts.onChildOutletDestroyed(this.name)}},{key:"ngOnInit",value:function(){if(!this.activated){var e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}},{key:"detach",value:function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var e=this.activated;return this.activated=null,this._activatedRoute=null,e}},{key:"attach",value:function(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}},{key:"deactivate",value:function(){if(this.activated){var e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}},{key:"activateWith",value:function(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;var n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new zd(e,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}},{key:"isActivated",get:function(){return!!this.activated}},{key:"component",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}},{key:"activatedRoute",get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}},{key:"activatedRouteData",get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}}]),e}(),zd=function(){function e(t,n,r){_classCallCheck2(this,e),this.route=t,this.childContexts=n,this.parent=r}return _createClass2(e,[{key:"get",value:function(e,t){return e===xh?this.route:e===Nd?this.childContexts:this.parent.get(e,t)}}]),e}(),qd=function e(){_classCallCheck2(this,e)},Ud=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"preload",value:function(e,t){return t().pipe(Xl((function(){return wl(null)})))}}]),e}(),Hd=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"preload",value:function(e,t){return wl(null)}}]),e}(),Vd=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=new jd(n,r,(function(e){return t.triggerEvent(new Eu(e))}),(function(e){return t.triggerEvent(new Pu(e))}))}return _createClass2(e,[{key:"setUpPreloading",value:function(){var e=this;this.subscription=this.router.events.pipe(Tl((function(e){return e instanceof yu})),uc((function(){return e.preload()}))).subscribe((function(){}))}},{key:"preload",value:function(){var e=this.injector.get(Ge);return this.processRoutes(e,this.router.config)}},{key:"ngOnDestroy",value:function(){this.subscription.unsubscribe()}},{key:"processRoutes",value:function(e,t){var n,r=[],i=_createForOfIteratorHelper(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a.loadChildren&&!a.canLoad&&a._loadedConfig){var o=a._loadedConfig;r.push(this.processRoutes(o.module,o.routes))}else a.loadChildren&&!a.canLoad?r.push(this.preloadConfig(e,a)):a.children&&r.push(this.processRoutes(e,a.children))}}catch(s){i.e(s)}finally{i.f()}return X(r).pipe(Q(),V((function(e){})))}},{key:"preloadConfig",value:function(e,t){var n=this;return this.preloadingStrategy.preload(t,(function(){return n.loader.load(e.injector,t).pipe(J((function(e){return t._loadedConfig=e,n.processRoutes(e.module,e.routes)})))}))}}]),e}(),Wd=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_classCallCheck2(this,e),this.router=t,this.viewportScroller=n,this.options=r,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},r.scrollPositionRestoration=r.scrollPositionRestoration||"disabled",r.anchorScrolling=r.anchorScrolling||"disabled"}return _createClass2(e,[{key:"init",value:function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}},{key:"createScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof bu?(e.store[e.lastId]=e.viewportScroller.getScrollPosition(),e.lastSource=t.navigationTrigger,e.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof yu&&(e.lastId=t.id,e.scheduleScrollEvent(t,e.router.parseUrl(t.urlAfterRedirects).fragment))}))}},{key:"consumeScrollEvents",value:function(){var e=this;return this.router.events.subscribe((function(t){t instanceof Du&&(t.position?"top"===e.options.scrollPositionRestoration?e.viewportScroller.scrollToPosition([0,0]):"enabled"===e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===e.options.anchorScrolling?e.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==e.options.scrollPositionRestoration&&e.viewportScroller.scrollToPosition([0,0]))}))}},{key:"scheduleScrollEvent",value:function(e,t){this.router.triggerEvent(new Du(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}},{key:"ngOnDestroy",value:function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}]),e}(),Gd=new Re("ROUTER_CONFIGURATION"),Yd=new Re("ROUTER_FORROOT_GUARD"),Xd=[Hs,{provide:nh,useClass:rh},{provide:Ad,useFactory:tp,deps:[Ga,nh,Nd,Hs,Jt,Xa,ba,Od,Gd,[Ed,new _e],[xd,new _e]]},Nd,{provide:xh,useFactory:np,deps:[Ad]},{provide:Xa,useClass:$a},Vd,Hd,Ud,{provide:Gd,useValue:{enableTracing:!1}}];function Jd(){return new za("Router",Ad)}var Kd=function(){function e(t,n){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"forRoot",value:function(t,n){return{ngModule:e,providers:[Xd,ep(t),{provide:Yd,useFactory:Qd,deps:[[Ad,new _e,new ye]]},{provide:Gd,useValue:n||{}},{provide:qs,useFactory:Zd,deps:[Bs,[new ve(Us),new _e],Gd]},{provide:Wd,useFactory:$d,deps:[Ad,vl,Gd]},{provide:qd,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Hd},{provide:za,multi:!0,useFactory:Jd},[rp,{provide:na,multi:!0,useFactory:ip,deps:[rp]},{provide:op,useFactory:ap,deps:[rp]},{provide:ca,multi:!0,useExisting:op}]]}}},{key:"forChild",value:function(t){return{ngModule:e,providers:[ep(t)]}}}]),e}();function $d(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new Wd(e,t,n)}function Zd(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.useHash?new Ws(e,t):new Gs(e,t)}function Qd(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ep(e){return[{provide:rn,multi:!0,useValue:e},{provide:Od,multi:!0,useValue:e}]}function tp(e,t,n,r,i,a,o,s){var l=arguments.length>8&&void 0!==arguments[8]?arguments[8]:{},c=arguments.length>9?arguments[9]:void 0,u=arguments.length>10?arguments[10]:void 0,h=new Ad(null,t,n,r,i,a,o,Gu(s));if(c&&(h.urlHandlingStrategy=c),u&&(h.routeReuseStrategy=u),l.errorHandler&&(h.errorHandler=l.errorHandler),l.malformedUriErrorHandler&&(h.malformedUriErrorHandler=l.malformedUriErrorHandler),l.enableTracing){var d=fc();h.events.subscribe((function(e){d.logGroup("Router Event: "+e.constructor.name),d.log(e.toString()),d.log(e),d.logGroupEnd()}))}return l.onSameUrlNavigation&&(h.onSameUrlNavigation=l.onSameUrlNavigation),l.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=l.paramsInheritanceStrategy),l.urlUpdateStrategy&&(h.urlUpdateStrategy=l.urlUpdateStrategy),l.relativeLinkResolution&&(h.relativeLinkResolution=l.relativeLinkResolution),h}function np(e){return e.routerState.root}var rp=function(){function e(t){_classCallCheck2(this,e),this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new M}return _createClass2(e,[{key:"appInitializer",value:function(){var e=this;return this.injector.get(zs,Promise.resolve(null)).then((function(){var t=null,n=new Promise((function(e){return t=e})),r=e.injector.get(Ad),i=e.injector.get(Gd);if(e.isLegacyDisabled(i)||e.isLegacyEnabled(i))t(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),t(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '".concat(i.initialNavigation,"'"));r.hooks.afterPreactivation=function(){return e.initNavigation?wl(null):(e.initNavigation=!0,t(!0),e.resultOfPreactivationDone)},r.initialNavigation()}return n}))}},{key:"bootstrapListener",value:function(e){var t=this.injector.get(Gd),n=this.injector.get(Vd),r=this.injector.get(Wd),i=this.injector.get(Ad),a=this.injector.get(Ga);e===a.components[0]&&(this.isLegacyEnabled(t)?i.initialNavigation():this.isLegacyDisabled(t)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(a.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}},{key:"isLegacyEnabled",value:function(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}},{key:"isLegacyDisabled",value:function(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}]),e}();function ip(e){return e.appInitializer.bind(e)}function ap(e){return e.bootstrapListener.bind(e)}var op=new Re("Router Initializer"),sp=ur({encapsulation:2,styles:[],data:{}});function lp(e){return Mo(0,[(e()(),po(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),yi(1,212992,null,0,Bd,[Nd,Yn,bn,[8,null],At],null,null)],(function(e,t){e(t,1,0)}),null)}var cp=Kr("ng-component",Ru,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"ng-component",[],null,null,null,lp,sp)),yi(1,49152,null,0,Ru,[],null,null)],null,null)}),{},{},[]),up=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;_classCallCheck2(this,n),(i=t.call(this,e)).sources=r,i.completed=0,i.haveValues=0;var a=r.length;i.values=new Array(a);for(var o=0;o<a;o++){var s=U(_assertThisInitialized(i),r[o],null,o);s&&i.add(s)}return i}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.values[n]=t,i._hasValue||(i._hasValue=!0,this.haveValues++)}},{key:"notifyComplete",value:function(e){var t=this.destination,n=this.haveValues,r=this.values,i=r.length;e._hasValue?(this.completed++,this.completed===i&&(n===i&&t.next(r),t.complete())):t.complete()}}]),n}(H),hp=new Re("NgValueAccessor"),dp=new Re("CompositionEventMode"),pp=function(){function e(t,n,r){var i;_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._compositionMode=r,this.onChange=function(e){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(i=fc()?fc().getUserAgent():"",!/android (\d+)/.test(i.toLowerCase())))}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_handleInput",value:function(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}},{key:"_compositionStart",value:function(){this._composing=!0}},{key:"_compositionEnd",value:function(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}]),e}(),fp=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"reset",value:function(e){this.control&&this.control.reset(e)}},{key:"hasError",value:function(e,t){return!!this.control&&this.control.hasError(e,t)}},{key:"getError",value:function(e,t){return this.control?this.control.getError(e,t):null}},{key:"value",get:function(){return this.control?this.control.value:null}},{key:"valid",get:function(){return this.control?this.control.valid:null}},{key:"invalid",get:function(){return this.control?this.control.invalid:null}},{key:"pending",get:function(){return this.control?this.control.pending:null}},{key:"disabled",get:function(){return this.control?this.control.disabled:null}},{key:"enabled",get:function(){return this.control?this.control.enabled:null}},{key:"errors",get:function(){return this.control?this.control.errors:null}},{key:"pristine",get:function(){return this.control?this.control.pristine:null}},{key:"dirty",get:function(){return this.control?this.control.dirty:null}},{key:"touched",get:function(){return this.control?this.control.touched:null}},{key:"status",get:function(){return this.control?this.control.status:null}},{key:"untouched",get:function(){return this.control?this.control.untouched:null}},{key:"statusChanges",get:function(){return this.control?this.control.statusChanges:null}},{key:"valueChanges",get:function(){return this.control?this.control.valueChanges:null}},{key:"path",get:function(){return null}}]),e}(),mp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"formDirective",get:function(){return null}},{key:"path",get:function(){return null}}]),n}(fp);function gp(){throw new Error("unimplemented")}var vp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e;return _classCallCheck2(this,n),(e=t.apply(this,arguments))._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return _createClass2(n,[{key:"validator",get:function(){return gp()}},{key:"asyncValidator",get:function(){return gp()}}]),n}(fp),_p=function(){function e(t){_classCallCheck2(this,e),this._cd=t}return _createClass2(e,[{key:"ngClassUntouched",get:function(){return!!this._cd.control&&this._cd.control.untouched}},{key:"ngClassTouched",get:function(){return!!this._cd.control&&this._cd.control.touched}},{key:"ngClassPristine",get:function(){return!!this._cd.control&&this._cd.control.pristine}},{key:"ngClassDirty",get:function(){return!!this._cd.control&&this._cd.control.dirty}},{key:"ngClassValid",get:function(){return!!this._cd.control&&this._cd.control.valid}},{key:"ngClassInvalid",get:function(){return!!this._cd.control&&this._cd.control.invalid}},{key:"ngClassPending",get:function(){return!!this._cd.control&&this._cd.control.pending}}]),e}(),bp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return n}(_p),yp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){return _classCallCheck2(this,n),t.call(this,e)}return n}(_p);function Cp(e){return null==e||0===e.length}var wp=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,kp=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"min",value:function(e){return function(t){if(Cp(t.value)||Cp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}},{key:"max",value:function(e){return function(t){if(Cp(t.value)||Cp(e))return null;var n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}},{key:"required",value:function(e){return Cp(e.value)?{required:!0}:null}},{key:"requiredTrue",value:function(e){return!0===e.value?null:{required:!0}}},{key:"email",value:function(e){return Cp(e.value)||wp.test(e.value)?null:{email:!0}}},{key:"minLength",value:function(e){return function(t){if(Cp(t.value))return null;var n=t.value?t.value.length:0;return n<e?{minlength:{requiredLength:e,actualLength:n}}:null}}},{key:"maxLength",value:function(e){return function(t){var n=t.value?t.value.length:0;return n>e?{maxlength:{requiredLength:e,actualLength:n}}:null}}},{key:"pattern",value:function(t){return t?("string"==typeof t?(r="","^"!==t.charAt(0)&&(r+="^"),r+=t,"$"!==t.charAt(t.length-1)&&(r+="$"),n=new RegExp(r)):(r=t.toString(),n=t),function(e){if(Cp(e.value))return null;var t=e.value;return n.test(t)?null:{pattern:{requiredPattern:r,actualValue:t}}}):e.nullValidator;var n,r}},{key:"nullValidator",value:function(e){return null}},{key:"compose",value:function(e){if(!e)return null;var t=e.filter(xp);return 0==t.length?null:function(e){return Op(function(e,t){return t.map((function(t){return t(e)}))}(e,t))}}},{key:"composeAsync",value:function(e){if(!e)return null;var t=e.filter(xp);return 0==t.length?null:function(e){return function e(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i;return"function"==typeof n[n.length-1]&&(i=n.pop()),1===n.length&&l(n[0])&&(n=n[0]),0===n.length?bl:i?e(n).pipe(V((function(e){return i.apply(void 0,_toConsumableArray(e))}))):new k((function(e){return new up(e,n)}))}(function(e,t){return t.map((function(t){return t(e)}))}(e,t).map(Sp)).pipe(V(Op))}}}]),e}();function xp(e){return null!=e}function Sp(e){var t=dn(e)?X(e):e;if(!pn(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Op(e){var t=e.reduce((function(e,t){return null!=t?Object.assign({},e,t):e}),{});return 0===Object.keys(t).length?null:t}function jp(e){return e.validate?function(t){return e.validate(t)}:e}function Ep(e){return e.validate?function(t){return e.validate(t)}:e}var Pp=function(){function e(){_classCallCheck2(this,e),this._accessors=[]}return _createClass2(e,[{key:"add",value:function(e,t){this._accessors.push([e,t])}},{key:"remove",value:function(e){for(var t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}},{key:"select",value:function(e){var t=this;this._accessors.forEach((function(n){t._isSameGroup(n,e)&&n[1]!==e&&n[1].fireUncheck(e.value)}))}},{key:"_isSameGroup",value:function(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}]),e}(),Mp='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',Tp='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Ip=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"controlParentException",value:function(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Mp)}},{key:"ngModelGroupException",value:function(){throw new Error('formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        '.concat(Tp,'\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        \n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>'))}},{key:"missingFormException",value:function(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Mp)}},{key:"groupParentException",value:function(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Tp)}},{key:"arrayParentException",value:function(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}},{key:"disabledAttrWarning",value:function(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n       \n      Example: \n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}},{key:"ngModelWarning",value:function(e){console.warn("\n    It looks like you're using ngModel on the same form field as ".concat(e,". \n    Support for using the ngModel input property and ngModelChange event with \n    reactive form directives has been deprecated in Angular v6 and will be removed \n    in Angular v7.\n    \n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/").concat("formControl"===e?"FormControlDirective":"FormControlName","#use-with-ngmodel\n    "))}}]),e}();function Ap(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Dp=function(){function e(t,n,r){_classCallCheck2(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption())}return _createClass2(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Ap(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}}]),e}();function Rp(e,t){return null==e?""+t:("string"==typeof t&&(t="'".concat(t,"'")),t&&"object"==typeof t&&(t="Object"),"".concat(e,": ").concat(t).slice(0,50))}var Fp=function(){function e(t,n,r){_classCallCheck2(this,e),this._element=t,this._renderer=n,this._select=r,this._select&&(this.id=this._select._registerOption(this))}return _createClass2(e,[{key:"_setElementValue",value:function(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}},{key:"_setSelected",value:function(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}},{key:"ngOnDestroy",value:function(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}},{key:"ngValue",set:function(e){null!=this._select&&(this._value=e,this._setElementValue(Rp(this.id,e)),this._select.writeValue(this._select.value))}},{key:"value",set:function(e){this._select?(this._value=e,this._setElementValue(Rp(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}}]),e}();function Lp(e,t){return[].concat(_toConsumableArray(t.path),[e])}function Np(e,t){e||Up(t,"Cannot find control with"),t.valueAccessor||Up(t,"No value accessor for form control with"),e.validator=kp.compose([e.validator,t.validator]),e.asyncValidator=kp.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange((function(n){e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&Bp(e,t)}))}(e,t),function(e,t){e.registerOnChange((function(e,n){t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)}))}(e,t),function(e,t){t.valueAccessor.registerOnTouched((function(){e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&Bp(e,t),"submit"!==e.updateOn&&e.markAsTouched()}))}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange((function(e){t.valueAccessor.setDisabledState(e)})),t._rawValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))})),t._rawAsyncValidators.forEach((function(t){t.registerOnValidatorChange&&t.registerOnValidatorChange((function(){return e.updateValueAndValidity()}))}))}function Bp(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function zp(e,t){null==e&&Up(t,"Cannot find control with"),e.validator=kp.compose([e.validator,t.validator]),e.asyncValidator=kp.composeAsync([e.asyncValidator,t.asyncValidator])}function qp(e){return Up(e,"There is no FormControl instance attached to form control element with")}function Up(e,t){var n;throw n=e.path.length>1?"path: '".concat(e.path.join(" -> "),"'"):e.path[0]?"name: '".concat(e.path,"'"):"unspecified name attribute",new Error("".concat(t," ").concat(n))}function Hp(e){return null!=e?kp.compose(e.map(jp)):null}function Vp(e){return null!=e?kp.composeAsync(e.map(Ep)):null}var Wp=[function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}},{key:"registerOnChange",value:function(e){this.onChange=e}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this.onChange=function(e){},this.onTouched=function(){}}return _createClass2(e,[{key:"writeValue",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}},{key:"registerOnChange",value:function(e){this.onChange=function(t){e(""==t?null:parseFloat(t))}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=sn}return _createClass2(e,[{key:"writeValue",value:function(e){this.value=e;var t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=Ap(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){t.value=t._getOptionValue(n),e(t.value)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(){return(this._idCounter++).toString()}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r),e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}(),function(){function e(t,n){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._optionMap=new Map,this._idCounter=0,this.onChange=function(e){},this.onTouched=function(){},this._compareWith=sn}return _createClass2(e,[{key:"writeValue",value:function(e){var t,n=this;if(this.value=e,Array.isArray(e)){var r=e.map((function(e){return n._getOptionId(e)}));t=function(e,t){e._setSelected(r.indexOf(t.toString())>-1)}}else t=function(e,t){e._setSelected(!1)};this._optionMap.forEach(t)}},{key:"registerOnChange",value:function(e){var t=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,a=0;a<i.length;a++){var o=i.item(a),s=t._getOptionValue(o.value);r.push(s)}else for(var l=n.options,c=0;c<l.length;c++){var u=l.item(c);if(u.selected){var h=t._getOptionValue(u.value);r.push(h)}}t.value=r,e(r)}}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_registerOption",value:function(e){var t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}},{key:"_getOptionId",value:function(e){for(var t=0,n=Array.from(this._optionMap.keys());t<n.length;t++){var r=n[t];if(this._compareWith(this._optionMap.get(r)._value,e))return r}return null}},{key:"_getOptionValue",value:function(e){var t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}},{key:"compareWith",set:function(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}}]),e}(),function(){function e(t,n,r,i){_classCallCheck2(this,e),this._renderer=t,this._elementRef=n,this._registry=r,this._injector=i,this.onChange=function(){},this.onTouched=function(){}}return _createClass2(e,[{key:"ngOnInit",value:function(){this._control=this._injector.get(vp),this._checkName(),this._registry.add(this._control,this)}},{key:"ngOnDestroy",value:function(){this._registry.remove(this)}},{key:"writeValue",value:function(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}},{key:"registerOnChange",value:function(e){var t=this;this._fn=e,this.onChange=function(){e(t.value),t._registry.select(t)}}},{key:"fireUncheck",value:function(e){this.writeValue(e)}},{key:"registerOnTouched",value:function(e){this.onTouched=e}},{key:"setDisabledState",value:function(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}},{key:"_checkName",value:function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}},{key:"_throwNameError",value:function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}]),e}()];function Gp(e){var t=Xp(e)?e.validators:e;return Array.isArray(t)?Hp(t):t||null}function Yp(e,t){var n=Xp(t)?t.asyncValidators:e;return Array.isArray(n)?Vp(n):n||null}function Xp(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}var Jp=function(){function e(t,n){_classCallCheck2(this,e),this.validator=t,this.asyncValidator=n,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return _createClass2(e,[{key:"setValidators",value:function(e){this.validator=Gp(e)}},{key:"setAsyncValidators",value:function(e){this.asyncValidator=Yp(e)}},{key:"clearValidators",value:function(){this.validator=null}},{key:"clearAsyncValidators",value:function(){this.asyncValidator=null}},{key:"markAsTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}},{key:"markAllAsTouched",value:function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(e){return e.markAllAsTouched()}))}},{key:"markAsUntouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(e){e.markAsUntouched({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"markAsDirty",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}},{key:"markAsPristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(e){e.markAsPristine({onlySelf:!0})})),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"markAsPending",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}},{key:"disable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(t){t.disable(Object.assign({},e,{onlySelf:!0}))})),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!0)}))}},{key:"enable",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild((function(t){t.enable(Object.assign({},e,{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign({},e,{skipPristineCheck:t})),this._onDisabledChange.forEach((function(e){return e(!1)}))}},{key:"_updateAncestors",value:function(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}},{key:"setParent",value:function(e){this._parent=e}},{key:"updateValueAndValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}},{key:"_updateTreeValidity",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{emitEvent:!0};this._forEachChild((function(t){return t._updateTreeValidity(e)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}},{key:"_setInitialStatus",value:function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}},{key:"_runValidator",value:function(){return this.validator?this.validator(this):null}},{key:"_runAsyncValidator",value:function(e){var t=this;if(this.asyncValidator){this.status="PENDING";var n=Sp(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return t.setErrors(n,{emitEvent:e})}))}}},{key:"_cancelExistingSubscription",value:function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}},{key:"setErrors",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}},{key:"get",value:function(e){return function(e,t,n){return null==t?null:(t instanceof Array||(t=t.split(".")),t instanceof Array&&0===t.length?null:t.reduce((function(e,t){return e instanceof $p?e.controls.hasOwnProperty(t)?e.controls[t]:null:e instanceof Zp&&e.at(t)||null}),e))}(this,e)}},{key:"getError",value:function(e,t){var n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}},{key:"hasError",value:function(e,t){return!!this.getError(e,t)}},{key:"_updateControlsErrors",value:function(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}},{key:"_initObservables",value:function(){this.valueChanges=new Hi,this.statusChanges=new Hi}},{key:"_calculateStatus",value:function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}},{key:"_anyControlsHaveStatus",value:function(e){return this._anyControls((function(t){return t.status===e}))}},{key:"_anyControlsDirty",value:function(){return this._anyControls((function(e){return e.dirty}))}},{key:"_anyControlsTouched",value:function(){return this._anyControls((function(e){return e.touched}))}},{key:"_updatePristine",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}},{key:"_updateTouched",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}},{key:"_isBoxedValue",value:function(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}},{key:"_registerOnCollectionChange",value:function(e){this._onCollectionChange=e}},{key:"_setUpdateStrategy",value:function(e){Xp(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}},{key:"_parentMarkedDirty",value:function(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}},{key:"parent",get:function(){return this._parent}},{key:"valid",get:function(){return"VALID"===this.status}},{key:"invalid",get:function(){return"INVALID"===this.status}},{key:"pending",get:function(){return"PENDING"==this.status}},{key:"disabled",get:function(){return"DISABLED"===this.status}},{key:"enabled",get:function(){return"DISABLED"!==this.status}},{key:"dirty",get:function(){return!this.pristine}},{key:"untouched",get:function(){return!this.touched}},{key:"updateOn",get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}},{key:"root",get:function(){for(var e=this;e._parent;)e=e._parent;return e}}]),e}(),Kp=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck2(this,n),(e=t.call(this,Gp(i),Yp(a,i)))._onChange=[],e._applyFormState(r),e._setUpdateStrategy(i),e.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),e._initObservables(),e}return _createClass2(n,[{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.value=this._pendingValue=e,this._onChange.length&&!1!==n.emitModelToViewChange&&this._onChange.forEach((function(e){return e(t.value,!1!==n.emitViewToModelChange)})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.setValue(e,t)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}},{key:"_updateValue",value:function(){}},{key:"_anyControls",value:function(e){return!1}},{key:"_allControlsDisabled",value:function(){return this.disabled}},{key:"registerOnChange",value:function(e){this._onChange.push(e)}},{key:"_clearChangeFns",value:function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}}},{key:"registerOnDisabledChange",value:function(e){this._onDisabledChange.push(e)}},{key:"_forEachChild",value:function(e){}},{key:"_syncPendingControls",value:function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}},{key:"_applyFormState",value:function(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}]),n}(Jp),$p=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,Gp(r),Yp(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return _createClass2(n,[{key:"registerControl",value:function(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}},{key:"addControl",value:function(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"removeControl",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"contains",value:function(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),Object.keys(e).forEach((function(r){t._throwIfControlMissing(r),t.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.keys(e).forEach((function(r){t.controls[r]&&t.controls[r].patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this._reduceChildren({},(function(e,t,n){return e[n]=t instanceof Kp?t.value:t.getRawValue(),e}))}},{key:"_syncPendingControls",value:function(){var e=this._reduceChildren(!1,(function(e,t){return!!t._syncPendingControls()||e}));return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error("Cannot find form control with name: ".concat(e,"."))}},{key:"_forEachChild",value:function(e){var t=this;Object.keys(this.controls).forEach((function(n){return e(t.controls[n],n)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){t.setParent(e),t._registerOnCollectionChange(e._onCollectionChange)}))}},{key:"_updateValue",value:function(){this.value=this._reduceValue()}},{key:"_anyControls",value:function(e){var t=this,n=!1;return this._forEachChild((function(r,i){n=n||t.contains(i)&&e(r)})),n}},{key:"_reduceValue",value:function(){var e=this;return this._reduceChildren({},(function(t,n,r){return(n.enabled||e.disabled)&&(t[r]=n.value),t}))}},{key:"_reduceChildren",value:function(e,t){var n=e;return this._forEachChild((function(e,r){n=t(n,e,r)})),n}},{key:"_allControlsDisabled",value:function(){for(var e=0,t=Object.keys(this.controls);e<t.length;e++){var n=t[e];if(this.controls[n].enabled)return!1}return Object.keys(this.controls).length>0||this.disabled}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control with name: '".concat(n,"'."))}))}}]),n}(Jp),Zp=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,Gp(r),Yp(i,r))).controls=e,a._initObservables(),a._setUpdateStrategy(r),a._setUpControls(),a.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),a}return _createClass2(n,[{key:"at",value:function(e){return this.controls[e]}},{key:"push",value:function(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"insert",value:function(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}},{key:"removeAt",value:function(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),this.updateValueAndValidity()}},{key:"setControl",value:function(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange((function(){})),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}},{key:"setValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._checkAllValuesPresent(e),e.forEach((function(e,r){t._throwIfControlMissing(r),t.at(r).setValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"patchValue",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};e.forEach((function(e,r){t.at(r)&&t.at(r).patchValue(e,{onlySelf:!0,emitEvent:n.emitEvent})})),this.updateValueAndValidity(n)}},{key:"reset",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._forEachChild((function(n,r){n.reset(e[r],{onlySelf:!0,emitEvent:t.emitEvent})})),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}},{key:"getRawValue",value:function(){return this.controls.map((function(e){return e instanceof Kp?e.value:e.getRawValue()}))}},{key:"clear",value:function(){this.controls.length<1||(this._forEachChild((function(e){return e._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())}},{key:"_syncPendingControls",value:function(){var e=this.controls.reduce((function(e,t){return!!t._syncPendingControls()||e}),!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}},{key:"_throwIfControlMissing",value:function(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}},{key:"_forEachChild",value:function(e){this.controls.forEach((function(t,n){e(t,n)}))}},{key:"_updateValue",value:function(){var e=this;this.value=this.controls.filter((function(t){return t.enabled||e.disabled})).map((function(e){return e.value}))}},{key:"_anyControls",value:function(e){return this.controls.some((function(t){return t.enabled&&e(t)}))}},{key:"_setUpControls",value:function(){var e=this;this._forEachChild((function(t){return e._registerControl(t)}))}},{key:"_checkAllValuesPresent",value:function(e){this._forEachChild((function(t,n){if(void 0===e[n])throw new Error("Must supply a value for form control at index: ".concat(n,"."))}))}},{key:"_allControlsDisabled",value:function(){var e,t=_createForOfIteratorHelper(this.controls);try{for(t.s();!(e=t.n()).done;){if(e.value.enabled)return!1}}catch(n){t.e(n)}finally{t.f()}return this.controls.length>0||this.disabled}},{key:"_registerControl",value:function(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}},{key:"length",get:function(){return this.controls.length}}]),n}(Jp),Qp=new Re("NgFormSelectorWarning"),ef=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormGroup(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormGroup(this)}},{key:"_checkParentType",value:function(){}},{key:"control",get:function(){return this.formDirective.getFormGroup(this)}},{key:"path",get:function(){return Lp(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Hp(this._validators)}},{key:"asyncValidator",get:function(){return Vp(this._asyncValidators)}}]),n}(mp),tf=function e(){_classCallCheck2(this,e)},nf=new Re("NgModelWithFormControlWarning"),rf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._validators=e,i._asyncValidators=r,i.submitted=!1,i.directives=[],i.form=null,i.ngSubmit=new Hi,i}return _createClass2(n,[{key:"ngOnChanges",value:function(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}},{key:"addControl",value:function(e){var t=this.form.get(e.path);return Np(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}},{key:"getControl",value:function(e){return this.form.get(e.path)}},{key:"removeControl",value:function(e){var t,n,r;t=this.directives,n=e,(r=t.indexOf(n))>-1&&t.splice(r,1)}},{key:"addFormGroup",value:function(e){var t=this.form.get(e.path);zp(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormGroup",value:function(e){}},{key:"getFormGroup",value:function(e){return this.form.get(e.path)}},{key:"addFormArray",value:function(e){var t=this.form.get(e.path);zp(t,e),t.updateValueAndValidity({emitEvent:!1})}},{key:"removeFormArray",value:function(e){}},{key:"getFormArray",value:function(e){return this.form.get(e.path)}},{key:"updateModel",value:function(e,t){this.form.get(e.path).setValue(t)}},{key:"onSubmit",value:function(e){return this.submitted=!0,t=this.directives,this.form._syncPendingControls(),t.forEach((function(e){var t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})),this.ngSubmit.emit(e),!1;var t}},{key:"onReset",value:function(){this.resetForm()}},{key:"resetForm",value:function(e){this.form.reset(e),this.submitted=!1}},{key:"_updateDomValue",value:function(){var e=this;this.directives.forEach((function(t){var n=e.form.get(t.path);t.control!==n&&(function(e,t){t.valueAccessor.registerOnChange((function(){return qp(t)})),t.valueAccessor.registerOnTouched((function(){return qp(t)})),t._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),t._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange(null)})),e&&e._clearChangeFns()}(t.control,t),n&&Np(n,t),t.control=n)})),this.form._updateTreeValidity({emitEvent:!1})}},{key:"_updateRegistrations",value:function(){var e=this;this.form._registerOnCollectionChange((function(){return e._updateDomValue()})),this._oldForm&&this._oldForm._registerOnCollectionChange((function(){})),this._oldForm=this.form}},{key:"_updateValidators",value:function(){var e=Hp(this._validators);this.form.validator=kp.compose([this.form.validator,e]);var t=Vp(this._asyncValidators);this.form.asyncValidator=kp.composeAsync([this.form.asyncValidator,t])}},{key:"_checkFormPresent",value:function(){this.form||Ip.missingFormException()}},{key:"formDirective",get:function(){return this}},{key:"control",get:function(){return this.form}},{key:"path",get:function(){return[]}}]),n}(mp),af=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this))._parent=e,a._validators=r,a._asyncValidators=i,a}return _createClass2(n,[{key:"_checkParentType",value:function(){sf(this._parent)&&Ip.groupParentException()}}]),n}(ef),of=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this))._parent=e,a._validators=r,a._asyncValidators=i,a}return _createClass2(n,[{key:"ngOnInit",value:function(){this._checkParentType(),this.formDirective.addFormArray(this)}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeFormArray(this)}},{key:"_checkParentType",value:function(){sf(this._parent)&&Ip.arrayParentException()}},{key:"control",get:function(){return this.formDirective.getFormArray(this)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"path",get:function(){return Lp(this.name,this._parent)}},{key:"validator",get:function(){return Hp(this._validators)}},{key:"asyncValidator",get:function(){return Vp(this._asyncValidators)}}]),n}(mp);function sf(e){return!(e instanceof af||e instanceof rf||e instanceof of)}var lf,cf=((lf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o){var s;return _classCallCheck2(this,n),(s=t.call(this))._ngModelWarningConfig=o,s._added=!1,s.update=new Hi,s._ngModelWarningSent=!1,s._parent=e,s._rawValidators=r||[],s._rawAsyncValidators=i||[],s.valueAccessor=function(e,t){if(!t)return null;Array.isArray(t)||Up(e,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return t.forEach((function(t){var a;t.constructor===pp?n=t:(a=t,Wp.some((function(e){return a.constructor===e}))?(r&&Up(e,"More than one built-in value accessor matches form control with"),r=t):(i&&Up(e,"More than one custom value accessor matches form control with"),i=t))})),i||r||n||(Up(e,"No valid value accessor for form control with"),null)}(_assertThisInitialized(s),a),s}return _createClass2(n,[{key:"ngOnChanges",value:function(e){var t,r;this._added||this._setUpControl(),function(e,t){if(!e.hasOwnProperty("model"))return!1;var n=e.model;return!!n.isFirstChange()||!sn(t,n.currentValue)}(e,this.viewModel)&&(t=n,r=this._ngModelWarningConfig,at()&&"never"!==r&&((null!==r&&"once"!==r||t._ngModelWarningSentOnce)&&("always"!==r||this._ngModelWarningSent)||(Ip.ngModelWarning("formControlName"),t._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}},{key:"ngOnDestroy",value:function(){this.formDirective&&this.formDirective.removeControl(this)}},{key:"viewToModelUpdate",value:function(e){this.viewModel=e,this.update.emit(e)}},{key:"_checkParentType",value:function(){!(this._parent instanceof af)&&this._parent instanceof ef?Ip.ngModelGroupException():this._parent instanceof af||this._parent instanceof rf||this._parent instanceof of||Ip.controlParentException()}},{key:"_setUpControl",value:function(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}},{key:"isDisabled",set:function(e){Ip.disabledAttrWarning()}},{key:"path",get:function(){return Lp(this.name,this._parent)}},{key:"formDirective",get:function(){return this._parent?this._parent.formDirective:null}},{key:"validator",get:function(){return Hp(this._rawValidators)}},{key:"asyncValidator",get:function(){return Vp(this._rawAsyncValidators)}}]),n}(vp))._ngModelWarningSentOnce=!1,lf),uf=function e(){_classCallCheck2(this,e)},hf=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"group",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=this._reduceControls(e),r=null,i=null,a=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(r=null!=t.validators?t.validators:null,i=null!=t.asyncValidators?t.asyncValidators:null,a=null!=t.updateOn?t.updateOn:void 0):(r=null!=t.validator?t.validator:null,i=null!=t.asyncValidator?t.asyncValidator:null)),new $p(n,{asyncValidators:i,updateOn:a,validators:r})}},{key:"control",value:function(e,t,n){return new Kp(e,t,n)}},{key:"array",value:function(e,t,n){var r=this,i=e.map((function(e){return r._createControl(e)}));return new Zp(i,t,n)}},{key:"_reduceControls",value:function(e){var t=this,n={};return Object.keys(e).forEach((function(r){n[r]=t._createControl(e[r])})),n}},{key:"_createControl",value:function(e){return e instanceof Kp||e instanceof $p||e instanceof Zp?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}]),e}(),df=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:Qp,useValue:t.warnOnDeprecatedNgFormSelector}]}}}]),e}(),pf=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"withConfig",value:function(t){return{ngModule:e,providers:[{provide:nf,useValue:t.warnOnNgModelWithFormControl}]}}}]),e}(),ff=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i.pending=!1,i}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(this.closed)return this;this.state=e;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(r,this.id,t),this}},{key:"requestAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return setInterval(e.flush.bind(e,this),n)}},{key:"recycleAsyncId",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}},{key:"execute",value:function(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;var n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}},{key:"_execute",value:function(e,t){var n=!1,r=void 0;try{this.work(e)}catch(i){n=!0,r=!!i&&i||new Error(i)}if(n)return this.unsubscribe(),r}},{key:"_unsubscribe",value:function(){var e=this.id,t=this.scheduler,n=t.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}]),n}(function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){return _classCallCheck2(this,n),t.call(this)}return _createClass2(n,[{key:"schedule",value:function(e){arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this}}]),n}(p)),mf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this,e,r)).scheduler=e,i.work=r,i}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t>0?_get2(_getPrototypeOf2(n.prototype),"schedule",this).call(this,e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}},{key:"execute",value:function(e,t){return t>0||this.closed?_get2(_getPrototypeOf2(n.prototype),"execute",this).call(this,e,t):this._execute(e,t)}},{key:"requestAsyncId",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return null!==r&&r>0||null===r&&this.delay>0?_get2(_getPrototypeOf2(n.prototype),"requestAsyncId",this).call(this,e,t,r):e.flush(this)}}]),n}(ff),gf=function(){var e=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.now;_classCallCheck2(this,e),this.SchedulerAction=t,this.now=n}return _createClass2(e,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return new this.SchedulerAction(this,e).schedule(n,t)}}]),e}();return e.now=function(){return Date.now()},e}(),vf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gf.now;return _classCallCheck2(this,n),(r=t.call(this,e,(function(){return n.delegate&&n.delegate!==_assertThisInitialized(r)?n.delegate.now():i()}))).actions=[],r.active=!1,r.scheduled=void 0,r}return _createClass2(n,[{key:"schedule",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2?arguments[2]:void 0;return n.delegate&&n.delegate!==this?n.delegate.schedule(e,t,r):_get2(_getPrototypeOf2(n.prototype),"schedule",this).call(this,e,t,r)}},{key:"flush",value:function(e){var t=this.actions;if(this.active)t.push(e);else{var n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}}]),n}(gf),_f=new(function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return n}(vf))(mf);function bf(e,t){return new k(t?function(n){return t.schedule(yf,0,{error:e,subscriber:n})}:function(t){return t.error(e)})}function yf(e){var t=e.error;e.subscriber.error(t)}var Cf,wf,kf=((Cf=function(){function e(t,n,r){_classCallCheck2(this,e),this.kind=t,this.value=n,this.error=r,this.hasValue="N"===t}return _createClass2(e,[{key:"observe",value:function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}},{key:"do",value:function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}},{key:"accept",value:function(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}},{key:"toObservable",value:function(){switch(this.kind){case"N":return wl(this.value);case"E":return bf(this.error);case"C":return yl()}throw new Error("unexpected notification kind value")}}],[{key:"createNext",value:function(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}},{key:"createError",value:function(t){return new e("E",void 0,t)}},{key:"createComplete",value:function(){return e.completeNotification}}]),e}()).completeNotification=new Cf("C"),Cf.undefinedValueNotification=new Cf("N",void 0),Cf),xf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return _classCallCheck2(this,n),(i=t.call(this,e)).scheduler=r,i.delay=a,i}return _createClass2(n,[{key:"scheduleMessage",value:function(e){this.destination.add(this.scheduler.schedule(n.dispatch,this.delay,new Sf(e,this.destination)))}},{key:"_next",value:function(e){this.scheduleMessage(kf.createNext(e))}},{key:"_error",value:function(e){this.scheduleMessage(kf.createError(e)),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleMessage(kf.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){var t=e.notification,n=e.destination;t.observe(n),this.unsubscribe()}}]),n}(g),Sf=function e(t,n){_classCallCheck2(this,e),this.notification=t,this.destination=n},Of=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Number.POSITIVE_INFINITY,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.POSITIVE_INFINITY,a=arguments.length>2?arguments[2]:void 0;return _classCallCheck2(this,n),(e=t.call(this)).scheduler=a,e._events=[],e._infiniteTimeWindow=!1,e._bufferSize=r<1?1:r,e._windowTime=i<1?1:i,i===Number.POSITIVE_INFINITY?(e._infiniteTimeWindow=!0,e.next=e.nextInfiniteTimeWindow):e.next=e.nextTimeWindow,e}return _createClass2(n,[{key:"nextInfiniteTimeWindow",value:function(e){var t=this._events;t.push(e),t.length>this._bufferSize&&t.shift(),_get2(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"nextTimeWindow",value:function(e){this._events.push(new jf(this._getNow(),e)),this._trimBufferThenGetEvents(),_get2(_getPrototypeOf2(n.prototype),"next",this).call(this,e)}},{key:"_subscribe",value:function(e){var t,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),i=this.scheduler,a=r.length;if(this.closed)throw new j;if(this.isStopped||this.hasError?t=p.EMPTY:(this.observers.push(e),t=new E(this,e)),i&&e.add(e=new xf(e,i)),n)for(var o=0;o<a&&!e.closed;o++)e.next(r[o]);else for(var s=0;s<a&&!e.closed;s++)e.next(r[s].value);return this.hasError?e.error(this.thrownError):this.isStopped&&e.complete(),t}},{key:"_getNow",value:function(){return(this.scheduler||_f).now()}},{key:"_trimBufferThenGetEvents",value:function(){for(var e=this._getNow(),t=this._bufferSize,n=this._windowTime,r=this._events,i=r.length,a=0;a<i&&!(e-r[a].time<n);)a++;return i>t&&(a=Math.max(a,i-t)),a>0&&r.splice(0,a),r}}]),n}(M),jf=function e(t,n){_classCallCheck2(this,e),this.time=t,this.value=n},Ef=function(){function e(t){_classCallCheck2(this,e),this.notifier=t}return _createClass2(e,[{key:"call",value:function(e,t){var n=new Pf(e),r=U(n,this.notifier);return r&&!n.seenValue?(n.add(r),t.subscribe(n)):n}}]),e}(),Pf=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e)).seenValue=!1,r}return _createClass2(n,[{key:"notifyNext",value:function(e,t,n,r,i){this.seenValue=!0,this.complete()}},{key:"notifyComplete",value:function(){}}]),n}(H),Mf={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1},Tf=function e(t){_classCallCheck2(this,e),Object.assign(this,t)},If=((wf=function(){function e(){_classCallCheck2(this,e),this.spinnerObservable=new Of(1)}return _createClass2(e,[{key:"getSpinner",value:function(e){return this.spinnerObservable.asObservable().pipe(Tl((function(t){return t&&t.name===e})))}},{key:"show",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",n=arguments.length>1?arguments[1]:void 0;return new Promise((function(r,i){n&&Object.keys(n).length?(n.name=t,e.spinnerObservable.next(new Tf(Object.assign(Object.assign({},n),{show:!0}))),r(!0)):(e.spinnerObservable.next(new Tf({name:t,show:!0})),r(!0))}))}},{key:"hide",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"primary",n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((function(r,i){setTimeout((function(){e.spinnerObservable.next(new Tf({name:t,show:!1})),r(!0)}),n)}))}}]),e}()).\u0275prov=ke({factory:function(){return new wf},token:wf,providedIn:"root"}),wf),Af=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this.spinnerService=t,this.changeDetector=n,this.spinner=new Tf,this.ngUnsubscribe=new M,this.setDefaultOptions=function(){r.spinner=new Tf({name:r.name,bdColor:r.bdColor,size:r.size,color:r.color,type:r.type,fullScreen:r.fullScreen,divArray:r.divArray,divCount:r.divCount,show:r.show,zIndex:r.zIndex,template:r.template})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name="primary",this.template=null,this.divArray=[],this.divCount=0,this.show=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e,t=this;this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe((e=this.ngUnsubscribe,function(t){return t.lift(new Ef(e))})).subscribe((function(e){t.setDefaultOptions(),Object.assign(t.spinner,e),e.show&&t.onInputChange(),t.changeDetector.markForCheck()}))}},{key:"ngOnChanges",value:function(e){for(var t in e)if(t){var n=e[t];if(n.isFirstChange())return;void 0!==n.currentValue&&n.currentValue!==n.previousValue&&""!==n.currentValue&&(this.spinner[t]=n.currentValue)}}},{key:"getClass",value:function(e,t){this.spinner.divCount=Mf[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((function(e,t){return t}));var n="";switch(t.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x"}return"la-"+e+" "+n}},{key:"onInputChange",value:function(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}},{key:"ngOnDestroy",value:function(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}]),e}(),Df=function e(){_classCallCheck2(this,e)},Rf=ur({encapsulation:0,styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-8bits[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:12px;height:12px}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:4px;height:4px;border-radius:0;opacity:0;-webkit-transform:translate(100%,100%);transform:translate(100%,100%);-webkit-animation:1s infinite ball-8bits;animation:1s infinite ball-8bits}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.9375s;animation-delay:-.9375s;top:-100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s;top:-100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s;top:-66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s;top:-33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s;top:0;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s;top:33.3333333333%;left:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s;top:66.6666666667%;left:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s;top:100%;left:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s;top:100%;left:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s;top:100%;left:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s;top:66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s;top:33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s;top:0;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s;top:-33.3333333333%;left:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s;top:-66.6666666667%;left:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s;top:-100%;left:-33.3333333333%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{width:36px;height:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:12px}@-webkit-keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%,50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-atom[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;top:50%;left:50%;z-index:1;width:60%;height:60%;background:#aaa;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:4.5s linear infinite ball-atom-shrink;animation:4.5s linear infinite ball-atom-shrink}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;left:0;z-index:0;width:100%;height:100%;background:0 0;-webkit-animation:1.5s steps(2,end) infinite ball-atom-zindex;animation:1.5s steps(2,end) infinite ball-atom-zindex}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{position:absolute;top:0;left:0;width:10px;height:10px;margin-top:-5px;margin-left:-5px;content:"";background:currentColor;border-radius:50%;opacity:.75;-webkit-animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size;animation:1.5s infinite ball-atom-position,1.5s infinite ball-atom-size}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-transform:rotate(120deg);transform:rotate(120deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-transform:rotate(240deg);transform:rotate(240deg);-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-125ms;animation-delay:-.5s,-125ms}.la-ball-atom.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):before{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-atom-position{50%{top:100%;left:100%}}@keyframes ball-atom-position{50%{top:100%;left:100%}}@-webkit-keyframes ball-atom-size{50%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}}@keyframes ball-atom-size{50%{-webkit-transform:scale(.5,.5);transform:scale(.5,.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{-webkit-transform:translate(-50%,-50%) scale(.8,.8);transform:translate(-50%,-50%) scale(.8,.8)}}@keyframes ball-atom-shrink{50%{-webkit-transform:translate(-50%,-50%) scale(.8,.8);transform:translate(-50%,-50%) scale(.8,.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.7s linear -.15s infinite ball-beat;animation:.7s linear -.15s infinite ball-beat}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-beat{50%{opacity:.2;-webkit-transform:scale(.75);transform:scale(.75)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;-webkit-transform:scale(.75);transform:scale(.75)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-circus[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:16px;height:16px}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:-100%;display:block;width:100%;height:100%;border-radius:100%;opacity:.5;-webkit-animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size;animation:2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-position,2.5s cubic-bezier(.25,0,.75,1) infinite ball-circus-size}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:32px;height:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:48px;height:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{-webkit-transform:scale(.3,.3);transform:scale(.3,.3)}}@keyframes ball-circus-size{50%{-webkit-transform:scale(.3,.3);transform:scale(.3,.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-climbing-dot[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:42px;height:32px}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){position:absolute;bottom:32%;left:18%;width:14px;height:14px;border-radius:100%;-webkit-transform-origin:center bottom;transform-origin:center bottom;-webkit-animation:.6s ease-in-out infinite ball-climbing-dot-jump;animation:.6s ease-in-out infinite ball-climbing-dot-jump}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){position:absolute;top:0;right:0;width:14px;height:2px;border-radius:0;-webkit-transform:translate(60%,0);transform:translate(60%,0);-webkit-animation:1.8s linear infinite ball-climbing-dot-steps;animation:1.8s linear infinite ball-climbing-dot-steps}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(2){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:6px;height:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:6px;height:1px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{width:84px;height:64px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:28px;height:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:28px;height:4px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{width:126px;height:96px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){width:42px;height:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:nth-child(1)){width:42px;height:6px}@-webkit-keyframes ball-climbing-dot-jump{0%,100%{-webkit-transform:scale(1,.7);transform:scale(1,.7)}20%,80%,90%{-webkit-transform:scale(.7,1.2);transform:scale(.7,1.2)}40%,46%{-webkit-transform:scale(1,1);transform:scale(1,1)}50%{bottom:125%}}@keyframes ball-climbing-dot-jump{0%,100%{-webkit-transform:scale(1,.7);transform:scale(1,.7)}20%,80%,90%{-webkit-transform:scale(.7,1.2);transform:scale(.7,1.2)}40%,46%{-webkit-transform:scale(1,1);transform:scale(1,1)}50%{bottom:125%}}@-webkit-keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}@keyframes ball-climbing-dot-steps{0%{top:0;right:0;opacity:0}50%{opacity:1}100%{top:100%;right:100%;opacity:0}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:50%;left:50%;background:0 0;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate;animation:1s ease-in-out infinite ball-clip-rotate-multiple-rotate}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;border-right-color:transparent;border-left-color:transparent}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;border-top-color:transparent;border-bottom-color:transparent;-webkit-animation-duration:.5s;animation-duration:.5s;-webkit-animation-direction:reverse;animation-direction:reverse}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-multiple-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;border-radius:100%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{position:absolute;width:32px;height:32px;background:0 0;border-style:solid;border-width:2px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-rotate}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:16px;height:16px;-webkit-animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale;animation:1s cubic-bezier(.09,.57,.49,.9) infinite ball-clip-rotate-pulse-scale}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:8px;height:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:32px;height:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{width:96px;height:96px;border-width:6px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{width:48px;height:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@keyframes ball-clip-rotate-pulse-rotate{0%{-webkit-transform:translate(-50%,-50%) rotate(0);transform:translate(-50%,-50%) rotate(0)}50%{-webkit-transform:translate(-50%,-50%) rotate(180deg);transform:translate(-50%,-50%) rotate(180deg)}100%{-webkit-transform:translate(-50%,-50%) rotate(360deg);transform:translate(-50%,-50%) rotate(360deg)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;-webkit-transform:translate(-50%,-50%) scale(.15);transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,100%{opacity:1;-webkit-transform:translate(-50%,-50%) scale(1);transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;-webkit-transform:translate(-50%,-50%) scale(.15);transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-clip-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-bottom-color:transparent;border-radius:100%;-webkit-animation:.75s linear infinite ball-clip-rotate;animation:.75s linear infinite ball-clip-rotate}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-clip-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-clip-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-elastic-dots[_ngcontent-%COMP%]{display:block;color:#fff;width:120px;height:10px;font-size:0;text-align:center}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{float:none;background-color:currentColor;border:0 solid currentColor;display:inline-block;width:10px;height:10px;white-space:nowrap;border-radius:100%;-webkit-animation:1s infinite ball-elastic-dots-anim;animation:1s infinite ball-elastic-dots-anim}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{width:60px;height:4px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{width:240px;height:20px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{width:360px;height:30px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,100%{margin:0;-webkit-transform:scale(1);transform:scale(1)}50%{margin:0 5%;-webkit-transform:scale(.65);transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,100%{margin:0;-webkit-transform:scale(1);transform:scale(1)}50%{margin:0 5%;-webkit-transform:scale(.65);transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fall[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-fall;animation:1s ease-in-out infinite ball-fall}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-fall.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;-webkit-transform:translateY(-145%);transform:translateY(-145%)}10%,90%{opacity:.5}20%,80%{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}100%{opacity:0;-webkit-transform:translateY(145%);transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-fussion[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:8px;height:8px}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:12px;height:12px;border-radius:100%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);-webkit-animation:1s infinite ball-fussion-ball1;animation:1s infinite ball-fussion-ball1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:50%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:50%;left:100%;z-index:2;-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:100%;left:50%;z-index:1;-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:0;z-index:2;-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{width:24px;height:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{top:-100%;left:200%;opacity:1}100%{top:50%;left:100%;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{top:200%;left:200%;opacity:1}100%{top:100%;left:50%;z-index:1;opacity:.35}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{top:200%;left:-100%;opacity:1}100%{top:50%;left:0;z-index:2;opacity:.35}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{top:-100%;left:-100%;opacity:1}100%{top:0;left:50%;z-index:1;opacity:.35}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-beat[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-beat;animation-name:ball-grid-beat;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}@keyframes ball-grid-beat{0%,100%{opacity:1}50%{opacity:.35}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-grid-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:36px;height:36px}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:8px;height:8px;margin:2px;border-radius:100%;-webkit-animation-name:ball-grid-pulse;animation-name:ball-grid-pulse;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.65s;animation-duration:.65s;-webkit-animation-delay:.03s;animation-delay:.03s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:1.02s;animation-duration:1.02s;-webkit-animation-delay:.09s;animation-delay:.09s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:1.06s;animation-duration:1.06s;-webkit-animation-delay:-.69s;animation-delay:-.69s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:1.5s;animation-duration:1.5s;-webkit-animation-delay:-.41s;animation-delay:-.41s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:1.6s;animation-duration:1.6s;-webkit-animation-delay:.04s;animation-delay:.04s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-duration:.84s;animation-duration:.84s;-webkit-animation-delay:.07s;animation-delay:.07s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-duration:.68s;animation-duration:.68s;-webkit-animation-delay:-.66s;animation-delay:-.66s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-duration:.93s;animation-duration:.93s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-duration:1.24s;animation-duration:1.24s;-webkit-animation-delay:-.76s;animation-delay:-.76s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{width:18px;height:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{width:72px;height:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin:4px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{width:108px;height:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin:6px}@-webkit-keyframes ball-grid-pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.35;-webkit-transform:scale(.45);transform:scale(.45)}}@keyframes ball-grid-pulse{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.35;-webkit-transform:scale(.45);transform:scale(.45)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-newton-cradle[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:10px}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-transform:translateX(0);transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-left;animation:1s ease-out infinite ball-newton-cradle-left}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-transform:translateX(0);transform:translateX(0);-webkit-animation:1s ease-out infinite ball-newton-cradle-right;animation:1s ease-out infinite ball-newton-cradle-right}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{width:20px;height:4px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{width:80px;height:20px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{width:120px;height:30px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-newton-cradle-left{25%{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{-webkit-transform:translateX(-100%);transform:translateX(-100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}50%{-webkit-transform:translateX(0);transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{100%,50%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}@keyframes ball-newton-cradle-right{100%,50%{-webkit-transform:translateX(0);transform:translateX(0)}75%{-webkit-transform:translateX(100%);transform:translateX(100%);-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-rise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:70px;height:14px}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:2px;border-radius:100%;-webkit-animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even;animation:1s cubic-bezier(.15,.36,.9,.6) infinite ball-pulse-rise-even}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{width:34px;height:6px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:1px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{width:140px;height:28px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:4px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{width:210px;height:42px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:6px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}25%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}50%{opacity:.35;-webkit-transform:scale(.3);transform:scale(.3)}75%{-webkit-transform:translateY(200%);transform:translateY(200%)}100%{opacity:1;-webkit-transform:translateY(0);-webkit-transform:scale(1);transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}25%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}50%{opacity:.35;-webkit-transform:scale(.3);transform:scale(.3)}75%{-webkit-transform:translateY(200%);transform:translateY(200%)}100%{opacity:1;-webkit-transform:translateY(0);-webkit-transform:scale(1);transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;-webkit-transform:scale(.4);transform:scale(.4)}25%{-webkit-transform:translateY(200%);transform:translateY(200%)}50%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{opacity:.35;-webkit-transform:translateY(0);-webkit-transform:scale(.75);transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;-webkit-transform:scale(.4);transform:scale(.4)}25%{-webkit-transform:translateY(200%);transform:translateY(200%)}50%{opacity:1;-webkit-transform:scale(1.1);transform:scale(1.1)}75%{-webkit-transform:translateY(-200%);transform:translateY(-200%)}100%{opacity:.35;-webkit-transform:translateY(0);-webkit-transform:scale(.75);transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse-sync[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:.6s ease-in-out infinite ball-pulse-sync;animation:.6s ease-in-out infinite ball-pulse-sync}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse-sync{33%{-webkit-transform:translateY(100%);transform:translateY(100%)}66%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes ball-pulse-sync{33%{-webkit-transform:translateY(100%);transform:translateY(100%)}66%{-webkit-transform:translateY(-100%);transform:translateY(-100%)}100%{-webkit-transform:translateY(0);transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:54px;height:18px}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;margin:4px;border-radius:100%;-webkit-animation:1s infinite ball-pulse;animation:1s infinite ball-pulse}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{width:26px;height:8px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin:2px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{width:108px;height:36px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin:8px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{width:162px;height:54px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin:12px}@-webkit-keyframes ball-pulse{0%,100%,60%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.1;-webkit-transform:scale(.01);transform:scale(.01)}}@keyframes ball-pulse{0%,100%,60%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}30%{opacity:.1;-webkit-transform:scale(.01);transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:10px;height:10px;border-radius:100%;-webkit-animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation;animation:1s cubic-bezier(.7,-.13,.22,.86) infinite ball-rotate-animation}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;width:inherit;height:inherit;margin:inherit;content:"";background:currentColor;border-radius:inherit;opacity:.8}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:0;left:-150%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{top:0;left:150%}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-rotate-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-rotate-animation{0%{-webkit-transform:rotate(0);transform:rotate(0)}50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-running-dots[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:10px;height:10px}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:10px;height:10px;margin-left:-25px;border-radius:100%;-webkit-animation:2s linear infinite ball-running-dots-animate;animation:2s linear infinite ball-running-dots-animate}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-left:-12px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:-50px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{width:30px;height:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-left:-75px}@-webkit-keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;-webkit-transform:translateY(0) translateX(500%);transform:translateY(0) translateX(500%)}80%{-webkit-transform:translateY(0) translateX(0);transform:translateY(0) translateX(0)}85%{width:100%;height:100%;-webkit-transform:translateY(-125%) translateX(0);transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;-webkit-transform:translateY(-100%) translateX(500%);transform:translateY(-100%) translateX(500%)}}@keyframes ball-running-dots-animate{0%,100%{width:100%;height:100%;-webkit-transform:translateY(0) translateX(500%);transform:translateY(0) translateX(500%)}80%{-webkit-transform:translateY(0) translateX(0);transform:translateY(0) translateX(0)}85%{width:100%;height:100%;-webkit-transform:translateY(-125%) translateX(0);transform:translateY(-125%) translateX(0)}90%{width:200%;height:75%}95%{width:100%;height:100%;-webkit-transform:translateY(-100%) translateX(500%);transform:translateY(-100%) translateX(500%)}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s linear infinite ball-scale-multiple;animation:1s linear infinite ball-scale-multiple}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}5%{opacity:.75}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}5%{opacity:.75}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-pulse[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;border-radius:100%;opacity:.5;-webkit-animation:2s ease-in-out infinite ball-scale-pulse;animation:2s ease-in-out infinite ball-scale-pulse}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale-pulse{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale-pulse{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;position:absolute;top:0;left:0;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple;animation:1.25s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple-multiple}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.5;-webkit-transform:scale(1);transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.5;-webkit-transform:scale(1);transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale-ripple[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%;opacity:0;-webkit-animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple;animation:1s cubic-bezier(.21,.53,.56,.8) infinite ball-scale-ripple}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.65;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;-webkit-transform:scale(.1);transform:scale(.1)}70%{opacity:.65;-webkit-transform:scale(1);transform:scale(1)}100%{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:32px;height:32px;border-radius:100%;opacity:0;-webkit-animation:1s ease-in-out infinite ball-scale;animation:1s ease-in-out infinite ball-scale}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-scale{0%{opacity:1;-webkit-transform:scale(0);transform:scale(0)}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;-webkit-transform:scale(0);transform:scale(0)}100%{opacity:0;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite ball-spin-clockwise-fade-rotating-rotate}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade-rotating;animation:1s linear infinite ball-spin-clockwise-fade-rotating}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-clockwise-fade;animation:1s linear infinite ball-spin-clockwise-fade}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-clockwise[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin-clockwise;animation:1s ease-in-out infinite ball-spin-clockwise}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-clockwise{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes ball-spin-clockwise{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotate;animation:6s linear infinite ball-spin-fade-rotate}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-fade-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s linear infinite ball-spin-fade;animation:1s linear infinite ball-spin-fade}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin-fade{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}}@keyframes ball-spin-fade{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}50%{opacity:.25;-webkit-transform:scale(.5);transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin-rotate[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:2s linear infinite ball-spin-rotate;animation:2s linear infinite ball-spin-rotate}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;width:60%;height:60%;border-radius:100%;-webkit-animation:2s ease-in-out infinite ball-spin-bounce;animation:2s ease-in-out infinite ball-spin-bounce}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{top:auto;bottom:0;-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes ball-spin-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes ball-spin-bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-spin-bounce{0%,100%{-webkit-transform:scale(0);transform:scale(0)}50%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:8px;height:8px;margin-top:-4px;margin-left:-4px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-spin;animation:1s ease-in-out infinite ball-spin}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:5%;left:50%;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:18.1801948466%;left:81.8198051534%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:95%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:81.8198051534%;left:81.8198051534%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:94.9999999966%;left:50.0000000005%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:81.8198046966%;left:18.1801949248%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999750815%;left:5.0000051215%;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:18.179464974%;left:18.1803700518%;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;margin-top:-8px;margin-left:-8px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}@-webkit-keyframes ball-spin{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}@keyframes ball-spin{0%,100%{opacity:1;-webkit-transform:scale(1);transform:scale(1)}20%{opacity:1}80%{opacity:0;-webkit-transform:scale(0);transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-clockwise-spin;animation:1s ease-in-out infinite ball-square-clockwise-spin}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:0s;animation-delay:0s}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-clockwise-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:26px;height:26px}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:12px;height:12px;margin-top:-6px;margin-left:-6px;border-radius:100%;-webkit-animation:1s ease-in-out infinite ball-square-spin;animation:1s ease-in-out infinite ball-square-spin}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:0;left:0;-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0;left:50%;-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:0;left:100%;-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:50%;left:100%;-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:100%;left:100%;-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:100%;left:50%;-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:100%;left:0;-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:50%;left:0;-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{width:12px;height:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{width:52px;height:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px;margin-top:-12px;margin-left:-12px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{width:78px;height:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px;margin-top:-18px;margin-left:-18px}@-webkit-keyframes ball-square-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}@keyframes ball-square-spin{0%,100%,40%{-webkit-transform:scale(.4);transform:scale(.4)}70%{-webkit-transform:scale(1);transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-ball-triangle-path[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:10px;height:10px;border-radius:100%}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-one;animation:2s ease-in-out infinite ball-triangle-path-ball-one}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-two;animation:2s ease-in-out infinite ball-triangle-path-ball-two}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:2s ease-in-out infinite ball-triangle-path-ball-tree;animation:2s ease-in-out infinite ball-triangle-path-ball-tree}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{-webkit-transform:translate(0,220%);transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}66%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}100%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}}@keyframes ball-triangle-path-ball-one{0%{-webkit-transform:translate(0,220%);transform:translate(0,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}66%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}100%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{-webkit-transform:translate(110%,0);transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}66%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}100%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}}@keyframes ball-triangle-path-ball-two{0%{-webkit-transform:translate(110%,0);transform:translate(110%,0)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}66%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}100%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}66%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}100%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}17%,50%,83%{opacity:.25}33%{opacity:1;-webkit-transform:translate(0,220%);transform:translate(0,220%)}66%{opacity:1;-webkit-transform:translate(110%,0);transform:translate(110%,0)}100%{opacity:1;-webkit-transform:translate(220%,220%);transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:1.5s linear infinite ball-zig-deflect;animation:1.5s linear infinite ball-zig-deflect}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:1.5s linear infinite ball-zag-deflect;animation:1.5s linear infinite ball-zag-deflect}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-deflect{17%,84%{-webkit-transform:translate(-80%,-160%);transform:translate(-80%,-160%)}34%,67%{-webkit-transform:translate(80%,-160%);transform:translate(80%,-160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes ball-zig-deflect{17%,84%{-webkit-transform:translate(-80%,-160%);transform:translate(-80%,-160%)}34%,67%{-webkit-transform:translate(80%,-160%);transform:translate(80%,-160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@-webkit-keyframes ball-zag-deflect{17%,84%{-webkit-transform:translate(80%,160%);transform:translate(80%,160%)}34%,67%{-webkit-transform:translate(-80%,160%);transform:translate(-80%,160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}@keyframes ball-zag-deflect{17%,84%{-webkit-transform:translate(80%,160%);transform:translate(80%,160%)}34%,67%{-webkit-transform:translate(-80%,160%);transform:translate(-80%,160%)}100%,50%{-webkit-transform:translate(0,0);transform:translate(0,0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box}.la-ball-zig-zag[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;position:relative;width:32px;height:32px}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:50%;left:50%;width:10px;height:10px;margin-top:-5px;margin-left:-5px;border-radius:100%}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:.7s linear infinite ball-zig-effect;animation:.7s linear infinite ball-zig-effect}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:.7s linear infinite ball-zag-effect;animation:.7s linear infinite ball-zag-effect}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:4px;margin-top:-2px;margin-left:-2px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:20px;height:20px;margin-top:-10px;margin-left:-10px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;margin-top:-15px;margin-left:-15px}@-webkit-keyframes ball-zig-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(-75%,-150%);transform:translate(-75%,-150%)}66%{-webkit-transform:translate(75%,-150%);transform:translate(75%,-150%)}}@keyframes ball-zig-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(-75%,-150%);transform:translate(-75%,-150%)}66%{-webkit-transform:translate(75%,-150%);transform:translate(75%,-150%)}}@-webkit-keyframes ball-zag-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(75%,150%);transform:translate(75%,150%)}66%{-webkit-transform:translate(-75%,150%);transform:translate(-75%,150%)}}@keyframes ball-zag-effect{0%,100%{-webkit-transform:translate(0,0);transform:translate(0,0)}33%{-webkit-transform:translate(75%,150%);transform:translate(75%,150%)}66%{-webkit-transform:translate(-75%,150%);transform:translate(-75%,150%)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cog[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:31px;height:31px}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px dashed currentColor;width:100%;height:100%;background-color:transparent;border-radius:100%;-webkit-animation:4s linear infinite cog-rotate;animation:4s linear infinite cog-rotate}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{position:absolute;top:0;left:0;width:100%;height:100%;content:"";border:2px solid currentColor;border-radius:100%}.la-cog.la-sm[_ngcontent-%COMP%]{width:15px;height:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{width:61px;height:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{width:91px;height:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cog-rotate{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-cube-transition[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;top:0;left:0;width:14px;height:14px;margin-top:-7px;margin-left:-7px;border-radius:0;-webkit-animation:1.6s ease-in-out infinite cube-transition;animation:1.6s ease-in-out infinite cube-transition}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px;margin-top:-3px;margin-left:-3px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:28px;height:28px;margin-top:-14px;margin-left:-14px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:42px;height:42px;margin-top:-21px;margin-left:-21px}@-webkit-keyframes cube-transition{25%{top:0;left:100%;-webkit-transform:scale(.5) rotate(-90deg);transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;-webkit-transform:scale(1) rotate(-180deg);transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;-webkit-transform:scale(.5) rotate(-270deg);transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;-webkit-transform:scale(1) rotate(-360deg);transform:scale(1) rotate(-360deg)}}@keyframes cube-transition{25%{top:0;left:100%;-webkit-transform:scale(.5) rotate(-90deg);transform:scale(.5) rotate(-90deg)}50%{top:100%;left:100%;-webkit-transform:scale(1) rotate(-180deg);transform:scale(1) rotate(-180deg)}75%{top:100%;left:0;-webkit-transform:scale(.5) rotate(-270deg);transform:scale(.5) rotate(-270deg)}100%{top:0;left:0;-webkit-transform:scale(1) rotate(-360deg);transform:scale(1) rotate(-360deg)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-fire[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;bottom:0;left:50%;width:12px;height:12px;border-radius:2px;-webkit-transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);-webkit-animation:1.5s linear infinite fire-diamonds;animation:1.5s linear infinite fire-diamonds}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:6px}.la-fire.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:24px;height:24px}.la-fire.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:36px;height:36px}@-webkit-keyframes fire-diamonds{0%{-webkit-transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{-webkit-transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{-webkit-transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{-webkit-transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{-webkit-transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1);transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}100%{-webkit-transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0);transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-party[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation-name:line-scale-party;animation-name:line-scale-party;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.23s;animation-delay:-.23s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-duration:.62s;animation-duration:.62s;-webkit-animation-delay:-.32s;animation-delay:-.32s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-duration:.43s;animation-duration:.43s;-webkit-animation-delay:-.44s;animation-delay:-.44s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-duration:.8s;animation-duration:.8s;-webkit-animation-delay:-.31s;animation-delay:-.31s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-duration:.74s;animation-duration:.74s;-webkit-animation-delay:-.24s;animation-delay:-.24s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-party{0%,100%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.3);transform:scaleY(.3)}}@keyframes line-scale-party{0%,100%{-webkit-transform:scaleY(1);transform:scaleY(1)}50%{-webkit-transform:scaleY(.3);transform:scaleY(.3)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid;animation:.9s cubic-bezier(.11,.49,.38,.78) infinite line-scale-pulse-out-rapid}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out-rapid{0%,90%{-webkit-transform:scaley(1);transform:scaley(1)}80%{-webkit-transform:scaley(.3);transform:scaley(.3)}}@keyframes line-scale-pulse-out-rapid{0%,90%{-webkit-transform:scaley(1);transform:scaley(1)}80%{-webkit-transform:scaley(.3);transform:scaley(.3)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale-pulse-out[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out;animation:.9s cubic-bezier(.85,.25,.37,.85) infinite line-scale-pulse-out}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale-pulse-out{0%,100%{-webkit-transform:scaley(1);transform:scaley(1)}50%{-webkit-transform:scaley(.3);transform:scaley(.3)}}@keyframes line-scale-pulse-out{0%,100%{-webkit-transform:scaley(1);transform:scaley(1)}50%{-webkit-transform:scaley(.3);transform:scaley(.3)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-scale[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:40px;height:32px}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:4px;height:32px;margin:0 2px;border-radius:0;-webkit-animation:1.2s infinite line-scale;animation:1.2s infinite line-scale}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{width:20px;height:16px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:2px;height:16px;margin:0 1px}.la-line-scale.la-2x[_ngcontent-%COMP%]{width:80px;height:64px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:8px;height:64px;margin:0 4px}.la-line-scale.la-3x[_ngcontent-%COMP%]{width:120px;height:96px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:12px;height:96px;margin:0 6px}@-webkit-keyframes line-scale{0%,100%,40%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}@keyframes line-scale{0%,100%,40%{-webkit-transform:scaleY(.4);transform:scaleY(.4)}20%{-webkit-transform:scaleY(1);transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate;animation:6s linear infinite line-spin-clockwise-fade-rotating-rotate}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating;animation:1s ease-in-out infinite line-spin-clockwise-fade-rotating}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@keyframes line-spin-clockwise-fade-rotating-rotate{100%{-webkit-transform:rotate(-360deg);transform:rotate(-360deg)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-clockwise-fade;animation:1s ease-in-out infinite line-spin-clockwise-fade}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:0s;animation-delay:0s}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px;-webkit-animation:6s linear infinite ball-spin-fade-rotating-rotate;animation:6s linear infinite ball-spin-fade-rotating-rotate}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade-rotating;animation:1s ease-in-out infinite line-spin-fade-rotating}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes ball-spin-fade-rotating-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes ball-spin-fade-rotating-rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}100%{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-line-spin-fade[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;position:absolute;width:2px;height:10px;margin:-5px 2px 2px -1px;border-radius:0;-webkit-animation:1s ease-in-out infinite line-spin-fade;animation:1s ease-in-out infinite line-spin-fade}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:15%;left:50%;-webkit-transform:rotate(0);transform:rotate(0);-webkit-animation-delay:-1.125s;animation-delay:-1.125s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:25.2512626585%;left:74.7487373415%;-webkit-transform:rotate(45deg);transform:rotate(45deg);-webkit-animation-delay:-1.25s;animation-delay:-1.25s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){top:50%;left:85%;-webkit-transform:rotate(90deg);transform:rotate(90deg);-webkit-animation-delay:-1.375s;animation-delay:-1.375s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){top:74.7487373415%;left:74.7487373415%;-webkit-transform:rotate(135deg);transform:rotate(135deg);-webkit-animation-delay:-1.5s;animation-delay:-1.5s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){top:84.9999999974%;left:50.0000000004%;-webkit-transform:rotate(180deg);transform:rotate(180deg);-webkit-animation-delay:-1.625s;animation-delay:-1.625s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){top:74.7487369862%;left:25.2512627193%;-webkit-transform:rotate(225deg);transform:rotate(225deg);-webkit-animation-delay:-1.75s;animation-delay:-1.75s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){top:49.9999806189%;left:15.0000039834%;-webkit-transform:rotate(270deg);transform:rotate(270deg);-webkit-animation-delay:-1.875s;animation-delay:-1.875s}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){top:25.2506949798%;left:25.2513989292%;-webkit-transform:rotate(315deg);transform:rotate(315deg);-webkit-animation-delay:-2s;animation-delay:-2s}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:1px;height:4px;margin-top:-2px;margin-left:0}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:4px;height:20px;margin-top:-10px;margin-left:-2px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:6px;height:30px;margin-top:-15px;margin-left:-3px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}100%{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-pacman[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){width:0;height:0;background:0 0;border-style:solid;border-width:16px;border-right-color:transparent;border-radius:100%;-webkit-animation:.5s infinite pacman-rotate-half-up;animation:.5s infinite pacman-rotate-half-up}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-32px;-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){position:absolute;top:50%;left:200%;width:8px;height:8px;border-radius:100%;opacity:0;-webkit-animation:2s linear infinite pacman-balls;animation:2s linear infinite pacman-balls}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:4px;height:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:16px;height:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){margin-top:-96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){width:24px;height:24px}@-webkit-keyframes pacman-rotate-half-up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes pacman-rotate-half-up{0%,100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}50%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes pacman-rotate-half-down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@keyframes pacman-rotate-half-down{0%,100%{-webkit-transform:rotate(90deg);transform:rotate(90deg)}50%{-webkit-transform:rotate(0);transform:rotate(0)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}100%{left:0;-webkit-transform:translateY(-50%);transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-jelly-box[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1), .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){position:absolute;left:0;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(1){top:-25%;z-index:1;height:100%;border-radius:10%;-webkit-animation:.6s linear -.1s infinite square-jelly-box-animate;animation:.6s linear -.1s infinite square-jelly-box-animate}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){bottom:-9%;height:10%;background:#000;border-radius:50%;opacity:.2;-webkit-animation:.6s linear -.1s infinite square-jelly-box-shadow;animation:.6s linear -.1s infinite square-jelly-box-shadow}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{-webkit-transform:translateY(25%) rotate(22.5deg);transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;-webkit-transform:translateY(50%) scale(1,.9) rotate(45deg);transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{-webkit-transform:translateY(25%) rotate(67.5deg);transform:translateY(25%) rotate(67.5deg)}100%{-webkit-transform:translateY(0) rotate(90deg);transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{-webkit-transform:translateY(25%) rotate(22.5deg);transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;-webkit-transform:translateY(50%) scale(1,.9) rotate(45deg);transform:translateY(50%) scale(1,.9) rotate(45deg)}75%{-webkit-transform:translateY(25%) rotate(67.5deg);transform:translateY(25%) rotate(67.5deg)}100%{-webkit-transform:translateY(0) rotate(90deg);transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{-webkit-transform:scale(1.25,1);transform:scale(1.25,1)}}@keyframes square-jelly-box-shadow{50%{-webkit-transform:scale(1.25,1);transform:scale(1.25,1)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-loader[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:100%;height:100%;background:0 0;border-radius:0;-webkit-animation:2s infinite square-loader;animation:2s infinite square-loader}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{display:inline-block;width:100%;vertical-align:top;content:"";background-color:currentColor;-webkit-animation:2s ease-in infinite square-loader-inner;animation:2s ease-in infinite square-loader-inner}.la-square-loader.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%,50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%,75%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes square-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}25%,50%{-webkit-transform:rotate(180deg);transform:rotate(180deg)}100%,75%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}@keyframes square-loader-inner{0%,100%,25%{height:0}50%,75%{height:100%}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-square-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;background-color:currentColor;border:0 solid currentColor;width:100%;height:100%;border-radius:0;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite square-spin}.la-square-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}@-webkit-keyframes square-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes square-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-timer[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:32px}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:2px solid currentColor;width:32px;height:32px;background:0 0;border-radius:100%}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{position:absolute;top:14px;left:14px;display:block;width:2px;margin-top:-1px;margin-left:-1px;content:"";background:currentColor;border-radius:2px;-webkit-transform-origin:1px 1px 0;transform-origin:1px 1px 0;-webkit-animation:1.25s linear -625ms infinite timer-loader;animation:1.25s linear -625ms infinite timer-loader}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:8px;-webkit-animation-duration:15s;animation-duration:15s;-webkit-animation-delay:-7.5s;animation-delay:-7.5s}.la-timer.la-sm[_ngcontent-%COMP%]{width:16px;height:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:16px;height:16px;border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:7px;left:7px;width:1px;margin-top:-.5px;margin-left:-.5px;border-radius:1px;-webkit-transform-origin:.5px .5px 0;transform-origin:.5px .5px 0}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%]{width:64px;height:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:64px;height:64px;border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:28px;left:28px;width:4px;margin-top:-2px;margin-left:-2px;border-radius:4px;-webkit-transform-origin:2px 2px 0;transform-origin:2px 2px 0}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%]{width:96px;height:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:96px;height:96px;border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{top:42px;left:42px;width:6px;margin-top:-3px;margin-left:-3px;border-radius:6px;-webkit-transform-origin:3px 3px 0;transform-origin:3px 3px 0}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes timer-loader{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{position:relative;box-sizing:border-box}.la-triangle-skew-spin[_ngcontent-%COMP%]{display:block;font-size:0;color:#fff;width:32px;height:16px}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{display:inline-block;float:none;border:0 solid currentColor;width:0;height:0;background:0 0;border:solid;border-width:0 16px 16px;border-right-color:transparent;border-left-color:transparent;-webkit-animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin;animation:3s cubic-bezier(.09,.57,.49,.9) infinite triangle-skew-spin}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{width:16px;height:8px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{width:64px;height:32px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{width:96px;height:48px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}@keyframes triangle-skew-spin{0%{-webkit-transform:perspective(100px) rotateX(0) rotateY(0);transform:perspective(100px) rotateX(0) rotateY(0)}25%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(0);transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{-webkit-transform:perspective(100px) rotateX(180deg) rotateY(180deg);transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{-webkit-transform:perspective(100px) rotateX(0) rotateY(180deg);transform:perspective(100px) rotateX(0) rotateY(180deg)}100%{-webkit-transform:perspective(100px) rotateX(0) rotateY(360deg);transform:perspective(100px) rotateX(0) rotateY(360deg)}}.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%}.overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){top:50%;left:50%;margin:0;position:absolute;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{position:absolute;top:60%;left:50%;-webkit-transform:translate(-50%,-60%);transform:translate(-50%,-60%)}'],data:{animation:[{type:7,name:"fadeIn",definitions:[{type:0,name:"in",styles:{type:6,styles:{opacity:1},offset:null},options:void 0},{type:1,expr:":enter",animation:[{type:6,styles:{opacity:0},offset:null},{type:4,styles:null,timings:300}],options:null},{type:1,expr:":leave",animation:{type:4,styles:{type:6,styles:{opacity:0},offset:null},timings:200},options:null}],options:{}}]}});function Ff(e){return Mo(0,[(e()(),po(0,0,null,null,0,"div",[],null,null,null,null,null))],null,null)}function Lf(e){return Mo(0,[(e()(),po(0,0,null,null,2,"div",[],[[8,"className",0],[4,"color",null]],null,null,null,null)),(e()(),ho(16777216,null,null,1,null,Ff)),yi(2,278528,null,0,sl,[Yn,Wn,zn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,2,0,t.component.spinner.divArray)}),(function(e,t){var n=t.component;e(t,0,0,n.spinner.class,n.spinner.color)}))}function Nf(e){return Mo(0,[(e()(),po(0,0,null,null,0,"div",[],[[8,"innerHTML",1]],null,null,null,null))],null,(function(e,t){e(t,0,0,t.component.template)}))}function Bf(e){return Mo(0,[(e()(),po(0,0,null,null,6,"div",[["class","overlay"]],[[24,"@fadeIn",0],[4,"background-color",null],[4,"z-index",null],[4,"position",null]],null,null,null,null)),(e()(),ho(16777216,null,null,1,null,Lf)),yi(2,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,Nf)),yi(4,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),po(5,0,null,null,1,"div",[["class","loading-text"]],[[4,"z-index",null]],null,null,null,null)),{nodeIndex:-1,parent:null,renderParent:null,bindingIndex:-1,outputIndex:-1,checkIndex:-1,flags:8,childFlags:0,directChildFlags:0,childMatchedQueries:0,matchedQueries:{},matchedQueryIds:0,references:{},ngContentIndex:null,childCount:0,bindings:[],bindingFlags:0,outputs:[],element:null,provider:null,text:null,query:null,ngContent:{index:0}}],(function(e,t){var n=t.component;e(t,2,0,!n.template),e(t,4,0,n.template)}),(function(e,t){var n=t.component;e(t,0,0,"in",n.spinner.bdColor,n.spinner.zIndex,n.spinner.fullScreen?"fixed":"absolute"),e(t,5,0,n.spinner.zIndex)}))}function zf(e){return Mo(2,[(e()(),ho(16777216,null,null,1,null,Bf)),yi(1,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,1,0,t.component.spinner.show)}),null)}var qf,Uf,Hf=n("NFKh"),Vf=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.router=t,this.spinner=n,this.alertService=r,this.global=i,this.user=a,this.form=new $p({username:new Kp("",kp.required),password:new Kp("",kp.required)})}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"login",value:function(){var e=this;this.spinner.show();var t=this.form.get("username").value,n=this.form.get("password").value;if(t&&n){t=(t=t.trim()).toLowerCase(),n=n.trim(),this.global.loggedInUsername=t;var r=Object(Hf.SHA256)(n).toString(Hf.enc.Hex);console.log(r),this.user.loginUser({userId:t,password:r}).subscribe((function(t){if(t.action){var n=t.message.user.userId;localStorage.setItem("loggedInUsername",n),localStorage.setItem("user",JSON.stringify(t.message.user)),localStorage.setItem("access_token",t.message.token),e.router.navigate(["/dashboard/"+n]),e.spinner.hide()}else console.log(t.message),e.alertService.error(t.message),e.spinner.hide()}))}else this.spinner.hide()}}]),e}(),Wf=function(e){return e[e.Success=0]="Success",e[e.Error=1]="Error",e[e.Info=2]="Info",e[e.Warning=3]="Warning",e}({}),Gf=((Uf=function(){function e(t){var n=this;_classCallCheck2(this,e),this.router=t,this.subject=new M,this.keepAfterRouteChange=!1,t.events.subscribe((function(e){e instanceof bu&&(n.keepAfterRouteChange?n.keepAfterRouteChange=!1:n.clear())}))}return _createClass2(e,[{key:"getAlert",value:function(){return this.subject.asObservable()}},{key:"success",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.alert(Wf.Success,e,t)}},{key:"error",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.alert(Wf.Error,e,t)}},{key:"info",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.alert(Wf.Info,e,t)}},{key:"warn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this.alert(Wf.Warning,e,t)}},{key:"alert",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this.keepAfterRouteChange=n,this.subject.next({type:e,message:t})}},{key:"clear",value:function(){this.subject.next()}}]),e}()).ngInjectableDef=ke({factory:function(){return new Uf(Ue(Ad))},token:Uf,providedIn:"root"}),Uf),Yf=((qf=function e(){_classCallCheck2(this,e)}).ngInjectableDef=ke({factory:function(){return new qf},token:qf,providedIn:"root"}),qf),Xf=function e(){_classCallCheck2(this,e)},Jf=function e(){_classCallCheck2(this,e)},Kf=function(){function e(t){var n=this;_classCallCheck2(this,e),this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){n.headers=new Map,t.split("\n").forEach((function(e){var t=e.indexOf(":");if(t>0){var r=e.slice(0,t),i=r.toLowerCase(),a=e.slice(t+1).trim();n.maybeSetNormalizedName(r,i),n.headers.has(i)?n.headers.get(i).push(a):n.headers.set(i,[a])}}))}:function(){n.headers=new Map,Object.keys(t).forEach((function(e){var r=t[e],i=e.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(n.headers.set(i,r),n.maybeSetNormalizedName(e,i))}))}:this.headers=new Map}return _createClass2(e,[{key:"has",value:function(e){return this.init(),this.headers.has(e.toLowerCase())}},{key:"get",value:function(e){this.init();var t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}},{key:"keys",value:function(){return this.init(),Array.from(this.normalizedNames.values())}},{key:"getAll",value:function(e){return this.init(),this.headers.get(e.toLowerCase())||null}},{key:"append",value:function(e,t){return this.clone({name:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({name:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({name:e,value:t,op:"d"})}},{key:"maybeSetNormalizedName",value:function(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}},{key:"init",value:function(){var t=this;this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(e){return t.applyUpdate(e)})),this.lazyUpdate=null))}},{key:"copyFrom",value:function(e){var t=this;e.init(),Array.from(e.headers.keys()).forEach((function(n){t.headers.set(n,e.headers.get(n)),t.normalizedNames.set(n,e.normalizedNames.get(n))}))}},{key:"clone",value:function(t){var n=new e;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([t]),n}},{key:"applyUpdate",value:function(e){var t=e.name.toLowerCase();switch(e.op){case"a":case"s":var n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);var r=("a"===e.op?this.headers.get(t):void 0)||[];r.push.apply(r,_toConsumableArray(n)),this.headers.set(t,r);break;case"d":var i=e.value;if(i){var a=this.headers.get(t);if(!a)return;0===(a=a.filter((function(e){return-1===i.indexOf(e)}))).length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}else this.headers.delete(t),this.normalizedNames.delete(t)}}},{key:"forEach",value:function(e){var t=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return e(t.normalizedNames.get(n),t.headers.get(n))}))}}]),e}(),$f=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"encodeKey",value:function(e){return Zf(e)}},{key:"encodeValue",value:function(e){return Zf(e)}},{key:"decodeKey",value:function(e){return decodeURIComponent(e)}},{key:"decodeValue",value:function(e){return decodeURIComponent(e)}}]),e}();function Zf(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Qf=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(_classCallCheck2(this,e),this.updates=null,this.cloneFrom=null,this.encoder=n.encoder||new $f,n.fromString){if(n.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){var n=new Map;return e.length>0&&e.split("&").forEach((function(e){var r=e.indexOf("="),i=_slicedToArray(-1==r?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,r)),t.decodeValue(e.slice(r+1))],2),a=i[0],o=i[1],s=n.get(a)||[];s.push(o),n.set(a,s)})),n}(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach((function(e){var r=n.fromObject[e];t.map.set(e,Array.isArray(r)?r:[r])}))):this.map=null}return _createClass2(e,[{key:"has",value:function(e){return this.init(),this.map.has(e)}},{key:"get",value:function(e){this.init();var t=this.map.get(e);return t?t[0]:null}},{key:"getAll",value:function(e){return this.init(),this.map.get(e)||null}},{key:"keys",value:function(){return this.init(),Array.from(this.map.keys())}},{key:"append",value:function(e,t){return this.clone({param:e,value:t,op:"a"})}},{key:"set",value:function(e,t){return this.clone({param:e,value:t,op:"s"})}},{key:"delete",value:function(e,t){return this.clone({param:e,value:t,op:"d"})}},{key:"toString",value:function(){var e=this;return this.init(),this.keys().map((function(t){var n=e.encoder.encodeKey(t);return e.map.get(t).map((function(t){return n+"="+e.encoder.encodeValue(t)})).join("&")})).join("&")}},{key:"clone",value:function(t){var n=new e({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([t]),n}},{key:"init",value:function(){var e=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(t){return e.map.set(t,e.cloneFrom.map.get(t))})),this.updates.forEach((function(t){switch(t.op){case"a":case"s":var n=("a"===t.op?e.map.get(t.param):void 0)||[];n.push(t.value),e.map.set(t.param,n);break;case"d":if(void 0===t.value){e.map.delete(t.param);break}var r=e.map.get(t.param)||[],i=r.indexOf(t.value);-1!==i&&r.splice(i,1),r.length>0?e.map.set(t.param,r):e.map.delete(t.param)}})),this.cloneFrom=this.updates=null)}}]),e}();function em(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function tm(e){return"undefined"!=typeof Blob&&e instanceof Blob}function nm(e){return"undefined"!=typeof FormData&&e instanceof FormData}var rm=function(){function e(t,n,r,i){var a;if(_classCallCheck2(this,e),this.url=n,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,a=i):a=r,a&&(this.reportProgress=!!a.reportProgress,this.withCredentials=!!a.withCredentials,a.responseType&&(this.responseType=a.responseType),a.headers&&(this.headers=a.headers),a.params&&(this.params=a.params)),this.headers||(this.headers=new Kf),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=n;else{var s=n.indexOf("?");this.urlWithParams=n+(-1===s?"?":s<n.length-1?"&":"")+o}}else this.params=new Qf,this.urlWithParams=n}return _createClass2(e,[{key:"serializeBody",value:function(){return null===this.body?null:em(this.body)||tm(this.body)||nm(this.body)||"string"==typeof this.body?this.body:this.body instanceof Qf?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}},{key:"detectContentTypeHeader",value:function(){return null===this.body||nm(this.body)?null:tm(this.body)?this.body.type||null:em(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Qf?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}},{key:"clone",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.method||this.method,r=t.url||this.url,i=t.responseType||this.responseType,a=void 0!==t.body?t.body:this.body,o=void 0!==t.withCredentials?t.withCredentials:this.withCredentials,s=void 0!==t.reportProgress?t.reportProgress:this.reportProgress,l=t.headers||this.headers,c=t.params||this.params;return void 0!==t.setHeaders&&(l=Object.keys(t.setHeaders).reduce((function(e,n){return e.set(n,t.setHeaders[n])}),l)),t.setParams&&(c=Object.keys(t.setParams).reduce((function(e,n){return e.set(n,t.setParams[n])}),c)),new e(n,r,a,{params:c,headers:l,reportProgress:s,responseType:i,withCredentials:o})}}]),e}(),im=function(){var e={Sent:0,UploadProgress:1,ResponseHeader:2,DownloadProgress:3,Response:4,User:5};return e[e.Sent]="Sent",e[e.UploadProgress]="UploadProgress",e[e.ResponseHeader]="ResponseHeader",e[e.DownloadProgress]="DownloadProgress",e[e.Response]="Response",e[e.User]="User",e}(),am=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"OK";_classCallCheck2(this,e),this.headers=t.headers||new Kf,this.status=void 0!==t.status?t.status:n,this.statusText=t.statusText||r,this.url=t.url||null,this.ok=this.status>=200&&this.status<300},om=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,n),(e=t.call(this,r)).type=im.ResponseHeader,e}return _createClass2(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(am),sm=function(e){_inherits(n,e);var t=_createSuper(n);function n(){var e,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return _classCallCheck2(this,n),(e=t.call(this,r)).type=im.Response,e.body=void 0!==r.body?r.body:null,e}return _createClass2(n,[{key:"clone",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new n({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}]),n}(am),lm=function(e){_inherits(n,e);var t=_createSuper(n);function n(e){var r;return _classCallCheck2(this,n),(r=t.call(this,e,0,"Unknown Error")).name="HttpErrorResponse",r.ok=!1,r.message=r.status>=200&&r.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for ".concat(e.url||"(unknown url)",": ").concat(e.status," ").concat(e.statusText),r.error=e.error||null,r}return n}(am);function cm(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}var um,hm=function(){function e(t){_classCallCheck2(this,e),this.handler=t}return _createClass2(e,[{key:"request",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(e instanceof rm)n=e;else{var a=void 0;a=i.headers instanceof Kf?i.headers:new Kf(i.headers);var o=void 0;i.params&&(o=i.params instanceof Qf?i.params:new Qf({fromObject:i.params})),n=new rm(e,t,void 0!==i.body?i.body:null,{headers:a,params:o,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}var s=wl(n).pipe(uc((function(e){return r.handler.handle(e)})));if(e instanceof rm||"events"===i.observe)return s;var l=s.pipe(Tl((function(e){return e instanceof sm})));switch(i.observe||"body"){case"body":switch(n.responseType){case"arraybuffer":return l.pipe(V((function(e){if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body})));case"blob":return l.pipe(V((function(e){if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body})));case"text":return l.pipe(V((function(e){if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body})));case"json":default:return l.pipe(V((function(e){return e.body})))}case"response":return l;default:throw new Error("Unreachable: unhandled observe type ".concat(i.observe,"}"))}}},{key:"delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("DELETE",e,t)}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("GET",e,t)}},{key:"head",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("HEAD",e,t)}},{key:"jsonp",value:function(e,t){return this.request("JSONP",e,{params:(new Qf).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}},{key:"options",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.request("OPTIONS",e,t)}},{key:"patch",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PATCH",e,cm(n,t))}},{key:"post",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("POST",e,cm(n,t))}},{key:"put",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.request("PUT",e,cm(n,t))}}]),e}(),dm=function(){function e(t,n){_classCallCheck2(this,e),this.next=t,this.interceptor=n}return _createClass2(e,[{key:"handle",value:function(e){return this.interceptor.intercept(e,this.next)}}]),e}(),pm=new Re("HTTP_INTERCEPTORS"),fm=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"intercept",value:function(e,t){return t.handle(e)}}]),e}(),mm=/^\)\]\}',?\n/,gm=function e(){_classCallCheck2(this,e)},vm=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"build",value:function(){return new XMLHttpRequest}}]),e}(),_m=function(){function e(t){_classCallCheck2(this,e),this.xhrFactory=t}return _createClass2(e,[{key:"handle",value:function(e){var t=this;if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(n){var r=t.xhrFactory.build();if(r.open(e.method,e.urlWithParams),e.withCredentials&&(r.withCredentials=!0),e.headers.forEach((function(e,t){return r.setRequestHeader(e,t.join(","))})),e.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){var i=e.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(e.responseType){var a=e.responseType.toLowerCase();r.responseType="json"!==a?a:"text"}var o=e.serializeBody(),s=null,l=function(){if(null!==s)return s;var t=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Kf(r.getAllResponseHeaders()),a=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(r)||e.url;return s=new om({headers:i,status:t,statusText:n,url:a})},c=function(){var t=l(),i=t.headers,a=t.status,o=t.statusText,s=t.url,c=null;204!==a&&(c=void 0===r.response?r.responseText:r.response),0===a&&(a=c?200:0);var u=a>=200&&a<300;if("json"===e.responseType&&"string"==typeof c){var h=c;c=c.replace(mm,"");try{c=""!==c?JSON.parse(c):null}catch(d){c=h,u&&(u=!1,c={error:d,text:c})}}u?(n.next(new sm({body:c,headers:i,status:a,statusText:o,url:s||void 0})),n.complete()):n.error(new lm({error:c,headers:i,status:a,statusText:o,url:s||void 0}))},u=function(e){var t=l().url,i=new lm({error:e,status:r.status||0,statusText:r.statusText||"Unknown Error",url:t||void 0});n.error(i)},h=!1,d=function(t){h||(n.next(l()),h=!0);var i={type:im.DownloadProgress,loaded:t.loaded};t.lengthComputable&&(i.total=t.total),"text"===e.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},p=function(e){var t={type:im.UploadProgress,loaded:e.loaded};e.lengthComputable&&(t.total=e.total),n.next(t)};return r.addEventListener("load",c),r.addEventListener("error",u),e.reportProgress&&(r.addEventListener("progress",d),null!==o&&r.upload&&r.upload.addEventListener("progress",p)),r.send(o),n.next({type:im.Sent}),function(){r.removeEventListener("error",u),r.removeEventListener("load",c),e.reportProgress&&(r.removeEventListener("progress",d),null!==o&&r.upload&&r.upload.removeEventListener("progress",p)),r.abort()}}))}}]),e}(),bm=new Re("XSRF_COOKIE_NAME"),ym=new Re("XSRF_HEADER_NAME"),Cm=function e(){_classCallCheck2(this,e)},wm=function(){function e(t,n,r){_classCallCheck2(this,e),this.doc=t,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return _createClass2(e,[{key:"getToken",value:function(){if("server"===this.platform)return null;var e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=nl(e,this.cookieName),this.lastCookieString=e),this.lastToken}}]),e}(),km=function(){function e(t,n){_classCallCheck2(this,e),this.tokenService=t,this.headerName=n}return _createClass2(e,[{key:"intercept",value:function(e,t){var n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);var r=this.tokenService.getToken();return null===r||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,r)})),t.handle(e)}}]),e}(),xm=function(){function e(t,n){_classCallCheck2(this,e),this.backend=t,this.injector=n,this.chain=null}return _createClass2(e,[{key:"handle",value:function(e){if(null===this.chain){var t=this.injector.get(pm,[]);this.chain=t.reduceRight((function(e,t){return new dm(e,t)}),this.backend)}return this.chain.handle(e)}}]),e}(),Sm=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"disable",value:function(){return{ngModule:e,providers:[{provide:km,useClass:fm}]}}},{key:"withOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{ngModule:e,providers:[t.cookieName?{provide:bm,useValue:t.cookieName}:[],t.headerName?{provide:ym,useValue:t.headerName}:[]]}}}]),e}(),Om=function e(){_classCallCheck2(this,e)},jm=((um=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.http=t,this.router=n,this.alert=r,this.spinner=i,this.baseUrl="/api/"}return _createClass2(e,[{key:"loginUser",value:function(e){var t=this.baseUrl+"login",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"getWritingUsers",value:function(){return this.http.get(this.baseUrl+"getWritingUsers")}},{key:"getUsersAffected",value:function(){var e=this.baseUrl+"getUsersAffected";return(new Kf).set("Content-Type","application/json"),this.http.get(e)}},{key:"createUser",value:function(e){var t=this.baseUrl+"createUser",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"updatePhoto",value:function(e){var t=this.baseUrl+"updatePhoto",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"updatePhotoBack",value:function(e){var t=this.baseUrl+"updatePhotoBack",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"checkUser",value:function(e){var t=this.baseUrl+"checkUser",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"getDataForDashboard",value:function(e){var t=this.baseUrl+"getDataForDashboard",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"getImageUrlForUser",value:function(e){var t=this.baseUrl+"getImageUrlForUser",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"getImageUrlForTshirtUser",value:function(e){var t=this.baseUrl+"getImageUrlForTshirtUser",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"getImageUrlForTshirtUserBack",value:function(e){var t=this.baseUrl+"getImageUrlForTshirtUserBack",n=new Kf;return n.set("Content-Type","application/json"),this.http.post(t,JSON.parse(JSON.stringify(e)),{headers:n})}},{key:"isLoggedIn",value:function(){return!!localStorage.getItem("access_token")}},{key:"logout",value:function(){var e=this,t=this.baseUrl+"logout";(new Kf).set("Content-Type","application/json"),this.spinner.show(),this.http.get(t).subscribe((function(t){e.spinner.hide(),t.action?(localStorage.removeItem("access_token"),localStorage.removeItem("loggedInUsername"),localStorage.removeItem("tshirtUser"),localStorage.removeItem("currentUser"),e.router.navigate(["/homepage"])):e.alert.error(t.message)}))}}]),e}()).ngInjectableDef=ke({factory:function(){return new um(Ue(hm),Ue(Ad),Ue(Gf),Ue(If))},token:um,providedIn:"root"}),um),Em=ur({encapsulation:0,styles:[[".hero-bg[_ngcontent-%COMP%]{background-image:url(background1.c96dad6210a380c56b5f.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}"]],data:{}});function Pm(e){return Mo(0,[(e()(),po(0,0,null,null,35,"div",[["class","container"]],null,null,null,null,null)),(e()(),po(1,0,null,null,34,"div",[["class","hero-bg flex justify-center items-center  w-screen h-screen flex-col text-center object-contain"]],null,null,null,null,null)),(e()(),po(2,0,null,null,1,"div",[["class","flex-1 text-center mt-16"]],null,null,null,null,null)),(e()(),po(3,0,null,null,0,"img",[["alt",""],["src","../../assets/images/logo.png"]],null,null,null,null,null)),(e()(),po(4,0,null,null,31,"div",[["class","flex-1 -mt-32"]],null,null,null,null,null)),(e()(),po(5,0,null,null,20,"form",[["class","bg-red-600 px-4 py-5 bg-opacity-75 text-white text-2xl rounded-lg "],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==si(e,7).onSubmit(n)&&r),"reset"===t&&(r=!1!==si(e,7).onReset()&&r),r}),null,null)),yi(6,16384,null,0,tf,[],null,null),yi(7,540672,null,0,rf,[[8,null],[8,null]],{form:[0,"form"]},null),wi(2048,null,mp,null,[rf]),yi(9,16384,null,0,yp,[[4,mp]],null,null),(e()(),po(10,0,null,null,7,"label",[["for","username"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Username "])),(e()(),po(12,0,null,null,5,"input",[["class","input-area"],["formControlName","username"],["id","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==si(e,13)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==si(e,13).onTouched()&&r),"compositionstart"===t&&(r=!1!==si(e,13)._compositionStart()&&r),"compositionend"===t&&(r=!1!==si(e,13)._compositionEnd(n.target.value)&&r),r}),null,null)),yi(13,16384,null,0,pp,[jn,kn,[2,dp]],null,null),wi(1024,null,hp,(function(e){return[e]}),[pp]),yi(15,671744,null,0,cf,[[3,mp],[8,null],[8,null],[6,hp],[2,nf]],{name:[0,"name"]},null),wi(2048,null,vp,null,[cf]),yi(17,16384,null,0,bp,[[4,vp]],null,null),(e()(),po(18,0,null,null,7,"label",[["class","mt-2"],["for","password"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Password "])),(e()(),po(20,0,null,null,5,"input",[["class","input-area"],["formControlName","password"],["id","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==si(e,21)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==si(e,21).onTouched()&&r),"compositionstart"===t&&(r=!1!==si(e,21)._compositionStart()&&r),"compositionend"===t&&(r=!1!==si(e,21)._compositionEnd(n.target.value)&&r),r}),null,null)),yi(21,16384,null,0,pp,[jn,kn,[2,dp]],null,null),wi(1024,null,hp,(function(e){return[e]}),[pp]),yi(23,671744,null,0,cf,[[3,mp],[8,null],[8,null],[6,hp],[2,nf]],{name:[0,"name"]},null),wi(2048,null,vp,null,[cf]),yi(25,16384,null,0,bp,[[4,vp]],null,null),(e()(),po(26,0,null,null,9,"div",[],null,null,null,null,null)),(e()(),po(27,0,null,null,3,"ngx-spinner",[["bdColor","rgba(255,255,255,0.8)"],["color","#E5433E"],["size","medium"],["type","pacman"]],null,null,null,zf,Rf)),yi(28,770048,null,0,Af,[If,At],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"]},null),(e()(),po(29,0,null,0,1,"p",[["style","font-size: 20px; color:black"]],null,null,null,null,null)),(e()(),jo(-1,null,["Authenticating if you are who you thing you are :'-)"])),(e()(),po(31,0,null,null,1,"button",[["class","btn-primary mt-4 m-4"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.login()&&r),r}),null,null)),(e()(),jo(-1,null,["Log In"])),(e()(),po(33,0,null,null,2,"button",[["class","btn-primary mt-4 m-4"],["routerLink","/signup"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==si(e,34).onClick()&&r),r}),null,null)),yi(34,16384,null,0,Dd,[Ad,xh,[8,null],jn,kn],{routerLink:[0,"routerLink"]},null),(e()(),jo(-1,null,["Sign Up"]))],(function(e,t){e(t,7,0,t.component.form),e(t,15,0,"username"),e(t,23,0,"password"),e(t,28,0,"rgba(255,255,255,0.8)","medium","#E5433E","pacman"),e(t,34,0,"/signup")}),(function(e,t){e(t,5,0,si(t,9).ngClassUntouched,si(t,9).ngClassTouched,si(t,9).ngClassPristine,si(t,9).ngClassDirty,si(t,9).ngClassValid,si(t,9).ngClassInvalid,si(t,9).ngClassPending),e(t,12,0,si(t,17).ngClassUntouched,si(t,17).ngClassTouched,si(t,17).ngClassPristine,si(t,17).ngClassDirty,si(t,17).ngClassValid,si(t,17).ngClassInvalid,si(t,17).ngClassPending),e(t,20,0,si(t,25).ngClassUntouched,si(t,25).ngClassTouched,si(t,25).ngClassPristine,si(t,25).ngClassDirty,si(t,25).ngClassValid,si(t,25).ngClassInvalid,si(t,25).ngClassPending)}))}var Mm=Kr("app-homepage",Vf,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-homepage",[],null,null,null,Pm,Em)),yi(1,114688,null,0,Vf,[Ad,If,Gf,Yf,jm],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Tm=function(){function e(t,n){_classCallCheck2(this,e),this.router=t,this.route=n}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"showHome",value:function(){var e=localStorage.getItem("loggedInUsername");this.router.navigate(["/dashboard/"+e])}},{key:"showFront",value:function(){this.router.navigate(["front"],{relativeTo:this.route})}},{key:"showBack",value:function(){this.router.navigate(["back"],{relativeTo:this.route})}}]),e}(),Im=ur({encapsulation:0,styles:[[""]],data:{}});function Am(e){return Mo(0,[(e()(),po(0,0,null,null,6,"div",[["class","flex justify-evenly p-2"],["style","background-color: #1F1F1F;width: 100%;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showFront()&&r),r}),null,null)),(e()(),jo(-1,null,["Front Side"])),(e()(),po(3,0,null,null,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showHome()&&r),r}),null,null)),(e()(),jo(-1,null,["Home"])),(e()(),po(5,0,null,null,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showBack()&&r),r}),null,null)),(e()(),jo(-1,null,["Back Side"])),(e()(),po(7,16777216,null,null,1,"router-outlet",[["style","width: 100%;height: 100%;"]],null,null,null,null,null)),yi(8,212992,null,0,Bd,[Nd,Yn,bn,[8,null],At],null,null)],(function(e,t){e(t,8,0)}),null)}var Dm=Kr("app-edit-page",Tm,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-edit-page",[],null,null,null,Am,Im)),yi(1,114688,null,0,Tm,[Ad,xh],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]);function Rm(e,t,n,r){return new(n||(n=Promise))((function(i,a){function o(e){try{l(r.next(e))}catch(t){a(t)}}function s(e){try{l(r.throw(e))}catch(t){a(t)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(o,s)}l((r=r.apply(e,t||[])).next())}))}var Fm=n("q+JS"),Lm=n.n(Fm),Nm=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.userService=t,this.global=n,this.spinner=r,this.router=i}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.spinnerMsg="Thank you for creating memories with us :)",this.spinner.show(),this.flag=0,this.enableButton=!1,this.userService.getImageUrlForTshirtUser({userId:localStorage.getItem("tshirtUser")}).subscribe((function(t){return Rm(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.hide(),t.action?(this.imageEditor=new Lm.a("#tui-image-editor-container",{includeUI:{menu:["text"],loadImage:{path:t.message.url,name:"SampleImage"},initMenu:"text",menuBarPosition:"bottom"},cssMaxWidth:600,cssMaxHeight:700,usageStatistics:!1}),n=JSON.parse(t.message.user).usersAffected,r=localStorage.getItem("tshirtUser"),this.enableButton=!n.includes(r),this.imageEditor.on("mousedown",(function(e,t){1==i.flag&&i.imageEditor.stopDrawingMode()})),this.imageEditor.on("objectActivated",(function(e){i.flag=1}))):console.log(t.message);case 1:case"end":return e.stop()}}),e,this)})))}))}},{key:"ngAfterViewInit",value:function(){}},{key:"sendPhoto",value:function(){var e=this;this.spinnerMsg="Sending your love to your loved one <br/> It might take a few moments",this.spinner.show();var t=this.imageEditor.toDataURL();this.userService.updatePhoto({tshirtUser:localStorage.getItem("tshirtUser"),photo:t}).subscribe((function(t){e.spinner.hide(),t.action?(localStorage.removeItem("tshirtUser"),e.router.navigate(["/dashboard/"+localStorage.getItem("loggedInUsername")])):console.log(t.message)}))}}]),e}(),Bm=ur({encapsulation:0,styles:[[""]],data:{}});function zm(e){return Mo(0,[(e()(),po(0,0,null,null,1,"div",[["class","text-white text-xl text-center"],["style","display: block;margin: 0 auto;"]],null,null,null,null,null)),(e()(),jo(-1,null,["Thanks for making memories :)"]))],null,null)}function qm(e){return Mo(0,[(e()(),po(0,0,null,null,4,"button",[["class","btn-primary"],["id","btn"],["style","display: block;margin: 0 auto;width:10%"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.sendPhoto()&&r),r}),null,null)),wi(512,null,rl,il,[zn,qn,kn,jn]),yi(2,278528,null,0,al,[rl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),So(3,{"bg-yello-200":0}),(e()(),jo(-1,null,["Send"]))],(function(e,t){var n=e(t,3,0,!t.component.enableButton);e(t,2,0,"btn-primary",n)}),(function(e,t){e(t,0,0,!t.component.enableButton)}))}function Um(e){return Mo(0,[(e()(),po(0,0,null,null,6,"div",[["style","position:relative;height:100%;max-width:100vw;max-height: 100vh;width: 100%;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,4,"div",[["style","position:absolute;height:50px;top:5px;z-index: 1; width: 100%;display: flex;justify-items: center;align-content: center;text-align: center;background-color:#1F1F1F;"]],null,null,null,null,null)),(e()(),ho(16777216,null,null,1,null,zm)),yi(3,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,qm)),yi(5,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),po(6,0,null,null,0,"div",[["id","tui-image-editor-container"]],null,null,null,null,null)),(e()(),po(7,0,null,null,2,"ngx-spinner",[["bdColor","rgba(255,255,255,0.8)"],["color","#E5433E"],["size","medium"],["type","pacman"]],null,null,null,zf,Rf)),yi(8,770048,null,0,Af,[If,At],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"]},null),(e()(),po(9,0,null,0,0,"p",[["style","font-size: 20px; color:black"]],[[8,"innerHTML",1]],null,null,null,null))],(function(e,t){var n=t.component;e(t,3,0,!n.enableButton),e(t,5,0,n.enableButton),e(t,8,0,"rgba(255,255,255,0.8)","medium","#E5433E","pacman")}),(function(e,t){e(t,9,0,t.component.spinnerMsg)}))}var Hm=Kr("app-front",Nm,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-front",[],null,null,null,Um,Bm)),yi(1,4308992,null,0,Nm,[jm,Yf,If,Ad],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Vm=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.userService=t,this.global=n,this.spinner=r,this.router=i}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.spinnerMsg="Thank you for creating memories with us :)",this.spinner.show(),this.flag=0,this.enableButton=!1,this.userService.getImageUrlForTshirtUserBack({userId:localStorage.getItem("tshirtUser")}).subscribe((function(t){return Rm(e,void 0,void 0,regeneratorRuntime.mark((function e(){var n,r,i=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.hide(),t.action?(this.imageEditor=new Lm.a("#tui-image-editor-container",{includeUI:{menu:["text"],loadImage:{path:t.message.url,name:"SampleImageBack"},initMenu:"text",menuBarPosition:"bottom"},cssMaxWidth:600,cssMaxHeight:700,usageStatistics:!1}),n=JSON.parse(t.message.user).usersAffected,r=localStorage.getItem("tshirtUser"),this.enableButton=!n.includes(r),this.imageEditor.on("mousedown",(function(e,t){1==i.flag&&i.imageEditor.stopDrawingMode()})),this.imageEditor.on("objectActivated",(function(e){i.flag=1}))):console.log(t.message);case 1:case"end":return e.stop()}}),e,this)})))}))}},{key:"ngAfterViewInit",value:function(){}},{key:"sendPhoto",value:function(){var e=this;this.spinnerMsg="Your loved one has so many well wishers <br/> Adding your wishes too<br>Wait for a few moments!",this.spinner.show();var t=this.imageEditor.toDataURL();this.userService.updatePhotoBack({tshirtUser:localStorage.getItem("tshirtUser"),photo:t}).subscribe((function(t){e.spinner.hide(),t.action?(localStorage.removeItem("tshirtUser"),e.router.navigate(["/dashboard/"+localStorage.getItem("loggedInUsername")])):console.log(t.message)}))}}]),e}(),Wm=ur({encapsulation:0,styles:[[""]],data:{}});function Gm(e){return Mo(0,[(e()(),po(0,0,null,null,1,"div",[["class","text-white text-xl text-center"],["style","display: block;margin: 0 auto;"]],null,null,null,null,null)),(e()(),jo(-1,null,["Thanks for making memories :)"]))],null,null)}function Ym(e){return Mo(0,[(e()(),po(0,0,null,null,4,"button",[["class","btn-primary"],["id","btn"],["style","display: block;margin: 0 auto;width:10%"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.sendPhoto()&&r),r}),null,null)),wi(512,null,rl,il,[zn,qn,kn,jn]),yi(2,278528,null,0,al,[rl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),So(3,{"bg-yello-200":0}),(e()(),jo(-1,null,["Send"]))],(function(e,t){var n=e(t,3,0,!t.component.enableButton);e(t,2,0,"btn-primary",n)}),(function(e,t){e(t,0,0,!t.component.enableButton)}))}function Xm(e){return Mo(0,[(e()(),po(0,0,null,null,6,"div",[["style","position:relative;height:100%;max-width:100vw;max-height: 100vh;width: 100%;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,4,"div",[["style","position:absolute;height:50px;top:5px;z-index: 1; width: 100%;display: flex;justify-items: center;align-content: center;text-align: center;background-color:#1F1F1F;"]],null,null,null,null,null)),(e()(),ho(16777216,null,null,1,null,Gm)),yi(3,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,Ym)),yi(5,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),po(6,0,null,null,0,"div",[["id","tui-image-editor-container"]],null,null,null,null,null)),(e()(),po(7,0,null,null,2,"ngx-spinner",[["bdColor","rgba(255,255,255,0.8)"],["color","#E5433E"],["size","medium"],["type","pacman"]],null,null,null,zf,Rf)),yi(8,770048,null,0,Af,[If,At],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"]},null),(e()(),po(9,0,null,0,0,"p",[["style","font-size: 20px; color:black"]],[[8,"innerHTML",1]],null,null,null,null))],(function(e,t){var n=t.component;e(t,3,0,!n.enableButton),e(t,5,0,n.enableButton),e(t,8,0,"rgba(255,255,255,0.8)","medium","#E5433E","pacman")}),(function(e,t){e(t,9,0,t.component.spinnerMsg)}))}var Jm=Kr("app-back",Vm,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-back",[],null,null,null,Xm,Wm)),yi(1,4308992,null,0,Vm,[jm,Yf,If,Ad],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Km=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.userService=t,this.spinner=n,this.alertService=r,this.global=i,this.router=a,this.allowSignup=!1,this.allowSignupPassword=!1,this.allowSignupFirstName=!1,this.allowSignupLastName=!1,this.allowSignupUsername=!1,this.form=new $p({username:new Kp("",kp.required),password:new Kp("",kp.required),firstName:new Kp("",kp.required),lastName:new Kp("",kp.required),department:new Kp("",kp.required)}),this.department="COED"}return _createClass2(e,[{key:"ngOnInit",value:function(){}},{key:"setDepartment",value:function(e){this.department=e}},{key:"checkPassword",value:function(){var e=this.form.get("password").value;if(0!=e.length){if(e.length<7||e.length>20)return this.alertService.error("Enter a password with length between 7 and 20."),void(this.allowSignupPassword=!1);this.alertService.info("good password bruh!"),this.allowSignupPassword=!0}}},{key:"checkFirstName",value:function(){var e=this.form.get("firstName").value;if(0!=e.length){if(e.length<3||e.length>15)return this.alertService.error("Sorry for your unfortunate first name :( But we only accept ones with length between 3 and 15! :)"),void(this.allowSignupFirstName=!1);for(var t=e.length,n=0;n<t;n++)if(!(e[n]>="a"&&e[n]<="z"||e[n]>="A"&&e[n]<="Z"))return this.alertService.error("Unless you are Elon Musk's son, you are only allowed to have alphabets in your name"),void(this.allowSignupFirstName=!1);this.allowSignupFirstName=!0}}},{key:"checkLastName",value:function(){var e=this.form.get("lastName").value;if(0!=e.length){if(e.length<3||e.length>15)return this.alertService.error("Sorry for your unfortunate last name :( But we only accept ones with length between 3 and 15! :)"),void(this.allowSignupLastName=!1);for(var t=e.length,n=0;n<t;n++)if(!(e[n]>="a"&&e[n]<="z"||e[n]>="A"&&e[n]<="Z"))return this.alertService.error("Unless you are Elon Musk's son, you are only allowed to have alphabets in your name"),void(this.allowSignupLastName=!1);this.allowSignupLastName=!0}}},{key:"checkUsername",value:function(){var e=this,t=this.form.get("username").value;if(0!=(t=(t=t.trim()).toLowerCase()).length){var n=t.length;if(n<6)return this.alertService.error("We have enough space in our db! Please enter a username greater than 6 characters"),void(this.allowSignupUsername=!1);if(n>20)return this.alertService.error("Having a long username won't give you higher marks. Please restrict to 20 characters"),void(this.allowSignupUsername=!1);for(var r=0;r<n;r++)if("_"!=t[r]&&!(t[r]>="a"&&t[r]<="z"||t[r]>="A"&&t[r]<="Z"||t[r]>="0"&&t[r]<="9"))return this.alertService.error("Bahut tez ho rahe ho hain? Alphanumeric and underscores(_) only! :) "),void(this.allowSignupUsername=!1);this.allowSignupUsername=!0,console.log(t),this.userService.checkUser({userId:t}).subscribe((function(n){n.action||" "==t?(console.log(n.message),e.allowSignup=!0," "!=t&&e.alertService.info(n.message)):(console.log(n.message),e.allowSignup=!1,e.alertService.error(n.message))}))}}},{key:"signup",value:function(){var e=this;if(this.spinner.show(),this.checkFirstName(),this.checkLastName(),this.checkPassword(),this.checkUsername(),!(this.allowSignupFirstName&&this.allowSignupLastName&&this.allowSignupPassword&&this.allowSignupUsername))return this.spinner.hide(),void this.alertService.error("please enter valid values");var t=this.form.get("username").value,n=this.form.get("firstName").value,r=this.form.get("lastName").value,i=this.form.get("password").value;if(t=(t=t.trim()).toLowerCase(),i=i.trim(),!(t&&i&&r&&n))return this.spinner.hide(),void this.alertService.error("please enter valid values");var a=Object(Hf.SHA256)(i).toString(Hf.enc.Hex);this.userService.createUser({userId:t,firstName:n,lastName:r,password:a,department:this.department}).subscribe((function(t){if(t.action){var n=t.message.user.userId;localStorage.setItem("user",JSON.stringify(t.message.user)),localStorage.setItem("loggedInUsername",n),localStorage.setItem("access_token",t.message.token),e.router.navigate(["/dashboard/"+n]),e.spinner.hide(),e.alertService.success("you have been registered !!")}else e.spinner.hide(),e.alertService.error(t.message)}))}}]),e}(),$m=ur({encapsulation:0,styles:[[".hero-bg[_ngcontent-%COMP%]{background-image:url(background2.e3000dfd10f668b15d59.jpg);background-position:center;background-repeat:no-repeat;background-size:cover}"]],data:{}});function Zm(e){return Mo(0,[(e()(),po(0,0,null,null,84,"div",[["class","container"]],null,null,null,null,null)),(e()(),po(1,0,null,null,83,"div",[["class","hero-bg flex justify-center items-center  w-screen h-screen flex-col text-center bg-local"]],null,null,null,null,null)),(e()(),po(2,0,null,null,67,"form",[["class","bg-red-700 px-4 py-5 bg-opacity-75 text-white text-2xl rounded-lg mt-16"],["novalidate",""]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"submit"],[null,"reset"]],(function(e,t,n){var r=!0;return"submit"===t&&(r=!1!==si(e,4).onSubmit(n)&&r),"reset"===t&&(r=!1!==si(e,4).onReset()&&r),r}),null,null)),yi(3,16384,null,0,tf,[],null,null),yi(4,540672,null,0,rf,[[8,null],[8,null]],{form:[0,"form"]},null),wi(2048,null,mp,null,[rf]),yi(6,16384,null,0,yp,[[4,mp]],null,null),(e()(),po(7,0,null,null,7,"label",[["for","username"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Username "])),(e()(),po(9,0,null,null,5,"input",[["class","input-area"],["formControlName","username"],["id","username"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==si(e,10)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==si(e,10).onTouched()&&r),"compositionstart"===t&&(r=!1!==si(e,10)._compositionStart()&&r),"compositionend"===t&&(r=!1!==si(e,10)._compositionEnd(n.target.value)&&r),"blur"===t&&(r=!1!==i.checkUsername()&&r),r}),null,null)),yi(10,16384,null,0,pp,[jn,kn,[2,dp]],null,null),wi(1024,null,hp,(function(e){return[e]}),[pp]),yi(12,671744,null,0,cf,[[3,mp],[8,null],[8,null],[6,hp],[2,nf]],{name:[0,"name"]},null),wi(2048,null,vp,null,[cf]),yi(14,16384,null,0,bp,[[4,vp]],null,null),(e()(),po(15,0,null,null,7,"label",[["class","mt-2"],["for","password"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Password "])),(e()(),po(17,0,null,null,5,"input",[["class","input-area"],["formControlName","password"],["id","password"],["type","password"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==si(e,18)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==si(e,18).onTouched()&&r),"compositionstart"===t&&(r=!1!==si(e,18)._compositionStart()&&r),"compositionend"===t&&(r=!1!==si(e,18)._compositionEnd(n.target.value)&&r),"blur"===t&&(r=!1!==i.checkPassword()&&r),r}),null,null)),yi(18,16384,null,0,pp,[jn,kn,[2,dp]],null,null),wi(1024,null,hp,(function(e){return[e]}),[pp]),yi(20,671744,null,0,cf,[[3,mp],[8,null],[8,null],[6,hp],[2,nf]],{name:[0,"name"]},null),wi(2048,null,vp,null,[cf]),yi(22,16384,null,0,bp,[[4,vp]],null,null),(e()(),po(23,0,null,null,7,"label",[["class","mt-2"],["for","firstName"]],null,null,null,null,null)),(e()(),jo(-1,null,[" First Name "])),(e()(),po(25,0,null,null,5,"input",[["class","input-area"],["formControlName","firstName"],["id","firstName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==si(e,26)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==si(e,26).onTouched()&&r),"compositionstart"===t&&(r=!1!==si(e,26)._compositionStart()&&r),"compositionend"===t&&(r=!1!==si(e,26)._compositionEnd(n.target.value)&&r),"blur"===t&&(r=!1!==i.checkFirstName()&&r),r}),null,null)),yi(26,16384,null,0,pp,[jn,kn,[2,dp]],null,null),wi(1024,null,hp,(function(e){return[e]}),[pp]),yi(28,671744,null,0,cf,[[3,mp],[8,null],[8,null],[6,hp],[2,nf]],{name:[0,"name"]},null),wi(2048,null,vp,null,[cf]),yi(30,16384,null,0,bp,[[4,vp]],null,null),(e()(),po(31,0,null,null,7,"label",[["class","mt-2"],["for","lastName"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Last Name "])),(e()(),po(33,0,null,null,5,"input",[["class","input-area"],["formControlName","lastName"],["id","lastName"],["type","text"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"blur"],[null,"input"],[null,"compositionstart"],[null,"compositionend"]],(function(e,t,n){var r=!0,i=e.component;return"input"===t&&(r=!1!==si(e,34)._handleInput(n.target.value)&&r),"blur"===t&&(r=!1!==si(e,34).onTouched()&&r),"compositionstart"===t&&(r=!1!==si(e,34)._compositionStart()&&r),"compositionend"===t&&(r=!1!==si(e,34)._compositionEnd(n.target.value)&&r),"blur"===t&&(r=!1!==i.checkLastName()&&r),r}),null,null)),yi(34,16384,null,0,pp,[jn,kn,[2,dp]],null,null),wi(1024,null,hp,(function(e){return[e]}),[pp]),yi(36,671744,null,0,cf,[[3,mp],[8,null],[8,null],[6,hp],[2,nf]],{name:[0,"name"]},null),wi(2048,null,vp,null,[cf]),yi(38,16384,null,0,bp,[[4,vp]],null,null),(e()(),po(39,0,null,null,30,"label",[["class","mt-2"],["for","department"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Department "])),(e()(),po(41,0,[["department",1]],null,28,"select",[["class","flex block bg-red-200 text-red-800"],["id","department"],["name","department"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.setDepartment(si(e,41).value)&&r),r}),null,null)),(e()(),po(42,0,null,null,3,"option",[["disabled",""]],null,null,null,null,null)),yi(43,147456,null,0,Dp,[kn,jn,[8,null]],null,null),yi(44,147456,null,0,Fp,[kn,jn,[8,null]],null,null),(e()(),jo(-1,null,["Choose your department"])),(e()(),po(46,0,null,null,3,"option",[["value","COED"]],null,null,null,null,null)),yi(47,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(48,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Computer Engineering Department"])),(e()(),po(50,0,null,null,3,"option",[["value","CHED"]],null,null,null,null,null)),yi(51,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(52,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Chemical Engineering Department"])),(e()(),po(54,0,null,null,3,"option",[["value","MED"]],null,null,null,null,null)),yi(55,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(56,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Mechanical Engineering Department"])),(e()(),po(58,0,null,null,3,"option",[["value","ECED"]],null,null,null,null,null)),yi(59,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(60,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,[" Electronics Engineering Department"])),(e()(),po(62,0,null,null,3,"option",[["value","CED"]],null,null,null,null,null)),yi(63,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(64,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Civil Engineering Department"])),(e()(),po(66,0,null,null,3,"option",[["value","EED"]],null,null,null,null,null)),yi(67,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(68,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Electrical Engineering Department"])),(e()(),po(70,0,null,null,14,"div",[],null,null,null,null,null)),(e()(),po(71,0,null,null,5,"ngx-spinner",[["bdColor","rgba(255,255,255,0.8)"],["color","#E5433E"],["size","medium"],["type","pacman"]],null,null,null,zf,Rf)),yi(72,770048,null,0,Af,[If,At],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"]},null),(e()(),po(73,0,null,0,3,"p",[["class","text-gray-900 text-xl p-2 mt-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["Creating a Graffi-Tee for you. "])),(e()(),po(75,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),jo(-1,null,["Wait for a few seconds"])),(e()(),po(77,0,null,null,4,"button",[["class","btn-primary mt-4"],["type","button"]],[[8,"disabled",0]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.signup()&&r),r}),null,null)),wi(512,null,rl,il,[zn,qn,kn,jn]),yi(79,278528,null,0,al,[rl],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),So(80,{"bg-red-500":0}),(e()(),jo(-1,null,["Sign Up"])),(e()(),po(82,0,null,null,2,"button",[["class","btn-primary mt-4 m-4"],["routerLink","/homepage"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==si(e,83).onClick()&&r),r}),null,null)),yi(83,16384,null,0,Dd,[Ad,xh,[8,null],jn,kn],{routerLink:[0,"routerLink"]},null),(e()(),jo(-1,null,["Log In"]))],(function(e,t){var n=t.component;e(t,4,0,n.form),e(t,12,0,"username"),e(t,20,0,"password"),e(t,28,0,"firstName"),e(t,36,0,"lastName"),e(t,47,0,"COED"),e(t,48,0,"COED"),e(t,51,0,"CHED"),e(t,52,0,"CHED"),e(t,55,0,"MED"),e(t,56,0,"MED"),e(t,59,0,"ECED"),e(t,60,0,"ECED"),e(t,63,0,"CED"),e(t,64,0,"CED"),e(t,67,0,"EED"),e(t,68,0,"EED"),e(t,72,0,"rgba(255,255,255,0.8)","medium","#E5433E","pacman");var r=e(t,80,0,!(n.allowSignupUsername&&n.allowSignupPassword&&n.allowSignupFirstName&&n.allowSignupLastName));e(t,79,0,"btn-primary mt-4",r),e(t,83,0,"/homepage")}),(function(e,t){var n=t.component;e(t,2,0,si(t,6).ngClassUntouched,si(t,6).ngClassTouched,si(t,6).ngClassPristine,si(t,6).ngClassDirty,si(t,6).ngClassValid,si(t,6).ngClassInvalid,si(t,6).ngClassPending),e(t,9,0,si(t,14).ngClassUntouched,si(t,14).ngClassTouched,si(t,14).ngClassPristine,si(t,14).ngClassDirty,si(t,14).ngClassValid,si(t,14).ngClassInvalid,si(t,14).ngClassPending),e(t,17,0,si(t,22).ngClassUntouched,si(t,22).ngClassTouched,si(t,22).ngClassPristine,si(t,22).ngClassDirty,si(t,22).ngClassValid,si(t,22).ngClassInvalid,si(t,22).ngClassPending),e(t,25,0,si(t,30).ngClassUntouched,si(t,30).ngClassTouched,si(t,30).ngClassPristine,si(t,30).ngClassDirty,si(t,30).ngClassValid,si(t,30).ngClassInvalid,si(t,30).ngClassPending),e(t,33,0,si(t,38).ngClassUntouched,si(t,38).ngClassTouched,si(t,38).ngClassPristine,si(t,38).ngClassDirty,si(t,38).ngClassValid,si(t,38).ngClassInvalid,si(t,38).ngClassPending),e(t,77,0,!(n.allowSignupUsername&&n.allowSignupPassword&&n.allowSignupFirstName&&n.allowSignupLastName))}))}var Qm=Kr("app-sign-up",Km,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-sign-up",[],null,null,null,Zm,$m)),yi(1,114688,null,0,Km,[jm,If,Gf,Yf,Ad],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),eg=function(){function e(){this.change=new Hi,this.instances={},this.DEFAULT_ID="DEFAULT_PAGINATION_ID"}return e.prototype.defaultId=function(){return this.DEFAULT_ID},e.prototype.register=function(e){return null==e.id&&(e.id=this.DEFAULT_ID),this.instances[e.id]?this.updateInstance(e):(this.instances[e.id]=e,!0)},e.prototype.updateInstance=function(e){var t=!1;for(var n in this.instances[e.id])e[n]!==this.instances[e.id][n]&&(this.instances[e.id][n]=e[n],t=!0);return t},e.prototype.getCurrentPage=function(e){if(this.instances[e])return this.instances[e].currentPage},e.prototype.setCurrentPage=function(e,t){if(this.instances[e]){var n=this.instances[e];t<=Math.ceil(n.totalItems/n.itemsPerPage)&&1<=t&&(this.instances[e].currentPage=t,this.change.emit(e))}},e.prototype.setTotalItems=function(e,t){this.instances[e]&&0<=t&&(this.instances[e].totalItems=t,this.change.emit(e))},e.prototype.setItemsPerPage=function(e,t){this.instances[e]&&(this.instances[e].itemsPerPage=t,this.change.emit(e))},e.prototype.getInstance=function(e){return void 0===e&&(e=this.DEFAULT_ID),this.instances[e]?this.clone(this.instances[e]):{}},e.prototype.clone=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},e}(),tg=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ng=Number.MAX_SAFE_INTEGER,rg=function(){function e(e){this.service=e,this.state={}}return e.prototype.transform=function(e,t){if(!(e instanceof Array)){var n=t.id||this.service.defaultId();return this.state[n]?this.state[n].slice:e}var r,i,a=t.totalItems&&t.totalItems!==e.length,o=this.createInstance(e,t),s=o.id,l=o.itemsPerPage,c=this.service.register(o);if(!a&&e instanceof Array){if(this.stateIsIdentical(s,e,r=(o.currentPage-1)*(l=+l||ng),i=r+l))return this.state[s].slice;var u=e.slice(r,i);return this.saveState(s,e,u,r,i),this.service.change.emit(s),u}return c&&this.service.change.emit(s),this.saveState(s,e,e,r,i),e},e.prototype.createInstance=function(e,t){return this.checkConfig(t),{id:null!=t.id?t.id:this.service.defaultId(),itemsPerPage:+t.itemsPerPage||0,currentPage:+t.currentPage||1,totalItems:+t.totalItems||e.length}},e.prototype.checkConfig=function(e){var t=["itemsPerPage","currentPage"].filter((function(t){return!(t in e)}));if(0<t.length)throw new Error("PaginatePipe: Argument is missing the following required properties: "+t.join(", "))},e.prototype.saveState=function(e,t,n,r,i){this.state[e]={collection:t,size:t.length,slice:n,start:r,end:i}},e.prototype.stateIsIdentical=function(e,t,n,r){var i=this.state[e];return!!i&&!(i.size!==t.length||i.start!==n||i.end!==r)&&i.slice.every((function(e,r){return e===t[n+r]}))},function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([Xi({name:"paginate",pure:!1}),tg("design:paramtypes",[eg])],e)}(),ig=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},ag=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};function og(e){return!!e&&"false"!==e}var sg=function(){function e(){this.maxSize=7,this.previousLabel="Previous",this.nextLabel="Next",this.screenReaderPaginationLabel="Pagination",this.screenReaderPageLabel="page",this.screenReaderCurrentLabel="You're on page",this.pageChange=new Hi,this.pageBoundsCorrection=new Hi,this._directionLinks=!0,this._autoHide=!1,this._responsive=!1}return Object.defineProperty(e.prototype,"directionLinks",{get:function(){return this._directionLinks},set:function(e){this._directionLinks=og(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"autoHide",{get:function(){return this._autoHide},set:function(e){this._autoHide=og(e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"responsive",{get:function(){return this._responsive},set:function(e){this._responsive=og(e)},enumerable:!0,configurable:!0}),ig([Ji(),ag("design:type",String)],e.prototype,"id",void 0),ig([Ji(),ag("design:type",Number)],e.prototype,"maxSize",void 0),ig([Ji(),ag("design:type",Boolean),ag("design:paramtypes",[Boolean])],e.prototype,"directionLinks",null),ig([Ji(),ag("design:type",Boolean),ag("design:paramtypes",[Boolean])],e.prototype,"autoHide",null),ig([Ji(),ag("design:type",Boolean),ag("design:paramtypes",[Boolean])],e.prototype,"responsive",null),ig([Ji(),ag("design:type",String)],e.prototype,"previousLabel",void 0),ig([Ji(),ag("design:type",String)],e.prototype,"nextLabel",void 0),ig([Ji(),ag("design:type",String)],e.prototype,"screenReaderPaginationLabel",void 0),ig([Ji(),ag("design:type",String)],e.prototype,"screenReaderPageLabel",void 0),ig([Ji(),ag("design:type",String)],e.prototype,"screenReaderCurrentLabel",void 0),ig([Ki(),ag("design:type",Hi)],e.prototype,"pageChange",void 0),ig([Ki(),ag("design:type",Hi)],e.prototype,"pageBoundsCorrection",void 0),ig([Yi({selector:"pagination-controls",template:'\n    <pagination-template  #p="paginationApi"\n                         [id]="id"\n                         [maxSize]="maxSize"\n                         (pageChange)="pageChange.emit($event)"\n                         (pageBoundsCorrection)="pageBoundsCorrection.emit($event)">\n    <ul class="ngx-pagination" \n        role="navigation" \n        [attr.aria-label]="screenReaderPaginationLabel" \n        [class.responsive]="responsive"\n        *ngIf="!(autoHide && p.pages.length <= 1)">\n\n        <li class="pagination-previous" [class.disabled]="p.isFirstPage()" *ngIf="directionLinks"> \n            <a tabindex="0" *ngIf="1 < p.getCurrent()" (keyup.enter)="p.previous()" (click)="p.previous()" [attr.aria-label]="previousLabel + \' \' + screenReaderPageLabel">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isFirstPage()">\n                {{ previousLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li> \n\n        <li class="small-screen">\n            {{ p.getCurrent() }} / {{ p.getLastPage() }}\n        </li>\n\n        <li [class.current]="p.getCurrent() === page.value" \n            [class.ellipsis]="page.label === \'...\'"\n            *ngFor="let page of p.pages">\n            <a tabindex="0" (keyup.enter)="p.setCurrent(page.value)" (click)="p.setCurrent(page.value)" *ngIf="p.getCurrent() !== page.value">\n                <span class="show-for-sr">{{ screenReaderPageLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span>\n            </a>\n            <ng-container *ngIf="p.getCurrent() === page.value">\n                <span class="show-for-sr">{{ screenReaderCurrentLabel }} </span>\n                <span>{{ (page.label === \'...\') ? page.label : (page.label | number:\'\') }}</span> \n            </ng-container>\n        </li>\n\n        <li class="pagination-next" [class.disabled]="p.isLastPage()" *ngIf="directionLinks">\n            <a tabindex="0" *ngIf="!p.isLastPage()" (keyup.enter)="p.next()" (click)="p.next()" [attr.aria-label]="nextLabel + \' \' + screenReaderPageLabel">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </a>\n            <span *ngIf="p.isLastPage()">\n                 {{ nextLabel }} <span class="show-for-sr">{{ screenReaderPageLabel }}</span>\n            </span>\n        </li>\n\n    </ul>\n    </pagination-template>\n    ',styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],changeDetection:Ke.OnPush,encapsulation:$e.None})],e)}(),lg=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o},cg=function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ug=function(){function e(e,t){var n=this;this.service=e,this.changeDetectorRef=t,this.maxSize=7,this.pageChange=new Hi,this.pageBoundsCorrection=new Hi,this.pages=[],this.changeSub=this.service.change.subscribe((function(e){n.id===e&&(n.updatePageLinks(),n.changeDetectorRef.markForCheck(),n.changeDetectorRef.detectChanges())}))}return e.prototype.ngOnInit=function(){void 0===this.id&&(this.id=this.service.defaultId()),this.updatePageLinks()},e.prototype.ngOnChanges=function(e){this.updatePageLinks()},e.prototype.ngOnDestroy=function(){this.changeSub.unsubscribe()},e.prototype.previous=function(){this.checkValidId(),this.setCurrent(this.getCurrent()-1)},e.prototype.next=function(){this.checkValidId(),this.setCurrent(this.getCurrent()+1)},e.prototype.isFirstPage=function(){return 1===this.getCurrent()},e.prototype.isLastPage=function(){return this.getLastPage()===this.getCurrent()},e.prototype.setCurrent=function(e){this.pageChange.emit(e)},e.prototype.getCurrent=function(){return this.service.getCurrentPage(this.id)},e.prototype.getLastPage=function(){var e=this.service.getInstance(this.id);return e.totalItems<1?1:Math.ceil(e.totalItems/e.itemsPerPage)},e.prototype.getTotalItems=function(){return this.service.getInstance(this.id).totalItems},e.prototype.checkValidId=function(){null==this.service.getInstance(this.id).id&&console.warn('PaginationControlsDirective: the specified id "'+this.id+'" does not match any registered PaginationInstance')},e.prototype.updatePageLinks=function(){var e=this,t=this.service.getInstance(this.id),n=this.outOfBoundCorrection(t);n!==t.currentPage?setTimeout((function(){e.pageBoundsCorrection.emit(n),e.pages=e.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,e.maxSize)})):this.pages=this.createPageArray(t.currentPage,t.itemsPerPage,t.totalItems,this.maxSize)},e.prototype.outOfBoundCorrection=function(e){var t=Math.ceil(e.totalItems/e.itemsPerPage);return t<e.currentPage&&0<t?t:e.currentPage<1?1:e.currentPage},e.prototype.createPageArray=function(e,t,n,r){r=+r;for(var i=[],a=Math.ceil(n/t),o=Math.ceil(r/2),s=e<=o,l=a-o<e,c=!s&&!l,u=r<a,h=1;h<=a&&h<=r;){var d=this.calculatePageNumber(h,e,r,a);i.push({label:u&&(2===h&&(c||l)||h===r-1&&(c||s))?"...":d,value:d}),h++}return i},e.prototype.calculatePageNumber=function(e,t,n,r){var i=Math.ceil(n/2);return e===n?r:1===e?e:n<r?r-i<t?r-n+e:i<t?t-i+e:e:e},lg([Ji(),cg("design:type",String)],e.prototype,"id",void 0),lg([Ji(),cg("design:type",Number)],e.prototype,"maxSize",void 0),lg([Ki(),cg("design:type",Hi)],e.prototype,"pageChange",void 0),lg([Ki(),cg("design:type",Hi)],e.prototype,"pageBoundsCorrection",void 0),lg([Gi({selector:"pagination-template,[pagination-template]",exportAs:"paginationApi"}),cg("design:paramtypes",[eg,At])],e)}(),hg=function(e,t,n,r){var i,a=arguments.length,o=a<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(o=(a<3?i(o):a>3?i(t,n,o):i(t,n))||o);return a>3&&o&&Object.defineProperty(t,n,o),o}([ea({imports:[pl],declarations:[rg,sg,ug],providers:[eg],exports:[rg,sg,ug]})],(function(){})),dg=ur({encapsulation:2,styles:["\n.ngx-pagination {\n  margin-left: 0;\n  margin-bottom: 1rem; }\n  .ngx-pagination::before, .ngx-pagination::after {\n    content: ' ';\n    display: table; }\n  .ngx-pagination::after {\n    clear: both; }\n  .ngx-pagination li {\n    -moz-user-select: none;\n    -webkit-user-select: none;\n    -ms-user-select: none;\n    margin-right: 0.0625rem;\n    border-radius: 0; }\n  .ngx-pagination li {\n    display: inline-block; }\n  .ngx-pagination a,\n  .ngx-pagination button {\n    color: #0a0a0a; \n    display: block;\n    padding: 0.1875rem 0.625rem;\n    border-radius: 0; }\n    .ngx-pagination a:hover,\n    .ngx-pagination button:hover {\n      background: #e6e6e6; }\n  .ngx-pagination .current {\n    padding: 0.1875rem 0.625rem;\n    background: #2199e8;\n    color: #fefefe;\n    cursor: default; }\n  .ngx-pagination .disabled {\n    padding: 0.1875rem 0.625rem;\n    color: #cacaca;\n    cursor: default; } \n    .ngx-pagination .disabled:hover {\n      background: transparent; }\n  .ngx-pagination a, .ngx-pagination button {\n    cursor: pointer; }\n\n.ngx-pagination .pagination-previous a::before,\n.ngx-pagination .pagination-previous.disabled::before { \n  content: '\xab';\n  display: inline-block;\n  margin-right: 0.5rem; }\n\n.ngx-pagination .pagination-next a::after,\n.ngx-pagination .pagination-next.disabled::after {\n  content: '\xbb';\n  display: inline-block;\n  margin-left: 0.5rem; }\n\n.ngx-pagination .show-for-sr {\n  position: absolute !important;\n  width: 1px;\n  height: 1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0); }\n.ngx-pagination .small-screen {\n  display: none; }\n@media screen and (max-width: 601px) {\n  .ngx-pagination.responsive .small-screen {\n    display: inline-block; } \n  .ngx-pagination.responsive li:not(.small-screen):not(.pagination-previous):not(.pagination-next) {\n    display: none; }\n}\n  "],data:{}});function pg(e){return Mo(0,[(e()(),po(0,0,null,null,3,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var r=!0;return"keyup.enter"===t&&(r=!1!==si(e.parent.parent.parent,2).previous()&&r),"click"===t&&(r=!1!==si(e.parent.parent.parent,2).previous()&&r),r}),null,null)),(e()(),jo(1,null,[" "," "])),(e()(),po(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),jo(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.previousLabel+" "+n.screenReaderPageLabel),e(t,1,0,n.previousLabel),e(t,3,0,n.screenReaderPageLabel)}))}function fg(e){return Mo(0,[(e()(),po(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),jo(1,null,[" "," "])),(e()(),po(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),jo(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.previousLabel),e(t,3,0,n.screenReaderPageLabel)}))}function mg(e){return Mo(0,[(e()(),po(0,0,null,null,4,"li",[["class","pagination-previous"]],[[2,"disabled",null]],null,null,null,null)),(e()(),ho(16777216,null,null,1,null,pg)),yi(2,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,fg)),yi(4,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,1<si(t.parent.parent,2).getCurrent()),e(t,4,0,si(t.parent.parent,2).isFirstPage())}),(function(e,t){e(t,0,0,si(t.parent.parent,2).isFirstPage())}))}function gg(e){return Mo(0,[(e()(),po(0,0,null,null,5,"a",[["tabindex","0"]],null,[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var r=!0;return"keyup.enter"===t&&(r=!1!==si(e.parent.parent.parent,2).setCurrent(e.parent.context.$implicit.value)&&r),"click"===t&&(r=!1!==si(e.parent.parent.parent,2).setCurrent(e.parent.context.$implicit.value)&&r),r}),null,null)),(e()(),po(1,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),jo(2,null,[""," "])),(e()(),po(3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),jo(4,null,["",""])),xo(5,2)],null,(function(e,t){e(t,2,0,t.component.screenReaderPageLabel);var n="..."===t.parent.context.$implicit.label?t.parent.context.$implicit.label:cr(t,4,0,e(t,5,0,si(t.parent.parent.parent,0),t.parent.context.$implicit.label,""));e(t,4,0,n)}))}function vg(e){return Mo(0,[(e()(),po(0,0,null,null,5,null,null,null,null,null,null,null)),(e()(),po(1,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),jo(2,null,[""," "])),(e()(),po(3,0,null,null,2,"span",[],null,null,null,null,null)),(e()(),jo(4,null,["",""])),xo(5,2)],null,(function(e,t){e(t,2,0,t.component.screenReaderCurrentLabel);var n="..."===t.parent.context.$implicit.label?t.parent.context.$implicit.label:cr(t,4,0,e(t,5,0,si(t.parent.parent.parent,0),t.parent.context.$implicit.label,""));e(t,4,0,n)}))}function _g(e){return Mo(0,[(e()(),po(0,0,null,null,4,"li",[],[[2,"current",null],[2,"ellipsis",null]],null,null,null,null)),(e()(),ho(16777216,null,null,1,null,gg)),yi(2,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,vg)),yi(4,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,si(t.parent.parent,2).getCurrent()!==t.context.$implicit.value),e(t,4,0,si(t.parent.parent,2).getCurrent()===t.context.$implicit.value)}),(function(e,t){e(t,0,0,si(t.parent.parent,2).getCurrent()===t.context.$implicit.value,"..."===t.context.$implicit.label)}))}function bg(e){return Mo(0,[(e()(),po(0,0,null,null,3,"a",[["tabindex","0"]],[[1,"aria-label",0]],[[null,"keyup.enter"],[null,"click"]],(function(e,t,n){var r=!0;return"keyup.enter"===t&&(r=!1!==si(e.parent.parent.parent,2).next()&&r),"click"===t&&(r=!1!==si(e.parent.parent.parent,2).next()&&r),r}),null,null)),(e()(),jo(1,null,[" "," "])),(e()(),po(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),jo(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,0,0,n.nextLabel+" "+n.screenReaderPageLabel),e(t,1,0,n.nextLabel),e(t,3,0,n.screenReaderPageLabel)}))}function yg(e){return Mo(0,[(e()(),po(0,0,null,null,3,"span",[],null,null,null,null,null)),(e()(),jo(1,null,[" "," "])),(e()(),po(2,0,null,null,1,"span",[["class","show-for-sr"]],null,null,null,null,null)),(e()(),jo(3,null,["",""]))],null,(function(e,t){var n=t.component;e(t,1,0,n.nextLabel),e(t,3,0,n.screenReaderPageLabel)}))}function Cg(e){return Mo(0,[(e()(),po(0,0,null,null,4,"li",[["class","pagination-next"]],[[2,"disabled",null]],null,null,null,null)),(e()(),ho(16777216,null,null,1,null,bg)),yi(2,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,yg)),yi(4,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,!si(t.parent.parent,2).isLastPage()),e(t,4,0,si(t.parent.parent,2).isLastPage())}),(function(e,t){e(t,0,0,si(t.parent.parent,2).isLastPage())}))}function wg(e){return Mo(0,[(e()(),po(0,0,null,null,8,"ul",[["class","ngx-pagination"],["role","navigation"]],[[1,"aria-label",0],[2,"responsive",null]],null,null,null,null)),(e()(),ho(16777216,null,null,1,null,mg)),yi(2,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),po(3,0,null,null,1,"li",[["class","small-screen"]],null,null,null,null,null)),(e()(),jo(4,null,[" "," / "," "])),(e()(),ho(16777216,null,null,1,null,_g)),yi(6,278528,null,0,sl,[Yn,Wn,zn],{ngForOf:[0,"ngForOf"]},null),(e()(),ho(16777216,null,null,1,null,Cg)),yi(8,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.directionLinks),e(t,6,0,si(t.parent,2).pages),e(t,8,0,n.directionLinks)}),(function(e,t){var n=t.component;e(t,0,0,n.screenReaderPaginationLabel,n.responsive),e(t,4,0,si(t.parent,2).getCurrent(),si(t.parent,2).getLastPage())}))}function kg(e){return Mo(2,[Ci(0,dl,[ha]),(e()(),po(1,0,null,null,3,"pagination-template",[],null,[[null,"pageChange"],[null,"pageBoundsCorrection"]],(function(e,t,n){var r=!0,i=e.component;return"pageChange"===t&&(r=!1!==i.pageChange.emit(n)&&r),"pageBoundsCorrection"===t&&(r=!1!==i.pageBoundsCorrection.emit(n)&&r),r}),null,null)),yi(2,737280,[["p",4]],0,ug,[eg,At],{id:[0,"id"],maxSize:[1,"maxSize"]},{pageChange:"pageChange",pageBoundsCorrection:"pageBoundsCorrection"}),(e()(),ho(16777216,null,null,1,null,wg)),yi(4,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,n.id,n.maxSize),e(t,4,0,!(n.autoHide&&si(t,2).pages.length<=1))}),null)}var xg=n("PSD3"),Sg=n.n(xg),Og=function(){function e(t,n,r,i,a,o){_classCallCheck2(this,e),this.userService=t,this.alertService=n,this.global=r,this.router=i,this.sanitizer=a,this.spinner=o,this.photo="",this.page=1,this.fetchedUsers=!1}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.spinnerMsg="Experience magic! <br/> Setting up your dashboard",this.spinner.show("spinner-2"),this.userArr=[],this.currentUser=JSON.parse(localStorage.getItem("user")),this.getDepartmentUsers(this.currentUser.department),this.userService.getImageUrlForUser({face:"front"}).subscribe((function(t){t.action?e.photo=t.message:console.log(t.message)}))}},{key:"ngAfterViewInit",value:function(){this.department.nativeElement.value=this.currentUser.department}},{key:"showModal",value:function(){Sg.a.fire({title:"<strong>Guide to use the application</strong>",icon:"info",html:"<ul>\n        <li>1. Life is short, but not your love for your friends. Use this app to let them know!</li>\n        <li>2. Find your friend from the list of users available on the right hand side. You can also search for his name.</li>\n        <li>3. We know you have so much to say but we can only allow you a <b> single chance</b> to edit a Tee. Pre-think what you gonna send</li>\n        <li>4. If you click on your photo you can also download em. We dont want to keep everything to ourselves, obviously.</li>\n      </ul>",showCloseButton:!0,focusConfirm:!0,confirmButtonText:'<i class="fa fa-thumbs-up"></i> Great!',confirmButtonAriaLabel:"Thumbs up, great!"})}},{key:"getSantizeUrl",value:function(e){return this.sanitizer.bypassSecurityTrustResourceUrl(e)}},{key:"getDepartmentUsers",value:function(e){var t=this;this.userService.getDataForDashboard({department:e}).subscribe((function(e){e.action?(t.userArr=JSON.parse(e.message),t.userArr=t.userArr.filter((function(e){return e.userId!=t.currentUser.userId})),t.userArrPermanent=t.userArr,t.spinner.hide("spinner-2"),t.fetchedUsers=!0):(t.userArr=[],t.userArrPermanent=[],t.alertService.info("You haven't made any friends in this branch, that's SAD!!"))}))}},{key:"callEdit",value:function(e,t){localStorage.setItem("tshirtUser",e),this.router.navigate(["/edit/"+t+"/"+e+"/front"])}},{key:"callProfile",value:function(){var e=localStorage.getItem("loggedInUsername");this.router.navigate(["/profile/"+e+"/front"])}},{key:"searchWord",value:function(e){if(this.userArr=this.userArrPermanent,""!=e){var t,n=this.userArr.length;t=[];for(var r=0;r<n;r++){var i=this.userArr[r].firstName+" "+this.userArr[r].lastName;(this.userArr[r].userId.toLowerCase().indexOf(e.toLowerCase())>=0||this.userArr[r].firstName.toLowerCase().indexOf(e.toLowerCase())>=0||this.userArr[r].lastName.toLowerCase().indexOf(e.toLowerCase())>=0||i.toLowerCase().indexOf(e.toLowerCase())>=0)&&t.push(this.userArr[r])}this.userArr=t}}},{key:"onPopState",value:function(e){localStorage.setItem("isBackBtnPressed","true"),console.log("Back button pressed")}},{key:"logout",value:function(){this.spinnerMsg="We will be waiting for you.<br/> Come back soon :)",this.userService.logout()}}]),e}(),jg=ur({encapsulation:0,styles:[[".hero-bg[_ngcontent-%COMP%]{background-image:url(header.0a11e223a7d6f21bba04.jpg);background-position:center;background-size:cover}.border-bg[_ngcontent-%COMP%]{background-image:url(logo.cf1c238a6cb5d0213fae.png);background-position:left;background-repeat:no-repeat;background-size:contain}.dropdown[_ngcontent-%COMP%]:hover   .dropdown-menu[_ngcontent-%COMP%]{display:block}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current{background:red;color:#fff}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .current a span{color:#fff}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-previous a{color:#fff}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-previous a:hover{background:0 0;text-decoration:underline}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-next a{color:#fff}.my-pagination[_ngcontent-%COMP%]     .ngx-pagination .pagination-next a:hover{background:0 0;text-decoration:underline}"]],data:{}});function Eg(e){return Mo(0,[(e()(),po(0,0,null,null,4,"div",[["style","height: 400px;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,3,"ngx-spinner",[["bdColor","rgba(255,255,255,0.8)"],["color","#E5433E"],["name","spinner-2"],["size","medium"],["type","pacman"]],null,null,null,zf,Rf)),yi(2,770048,null,0,Af,[If,At],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"],fullScreen:[4,"fullScreen"],name:[5,"name"]},null),(e()(),po(3,0,null,0,1,"p",[["style","font-size: 20px; color:black; color: white;"]],null,null,null,null,null)),(e()(),jo(-1,null,["Finding people..."]))],(function(e,t){e(t,2,0,"rgba(255,255,255,0.8)","medium","#E5433E","pacman",!1,"spinner-2")}),null)}function Pg(e){return Mo(0,[(e()(),po(0,0,null,null,11,"div",[],null,null,null,null,null)),(e()(),po(1,0,null,null,10,"a",[["class","mb-2 cursor-pointer"]],null,[[null,"click"]],(function(e,t,n){var r=!0,i=e.component;return"click"===t&&(r=!1!==i.callEdit(e.parent.context.$implicit.userId,i.currentUser.userId)&&r),r}),null,null)),(e()(),po(2,0,null,null,9,"div",[["class","text-center bg-gray-900 rounded-lg shadow-lg px-4 py-12 m-2"]],null,null,null,null,null)),(e()(),po(3,0,null,null,0,"div",[["class","bg-cover h-24 "]],[[4,"backgroundImage",null]],null,null,null,null)),(e()(),po(4,0,null,null,7,"div",[["class","p-2 h-12 text-center text-white flex-1 flex flex-col text-white"]],null,null,null,null,null)),(e()(),po(5,0,null,null,1,"h3",[["class","text-xs"]],null,null,null,null,null)),(e()(),jo(6,null,[""," ",""])),(e()(),po(7,0,null,null,2,"div",[["class"," text-grey-darker text-sm flex-1"]],null,null,null,null,null)),(e()(),po(8,0,null,null,1,"p",[["class","text-xs"]],null,null,null,null,null)),(e()(),jo(9,null,[""," "])),(e()(),po(10,0,null,null,1,"a",[["class","border-t border-grey-light pt-2 text-xs text-grey hover:text-red uppercase no-underline tracking-wide"],["href","#"]],null,null,null,null,null)),(e()(),jo(11,null,["",""]))],null,(function(e,t){e(t,3,0,"url("+t.parent.context.$implicit.photoUrl+")"),e(t,6,0,t.parent.context.$implicit.firstName,t.parent.context.$implicit.lastName),e(t,9,0,t.parent.context.$implicit.userId),e(t,11,0,t.parent.context.$implicit.department)}))}function Mg(e){return Mo(0,[(e()(),po(0,0,null,null,2,"div",[],null,null,null,null,null)),(e()(),ho(16777216,null,null,1,null,Pg)),yi(2,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){e(t,2,0,t.component.currentUser.userId!=t.context.$implicit.userId)}),null)}function Tg(e){return Mo(0,[(e()(),po(0,0,null,null,4,"div",[["class","grid grid-cols-3 "]],null,null,null,null,null)),(e()(),ho(16777216,null,null,3,null,Mg)),yi(2,278528,null,0,sl,[Yn,Wn,zn],{ngForOf:[0,"ngForOf"]},null),So(3,{itemsPerPage:0,currentPage:1}),Ci(0,rg,[eg])],(function(e,t){var n=t.component,r=cr(t,2,0,si(t,4).transform(n.userArr,e(t,3,0,6,n.page)));e(t,2,0,r)}),null)}function Ig(e){return Mo(0,[(e()(),po(0,0,null,null,3,"div",[["class","w-1/2 text-white-100"]],null,null,null,null,null)),(e()(),po(1,0,null,null,1,"pagination-controls",[["class","my-pagination"]],null,[[null,"pageChange"]],(function(e,t,n){var r=!0;return"pageChange"===t&&(r=!1!==(e.component.page=n)&&r),r}),kg,dg)),yi(2,49152,null,0,sg,[],null,{pageChange:"pageChange"}),(e()(),po(3,0,null,null,0,"div",[["class","w-1/2 text-white-100"]],null,null,null,null,null))],null,null)}function Ag(e){return Mo(0,[_o(402653184,1,{department:0}),(e()(),po(1,0,null,null,2,"ngx-spinner",[["bdColor","rgba(255,255,255,0.8)"],["color","#E5433E"],["size","medium"],["type","pacman"]],null,null,null,zf,Rf)),yi(2,770048,null,0,Af,[If,At],{bdColor:[0,"bdColor"],size:[1,"size"],color:[2,"color"],type:[3,"type"]},null),(e()(),po(3,0,null,0,0,"p",[["style","font-size: 20px; color:black"]],[[8,"innerHTML",1]],null,null,null,null)),(e()(),po(4,0,null,null,8,"nav",[["class","flex items-center justify-end border-bg p-6 bg-gray-900"]],null,null,null,null,null)),(e()(),po(5,0,null,null,2,"div",[["class","self-end"]],null,null,null,null,null)),(e()(),po(6,0,null,null,1,"button",[["class","btn-primary mr-4"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showModal()&&r),r}),null,null)),(e()(),po(7,0,null,null,0,"img",[["alt",""],["src","../../assets/images/info.svg"],["style","width:20px;height:20px;color:white"]],null,null,null,null,null)),(e()(),po(8,0,null,null,1,"div",[["class","self-end"]],null,null,null,null,null)),(e()(),po(9,0,[["search",1]],null,0,"input",[["class","bg-purple-white shadow rounded border-0 p-3"],["id","search"],["name","search"],["placeholder","Search by name..."],["type","search"]],null,[[null,"input"]],(function(e,t,n){var r=!0;return"input"===t&&(r=!1!==e.component.searchWord(si(e,9).value)&&r),r}),null,null)),(e()(),po(10,0,null,null,2,"div",[["class","self-end ml-4"]],null,null,null,null,null)),(e()(),po(11,0,null,null,1,"button",[["class","btn-primary"],["type","button"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.logout()&&r),r}),null,null)),(e()(),jo(-1,null,["Logout"])),(e()(),po(13,0,null,null,46,"div",[["class","hero-bg flex w-full h-full"]],null,null,null,null,null)),(e()(),po(14,0,null,null,11,"div",[["class","bg-no-repeat bg-bottom w-1/2 flex-auto"],["style","max-width:50%;"]],null,null,null,null,null)),(e()(),po(15,0,null,null,0,"div",[["class","w-1/3 inline-block"]],null,null,null,null,null)),(e()(),po(16,0,null,null,8,"div",[["class","bg-gray-900 w-2/3 inline-block rounded overflow-hidden mt-2 cursor-pointer"],["style","max-width: 50%;"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.callProfile()&&r),r}),null,null)),(e()(),po(17,0,null,null,0,"img",[["alt","Tshirt photo"],["class","object-center sm:object-top md:object-right lg:object-bottom xl:object-center"]],[[8,"src",4]],null,null,null,null)),(e()(),po(18,0,null,null,6,"div",[["class","px-6 py-4 text-white"]],null,null,null,null,null)),(e()(),po(19,0,null,null,1,"p",[["class","text-center text-xl"]],null,null,null,null,null)),(e()(),jo(20,null,[" "," "," "])),(e()(),po(21,0,null,null,1,"p",[["class","text-center text-base sm:text-sm md:text-sm lg:text-sm xl:text-sm"]],null,null,null,null,null)),(e()(),jo(22,null,[" Username: "," "])),(e()(),po(23,0,null,null,1,"p",[["class","text-center text-base sm:text-sm md:text-sm lg:text-sm xl:text-sm"]],null,null,null,null,null)),(e()(),jo(24,null,[" Branch: "," "])),(e()(),po(25,0,null,null,0,"div",[["class","w-1/3 inline-block"]],null,null,null,null,null)),(e()(),po(26,0,null,null,33,"div",[["class","flex-auto"],["style","max-width:50%;"]],null,null,null,null,null)),(e()(),po(27,0,null,null,25,"div",[["class","relative mr-6 my-2 mb-2 ml-48"]],null,null,null,null,null)),(e()(),po(28,0,[[1,0],["department",1]],null,24,"select",[["class","w-auto block text-center px-4 py-2 bg-red-600 text-white"],["id","department"],["name","department"]],null,[[null,"change"]],(function(e,t,n){var r=!0;return"change"===t&&(r=!1!==e.component.getDepartmentUsers(si(e,28).value)&&r),r}),null,null)),(e()(),po(29,0,null,null,3,"option",[["value","COED"]],null,null,null,null,null)),yi(30,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(31,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Computer Engineering Department"])),(e()(),po(33,0,null,null,3,"option",[["value","CHED"]],null,null,null,null,null)),yi(34,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(35,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Chemical Engineering Department"])),(e()(),po(37,0,null,null,3,"option",[["value","MED"]],null,null,null,null,null)),yi(38,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(39,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Mechanical Engineering Department"])),(e()(),po(41,0,null,null,3,"option",[["value","ECED"]],null,null,null,null,null)),yi(42,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(43,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,[" Electronics Engineering Department"])),(e()(),po(45,0,null,null,3,"option",[["value","CED"]],null,null,null,null,null)),yi(46,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(47,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Civil Engineering Department"])),(e()(),po(49,0,null,null,3,"option",[["value","EED"]],null,null,null,null,null)),yi(50,147456,null,0,Dp,[kn,jn,[8,null]],{value:[0,"value"]},null),yi(51,147456,null,0,Fp,[kn,jn,[8,null]],{value:[0,"value"]},null),(e()(),jo(-1,null,["Electrical Engineering Department"])),(e()(),po(53,0,null,null,6,"div",[["class","relative mr-6 my-2 mb-2 ml-2"]],null,null,null,null,null)),(e()(),ho(16777216,null,null,1,null,Eg)),yi(55,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,Tg)),yi(57,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),ho(16777216,null,null,1,null,Ig)),yi(59,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null)],(function(e,t){var n=t.component;e(t,2,0,"rgba(255,255,255,0.8)","medium","#E5433E","pacman"),e(t,30,0,"COED"),e(t,31,0,"COED"),e(t,34,0,"CHED"),e(t,35,0,"CHED"),e(t,38,0,"MED"),e(t,39,0,"MED"),e(t,42,0,"ECED"),e(t,43,0,"ECED"),e(t,46,0,"CED"),e(t,47,0,"CED"),e(t,50,0,"EED"),e(t,51,0,"EED"),e(t,55,0,!n.fetchedUsers),e(t,57,0,n.fetchedUsers),e(t,59,0,0!==n.userArr.length)}),(function(e,t){var n=t.component;e(t,3,0,n.spinnerMsg),e(t,17,0,Lr(1,"",n.photo,"")),e(t,20,0,n.currentUser.firstName,n.currentUser.lastName),e(t,22,0,n.currentUser.userId),e(t,24,0,n.currentUser.department)}))}var Dg=Kr("app-dashboard",Og,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-dashboard",[],null,[["window","popstate"]],(function(e,t,n){var r=!0;return"window:popstate"===t&&(r=!1!==si(e,1).onPopState(n)&&r),r}),Ag,jg)),yi(1,4308992,null,0,Og,[jm,Gf,Yf,Ad,su,If],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Rg=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.router=t,this.route=n,this.user=r,this.alert=i}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.userArr=[],this.user.getWritingUsers().subscribe((function(t){t.action?(console.log(t.message),e.userArr=t.message):e.alert.error(t.message)}))}},{key:"showHome",value:function(){var e=localStorage.getItem("loggedInUsername");this.router.navigate(["/dashboard/"+e])}},{key:"showFront",value:function(){this.router.navigate(["front"],{relativeTo:this.route})}},{key:"showBack",value:function(){this.router.navigate(["back"],{relativeTo:this.route})}}]),e}(),Fg=ur({encapsulation:0,styles:[[""]],data:{}});function Lg(e){return Mo(0,[(e()(),po(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),po(1,0,null,null,1,"td",[["class","border px-4 py-2 text-center"]],null,null,null,null,null)),(e()(),jo(2,null,["",""]))],null,(function(e,t){e(t,2,0,t.context.$implicit)}))}function Ng(e){return Mo(0,[(e()(),po(0,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),po(1,0,null,null,1,"td",[["class","border px-4 py-2 text-center"]],null,null,null,null,null)),(e()(),jo(-1,null,["no modifications yet!"]))],null,null)}function Bg(e){return Mo(0,[(e()(),po(0,0,null,null,6,"div",[["class","flex justify-evenly"],["style","background-color: #1F1F1F;width: 100%;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showFront()&&r),r}),null,null)),(e()(),jo(-1,null,["Front Side"])),(e()(),po(3,0,null,null,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showHome()&&r),r}),null,null)),(e()(),jo(-1,null,["Home"])),(e()(),po(5,0,null,null,1,"button",[["class","btn-secondary"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.showBack()&&r),r}),null,null)),(e()(),jo(-1,null,["Back Side"])),(e()(),po(7,0,null,null,13,"div",[["class","flex justify-center"]],null,null,null,null,null)),(e()(),po(8,0,null,null,10,"div",[["class","table w-1/2"]],null,null,null,null,null)),(e()(),po(9,0,null,null,9,"table",[["class","table-auto"]],null,null,null,null,null)),(e()(),po(10,0,null,null,3,"thead",[],null,null,null,null,null)),(e()(),po(11,0,null,null,2,"tr",[],null,null,null,null,null)),(e()(),po(12,0,null,null,1,"th",[["class","px-4 py-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["Friends who wrote on your shirt"])),(e()(),po(14,0,null,null,4,"tbody",[],null,null,null,null,null)),(e()(),ho(16777216,null,null,1,null,Lg)),yi(16,278528,null,0,sl,[Yn,Wn,zn],{ngForOf:[0,"ngForOf"]},null),(e()(),ho(16777216,null,null,1,null,Ng)),yi(18,16384,null,0,cl,[Yn,Wn],{ngIf:[0,"ngIf"]},null),(e()(),po(19,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),yi(20,212992,null,0,Bd,[Nd,Yn,bn,[8,null],At],null,null)],(function(e,t){var n=t.component;e(t,16,0,n.userArr),e(t,18,0,0==n.userArr.length),e(t,20,0)}),null)}var zg=Kr("app-profile",Rg,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-profile",[],null,null,null,Bg,Fg)),yi(1,114688,null,0,Rg,[Ad,xh,jm,Gf],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),qg=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.userService=t,this.global=n,this.spinner=r,this.router=i,this.alert=a}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.dataUrl="../../assets/images/load.svg",this.spinner.show(),this.userService.getImageUrlForUser({face:"front"}).subscribe((function(t){return Rm(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.hide(),t.action?this.dataUrl=t.message:console.log(t.message);case 1:case"end":return e.stop()}}),e,this)})))}))}}]),e}(),Ug=ur({encapsulation:0,styles:[[""]],data:{}});function Hg(e){return Mo(0,[(e()(),po(0,0,null,null,5,"div",[["style","height:100%;max-width:100vw;max-height: 100vh;width: 100%;display: flex;text-align: center;flex-direction: column;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,2,"div",[["style","height:70px; width: 100%;display: flex;justify-items: center;align-content: center;text-align: center;"]],null,null,null,null,null)),(e()(),po(2,0,null,null,1,"a",[["class","btn-primary mt-4"],["download",""],["id","btn"],["style","display: block;margin: 10px auto;width:50%"]],[[8,"href",4]],null,null,null,null)),(e()(),jo(-1,null,["Download"])),(e()(),po(4,0,null,null,1,"div",[["class","flex justify-center mt-4 "]],null,null,null,null,null)),(e()(),po(5,0,null,null,0,"img",[["alt","tshirt back"],["style","height: 80vh;"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,Lr(1,"",n.dataUrl,"")),e(t,5,0,Lr(1,"",n.dataUrl,""))}))}var Vg=Kr("app-front-profile",qg,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-front-profile",[],null,null,null,Hg,Ug)),yi(1,114688,null,0,qg,[jm,Yf,If,Ad,Gf],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Wg=function(){function e(t,n,r,i,a){_classCallCheck2(this,e),this.userService=t,this.global=n,this.spinner=r,this.router=i,this.alert=a}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.dataUrl="../../assets/images/load.svg",this.spinner.show(),this.userService.getImageUrlForUser({face:"back"}).subscribe((function(t){return Rm(e,void 0,void 0,regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.spinner.hide(),t.action?this.dataUrl=t.message:console.log(t.message);case 1:case"end":return e.stop()}}),e,this)})))}))}}]),e}(),Gg=ur({encapsulation:0,styles:[[""]],data:{}});function Yg(e){return Mo(0,[(e()(),po(0,0,null,null,5,"div",[["style","height:100%;max-width:100vw;max-height: 100vh;width: 100%;display: flex;text-align: center;flex-direction: column;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,2,"div",[["style","height:70px; width: 100%;display: flex;justify-items: center;align-content: center;text-align: center;"]],null,null,null,null,null)),(e()(),po(2,0,null,null,1,"a",[["class","btn-primary mt-4"],["download",""],["id","btn"],["style","display: block;margin: 10px auto;width:50%"]],[[8,"href",4]],null,null,null,null)),(e()(),jo(-1,null,["Download"])),(e()(),po(4,0,null,null,1,"div",[["class","flex justify-center mt-4 "]],null,null,null,null,null)),(e()(),po(5,0,null,null,0,"img",[["alt","tshirt back"],["style","height: 80vh;"]],[[8,"src",4]],null,null,null,null))],null,(function(e,t){var n=t.component;e(t,2,0,Lr(1,"",n.dataUrl,"")),e(t,5,0,Lr(1,"",n.dataUrl,""))}))}var Xg=Kr("app-back-profile",Wg,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-back-profile",[],null,null,null,Yg,Gg)),yi(1,114688,null,0,Wg,[jm,Yf,If,Ad,Gf],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Jg=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"ngOnInit",value:function(){}}]),e}(),Kg=ur({encapsulation:0,styles:[[""]],data:{}});function $g(e){return Mo(0,[(e()(),po(0,0,null,null,64,"div",[["class","container"]],null,null,null,null,null)),(e()(),po(1,0,null,null,63,"div",[["class","flex justify-center items-center h-screen flex-col"]],null,null,null,null,null)),(e()(),po(2,0,null,null,3,"div",[["class","mt-16"]],null,null,null,null,null)),(e()(),po(3,0,null,null,2,"button",[["class","btn-primary"],["routerLink","/homepage"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==si(e,4).onClick()&&r),r}),null,null)),yi(4,16384,null,0,Dd,[Ad,xh,[8,null],jn,kn],{routerLink:[0,"routerLink"]},null),(e()(),jo(-1,null,["home"])),(e()(),po(6,0,null,null,58,"div",[["class","flex justify-center items-center h-screen"],["style","width: 80%;"]],null,null,null,null,null)),(e()(),po(7,0,null,null,13,"div",[["class","flex-1 w-1/4 h-full"]],null,null,null,null,null)),(e()(),po(8,0,null,null,12,"div",[["class","max-w-sm rounded overflow-hidden shadow-lg text-center mx-2"]],null,null,null,null,null)),(e()(),po(9,0,null,null,1,"div",[["class","flex justify-center mt-2"]],null,null,null,null,null)),(e()(),po(10,0,null,null,0,"img",[["alt","Sunset in the mountains"],["class","rounded-full h-32 shadow-lg"],["src","../../assets/images/avi.jpg"]],null,null,null,null,null)),(e()(),po(11,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(12,0,null,null,1,"div",[["class","font-bold text-xl mb-2 text-center"]],null,null,null,null,null)),(e()(),jo(-1,null,["Avinash Jaiswal"])),(e()(),po(14,0,null,null,1,"p",[["class","text-gray-700 text-base h-40"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Avinash is a developer. He is an average human with ambitions to buy a helicopter at some point of life. He loves the web and loves breathing life into ideas. "])),(e()(),po(16,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(17,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# Backend Developer"])),(e()(),po(19,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# System Architect"])),(e()(),po(21,0,null,null,15,"div",[["class","flex-1 w-1/4  h-full"]],null,null,null,null,null)),(e()(),po(22,0,null,null,14,"div",[["class","max-w-sm rounded overflow-hidden shadow-lg text-center mx-2"]],null,null,null,null,null)),(e()(),po(23,0,null,null,1,"div",[["class","flex justify-center mt-2"]],null,null,null,null,null)),(e()(),po(24,0,null,null,0,"img",[["alt","Sunset in the mountains"],["class","rounded-full h-32 shadow-lg"],["src","../../assets/images/rogin.jpeg"]],null,null,null,null,null)),(e()(),po(25,0,null,null,6,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(26,0,null,null,1,"div",[["class","font-bold text-xl mb-2 text-center"]],null,null,null,null,null)),(e()(),jo(-1,null,["Rogin Koshy"])),(e()(),po(28,0,null,null,3,"p",[["class","text-gray-700 text-base h-40"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Rogin is a competitive coder and loves solving problems. He likes to explore new technologies but is often confused on what to pursue. "])),(e()(),po(30,0,null,null,0,"br",[],null,null,null,null,null)),(e()(),jo(-1,null,[" PS. I am the one with the cap "])),(e()(),po(32,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(33,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# Competitive Coder"])),(e()(),po(35,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# Angular Enthusiast"])),(e()(),po(37,0,null,null,13,"div",[["class","flex-1 w-1/4  h-full"]],null,null,null,null,null)),(e()(),po(38,0,null,null,12,"div",[["class","max-w-sm rounded overflow-hidden shadow-lg text-center mx-2"]],null,null,null,null,null)),(e()(),po(39,0,null,null,1,"div",[["class","flex justify-center mt-2"]],null,null,null,null,null)),(e()(),po(40,0,null,null,0,"img",[["alt","Sunset in the mountains"],["class","rounded-full h-32 shadow-lg"],["src","../../assets/images/sameer.jpeg"]],null,null,null,null,null)),(e()(),po(41,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(42,0,null,null,1,"div",[["class","font-bold text-xl mb-2 text-center"]],null,null,null,null,null)),(e()(),jo(-1,null,["Sameer Mandloi"])),(e()(),po(44,0,null,null,1,"p",[["class","text-gray-700 text-base h-40"]],null,null,null,null,null)),(e()(),jo(-1,null,[" Hey I am Sameer, a Computer Engineer. I am always ready to learn new things or to go for any trip ;) . I am a brilliant listener so just ping me if you need a talk! ;) "])),(e()(),po(46,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(47,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# ML Enthusiast"])),(e()(),po(49,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# Frontend Developer"])),(e()(),po(51,0,null,null,13,"div",[["class","flex-1 w-1/4  h-full"]],null,null,null,null,null)),(e()(),po(52,0,null,null,12,"div",[["class","max-w-sm rounded overflow-hidden shadow-lg mx-2"]],null,null,null,null,null)),(e()(),po(53,0,null,null,1,"div",[["class","flex justify-center mt-2"]],null,null,null,null,null)),(e()(),po(54,0,null,null,0,"img",[["alt","Sunset in the mountains"],["class","rounded-full h-32 shadow-lg"],["src","../../assets/images/atharva.jpeg"]],null,null,null,null,null)),(e()(),po(55,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(56,0,null,null,1,"div",[["class","font-bold text-xl mb-2 text-center"]],null,null,null,null,null)),(e()(),jo(-1,null,["Atharva Kalsekar"])),(e()(),po(58,0,null,null,1,"p",[["class","text-gray-700 text-base h-40"]],null,null,null,null,null)),(e()(),jo(-1,null,[" I am Atharva, a svnit pass-out. I like pretty much nothing but biryani and whisky. Happy coding. "])),(e()(),po(60,0,null,null,4,"div",[["class","px-6 py-4"]],null,null,null,null,null)),(e()(),po(61,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# ML Enthusiast"])),(e()(),po(63,0,null,null,1,"span",[["class","inline-block bg-gray-200 rounded-full px-3 py-1 text-sm font-semibold text-gray-700 m-2"]],null,null,null,null,null)),(e()(),jo(-1,null,["# Frontend Developer"]))],(function(e,t){e(t,4,0,"/homepage")}),null)}var Zg=Kr("app-team",Jg,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-team",[],null,null,null,$g,Kg)),yi(1,114688,null,0,Jg,[],null,null)],(function(e,t){e(t,1,0)}),null)}),{},{},[]),Qg=function(){function e(t){_classCallCheck2(this,e),this.alertService=t,this.alerts=[]}return _createClass2(e,[{key:"ngOnInit",value:function(){var e=this;this.alertService.getAlert().subscribe((function(t){t?(e.alerts.length&&e.alerts.pop(),e.alerts.push(t),setTimeout((function(){e.alerts.pop()}),3e3)):e.alerts=[]}))}},{key:"removeAlert",value:function(e){this.alerts=this.alerts.filter((function(t){return t!==e}))}},{key:"cssClass",value:function(e){if(e)switch(e.type){case Wf.Success:return"alert alert-success";case Wf.Error:return"alert alert-danger";case Wf.Info:return"alert alert-info";case Wf.Warning:return"alert alert-warning"}}}]),e}(),ev=ur({encapsulation:0,styles:[[".close[_ngcontent-%COMP%]{cursor:pointer}"]],data:{}});function tv(e){return Mo(0,[(e()(),po(0,0,null,null,3,"div",[],[[8,"className",0]],null,null,null,null)),(e()(),jo(1,null,[" "," "])),(e()(),po(2,0,null,null,1,"a",[["class","close"]],null,[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==e.component.removeAlert(e.context.$implicit)&&r),r}),null,null)),(e()(),jo(-1,null,["\xd7"]))],null,(function(e,t){e(t,0,0,Lr(1,"",t.component.cssClass(t.context.$implicit)," alert-dismissable flex justify-center text-xl")),e(t,1,0,t.context.$implicit.message)}))}function nv(e){return Mo(0,[(e()(),ho(16777216,null,null,1,null,tv)),yi(1,278528,null,0,sl,[Yn,Wn,zn],{ngForOf:[0,"ngForOf"]},null)],(function(e,t){e(t,1,0,t.component.alerts)}),null)}var rv=ur({encapsulation:0,styles:[[""]],data:{}});function iv(e){return Mo(0,[(e()(),po(0,0,null,null,18,"div",[["class","relative overflow-x-hidden"],["style","height: 100%;width: 100%;"]],null,null,null,null,null)),(e()(),po(1,0,null,null,1,"app-alert",[["class","fixed z-10 w-full"]],null,null,null,nv,ev)),yi(2,114688,null,0,Qg,[Gf],null,null),(e()(),po(3,16777216,null,null,1,"router-outlet",[["class","relative"]],null,null,null,null,null)),yi(4,212992,null,0,Bd,[Nd,Yn,bn,[8,null],At],null,null),(e()(),po(5,0,null,null,13,"footer",[["class","relative overflow-x-hidden text-white bg-red-600 text-center h-12 w-screen text-xl flex items-center justify-center"]],null,null,null,null,null)),(e()(),jo(-1,null,["made with "])),(e()(),po(7,0,null,null,1,"pre",[],null,null,null,null,null)),(e()(),jo(-1,null,[" "])),(e()(),po(9,0,null,null,1,"span",[["class","text-3xl"]],null,null,null,null,null)),(e()(),jo(-1,null,["\ud83d\udc96"])),(e()(),po(11,0,null,null,1,"pre",[],null,null,null,null,null)),(e()(),jo(-1,null,[" "])),(e()(),jo(-1,null,[" by team "])),(e()(),po(14,0,null,null,1,"pre",[],null,null,null,null,null)),(e()(),jo(-1,null,[" "])),(e()(),po(16,0,null,null,2,"a",[["class","underline"],["routerLink","/team"]],[[1,"target",0],[8,"href",4]],[[null,"click"]],(function(e,t,n){var r=!0;return"click"===t&&(r=!1!==si(e,17).onClick(n.button,n.ctrlKey,n.metaKey,n.shiftKey)&&r),r}),null,null)),yi(17,671744,null,0,Rd,[Ad,xh,qs],{routerLink:[0,"routerLink"]},null),(e()(),jo(-1,null,[" < insert-cool-name >"]))],(function(e,t){e(t,2,0),e(t,4,0),e(t,17,0,"/team")}),(function(e,t){e(t,16,0,si(t,17).target,si(t,17).href)}))}var av=Kr("app-root",Ns,(function(e){return Mo(0,[(e()(),po(0,0,null,null,1,"app-root",[],null,null,null,iv,rv)),yi(1,49152,null,0,Ns,[],null,null)],null,null)}),{},{},[]),ov=function e(){_classCallCheck2(this,e)};function sv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:2,steps:e,options:t}}function lv(e){return{type:6,styles:e,offset:null}}function cv(e){Promise.resolve(null).then(e)}var uv=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;_classCallCheck2(this,e),this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=t+n}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"init",value:function(){}},{key:"play",value:function(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}},{key:"triggerMicrotask",value:function(){var e=this;cv((function(){return e._onFinish()}))}},{key:"_onStart",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"pause",value:function(){}},{key:"restart",value:function(){}},{key:"finish",value:function(){this._onFinish()}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){}},{key:"setPosition",value:function(e){}},{key:"getPosition",value:function(){return 0}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}(),hv=function(){function e(t){var n=this;_classCallCheck2(this,e),this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=t;var r=0,i=0,a=0,o=this.players.length;0==o?cv((function(){return n._onFinish()})):this.players.forEach((function(e){e.onDone((function(){++r==o&&n._onFinish()})),e.onDestroy((function(){++i==o&&n._onDestroy()})),e.onStart((function(){++a==o&&n._onStart()}))})),this.totalTime=this.players.reduce((function(e,t){return Math.max(e,t.totalTime)}),0)}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this.players.forEach((function(e){return e.init()}))}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"_onStart",value:function(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[])}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach((function(e){return e.play()}))}},{key:"pause",value:function(){this.players.forEach((function(e){return e.pause()}))}},{key:"restart",value:function(){this.players.forEach((function(e){return e.restart()}))}},{key:"finish",value:function(){this._onFinish(),this.players.forEach((function(e){return e.finish()}))}},{key:"destroy",value:function(){this._onDestroy()}},{key:"_onDestroy",value:function(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach((function(e){return e.destroy()})),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"reset",value:function(){this.players.forEach((function(e){return e.reset()})),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"setPosition",value:function(e){var t=e*this.totalTime;this.players.forEach((function(e){var n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)}))}},{key:"getPosition",value:function(){var e=0;return this.players.forEach((function(t){var n=t.getPosition();e=Math.min(n,e)})),e}},{key:"beforeDestroy",value:function(){this.players.forEach((function(e){e.beforeDestroy&&e.beforeDestroy()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}}]),e}();function dv(){return"undefined"!=typeof process}function pv(e){switch(e.length){case 0:return new uv;case 1:return e[0];default:return new hv(e)}}function fv(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=[],s=[],l=-1,c=null;if(r.forEach((function(e){var n=e.offset,r=n==l,u=r&&c||{};Object.keys(e).forEach((function(n){var r=n,s=e[n];if("offset"!==n)switch(r=t.normalizePropertyName(r,o),s){case"!":s=i[n];break;case"*":s=a[n];break;default:s=t.normalizeStyleValue(n,r,s,o)}u[r]=s})),r||s.push(u),c=u,l=n})),o.length){var u="\n - ";throw new Error("Unable to animate due to the following errors:".concat(u).concat(o.join(u)))}return s}function mv(e,t,n,r){switch(t){case"start":e.onStart((function(){return r(n&&gv(n,"start",e))}));break;case"done":e.onDone((function(){return r(n&&gv(n,"done",e))}));break;case"destroy":e.onDestroy((function(){return r(n&&gv(n,"destroy",e))}))}}function gv(e,t,n){var r=n.totalTime,i=vv(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==r?e.totalTime:r,!!n.disabled),a=e._data;return null!=a&&(i._data=a),i}function vv(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,o=arguments.length>6?arguments[6]:void 0;return{element:e,triggerName:t,fromState:n,toState:r,phaseName:i,totalTime:a,disabled:!!o}}function _v(e,t,n){var r;return e instanceof Map?(r=e.get(t))||e.set(t,r=n):(r=e[t])||(r=e[t]=n),r}function bv(e){var t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}var yv=function(e,t){return!1},Cv=function(e,t){return!1},wv=function(e,t,n){return[]},kv=dv();(kv||"undefined"!=typeof Element)&&(yv=function(e,t){return e.contains(t)},Cv=function(){if(kv||Element.prototype.matches)return function(e,t){return e.matches(t)};var e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?function(e,n){return t.apply(e,[n])}:Cv}(),wv=function(e,t,n){var r=[];if(n)r.push.apply(r,_toConsumableArray(e.querySelectorAll(t)));else{var i=e.querySelector(t);i&&r.push(i)}return r});var xv=null,Sv=!1;function Ov(e){xv||(xv=("undefined"!=typeof document?document.body:null)||{},Sv=!!xv.style&&"WebkitAppearance"in xv.style);var t=!0;return xv.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(!(t=e in xv.style)&&Sv)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in xv.style),t}var jv=Cv,Ev=yv,Pv=wv;function Mv(e){var t={};return Object.keys(e).forEach((function(n){var r=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[r]=e[n]})),t}var Tv=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return Ov(e)}},{key:"matchesElement",value:function(e,t){return jv(e,t)}},{key:"containsElement",value:function(e,t){return Ev(e,t)}},{key:"query",value:function(e,t,n){return Pv(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return n||""}},{key:"animate",value:function(e,t,n,r,i){arguments.length>5&&void 0!==arguments[5]&&arguments[5],arguments.length>6&&arguments[6];return new uv(n,r)}}]),e}(),Iv=function(){var e=function e(){_classCallCheck2(this,e)};return e.NOOP=new Tv,e}();function Av(e){if("number"==typeof e)return e;var t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Dv(parseFloat(t[1]),t[2])}function Dv(e,t){switch(t){case"s":return 1e3*e;default:return e}}function Rv(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){var r,i=0,a="";if("string"==typeof e){var o=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===o)return t.push('The provided timing value "'.concat(e,'" is invalid.')),{duration:0,delay:0,easing:""};r=Dv(parseFloat(o[1]),o[2]);var s=o[3];null!=s&&(i=Dv(parseFloat(s),o[4]));var l=o[5];l&&(a=l)}else r=e;if(!n){var c=!1,u=t.length;r<0&&(t.push("Duration values below 0 are not allowed for this animation step."),c=!0),i<0&&(t.push("Delay values below 0 are not allowed for this animation step."),c=!0),c&&t.splice(u,0,'The provided timing value "'.concat(e,'" is invalid.'))}return{duration:r,delay:i,easing:a}}(e,t,n)}function Fv(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(e).forEach((function(n){t[n]=e[n]})),t}function Lv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(t)for(var r in e)n[r]=e[r];else Fv(e,n);return n}function Nv(e,t,n){return n?t+":"+n+";":""}function Bv(e){for(var t="",n=0;n<e.style.length;n++){var r=e.style.item(n);t+=Nv(0,r,e.style.getPropertyValue(r))}for(var i in e.style)e.style.hasOwnProperty(i)&&!i.startsWith("_")&&(t+=Nv(0,i.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[i]));e.setAttribute("style",t)}function zv(e,t,n){e.style&&(Object.keys(t).forEach((function(r){var i=Xv(r);n&&!n.hasOwnProperty(r)&&(n[r]=e.style[i]),e.style[i]=t[r]})),dv()&&Bv(e))}function qv(e,t){e.style&&(Object.keys(t).forEach((function(t){var n=Xv(t);e.style[n]=""})),dv()&&Bv(e))}function Uv(e){return Array.isArray(e)?1==e.length?e[0]:sv(e):e}var Hv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Vv(e){var t=[];if("string"==typeof e){for(var n,r=e.toString();n=Hv.exec(r);)t.push(n[1]);Hv.lastIndex=0}return t}function Wv(e,t,n){var r=e.toString(),i=r.replace(Hv,(function(e,r){var i=t[r];return t.hasOwnProperty(r)||(n.push("Please provide a value for the animation param "+r),i=""),i.toString()}));return i==r?e:i}function Gv(e){for(var t=[],n=e.next();!n.done;)t.push(n.value),n=e.next();return t}var Yv=/-+([a-z0-9])/g;function Xv(e){return e.replace(Yv,(function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t[1].toUpperCase()}))}function Jv(e,t){return 0===e||0===t}function Kv(e,t,n){var r=Object.keys(n);if(r.length&&t.length){var i=t[0],a=[];if(r.forEach((function(e){i.hasOwnProperty(e)||a.push(e),i[e]=n[e]})),a.length)for(var o=function(){var n=t[s];a.forEach((function(t){n[t]=Zv(e,t)}))},s=1;s<t.length;s++)o()}return t}function $v(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function Zv(e,t){return window.getComputedStyle(e)[t]}var Qv=new Set(["true","1"]),e_=new Set(["false","0"]);function t_(e,t){var n=Qv.has(e)||e_.has(e),r=Qv.has(t)||e_.has(t);return function(i,a){var o="*"==e||e==i,s="*"==t||t==a;return!o&&n&&"boolean"==typeof i&&(o=i?Qv.has(e):e_.has(e)),!s&&r&&"boolean"==typeof a&&(s=a?Qv.has(t):e_.has(t)),o&&s}}var n_=new RegExp("s*:selfs*,?","g");function r_(e,t,n){return new i_(e).build(t,n)}var i_=function(){function e(t){_classCallCheck2(this,e),this._driver=t}return _createClass2(e,[{key:"build",value:function(e,t){var n=new a_(t);return this._resetContextStyleTimingState(n),$v(this,Uv(e),n)}},{key:"_resetContextStyleTimingState",value:function(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}},{key:"visitTrigger",value:function(e,t){var n=this,r=t.queryCount=0,i=t.depCount=0,a=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach((function(e){if(n._resetContextStyleTimingState(t),0==e.type){var s=e,l=s.name;l.toString().split(/\s*,\s*/).forEach((function(e){s.name=e,a.push(n.visitState(s,t))})),s.name=l}else if(1==e.type){var c=n.visitTransition(e,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")})),{type:7,name:e.name,states:a,transitions:o,queryCount:r,depCount:i,options:null}}},{key:"visitState",value:function(e,t){var n=this.visitStyle(e.styles,t),r=e.options&&e.options.params||null;if(n.containsDynamicStyles){var i=new Set,a=r||{};if(n.styles.forEach((function(e){if(o_(e)){var t=e;Object.keys(t).forEach((function(e){Vv(t[e]).forEach((function(e){a.hasOwnProperty(e)||i.add(e)}))}))}})),i.size){var o=Gv(i.values());t.errors.push('state("'.concat(e.name,'", ...) must define default values for all the following style substitutions: ').concat(o.join(", ")))}}return{type:0,name:e.name,style:n,options:r?{params:r}:null}}},{key:"visitTransition",value:function(e,t){t.queryCount=0,t.depCount=0;var n,r,i,a=$v(this,Uv(e.animation),t);return{type:1,matchers:(n=e.expr,r=t.errors,i=[],"string"==typeof n?n.split(/\s*,\s*/).forEach((function(e){return function(e,t,n){if(":"==e[0]){var r=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return function(e,t){return parseFloat(t)>parseFloat(e)};case":decrement":return function(e,t){return parseFloat(t)<parseFloat(e)};default:return t.push('The transition alias value "'.concat(e,'" is not supported')),"* => *"}}(e,n);if("function"==typeof r)return void t.push(r);e=r}var i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push('The provided transition expression "'.concat(e,'" is not supported')),t;var a=i[1],o=i[2],s=i[3];t.push(t_(a,s)),"<"!=o[0]||"*"==a&&"*"==s||t.push(t_(s,a))}(e,i,r)})):i.push(n),i),animation:a,queryCount:t.queryCount,depCount:t.depCount,options:s_(e.options)}}},{key:"visitSequence",value:function(e,t){var n=this;return{type:2,steps:e.steps.map((function(e){return $v(n,e,t)})),options:s_(e.options)}}},{key:"visitGroup",value:function(e,t){var n=this,r=t.currentTime,i=0,a=e.steps.map((function(e){t.currentTime=r;var a=$v(n,e,t);return i=Math.max(i,t.currentTime),a}));return t.currentTime=i,{type:3,steps:a,options:s_(e.options)}}},{key:"visitAnimate",value:function(e,t){var n,r=function(e,t){var n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return l_(Rv(e,t).duration,0,"");var r=e;if(r.split(/\s+/).some((function(e){return"{"==e.charAt(0)&&"{"==e.charAt(1)}))){var i=l_(0,0,"");return i.dynamic=!0,i.strValue=r,i}return l_((n=n||Rv(r,t)).duration,n.delay,n.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;var i=e.styles?e.styles:lv({});if(5==i.type)n=this.visitKeyframes(i,t);else{var a=e.styles,o=!1;if(!a){o=!0;var s={};r.easing&&(s.easing=r.easing),a=lv(s)}t.currentTime+=r.duration+r.delay;var l=this.visitStyle(a,t);l.isEmptyStep=o,n=l}return t.currentAnimateTimings=null,{type:4,timings:r,style:n,options:null}}},{key:"visitStyle",value:function(e,t){var n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}},{key:"_makeStyleAst",value:function(e,t){var n=[];Array.isArray(e.styles)?e.styles.forEach((function(e){"string"==typeof e?"*"==e?n.push(e):t.errors.push("The provided style string value ".concat(e," is not allowed.")):n.push(e)})):n.push(e.styles);var r=!1,i=null;return n.forEach((function(e){if(o_(e)){var t=e,n=t.easing;if(n&&(i=n,delete t.easing),!r)for(var a in t)if(t[a].toString().indexOf("{{")>=0){r=!0;break}}})),{type:6,styles:n,easing:i,offset:e.offset,containsDynamicStyles:r,options:null}}},{key:"_validateStyleAst",value:function(e,t){var n=this,r=t.currentAnimateTimings,i=t.currentTime,a=t.currentTime;r&&a>0&&(a-=r.duration+r.delay),e.styles.forEach((function(e){"string"!=typeof e&&Object.keys(e).forEach((function(r){if(n._driver.validateStyleProperty(r)){var o,s,l,c,u,h=t.collectedStyles[t.currentQuerySelector],d=h[r],p=!0;d&&(a!=i&&a>=d.startTime&&i<=d.endTime&&(t.errors.push('The CSS property "'.concat(r,'" that exists between the times of "').concat(d.startTime,'ms" and "').concat(d.endTime,'ms" is also being animated in a parallel animation between the times of "').concat(a,'ms" and "').concat(i,'ms"')),p=!1),a=d.startTime),p&&(h[r]={startTime:a,endTime:i}),t.options&&(o=e[r],s=t.options,l=t.errors,c=s.params||{},(u=Vv(o)).length&&u.forEach((function(e){c.hasOwnProperty(e)||l.push("Unable to resolve the local animation param ".concat(e," in the given list of values"))})))}else t.errors.push('The provided animation property "'.concat(r,'" is not a supported CSS property for animations'))}))}))}},{key:"visitKeyframes",value:function(e,t){var n=this,r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),r;var i=0,a=[],o=!1,s=!1,l=0,c=e.steps.map((function(e){var r=n._makeStyleAst(e,t),c=null!=r.offset?r.offset:function(e){if("string"==typeof e)return null;var t=null;if(Array.isArray(e))e.forEach((function(e){if(o_(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}}));else if(o_(e)&&e.hasOwnProperty("offset")){var n=e;t=parseFloat(n.offset),delete n.offset}return t}(r.styles),u=0;return null!=c&&(i++,u=r.offset=c),s=s||u<0||u>1,o=o||u<l,l=u,a.push(u),r}));s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");var u=e.steps.length,h=0;i>0&&i<u?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(u-1));var d=u-1,p=t.currentTime,f=t.currentAnimateTimings,m=f.duration;return c.forEach((function(e,i){var o=h>0?i==d?1:h*i:a[i],s=o*m;t.currentTime=p+f.delay+s,f.duration=s,n._validateStyleAst(e,t),e.offset=o,r.styles.push(e)})),r}},{key:"visitReference",value:function(e,t){return{type:8,animation:$v(this,Uv(e.animation),t),options:s_(e.options)}}},{key:"visitAnimateChild",value:function(e,t){return t.depCount++,{type:9,options:s_(e.options)}}},{key:"visitAnimateRef",value:function(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:s_(e.options)}}},{key:"visitQuery",value:function(e,t){var n=t.currentQuerySelector,r=e.options||{};t.queryCount++,t.currentQuery=e;var i=_slicedToArray(function(e){var t=!!e.split(/\s*,\s*/).find((function(e){return":self"==e}));return t&&(e=e.replace(n_,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,(function(e){return".ng-trigger-"+e.substr(1)})).replace(/:animating/g,".ng-animating"),t]}(e.selector),2),a=i[0],o=i[1];t.currentQuerySelector=n.length?n+" "+a:a,_v(t.collectedStyles,t.currentQuerySelector,{});var s=$v(this,Uv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:a,limit:r.limit||0,optional:!!r.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:s_(e.options)}}},{key:"visitStagger",value:function(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");var n="full"===e.timings?{duration:0,delay:0,easing:"full"}:Rv(e.timings,t.errors,!0);return{type:12,animation:$v(this,Uv(e.animation),t),timings:n,options:null}}}]),e}(),a_=function e(t){_classCallCheck2(this,e),this.errors=t,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null};function o_(e){return!Array.isArray(e)&&"object"==typeof e}function s_(e){var t;return e?(e=Fv(e)).params&&(e.params=(t=e.params)?Fv(t):null):e={},e}function l_(e,t,n){return{duration:e,delay:t,easing:n}}function c_(e,t,n,r,i,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]&&arguments[7];return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:r,duration:i,delay:a,totalTime:i+a,easing:o,subTimeline:s}}var u_=function(){function e(){_classCallCheck2(this,e),this._map=new Map}return _createClass2(e,[{key:"consume",value:function(e){var t=this._map.get(e);return t?this._map.delete(e):t=[],t}},{key:"append",value:function(e,t){var n,r=this._map.get(e);r||this._map.set(e,r=[]),(n=r).push.apply(n,_toConsumableArray(t))}},{key:"has",value:function(e){return this._map.has(e)}},{key:"clear",value:function(){this._map.clear()}}]),e}(),h_=new RegExp(":enter","g"),d_=new RegExp(":leave","g");function p_(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:{},s=arguments.length>7?arguments[7]:void 0,l=arguments.length>8?arguments[8]:void 0,c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];return(new f_).buildKeyframes(e,t,n,r,i,a,o,s,l,c)}var f_=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,[{key:"buildKeyframes",value:function(e,t,n,r,i,a,o,s,l){var c=arguments.length>9&&void 0!==arguments[9]?arguments[9]:[];l=l||new u_;var u=new g_(e,t,l,r,i,c,[]);u.options=s,u.currentTimeline.setStyles([a],null,u.errors,s),$v(this,n,u);var h=u.timelines.filter((function(e){return e.containsAnimation()}));if(h.length&&Object.keys(o).length){var d=h[h.length-1];d.allowOnlyTimelineStyles()||d.setStyles([o],null,u.errors,s)}return h.length?h.map((function(e){return e.buildKeyframes()})):[c_(t,[],[],[],0,0,"",!1)]}},{key:"visitTrigger",value:function(e,t){}},{key:"visitState",value:function(e,t){}},{key:"visitTransition",value:function(e,t){}},{key:"visitAnimateChild",value:function(e,t){var n=t.subInstructions.consume(t.element);if(n){var r=t.createSubContext(e.options),i=t.currentTimeline.currentTime,a=this._visitSubInstructions(n,r,r.options);i!=a&&t.transformIntoNewTimeline(a)}t.previousNode=e}},{key:"visitAnimateRef",value:function(e,t){var n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}},{key:"_visitSubInstructions",value:function(e,t,n){var r=t.currentTimeline.currentTime,i=null!=n.duration?Av(n.duration):null,a=null!=n.delay?Av(n.delay):null;return 0!==i&&e.forEach((function(e){var n=t.appendInstructionToTimeline(e,i,a);r=Math.max(r,n.duration+n.delay)})),r}},{key:"visitReference",value:function(e,t){t.updateOptions(e.options,!0),$v(this,e.animation,t),t.previousNode=e}},{key:"visitSequence",value:function(e,t){var n=this,r=t.subContextCount,i=t,a=e.options;if(a&&(a.params||a.delay)&&((i=t.createSubContext(a)).transformIntoNewTimeline(),null!=a.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=m_);var o=Av(a.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach((function(e){return $v(n,e,i)})),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}},{key:"visitGroup",value:function(e,t){var n=this,r=[],i=t.currentTimeline.currentTime,a=e.options&&e.options.delay?Av(e.options.delay):0;e.steps.forEach((function(o){var s=t.createSubContext(e.options);a&&s.delayNextStep(a),$v(n,o,s),i=Math.max(i,s.currentTimeline.currentTime),r.push(s.currentTimeline)})),r.forEach((function(e){return t.currentTimeline.mergeTimelineCollectedStyles(e)})),t.transformIntoNewTimeline(i),t.previousNode=e}},{key:"_visitTiming",value:function(e,t){if(e.dynamic){var n=e.strValue;return Rv(t.params?Wv(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}},{key:"visitAnimate",value:function(e,t){var n=t.currentAnimateTimings=this._visitTiming(e.timings,t),r=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),r.snapshotCurrentStyles());var i=e.style;5==i.type?this.visitKeyframes(i,t):(t.incrementTime(n.duration),this.visitStyle(i,t),r.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}},{key:"visitStyle",value:function(e,t){var n=t.currentTimeline,r=t.currentAnimateTimings;!r&&n.getCurrentStyleProperties().length&&n.forwardFrame();var i=r&&r.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(i):n.setStyles(e.styles,i,t.errors,t.options),t.previousNode=e}},{key:"visitKeyframes",value:function(e,t){var n=t.currentAnimateTimings,r=t.currentTimeline.duration,i=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach((function(e){a.forwardTime((e.offset||0)*i),a.setStyles(e.styles,e.easing,t.errors,t.options),a.applyStylesToKeyframe()})),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(r+i),t.previousNode=e}},{key:"visitQuery",value:function(e,t){var n=this,r=t.currentTimeline.currentTime,i=e.options||{},a=i.delay?Av(i.delay):0;a&&(6===t.previousNode.type||0==r&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=m_);var o=r,s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;var l=null;s.forEach((function(r,i){t.currentQueryIndex=i;var s=t.createSubContext(e.options,r);a&&s.delayNextStep(a),r===t.element&&(l=s.currentTimeline),$v(n,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)})),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}},{key:"visitStagger",value:function(e,t){var n=t.parentContext,r=t.currentTimeline,i=e.timings,a=Math.abs(i.duration),o=a*(t.currentQueryTotal-1),s=a*t.currentQueryIndex;switch(i.duration<0?"reverse":i.easing){case"reverse":s=o-s;break;case"full":s=n.currentStaggerTime}var l=t.currentTimeline;s&&l.delayNextStep(s);var c=l.currentTime;$v(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=r.currentTime-c+(r.startTime-n.currentTimeline.startTime)}}]),e}(),m_={},g_=function(){function e(t,n,r,i,a,o,s,l){_classCallCheck2(this,e),this._driver=t,this.element=n,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=a,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=m_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=l||new v_(this._driver,n,0),s.push(this.currentTimeline)}return _createClass2(e,[{key:"updateOptions",value:function(e,t){var n=this;if(e){var r=e,i=this.options;null!=r.duration&&(i.duration=Av(r.duration)),null!=r.delay&&(i.delay=Av(r.delay));var a=r.params;if(a){var o=i.params;o||(o=this.options.params={}),Object.keys(a).forEach((function(e){t&&o.hasOwnProperty(e)||(o[e]=Wv(a[e],o,n.errors))}))}}}},{key:"_copyOptions",value:function(){var e={};if(this.options){var t=this.options.params;if(t){var n=e.params={};Object.keys(t).forEach((function(e){n[e]=t[e]}))}}return e}},{key:"createSubContext",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,i=n||this.element,a=new e(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return a.previousNode=this.previousNode,a.currentAnimateTimings=this.currentAnimateTimings,a.options=this._copyOptions(),a.updateOptions(t),a.currentQueryIndex=this.currentQueryIndex,a.currentQueryTotal=this.currentQueryTotal,a.parentContext=this,this.subContextCount++,a}},{key:"transformIntoNewTimeline",value:function(e){return this.previousNode=m_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}},{key:"appendInstructionToTimeline",value:function(e,t,n){var r={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},i=new __(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,r,e.stretchStartingKeyframe);return this.timelines.push(i),r}},{key:"incrementTime",value:function(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}},{key:"delayNextStep",value:function(e){e>0&&this.currentTimeline.delayNextStep(e)}},{key:"invokeQuery",value:function(e,t,n,r,i,a){var o=[];if(r&&o.push(this.element),e.length>0){e=(e=e.replace(h_,"."+this._enterClassName)).replace(d_,"."+this._leaveClassName);var s=this._driver.query(this.element,e,1!=n);0!==n&&(s=n<0?s.slice(s.length+n,s.length):s.slice(0,n)),o.push.apply(o,_toConsumableArray(s))}return i||0!=o.length||a.push('`query("'.concat(t,'")` returned zero elements. (Use `query("').concat(t,'", { optional: true })` if you wish to allow this.)')),o}},{key:"params",get:function(){return this.options.params}}]),e}(),v_=function(){function e(t,n,r,i){_classCallCheck2(this,e),this._driver=t,this.element=n,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(n),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(n,this._localTimelineStyles)),this._loadKeyframe()}return _createClass2(e,[{key:"containsAnimation",value:function(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}},{key:"getCurrentStyleProperties",value:function(){return Object.keys(this._currentKeyframe)}},{key:"delayNextStep",value:function(e){var t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}},{key:"fork",value:function(t,n){return this.applyStylesToKeyframe(),new e(this._driver,t,n||this.currentTime,this._elementTimelineStylesLookup)}},{key:"_loadKeyframe",value:function(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}},{key:"forwardFrame",value:function(){this.duration+=1,this._loadKeyframe()}},{key:"forwardTime",value:function(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}},{key:"_updateStyle",value:function(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}},{key:"allowOnlyTimelineStyles",value:function(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}},{key:"applyEmptyStep",value:function(e){var t=this;e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach((function(e){t._backFill[e]=t._globalTimelineStyles[e]||"*",t._currentKeyframe[e]="*"})),this._currentEmptyStepKeyframe=this._currentKeyframe}},{key:"setStyles",value:function(e,t,n,r){var i=this;t&&(this._previousKeyframe.easing=t);var a=r&&r.params||{},o=function(e,t){var n,r={};return e.forEach((function(e){"*"===e?(n=n||Object.keys(t)).forEach((function(e){r[e]="*"})):Lv(e,!1,r)})),r}(e,this._globalTimelineStyles);Object.keys(o).forEach((function(e){var t=Wv(o[e],a,n);i._pendingStyles[e]=t,i._localTimelineStyles.hasOwnProperty(e)||(i._backFill[e]=i._globalTimelineStyles.hasOwnProperty(e)?i._globalTimelineStyles[e]:"*"),i._updateStyle(e,t)}))}},{key:"applyStylesToKeyframe",value:function(){var e=this,t=this._pendingStyles,n=Object.keys(t);0!=n.length&&(this._pendingStyles={},n.forEach((function(n){e._currentKeyframe[n]=t[n]})),Object.keys(this._localTimelineStyles).forEach((function(t){e._currentKeyframe.hasOwnProperty(t)||(e._currentKeyframe[t]=e._localTimelineStyles[t])})))}},{key:"snapshotCurrentStyles",value:function(){var e=this;Object.keys(this._localTimelineStyles).forEach((function(t){var n=e._localTimelineStyles[t];e._pendingStyles[t]=n,e._updateStyle(t,n)}))}},{key:"getFinalKeyframe",value:function(){return this._keyframes.get(this.duration)}},{key:"mergeTimelineCollectedStyles",value:function(e){var t=this;Object.keys(e._styleSummary).forEach((function(n){var r=t._styleSummary[n],i=e._styleSummary[n];(!r||i.time>r.time)&&t._updateStyle(n,i.value)}))}},{key:"buildKeyframes",value:function(){var e=this;this.applyStylesToKeyframe();var t=new Set,n=new Set,r=1===this._keyframes.size&&0===this.duration,i=[];this._keyframes.forEach((function(a,o){var s=Lv(a,!0);Object.keys(s).forEach((function(e){var r=s[e];"!"==r?t.add(e):"*"==r&&n.add(e)})),r||(s.offset=o/e.duration),i.push(s)}));var a=t.size?Gv(t.values()):[],o=n.size?Gv(n.values()):[];if(r){var s=i[0],l=Fv(s);s.offset=0,l.offset=1,i=[s,l]}return c_(this.element,i,a,o,this.duration,this.startTime,this.easing,!1)}},{key:"currentTime",get:function(){return this.startTime+this.duration}},{key:"properties",get:function(){var e=[];for(var t in this._currentKeyframe)e.push(t);return e}}]),e}(),__=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a,o,s){var l,c=arguments.length>6&&void 0!==arguments[6]&&arguments[6];return _classCallCheck2(this,n),(l=t.call(this,e,r,s.delay)).element=r,l.keyframes=i,l.preStyleProps=a,l.postStyleProps=o,l._stretchStartingKeyframe=c,l.timings={duration:s.duration,delay:s.delay,easing:s.easing},l}return _createClass2(n,[{key:"containsAnimation",value:function(){return this.keyframes.length>1}},{key:"buildKeyframes",value:function(){var e=this.keyframes,t=this.timings,n=t.delay,r=t.duration,i=t.easing;if(this._stretchStartingKeyframe&&n){var a=[],o=r+n,s=n/o,l=Lv(e[0],!1);l.offset=0,a.push(l);var c=Lv(e[0],!1);c.offset=b_(s),a.push(c);for(var u=e.length-1,h=1;h<=u;h++){var d=Lv(e[h],!1);d.offset=b_((n+d.offset*r)/o),a.push(d)}r=o,n=0,i="",e=a}return c_(this.element,e,this.preStyleProps,this.postStyleProps,r,n,i,!0)}}]),n}(v_);function b_(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=Math.pow(10,t-1);return Math.round(e*n)/n}var y_=function e(){_classCallCheck2(this,e)},C_=function(e){_inherits(n,e);var t=_createSuper(n);function n(){return _classCallCheck2(this,n),t.apply(this,arguments)}return _createClass2(n,[{key:"normalizePropertyName",value:function(e,t){return Xv(e)}},{key:"normalizeStyleValue",value:function(e,t,n,r){var i="",a=n.toString().trim();if(w_[t]&&0!==n&&"0"!==n)if("number"==typeof n)i="px";else{var o=n.match(/^[+-]?[\d\.]+([a-z]*)$/);o&&0==o[1].length&&r.push("Please provide a CSS unit value for ".concat(e,":").concat(n))}return a+i}}]),n}(y_),w_=function(e){var t={};return e.forEach((function(e){return t[e]=!0})),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(","));function k_(e,t,n,r,i,a,o,s,l,c,u,h,d){return{type:0,element:e,triggerName:t,isRemovalTransition:i,fromState:n,fromStyles:a,toState:r,toStyles:o,timelines:s,queriedElements:l,preStyleProps:c,postStyleProps:u,totalTime:h,errors:d}}var x_={},S_=function(){function e(t,n,r){_classCallCheck2(this,e),this._triggerName=t,this.ast=n,this._stateStyles=r}return _createClass2(e,[{key:"match",value:function(e,t,n,r){return function(e,t,n,r,i){return e.some((function(e){return e(t,n,r,i)}))}(this.ast.matchers,e,t,n,r)}},{key:"buildStyles",value:function(e,t,n){var r=this._stateStyles["*"],i=this._stateStyles[e],a=r?r.buildStyles(t,n):{};return i?i.buildStyles(t,n):a}},{key:"build",value:function(e,t,n,r,i,a,o,s,l,c){var u=[],h=this.ast.options&&this.ast.options.params||x_,d=this.buildStyles(n,o&&o.params||x_,u),p=s&&s.params||x_,f=this.buildStyles(r,p,u),m=new Set,g=new Map,v=new Map,_="void"===r,b={params:Object.assign({},h,p)},y=c?[]:p_(e,t,this.ast.animation,i,a,d,f,b,l,u),C=0;if(y.forEach((function(e){C=Math.max(e.duration+e.delay,C)})),u.length)return k_(t,this._triggerName,n,r,_,d,f,[],[],g,v,C,u);y.forEach((function(e){var n=e.element,r=_v(g,n,{});e.preStyleProps.forEach((function(e){return r[e]=!0}));var i=_v(v,n,{});e.postStyleProps.forEach((function(e){return i[e]=!0})),n!==t&&m.add(n)}));var w=Gv(m.values());return k_(t,this._triggerName,n,r,_,d,f,y,w,g,v,C)}}]),e}(),O_=function(){function e(t,n){_classCallCheck2(this,e),this.styles=t,this.defaultParams=n}return _createClass2(e,[{key:"buildStyles",value:function(e,t){var n={},r=Fv(this.defaultParams);return Object.keys(e).forEach((function(t){var n=e[t];null!=n&&(r[t]=n)})),this.styles.styles.forEach((function(e){if("string"!=typeof e){var i=e;Object.keys(i).forEach((function(e){var a=i[e];a.length>1&&(a=Wv(a,r,t)),n[e]=a}))}})),n}}]),e}(),j_=function(){function e(t,n){var r=this;_classCallCheck2(this,e),this.name=t,this.ast=n,this.transitionFactories=[],this.states={},n.states.forEach((function(e){r.states[e.name]=new O_(e.style,e.options&&e.options.params||{})})),E_(this.states,"true","1"),E_(this.states,"false","0"),n.transitions.forEach((function(e){r.transitionFactories.push(new S_(t,e,r.states))})),this.fallbackTransition=new S_(t,{type:1,animation:{type:2,steps:[],options:null},matchers:[function(e,t){return!0}],options:null,queryCount:0,depCount:0},this.states)}return _createClass2(e,[{key:"matchTransition",value:function(e,t,n,r){return this.transitionFactories.find((function(i){return i.match(e,t,n,r)}))||null}},{key:"matchStyles",value:function(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}},{key:"containsQueries",get:function(){return this.ast.queryCount>0}}]),e}();function E_(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}var P_=new u_,M_=function(){function e(t,n,r){_classCallCheck2(this,e),this.bodyNode=t,this._driver=n,this._normalizer=r,this._animations={},this._playersById={},this.players=[]}return _createClass2(e,[{key:"register",value:function(e,t){var n=[],r=r_(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=r}},{key:"_buildPlayer",value:function(e,t,n){var r=e.element,i=fv(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(r,i,e.duration,e.delay,e.easing,[],!0)}},{key:"create",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=[],o=this._animations[e],s=new Map;if(o?(n=p_(this._driver,t,o,"ng-enter","ng-leave",{},{},i,P_,a)).forEach((function(e){var t=_v(s,e.element,{});e.postStyleProps.forEach((function(e){return t[e]=null}))})):(a.push("The requested animation doesn't exist or has already been destroyed"),n=[]),a.length)throw new Error("Unable to create the animation due to the following errors: "+a.join("\n"));s.forEach((function(e,t){Object.keys(e).forEach((function(n){e[n]=r._driver.computeStyle(t,n,"*")}))}));var l=pv(n.map((function(e){var t=s.get(e.element);return r._buildPlayer(e,{},t)})));return this._playersById[e]=l,l.onDestroy((function(){return r.destroy(e)})),this.players.push(l),l}},{key:"destroy",value:function(e){var t=this._getPlayer(e);t.destroy(),delete this._playersById[e];var n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}},{key:"_getPlayer",value:function(e){var t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}},{key:"listen",value:function(e,t,n,r){var i=vv(t,"","","");return mv(this._getPlayer(e),n,i,r),function(){}}},{key:"command",value:function(e,t,n,r){if("register"!=n)if("create"!=n){var i=this._getPlayer(e);switch(n){case"play":i.play();break;case"pause":i.pause();break;case"reset":i.reset();break;case"restart":i.restart();break;case"finish":i.finish();break;case"init":i.init();break;case"setPosition":i.setPosition(parseFloat(r[0]));break;case"destroy":this.destroy(e)}}else this.create(e,t,r[0]||{});else this.register(e,r[0])}}]),e}(),T_=[],I_={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},A_={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},D_=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";_classCallCheck2(this,e),this.namespaceId=n;var r,i=t&&t.hasOwnProperty("value");if(this.value=null!=(r=i?t.value:t)?r:null,i){var a=Fv(t);delete a.value,this.options=a}else this.options={};this.options.params||(this.options.params={})}return _createClass2(e,[{key:"absorbOptions",value:function(e){var t=e.params;if(t){var n=this.options.params;Object.keys(t).forEach((function(e){null==n[e]&&(n[e]=t[e])}))}}},{key:"params",get:function(){return this.options.params}}]),e}(),R_=new D_("void"),F_=function(){function e(t,n,r){_classCallCheck2(this,e),this.id=t,this.hostElement=n,this._engine=r,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+t,H_(n,this._hostClassName)}return _createClass2(e,[{key:"listen",value:function(e,t,n,r){var i,a=this;if(!this._triggers.hasOwnProperty(t))throw new Error('Unable to listen on the animation trigger event "'.concat(n,'" because the animation trigger "').concat(t,"\" doesn't exist!"));if(null==n||0==n.length)throw new Error('Unable to listen on the animation trigger "'.concat(t,'" because the provided event is undefined!'));if("start"!=(i=n)&&"done"!=i)throw new Error('The provided animation trigger event "'.concat(n,'" for the animation trigger "').concat(t,'" is not supported!'));var o=_v(this._elementListeners,e,[]),s={name:t,phase:n,callback:r};o.push(s);var l=_v(this._engine.statesByElement,e,{});return l.hasOwnProperty(t)||(H_(e,"ng-trigger"),H_(e,"ng-trigger-"+t),l[t]=R_),function(){a._engine.afterFlush((function(){var e=o.indexOf(s);e>=0&&o.splice(e,1),a._triggers[t]||delete l[t]}))}}},{key:"register",value:function(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}},{key:"_getTrigger",value:function(e){var t=this._triggers[e];if(!t)throw new Error('The provided animation trigger "'.concat(e,'" has not been registered!'));return t}},{key:"trigger",value:function(e,t,n){var r=this,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=this._getTrigger(t),o=new N_(this.id,t,e),s=this._engine.statesByElement.get(e);s||(H_(e,"ng-trigger"),H_(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));var l=s[t],c=new D_(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&c.absorbOptions(l.options),s[t]=c,l||(l=R_),"void"===c.value||l.value!==c.value){var u=_v(this._engine.playersByElement,e,[]);u.forEach((function(e){e.namespaceId==r.id&&e.triggerName==t&&e.queued&&e.destroy()}));var h=a.matchTransition(l.value,c.value,e,c.params),d=!1;if(!h){if(!i)return;h=a.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:l,toState:c,player:o,isFallbackTransition:d}),d||(H_(e,"ng-animate-queued"),o.onStart((function(){V_(e,"ng-animate-queued")}))),o.onDone((function(){var t=r.players.indexOf(o);t>=0&&r.players.splice(t,1);var n=r._engine.playersByElement.get(e);if(n){var i=n.indexOf(o);i>=0&&n.splice(i,1)}})),this.players.push(o),u.push(o),o}if(!function(e,t){var n=Object.keys(e),r=Object.keys(t);if(n.length!=r.length)return!1;for(var i=0;i<n.length;i++){var a=n[i];if(!t.hasOwnProperty(a)||e[a]!==t[a])return!1}return!0}(l.params,c.params)){var p=[],f=a.matchStyles(l.value,l.params,p),m=a.matchStyles(c.value,c.params,p);p.length?this._engine.reportError(p):this._engine.afterFlush((function(){qv(e,f),zv(e,m)}))}}},{key:"deregister",value:function(e){var t=this;delete this._triggers[e],this._engine.statesByElement.forEach((function(t,n){delete t[e]})),this._elementListeners.forEach((function(n,r){t._elementListeners.set(r,n.filter((function(t){return t.name!=e})))}))}},{key:"clearElementCache",value:function(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);var t=this._engine.playersByElement.get(e);t&&(t.forEach((function(e){return e.destroy()})),this._engine.playersByElement.delete(e))}},{key:"_signalRemovalForInnerTriggers",value:function(e,t){var n=this;arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._engine.driver.query(e,".ng-trigger",!0).forEach((function(e){if(!e.__ng_removed){var r=n._engine.fetchNamespacesByElement(e);r.size?r.forEach((function(n){return n.triggerLeaveAnimation(e,t,!1,!0)})):n.clearElementCache(e)}}))}},{key:"triggerLeaveAnimation",value:function(e,t,n,r){var i=this,a=this._engine.statesByElement.get(e);if(a){var o=[];if(Object.keys(a).forEach((function(t){if(i._triggers[t]){var n=i.trigger(e,t,"void",r);n&&o.push(n)}})),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&pv(o).onDone((function(){return i._engine.processLeaveNode(e)})),!0}return!1}},{key:"prepareLeaveAnimationListeners",value:function(e){var t=this,n=this._elementListeners.get(e);if(n){var r=new Set;n.forEach((function(n){var i=n.name;if(!r.has(i)){r.add(i);var a=t._triggers[i].fallbackTransition,o=t._engine.statesByElement.get(e)[i]||R_,s=new D_("void"),l=new N_(t.id,i,e);t._engine.totalQueuedPlayers++,t._queue.push({element:e,triggerName:i,transition:a,fromState:o,toState:s,player:l,isFallbackTransition:!0})}}))}}},{key:"removeNode",value:function(e,t){var n=this,r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t,!0),!this.triggerLeaveAnimation(e,t,!0)){var i=!1;if(r.totalAnimations){var a=r.players.length?r.playersByQueriedElement.get(e):[];if(a&&a.length)i=!0;else for(var o=e;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}this.prepareLeaveAnimationListeners(e),i?r.markElementAsRemoved(this.id,e,!1,t):(r.afterFlush((function(){return n.clearElementCache(e)})),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}},{key:"insertNode",value:function(e,t){H_(e,this._hostClassName)}},{key:"drainQueuedTransitions",value:function(e){var t=this,n=[];return this._queue.forEach((function(r){var i=r.player;if(!i.destroyed){var a=r.element,o=t._elementListeners.get(a);o&&o.forEach((function(t){if(t.name==r.triggerName){var n=vv(a,r.triggerName,r.fromState.value,r.toState.value);n._data=e,mv(r.player,t.phase,n,t.callback)}})),i.markedForDestroy?t._engine.afterFlush((function(){i.destroy()})):n.push(r)}})),this._queue=[],n.sort((function(e,n){var r=e.transition.ast.depCount,i=n.transition.ast.depCount;return 0==r||0==i?r-i:t._engine.driver.containsElement(e.element,n.element)?1:-1}))}},{key:"destroy",value:function(e){this.players.forEach((function(e){return e.destroy()})),this._signalRemovalForInnerTriggers(this.hostElement,e)}},{key:"elementContainsData",value:function(e){var t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find((function(t){return t.element===e}))||t}}]),e}(),L_=function(){function e(t,n,r){_classCallCheck2(this,e),this.bodyNode=t,this.driver=n,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=function(e,t){}}return _createClass2(e,[{key:"_onRemovalComplete",value:function(e,t){this.onRemovalComplete(e,t)}},{key:"createNamespace",value:function(e,t){var n=new F_(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}},{key:"_balanceNamespaceList",value:function(e,t){var n=this._namespaceList.length-1;if(n>=0){for(var r=!1,i=n;i>=0;i--)if(this.driver.containsElement(this._namespaceList[i].hostElement,t)){this._namespaceList.splice(i+1,0,e),r=!0;break}r||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}},{key:"register",value:function(e,t){var n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}},{key:"registerTrigger",value:function(e,t,n){var r=this._namespaceLookup[e];r&&r.register(t,n)&&this.totalAnimations++}},{key:"destroy",value:function(e,t){var n=this;if(e){var r=this._fetchNamespace(e);this.afterFlush((function(){n.namespacesByHostElement.delete(r.hostElement),delete n._namespaceLookup[e];var t=n._namespaceList.indexOf(r);t>=0&&n._namespaceList.splice(t,1)})),this.afterFlushAnimationsDone((function(){return r.destroy(t)}))}}},{key:"_fetchNamespace",value:function(e){return this._namespaceLookup[e]}},{key:"fetchNamespacesByElement",value:function(e){var t=new Set,n=this.statesByElement.get(e);if(n)for(var r=Object.keys(n),i=0;i<r.length;i++){var a=n[r[i]].namespaceId;if(a){var o=this._fetchNamespace(a);o&&t.add(o)}}return t}},{key:"trigger",value:function(e,t,n,r){if(B_(t)){var i=this._fetchNamespace(e);if(i)return i.trigger(t,n,r),!0}return!1}},{key:"insertNode",value:function(e,t,n,r){if(B_(t)){var i=t.__ng_removed;if(i&&i.setForRemoval){i.setForRemoval=!1,i.setForMove=!0;var a=this.collectedLeaveElements.indexOf(t);a>=0&&this.collectedLeaveElements.splice(a,1)}if(e){var o=this._fetchNamespace(e);o&&o.insertNode(t,n)}r&&this.collectEnterElement(t)}}},{key:"collectEnterElement",value:function(e){this.collectedEnterElements.push(e)}},{key:"markElementAsDisabled",value:function(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),H_(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),V_(e,"ng-animate-disabled"))}},{key:"removeNode",value:function(e,t,n,r){if(B_(t)){var i=e?this._fetchNamespace(e):null;if(i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r),n){var a=this.namespacesByHostElement.get(t);a&&a.id!==e&&a.removeNode(t,r)}}else this._onRemovalComplete(t,r)}},{key:"markElementAsRemoved",value:function(e,t,n,r){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:r,hasAnimation:n,removedBeforeQueried:!1}}},{key:"listen",value:function(e,t,n,r,i){return B_(t)?this._fetchNamespace(e).listen(t,n,r,i):function(){}}},{key:"_buildInstruction",value:function(e,t,n,r,i){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,r,e.fromState.options,e.toState.options,t,i)}},{key:"destroyInnerAnimations",value:function(e){var t=this,n=this.driver.query(e,".ng-trigger",!0);n.forEach((function(e){return t.destroyActiveAnimationsForElement(e)})),0!=this.playersByQueriedElement.size&&(n=this.driver.query(e,".ng-animating",!0)).forEach((function(e){return t.finishActiveQueriedAnimationOnElement(e)}))}},{key:"destroyActiveAnimationsForElement",value:function(e){var t=this.playersByElement.get(e);t&&t.forEach((function(e){e.queued?e.markedForDestroy=!0:e.destroy()}))}},{key:"finishActiveQueriedAnimationOnElement",value:function(e){var t=this.playersByQueriedElement.get(e);t&&t.forEach((function(e){return e.finish()}))}},{key:"whenRenderingDone",value:function(){var e=this;return new Promise((function(t){if(e.players.length)return pv(e.players).onDone((function(){return t()}));t()}))}},{key:"processLeaveNode",value:function(e){var t=this,n=e.__ng_removed;if(n&&n.setForRemoval){if(e.__ng_removed=I_,n.namespaceId){this.destroyInnerAnimations(e);var r=this._fetchNamespace(n.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,n.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach((function(e){t.markElementAsDisabled(e,!1)}))}},{key:"flush",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1,n=[];if(this.newHostElements.size&&(this.newHostElements.forEach((function(t,n){return e._balanceNamespaceList(t,n)})),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(var r=0;r<this.collectedEnterElements.length;r++)H_(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){var i=[];try{n=this._flushAnimations(i,t)}finally{for(var a=0;a<i.length;a++)i[a]()}}else for(var o=0;o<this.collectedLeaveElements.length;o++)this.processLeaveNode(this.collectedLeaveElements[o]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach((function(e){return e()})),this._flushFns=[],this._whenQuietFns.length){var s=this._whenQuietFns;this._whenQuietFns=[],n.length?pv(n).onDone((function(){s.forEach((function(e){return e()}))})):s.forEach((function(e){return e()}))}}},{key:"reportError",value:function(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}},{key:"_flushAnimations",value:function(e,t){var n=this,r=new u_,i=[],a=new Map,o=[],s=new Map,l=new Map,c=new Map,u=new Set;this.disabledNodes.forEach((function(e){u.add(e);for(var t=n.driver.query(e,".ng-animate-queued",!0),r=0;r<t.length;r++)u.add(t[r])}));var h=this.bodyNode,d=Array.from(this.statesByElement.keys()),p=U_(d,this.collectedEnterElements),f=new Map,m=0;p.forEach((function(e,t){var n="ng-enter"+m++;f.set(t,n),e.forEach((function(e){return H_(e,n)}))}));for(var g=[],v=new Set,_=new Set,b=0;b<this.collectedLeaveElements.length;b++){var y=this.collectedLeaveElements[b],C=y.__ng_removed;C&&C.setForRemoval&&(g.push(y),v.add(y),C.hasAnimation?this.driver.query(y,".ng-star-inserted",!0).forEach((function(e){return v.add(e)})):_.add(y))}var w=new Map,k=U_(d,Array.from(v));k.forEach((function(e,t){var n="ng-leave"+m++;w.set(t,n),e.forEach((function(e){return H_(e,n)}))})),e.push((function(){p.forEach((function(e,t){var n=f.get(t);e.forEach((function(e){return V_(e,n)}))})),k.forEach((function(e,t){var n=w.get(t);e.forEach((function(e){return V_(e,n)}))})),g.forEach((function(e){n.processLeaveNode(e)}))}));for(var x=[],S=[],O=this._namespaceList.length-1;O>=0;O--)this._namespaceList[O].drainQueuedTransitions(t).forEach((function(e){var t=e.player,a=e.element;if(x.push(t),n.collectedEnterElements.length){var u=a.__ng_removed;if(u&&u.setForMove)return void t.destroy()}var d=!h||!n.driver.containsElement(h,a),p=w.get(a),m=f.get(a),g=n._buildInstruction(e,r,m,p,d);if(g.errors&&g.errors.length)S.push(g);else{if(d)return t.onStart((function(){return qv(a,g.fromStyles)})),t.onDestroy((function(){return zv(a,g.toStyles)})),void i.push(t);if(e.isFallbackTransition)return t.onStart((function(){return qv(a,g.fromStyles)})),t.onDestroy((function(){return zv(a,g.toStyles)})),void i.push(t);g.timelines.forEach((function(e){return e.stretchStartingKeyframe=!0})),r.append(a,g.timelines),o.push({instruction:g,player:t,element:a}),g.queriedElements.forEach((function(e){return _v(s,e,[]).push(t)})),g.preStyleProps.forEach((function(e,t){var n=Object.keys(e);if(n.length){var r=l.get(t);r||l.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}})),g.postStyleProps.forEach((function(e,t){var n=Object.keys(e),r=c.get(t);r||c.set(t,r=new Set),n.forEach((function(e){return r.add(e)}))}))}}));if(S.length){var j=[];S.forEach((function(e){j.push("@".concat(e.triggerName," has failed due to:\n")),e.errors.forEach((function(e){return j.push("- ".concat(e,"\n"))}))})),x.forEach((function(e){return e.destroy()})),this.reportError(j)}var E=new Map,P=new Map;o.forEach((function(e){var t=e.element;r.has(t)&&(P.set(t,t),n._beforeAnimationBuild(e.player.namespaceId,e.instruction,E))})),i.forEach((function(e){var t=e.element;n._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach((function(e){_v(E,t,[]).push(e),e.destroy()}))}));var M=g.filter((function(e){return G_(e,l,c)})),T=new Map;q_(T,this.driver,_,c,"*").forEach((function(e){G_(e,l,c)&&M.push(e)}));var I=new Map;p.forEach((function(e,t){q_(I,n.driver,new Set(e),l,"!")})),M.forEach((function(e){var t=T.get(e),n=I.get(e);T.set(e,Object.assign({},t,n))}));var A=[],D=[],R={};o.forEach((function(e){var t=e.element,o=e.player,s=e.instruction;if(r.has(t)){if(u.has(t))return o.onDestroy((function(){return zv(t,s.toStyles)})),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);var l=R;if(P.size>1){for(var c=t,h=[];c=c.parentNode;){var d=P.get(c);if(d){l=d;break}h.push(c)}h.forEach((function(e){return P.set(e,l)}))}var p=n._buildAnimation(o.namespaceId,s,E,a,I,T);if(o.setRealPlayer(p),l===R)A.push(o);else{var f=n.playersByElement.get(l);f&&f.length&&(o.parentPlayer=pv(f)),i.push(o)}}else qv(t,s.fromStyles),o.onDestroy((function(){return zv(t,s.toStyles)})),D.push(o),u.has(t)&&i.push(o)})),D.forEach((function(e){var t=a.get(e.element);if(t&&t.length){var n=pv(t);e.setRealPlayer(n)}})),i.forEach((function(e){e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()}));for(var F=0;F<g.length;F++){var L=g[F],N=L.__ng_removed;if(V_(L,"ng-leave"),!N||!N.hasAnimation){var B=[];if(s.size){var z=s.get(L);z&&z.length&&B.push.apply(B,_toConsumableArray(z));for(var q=this.driver.query(L,".ng-animating",!0),U=0;U<q.length;U++){var H=s.get(q[U]);H&&H.length&&B.push.apply(B,_toConsumableArray(H))}}var V=B.filter((function(e){return!e.destroyed}));V.length?W_(this,L,V):this.processLeaveNode(L)}}return g.length=0,A.forEach((function(e){n.players.push(e),e.onDone((function(){e.destroy();var t=n.players.indexOf(e);n.players.splice(t,1)})),e.play()})),A}},{key:"elementContainsData",value:function(e,t){var n=!1,r=t.__ng_removed;return r&&r.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}},{key:"afterFlush",value:function(e){this._flushFns.push(e)}},{key:"afterFlushAnimationsDone",value:function(e){this._whenQuietFns.push(e)}},{key:"_getPreviousPlayers",value:function(e,t,n,r,i){var a=[];if(t){var o=this.playersByQueriedElement.get(e);o&&(a=o)}else{var s=this.playersByElement.get(e);if(s){var l=!i||"void"==i;s.forEach((function(e){e.queued||(l||e.triggerName==r)&&a.push(e)}))}}return(n||r)&&(a=a.filter((function(e){return!(n&&n!=e.namespaceId||r&&r!=e.triggerName)}))),a}},{key:"_beforeAnimationBuild",value:function(e,t,n){var r,i=this,a=t.element,o=t.isRemovalTransition?void 0:e,s=t.isRemovalTransition?void 0:t.triggerName,l=_createForOfIteratorHelper(t.timelines);try{var c=function(){var e=r.value.element,l=e!==a,c=_v(n,e,[]);i._getPreviousPlayers(e,l,o,s,t.toState).forEach((function(e){var t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),c.push(e)}))};for(l.s();!(r=l.n()).done;)c()}catch(u){l.e(u)}finally{l.f()}qv(a,t.fromStyles)}},{key:"_buildAnimation",value:function(e,t,n,r,i,a){var o=this,s=t.triggerName,l=t.element,c=[],u=new Set,h=new Set,d=t.timelines.map((function(t){var d=t.element;u.add(d);var p=d.__ng_removed;if(p&&p.removedBeforeQueried)return new uv(t.duration,t.delay);var f,m,g=d!==l,v=(f=(n.get(d)||T_).map((function(e){return e.getRealPlayer()})),m=[],function e(t,n){for(var r=0;r<t.length;r++){var i=t[r];i instanceof hv?e(i.players,n):n.push(i)}}(f,m),m).filter((function(e){return!!e.element&&e.element===d})),_=i.get(d),b=a.get(d),y=fv(0,o._normalizer,0,t.keyframes,_,b),C=o._buildPlayer(t,y,v);if(t.subTimeline&&r&&h.add(d),g){var w=new N_(e,s,d);w.setRealPlayer(C),c.push(w)}return C}));c.forEach((function(e){_v(o.playersByQueriedElement,e.element,[]).push(e),e.onDone((function(){return function(e,t,n){var r;if(e instanceof Map){if(r=e.get(t)){if(r.length){var i=r.indexOf(n);r.splice(i,1)}0==r.length&&e.delete(t)}}else if(r=e[t]){if(r.length){var a=r.indexOf(n);r.splice(a,1)}0==r.length&&delete e[t]}return r}(o.playersByQueriedElement,e.element,e)}))})),u.forEach((function(e){return H_(e,"ng-animating")}));var p=pv(d);return p.onDestroy((function(){u.forEach((function(e){return V_(e,"ng-animating")})),zv(l,t.toStyles)})),h.forEach((function(e){_v(r,e,[]).push(p)})),p}},{key:"_buildPlayer",value:function(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new uv(e.duration,e.delay)}},{key:"queuedPlayers",get:function(){var e=[];return this._namespaceList.forEach((function(t){t.players.forEach((function(t){t.queued&&e.push(t)}))})),e}}]),e}(),N_=function(){function e(t,n,r){_classCallCheck2(this,e),this.namespaceId=t,this.triggerName=n,this.element=r,this._player=new uv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}return _createClass2(e,[{key:"setRealPlayer",value:function(e){var t=this;this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach((function(n){t._queuedCallbacks[n].forEach((function(t){return mv(e,n,void 0,t)}))})),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}},{key:"getRealPlayer",value:function(){return this._player}},{key:"overrideTotalTime",value:function(e){this.totalTime=e}},{key:"syncPlayerEvents",value:function(e){var t=this,n=this._player;n.triggerCallback&&e.onStart((function(){return n.triggerCallback("start")})),e.onDone((function(){return t.finish()})),e.onDestroy((function(){return t.destroy()}))}},{key:"_queueEvent",value:function(e,t){_v(this._queuedCallbacks,e,[]).push(t)}},{key:"onDone",value:function(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}},{key:"onStart",value:function(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}},{key:"onDestroy",value:function(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}},{key:"init",value:function(){this._player.init()}},{key:"hasStarted",value:function(){return!this.queued&&this._player.hasStarted()}},{key:"play",value:function(){!this.queued&&this._player.play()}},{key:"pause",value:function(){!this.queued&&this._player.pause()}},{key:"restart",value:function(){!this.queued&&this._player.restart()}},{key:"finish",value:function(){this._player.finish()}},{key:"destroy",value:function(){this.destroyed=!0,this._player.destroy()}},{key:"reset",value:function(){!this.queued&&this._player.reset()}},{key:"setPosition",value:function(e){this.queued||this._player.setPosition(e)}},{key:"getPosition",value:function(){return this.queued?0:this._player.getPosition()}},{key:"triggerCallback",value:function(e){var t=this._player;t.triggerCallback&&t.triggerCallback(e)}}]),e}();function B_(e){return e&&1===e.nodeType}function z_(e,t){var n=e.style.display;return e.style.display=null!=t?t:"none",n}function q_(e,t,n,r,i){var a=[];n.forEach((function(e){return a.push(z_(e))}));var o=[];r.forEach((function(n,r){var a={};n.forEach((function(e){var n=a[e]=t.computeStyle(r,e,i);n&&0!=n.length||(r.__ng_removed=A_,o.push(r))})),e.set(r,a)}));var s=0;return n.forEach((function(e){return z_(e,a[s++])})),o}function U_(e,t){var n=new Map;if(e.forEach((function(e){return n.set(e,[])})),0==t.length)return n;var r=new Set(t),i=new Map;return t.forEach((function(e){var t=function e(t){if(!t)return 1;var a=i.get(t);if(a)return a;var o=t.parentNode;return a=n.has(o)?o:r.has(o)?1:e(o),i.set(t,a),a}(e);1!==t&&n.get(t).push(e)})),n}function H_(e,t){if(e.classList)e.classList.add(t);else{var n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function V_(e,t){if(e.classList)e.classList.remove(t);else{var n=e.$$classes;n&&delete n[t]}}function W_(e,t,n){pv(n).onDone((function(){return e.processLeaveNode(t)}))}function G_(e,t,n){var r=n.get(e);if(!r)return!1;var i=t.get(e);return i?r.forEach((function(e){return i.add(e)})):t.set(e,r),n.delete(e),!0}var Y_=function(){function e(t,n,r){var i=this;_classCallCheck2(this,e),this.bodyNode=t,this._driver=n,this._triggerCache={},this.onRemovalComplete=function(e,t){},this._transitionEngine=new L_(t,n,r),this._timelineEngine=new M_(t,n,r),this._transitionEngine.onRemovalComplete=function(e,t){return i.onRemovalComplete(e,t)}}return _createClass2(e,[{key:"registerTrigger",value:function(e,t,n,r,i){var a=e+"-"+r,o=this._triggerCache[a];if(!o){var s=[],l=r_(this._driver,i,s);if(s.length)throw new Error('The animation trigger "'.concat(r,'" has failed to build due to the following errors:\n - ').concat(s.join("\n - ")));o=function(e,t){return new j_(e,t)}(r,l),this._triggerCache[a]=o}this._transitionEngine.registerTrigger(t,r,o)}},{key:"register",value:function(e,t){this._transitionEngine.register(e,t)}},{key:"destroy",value:function(e,t){this._transitionEngine.destroy(e,t)}},{key:"onInsert",value:function(e,t,n,r){this._transitionEngine.insertNode(e,t,n,r)}},{key:"onRemove",value:function(e,t,n,r){this._transitionEngine.removeNode(e,t,r||!1,n)}},{key:"disableAnimations",value:function(e,t){this._transitionEngine.markElementAsDisabled(e,t)}},{key:"process",value:function(e,t,n,r){if("@"==n.charAt(0)){var i=_slicedToArray(bv(n),2),a=i[0],o=i[1];this._timelineEngine.command(a,t,o,r)}else this._transitionEngine.trigger(e,t,n,r)}},{key:"listen",value:function(e,t,n,r,i){if("@"==n.charAt(0)){var a=_slicedToArray(bv(n),2),o=a[0],s=a[1];return this._timelineEngine.listen(o,t,s,i)}return this._transitionEngine.listen(e,t,n,r,i)}},{key:"flush",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:-1;this._transitionEngine.flush(e)}},{key:"whenRenderingDone",value:function(){return this._transitionEngine.whenRenderingDone()}},{key:"players",get:function(){return this._transitionEngine.players.concat(this._timelineEngine.players)}}]),e}();function X_(e,t){var n=null,r=null;return Array.isArray(t)&&t.length?(n=K_(t[0]),t.length>1&&(r=K_(t[t.length-1]))):t&&(n=K_(t)),n||r?new J_(e,n,r):null}var J_=function(){var e=function(){function e(t,n,r){_classCallCheck2(this,e),this._element=t,this._startStyles=n,this._endStyles=r,this._state=0;var i=e.initialStylesByElement.get(t);i||e.initialStylesByElement.set(t,i={}),this._initialStyles=i}return _createClass2(e,[{key:"start",value:function(){this._state<1&&(this._startStyles&&zv(this._element,this._startStyles,this._initialStyles),this._state=1)}},{key:"finish",value:function(){this.start(),this._state<2&&(zv(this._element,this._initialStyles),this._endStyles&&(zv(this._element,this._endStyles),this._endStyles=null),this._state=1)}},{key:"destroy",value:function(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(qv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(qv(this._element,this._endStyles),this._endStyles=null),zv(this._element,this._initialStyles),this._state=3)}}]),e}();return e.initialStylesByElement=new WeakMap,e}();function K_(e){for(var t=null,n=Object.keys(e),r=0;r<n.length;r++){var i=n[r];$_(i)&&((t=t||{})[i]=e[i])}return t}function $_(e){return"display"===e||"position"===e}var Z_=function(){function e(t,n,r,i,a,o,s){var l=this;_classCallCheck2(this,e),this._element=t,this._name=n,this._duration=r,this._delay=i,this._easing=a,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=function(e){return l._handleCallback(e)}}return _createClass2(e,[{key:"apply",value:function(){var e,t,n;e=this._element,t="".concat(this._duration,"ms ").concat(this._easing," ").concat(this._delay,"ms 1 normal ").concat(this._fillMode," ").concat(this._name),(n=ib(e,"").trim()).length&&(function(e,t){for(var n=0;n<e.length;n++)e.charAt(n)}(n),t="".concat(n,", ").concat(t)),rb(e,"",t),nb(this._element,this._eventFn,!1),this._startTime=Date.now()}},{key:"pause",value:function(){Q_(this._element,this._name,"paused")}},{key:"resume",value:function(){Q_(this._element,this._name,"running")}},{key:"setPosition",value:function(e){var t=eb(this._element,this._name);this._position=e*this._duration,rb(this._element,"Delay","-".concat(this._position,"ms"),t)}},{key:"getPosition",value:function(){return this._position}},{key:"_handleCallback",value:function(e){var t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}},{key:"finish",value:function(){this._finished||(this._finished=!0,this._onDoneFn(),nb(this._element,this._eventFn,!0))}},{key:"destroy",value:function(){var e,t,n,r;this._destroyed||(this._destroyed=!0,this.finish(),e=this._element,t=this._name,n=ib(e,"").split(","),(r=tb(n,t))>=0&&(n.splice(r,1),rb(e,"",n.join(","))))}}]),e}();function Q_(e,t,n){rb(e,"PlayState",n,eb(e,t))}function eb(e,t){var n=ib(e,"");return n.indexOf(",")>0?tb(n.split(","),t):tb([n],t)}function tb(e,t){for(var n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function nb(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function rb(e,t,n,r){var i="animation"+t;if(null!=r){var a=e.style[i];if(a.length){var o=a.split(",");o[r]=n,n=o.join(",")}}e.style[i]=n}function ib(e,t){return e.style["animation"+t]}var ab=function(){function e(t,n,r,i,a,o,s,l){_classCallCheck2(this,e),this.element=t,this.keyframes=n,this.animationName=r,this._duration=i,this._delay=a,this._finalStyles=s,this._specialStyles=l,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+a,this._buildStyler()}return _createClass2(e,[{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"destroy",value:function(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"_flushDoneFns",value:function(){this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[]}},{key:"_flushStartFns",value:function(){this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[]}},{key:"finish",value:function(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}},{key:"setPosition",value:function(e){this._styler.setPosition(e)}},{key:"getPosition",value:function(){return this._styler.getPosition()}},{key:"hasStarted",value:function(){return this._state>=2}},{key:"init",value:function(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}},{key:"play",value:function(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}},{key:"pause",value:function(){this.init(),this._styler.pause()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"reset",value:function(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}},{key:"_buildStyler",value:function(){var e=this;this._styler=new Z_(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",(function(){return e.finish()}))}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"beforeDestroy",value:function(){var e=this;this.init();var t={};if(this.hasStarted()){var n=this._state>=3;Object.keys(this._finalStyles).forEach((function(r){"offset"!=r&&(t[r]=n?e._finalStyles[r]:Zv(e.element,r))}))}this.currentSnapshot=t}}]),e}(),ob=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this)).element=e,i._startingStyles={},i.__initialized=!1,i._styles=Mv(r),i}return _createClass2(n,[{key:"init",value:function(){var e=this;!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach((function(t){e._startingStyles[t]=e.element.style[t]})),_get2(_getPrototypeOf2(n.prototype),"init",this).call(this))}},{key:"play",value:function(){var e=this;this._startingStyles&&(this.init(),Object.keys(this._styles).forEach((function(t){return e.element.style.setProperty(t,e._styles[t])})),_get2(_getPrototypeOf2(n.prototype),"play",this).call(this))}},{key:"destroy",value:function(){var e=this;this._startingStyles&&(Object.keys(this._startingStyles).forEach((function(t){var n=e._startingStyles[t];n?e.element.style.setProperty(t,n):e.element.style.removeProperty(t)})),this._startingStyles=null,_get2(_getPrototypeOf2(n.prototype),"destroy",this).call(this))}}]),n}(uv),sb=function(){function e(){_classCallCheck2(this,e),this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return Ov(e)}},{key:"matchesElement",value:function(e,t){return jv(e,t)}},{key:"containsElement",value:function(e,t){return Ev(e,t)}},{key:"query",value:function(e,t,n){return Pv(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"buildKeyframeElement",value:function(e,t,n){n=n.map((function(e){return Mv(e)}));var r="@keyframes ".concat(t," {\n"),i="";n.forEach((function(e){i=" ";var t=parseFloat(e.offset);r+="".concat(i).concat(100*t,"% {\n"),i+=" ",Object.keys(e).forEach((function(t){var n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(r+="".concat(i,"animation-timing-function: ").concat(n,";\n")));default:return void(r+="".concat(i).concat(t,": ").concat(n,";\n"))}})),r+=i+"}\n"})),r+="}\n";var a=document.createElement("style");return a.innerHTML=r,a}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;o&&this._notifyFaultyScrubber();var s=a.filter((function(e){return e instanceof ab})),l={};Jv(n,r)&&s.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var c=function(e){var t={};return e&&(Array.isArray(e)?e:[e]).forEach((function(e){Object.keys(e).forEach((function(n){"offset"!=n&&"easing"!=n&&(t[n]=e[n])}))})),t}(t=Kv(e,t,l));if(0==n)return new ob(e,c);var u="gen_css_kf_"+this._count++,h=this.buildKeyframeElement(e,u,t);document.querySelector("head").appendChild(h);var d=X_(e,t),p=new ab(e,t,u,n,r,i,c,d);return p.onDestroy((function(){var e;(e=h).parentNode.removeChild(e)})),p}},{key:"_notifyFaultyScrubber",value:function(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}]),e}(),lb=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.element=t,this.keyframes=n,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}return _createClass2(e,[{key:"_onFinish",value:function(){this._finished||(this._finished=!0,this._onDoneFns.forEach((function(e){return e()})),this._onDoneFns=[])}},{key:"init",value:function(){this._buildPlayer(),this._preparePlayerBeforeStart()}},{key:"_buildPlayer",value:function(){var e=this;if(!this._initialized){this._initialized=!0;var t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:{},this.domPlayer.addEventListener("finish",(function(){return e._onFinish()}))}}},{key:"_preparePlayerBeforeStart",value:function(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}},{key:"_triggerWebAnimation",value:function(e,t,n){return e.animate(t,n)}},{key:"onStart",value:function(e){this._onStartFns.push(e)}},{key:"onDone",value:function(e){this._onDoneFns.push(e)}},{key:"onDestroy",value:function(e){this._onDestroyFns.push(e)}},{key:"play",value:function(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach((function(e){return e()})),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}},{key:"pause",value:function(){this.init(),this.domPlayer.pause()}},{key:"finish",value:function(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}},{key:"reset",value:function(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}},{key:"_resetDomPlayerState",value:function(){this.domPlayer&&this.domPlayer.cancel()}},{key:"restart",value:function(){this.reset(),this.play()}},{key:"hasStarted",value:function(){return this._started}},{key:"destroy",value:function(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach((function(e){return e()})),this._onDestroyFns=[])}},{key:"setPosition",value:function(e){this.domPlayer.currentTime=e*this.time}},{key:"getPosition",value:function(){return this.domPlayer.currentTime/this.time}},{key:"beforeDestroy",value:function(){var e=this,t={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach((function(n){"offset"!=n&&(t[n]=e._finished?e._finalKeyframe[n]:Zv(e.element,n))})),this.currentSnapshot=t}},{key:"triggerCallback",value:function(e){var t="start"==e?this._onStartFns:this._onDoneFns;t.forEach((function(e){return e()})),t.length=0}},{key:"totalTime",get:function(){return this._delay+this._duration}}]),e}(),cb=function(){function e(){_classCallCheck2(this,e),this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(ub().toString()),this._cssKeyframesDriver=new sb}return _createClass2(e,[{key:"validateStyleProperty",value:function(e){return Ov(e)}},{key:"matchesElement",value:function(e,t){return jv(e,t)}},{key:"containsElement",value:function(e,t){return Ev(e,t)}},{key:"query",value:function(e,t,n){return Pv(e,t,n)}},{key:"computeStyle",value:function(e,t,n){return window.getComputedStyle(e)[t]}},{key:"overrideWebAnimationsSupport",value:function(e){this._isNativeImpl=e}},{key:"animate",value:function(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],o=arguments.length>6?arguments[6]:void 0;if(!o&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,r,i,a);var s={duration:n,delay:r,fill:0==r?"both":"forwards"};i&&(s.easing=i);var l={},c=a.filter((function(e){return e instanceof lb}));Jv(n,r)&&c.forEach((function(e){var t=e.currentSnapshot;Object.keys(t).forEach((function(e){return l[e]=t[e]}))}));var u=X_(e,t=Kv(e,t=t.map((function(e){return Lv(e,!1)})),l));return new lb(e,t,s,u)}}]),e}();function ub(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}var hb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._nextAnimationId=0,i._renderer=e.createRenderer(r.body,{id:"0",encapsulation:$e.None,styles:[],data:{animation:[]}}),i}return _createClass2(n,[{key:"build",value:function(e){var t=this._nextAnimationId.toString();this._nextAnimationId++;var n=Array.isArray(e)?sv(e):e;return fb(this._renderer,null,t,"register",[n]),new db(t,this._renderer)}}]),n}(ov),db=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r){var i;return _classCallCheck2(this,n),(i=t.call(this))._id=e,i._renderer=r,i}return _createClass2(n,[{key:"create",value:function(e,t){return new pb(this._id,e,t||{},this._renderer)}}]),n}(function(){return function e(){_classCallCheck2(this,e)}}()),pb=function(){function e(t,n,r,i){_classCallCheck2(this,e),this.id=t,this.element=n,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}return _createClass2(e,[{key:"_listen",value:function(e,t){return this._renderer.listen(this.element,"@@".concat(this.id,":").concat(e),t)}},{key:"_command",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return fb(this._renderer,this.element,this.id,e,n)}},{key:"onDone",value:function(e){this._listen("done",e)}},{key:"onStart",value:function(e){this._listen("start",e)}},{key:"onDestroy",value:function(e){this._listen("destroy",e)}},{key:"init",value:function(){this._command("init")}},{key:"hasStarted",value:function(){return this._started}},{key:"play",value:function(){this._command("play"),this._started=!0}},{key:"pause",value:function(){this._command("pause")}},{key:"restart",value:function(){this._command("restart")}},{key:"finish",value:function(){this._command("finish")}},{key:"destroy",value:function(){this._command("destroy")}},{key:"reset",value:function(){this._command("reset")}},{key:"setPosition",value:function(e){this._command("setPosition",e)}},{key:"getPosition",value:function(){return 0}}]),e}();function fb(e,t,n,r,i){return e.setProperty(t,"@@".concat(n,":").concat(r),i)}var mb=function(){function e(t,n,r){_classCallCheck2(this,e),this.delegate=t,this.engine=n,this._zone=r,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),n.onRemovalComplete=function(e,t){t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}return _createClass2(e,[{key:"createRenderer",value:function(e,t){var n=this,r=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){var i=this._rendererCache.get(r);return i||(i=new gb("",r,this.engine),this._rendererCache.set(r,i)),i}var a=t.id,o=t.id+"-"+this._currentId;return this._currentId++,this.engine.register(o,e),t.data.animation.forEach((function(t){return n.engine.registerTrigger(a,o,e,t.name,t)})),new vb(this,o,r,this.engine)}},{key:"begin",value:function(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}},{key:"_scheduleCountTask",value:function(){var e=this;this.promise.then((function(){e._microtaskId++}))}},{key:"scheduleListenerCallback",value:function(e,t,n){var r=this;e>=0&&e<this._microtaskId?this._zone.run((function(){return t(n)})):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then((function(){r._zone.run((function(){r._animationCallbacksBuffer.forEach((function(e){var t=_slicedToArray(e,2);(0,t[0])(t[1])})),r._animationCallbacksBuffer=[]}))})),this._animationCallbacksBuffer.push([t,n]))}},{key:"end",value:function(){var e=this;this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular((function(){e._scheduleCountTask(),e.engine.flush(e._microtaskId)})),this.delegate.end&&this.delegate.end()}},{key:"whenRenderingDone",value:function(){return this.engine.whenRenderingDone()}}]),e}(),gb=function(){function e(t,n,r){_classCallCheck2(this,e),this.namespaceId=t,this.delegate=n,this.engine=r,this.destroyNode=this.delegate.destroyNode?function(e){return n.destroyNode(e)}:null}return _createClass2(e,[{key:"destroy",value:function(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}},{key:"createElement",value:function(e,t){return this.delegate.createElement(e,t)}},{key:"createComment",value:function(e){return this.delegate.createComment(e)}},{key:"createText",value:function(e){return this.delegate.createText(e)}},{key:"appendChild",value:function(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}},{key:"insertBefore",value:function(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}},{key:"removeChild",value:function(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}},{key:"selectRootElement",value:function(e,t){return this.delegate.selectRootElement(e,t)}},{key:"parentNode",value:function(e){return this.delegate.parentNode(e)}},{key:"nextSibling",value:function(e){return this.delegate.nextSibling(e)}},{key:"setAttribute",value:function(e,t,n,r){this.delegate.setAttribute(e,t,n,r)}},{key:"removeAttribute",value:function(e,t,n){this.delegate.removeAttribute(e,t,n)}},{key:"addClass",value:function(e,t){this.delegate.addClass(e,t)}},{key:"removeClass",value:function(e,t){this.delegate.removeClass(e,t)}},{key:"setStyle",value:function(e,t,n,r){this.delegate.setStyle(e,t,n,r)}},{key:"removeStyle",value:function(e,t,n){this.delegate.removeStyle(e,t,n)}},{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}},{key:"setValue",value:function(e,t){this.delegate.setValue(e,t)}},{key:"listen",value:function(e,t,n){return this.delegate.listen(e,t,n)}},{key:"disableAnimations",value:function(e,t){this.engine.disableAnimations(e,t)}},{key:"data",get:function(){return this.delegate.data}}]),e}(),vb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i,a){var o;return _classCallCheck2(this,n),(o=t.call(this,r,i,a)).factory=e,o.namespaceId=r,o}return _createClass2(n,[{key:"setProperty",value:function(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}},{key:"listen",value:function(e,t,n){var r,i,a=this;if("@"==t.charAt(0)){var o,s=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e),l=t.substr(1),c="";return"@"!=l.charAt(0)&&(i=(r=l).indexOf("."),l=(o=_slicedToArray([r.substring(0,i),r.substr(i+1)],2))[0],c=o[1]),this.engine.listen(this.namespaceId,s,l,c,(function(e){a.factory.scheduleListenerCallback(e._data||-1,n,e)}))}return this.delegate.listen(e,t,n)}}]),n}(gb),_b=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){return _classCallCheck2(this,n),t.call(this,e.body,r,i)}return n}(Y_);function bb(){return"function"==typeof ub()?new cb:new sb}function yb(){return new C_}function Cb(e,t,n){return new mb(e,t,n)}var wb,kb=new Re("AnimationModuleType"),xb=function e(){_classCallCheck2(this,e)},Sb=n("CxY0"),Ob=new Re("JWT_OPTIONS"),jb=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;_classCallCheck2(this,e),this.tokenGetter=t&&t.tokenGetter||function(){}}return _createClass2(e,[{key:"urlBase64Decode",value:function(e){var t=e.replace(/-/g,"+").replace(/_/g,"/");switch(t.length%4){case 0:break;case 2:t+="==";break;case 3:t+="=";break;default:throw new Error("Illegal base64url string!")}return this.b64DecodeUnicode(t)}},{key:"b64decode",value:function(e){var t="";if((e=String(e).replace(/=+$/,"")).length%4==1)throw new Error("'atob' failed: The string to be decoded is not correctly encoded.");for(var n,r,i=0,a=0;r=e.charAt(a++);~r&&(n=i%4?64*n+r:r,i++%4)?t+=String.fromCharCode(255&n>>(-2*i&6)):0)r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(r);return t}},{key:"b64DecodeUnicode",value:function(e){return decodeURIComponent(Array.prototype.map.call(this.b64decode(e),(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)})).join(""))}},{key:"decodeToken",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter();if(!e||""===e)return null;var t=e.split(".");if(3!==t.length)throw new Error("The inspected token doesn't appear to be a JWT. Check to make sure it has three parts and see https://jwt.io for more.");var n=this.urlBase64Decode(t[1]);if(!n)throw new Error("Cannot decode the token.");return JSON.parse(n)}},{key:"getTokenExpirationDate",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter();if(!(e=this.decodeToken(t))||!e.hasOwnProperty("exp"))return null;var n=new Date(0);return n.setUTCSeconds(e.exp),n}},{key:"isTokenExpired",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tokenGetter(),t=arguments.length>1?arguments[1]:void 0;if(!e||""===e)return!0;var n=this.getTokenExpirationDate(e);return t=t||0,null!==n&&!(n.valueOf()>(new Date).valueOf()+1e3*t)}},{key:"getAuthScheme",value:function(e,t){return"function"==typeof e?e(t):e}}]),e}(),Eb=function(){function e(t,n){_classCallCheck2(this,e),this.jwtHelper=n,this.standardPorts=["80","443"],this.tokenGetter=t.tokenGetter,this.headerName=t.headerName||"Authorization",this.authScheme=t.authScheme||""===t.authScheme?t.authScheme:"Bearer ",this.whitelistedDomains=t.whitelistedDomains||[],this.blacklistedRoutes=t.blacklistedRoutes||[],this.throwNoTokenError=t.throwNoTokenError||!1,this.skipWhenExpired=t.skipWhenExpired}return _createClass2(e,[{key:"isWhitelistedDomain",value:function(e){var t=Object(Sb.parse)(e.url,!1,!0),n=null!==t.hostname?"".concat(t.hostname).concat(t.port&&!this.standardPorts.includes(t.port)?":"+t.port:""):t.hostname;return null===n||this.whitelistedDomains.findIndex((function(e){return"string"==typeof e?e===n:e instanceof RegExp&&e.test(n)}))>-1}},{key:"isBlacklistedRoute",value:function(e){var t=Object(Sb.parse)(e.url,!1,!0);return this.blacklistedRoutes.findIndex((function(n){if("string"==typeof n){var r=Object(Sb.parse)(n,!1,!0);return r.hostname===t.hostname&&r.path===t.path}return n instanceof RegExp&&n.test(e.url)}))>-1}},{key:"handleInterception",value:function(e,t,n){var r=this.jwtHelper.getAuthScheme(this.authScheme,t),i=!1;if(!e&&this.throwNoTokenError)throw new Error("Could not get token from tokenGetter function.");return this.skipWhenExpired&&(i=!e||this.jwtHelper.isTokenExpired(e)),e&&i&&this.skipWhenExpired?t=t.clone():e&&(t=t.clone({setHeaders:_defineProperty({},this.headerName,"".concat(r).concat(e))})),n.handle(t)}},{key:"intercept",value:function(e,t){var n=this;if(!this.isWhitelistedDomain(e)||this.isBlacklistedRoute(e))return t.handle(e);var r=this.tokenGetter(e);return r instanceof Promise?X(r).pipe(J((function(r){return n.handleInterception(r,e,t)}))):this.handleInterception(r,e,t)}}]),e}(),Pb=wb=function(){function e(t){if(_classCallCheck2(this,e),t)throw new Error("JwtModule is already loaded. It should only be imported in your application's main module.")}return _createClass2(e,null,[{key:"forRoot",value:function(e){return{ngModule:wb,providers:[{provide:pm,useClass:Eb,multi:!0},e.jwtOptionsProvider||{provide:Ob,useValue:e.config},jb]}}}]),e}(),Mb=function(){function e(t){_classCallCheck2(this,e),this.router=t}return _createClass2(e,[{key:"intercept",value:function(e,t){var n=this,r=JSON.parse(localStorage.getItem("currentUser"));return r&&r.token&&(e=e.clone({setHeaders:{"Content-Type":"application/json",Authorization:"JWT "+r.token}})),t.handle(e).pipe(Bl((function(){}),(function(e){if(e instanceof lm){if(401!==e.status)return;localStorage.removeItem("access_token"),localStorage.removeItem("loggedInUsername"),localStorage.removeItem("tshirtUser"),n.router.navigate(["/homepage"])}})))}}]),e}();function Tb(e,t,n,i){return r(n)&&(i=n,n=void 0),i?Tb(e,t,n).pipe(V((function(e){return l(e)?i.apply(void 0,_toConsumableArray(e)):i(e)}))):new k((function(r){!function e(t,n,r,i,a){var o;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){var s=t;t.addEventListener(n,r,a),o=function(){return s.removeEventListener(n,r,a)}}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){var l=t;t.on(n,r),o=function(){return l.off(n,r)}}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){var c=t;t.addListener(n,r),o=function(){return c.removeListener(n,r)}}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(var u=0,h=t.length;u<h;u++)e(t[u],n,r,i,a)}i.add(o)}(e,t,(function(e){r.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),r,n)}))}var Ib=new k(b),Ab=new vf(ff),Db=function(){function e(t,n){_classCallCheck2(this,e),this.delay=t,this.scheduler=n}return _createClass2(e,[{key:"call",value:function(e,t){return t.subscribe(new Rb(e,this.delay,this.scheduler))}}]),e}(),Rb=function(e){_inherits(n,e);var t=_createSuper(n);function n(e,r,i){var a;return _classCallCheck2(this,n),(a=t.call(this,e)).delay=r,a.scheduler=i,a.queue=[],a.active=!1,a.errored=!1,a}return _createClass2(n,[{key:"_schedule",value:function(e){this.active=!0,this.destination.add(e.schedule(n.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}},{key:"scheduleNotification",value:function(e){if(!0!==this.errored){var t=this.scheduler,n=new Fb(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}}},{key:"_next",value:function(e){this.scheduleNotification(kf.createNext(e))}},{key:"_error",value:function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}},{key:"_complete",value:function(){this.scheduleNotification(kf.createComplete()),this.unsubscribe()}}],[{key:"dispatch",value:function(e){for(var t=e.source,n=t.queue,r=e.scheduler,i=e.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var a=Math.max(0,n[0].time-r.now());this.schedule(e,a)}else this.unsubscribe(),t.active=!1}}]),n}(g),Fb=function e(t,n){_classCallCheck2(this,e),this.time=t,this.notification=n},Lb="Service workers are disabled or not supported by this browser",Nb=function(){function e(t){if(_classCallCheck2(this,e),this.serviceWorker=t,t){var n=Tb(t,"controllerchange").pipe(V((function(){return t.controller}))),r=oc(Pl((function(){return wl(t.controller)})),n);this.worker=r.pipe(Tl((function(e){return!!e}))),this.registration=this.worker.pipe(rc((function(){return t.getRegistration()})));var i=Tb(t,"message").pipe(V((function(e){return e.data}))).pipe(Tl((function(e){return e&&e.type}))).pipe(se(new M));i.connect(),this.events=i}else this.worker=this.events=this.registration=Pl((function(){return bf(new Error("Service workers are disabled or not supported by this browser"))}))}return _createClass2(e,[{key:"postMessage",value:function(e,t){return this.worker.pipe($l(1),Bl((function(n){n.postMessage(Object.assign({action:e},t))}))).toPromise().then((function(){}))}},{key:"postMessageWithStatus",value:function(e,t,n){var r=this.waitForStatus(n),i=this.postMessage(e,t);return Promise.all([r,i]).then((function(){}))}},{key:"generateNonce",value:function(){return Math.round(1e7*Math.random())}},{key:"eventsOfType",value:function(e){return this.events.pipe(Tl((function(t){return t.type===e})))}},{key:"nextEventOfType",value:function(e){return this.eventsOfType(e).pipe($l(1))}},{key:"waitForStatus",value:function(e){return this.eventsOfType("STATUS").pipe(Tl((function(t){return t.nonce===e})),$l(1),V((function(e){if(!e.status)throw new Error(e.error)}))).toPromise()}},{key:"isEnabled",get:function(){return!!this.serviceWorker}}]),e}(),Bb=function(){function e(t){if(_classCallCheck2(this,e),this.sw=t,this.subscriptionChanges=new M,!t.isEnabled)return this.messages=Ib,this.notificationClicks=Ib,void(this.subscription=Ib);this.messages=this.sw.eventsOfType("PUSH").pipe(V((function(e){return e.data}))),this.notificationClicks=this.sw.eventsOfType("NOTIFICATION_CLICK").pipe(V((function(e){return e.data}))),this.pushManager=this.sw.registration.pipe(V((function(e){return e.pushManager})));var n=this.pushManager.pipe(rc((function(e){return e.getSubscription()})));this.subscription=ee(n,this.subscriptionChanges)}return _createClass2(e,[{key:"requestSubscription",value:function(e){var t=this;if(!this.sw.isEnabled)return Promise.reject(new Error(Lb));for(var n={userVisibleOnly:!0},r=this.decodeBase64(e.serverPublicKey.replace(/_/g,"/").replace(/-/g,"+")),i=new Uint8Array(new ArrayBuffer(r.length)),a=0;a<r.length;a++)i[a]=r.charCodeAt(a);return n.applicationServerKey=i,this.pushManager.pipe(rc((function(e){return e.subscribe(n)})),$l(1)).toPromise().then((function(e){return t.subscriptionChanges.next(e),e}))}},{key:"unsubscribe",value:function(){var e=this;return this.sw.isEnabled?this.subscription.pipe($l(1),rc((function(t){if(null===t)throw new Error("Not subscribed to push notifications.");return t.unsubscribe().then((function(t){if(!t)throw new Error("Unsubscribe failed!");e.subscriptionChanges.next(null)}))}))).toPromise():Promise.reject(new Error(Lb))}},{key:"decodeBase64",value:function(e){return atob(e)}},{key:"isEnabled",get:function(){return this.sw.isEnabled}}]),e}(),zb=function(){function e(t){if(_classCallCheck2(this,e),this.sw=t,!t.isEnabled)return this.available=Ib,void(this.activated=Ib);this.available=this.sw.eventsOfType("UPDATE_AVAILABLE"),this.activated=this.sw.eventsOfType("UPDATE_ACTIVATED")}return _createClass2(e,[{key:"checkForUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Lb));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("CHECK_FOR_UPDATES",{statusNonce:e},e)}},{key:"activateUpdate",value:function(){if(!this.sw.isEnabled)return Promise.reject(new Error(Lb));var e=this.sw.generateNonce();return this.sw.postMessageWithStatus("ACTIVATE_UPDATE",{statusNonce:e},e)}},{key:"isEnabled",get:function(){return this.sw.isEnabled}}]),e}(),qb=function e(){_classCallCheck2(this,e)},Ub=new Re("NGSW_REGISTER_SCRIPT");function Hb(e,t,n,r){return function(){if(ml(r)&&"serviceWorker"in navigator&&!1!==n.enabled){var i;if(navigator.serviceWorker.addEventListener("controllerchange",(function(){null!==navigator.serviceWorker.controller&&navigator.serviceWorker.controller.postMessage({action:"INITIALIZE"})})),"function"==typeof n.registrationStrategy)i=n.registrationStrategy();else{var a=_toArray((n.registrationStrategy||"registerWhenStable").split(":")),o=a[0],s=a.slice(1);switch(o){case"registerImmediately":i=wl(null);break;case"registerWithDelay":i=wl(null).pipe(function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ab,r=(t=e)instanceof Date&&!isNaN(+t)?+e-n.now():Math.abs(e);return function(e){return e.lift(new Db(r,n))}}(+s[0]||0));break;case"registerWhenStable":i=e.get(Ga).isStable.pipe(Tl((function(e){return e})));break;default:throw new Error("Unknown ServiceWorker registration strategy: "+n.registrationStrategy)}}i.pipe($l(1)).subscribe((function(){return navigator.serviceWorker.register(t,{scope:n.scope}).catch((function(e){return console.error("Service worker registration failed with:",e)}))}))}}}function Vb(e,t){return new Nb(ml(t)&&!1!==e.enabled?navigator.serviceWorker:void 0)}var Wb,Gb,Yb=function(){function e(){_classCallCheck2(this,e)}return _createClass2(e,null,[{key:"register",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{ngModule:e,providers:[{provide:Ub,useValue:t},{provide:qb,useValue:n},{provide:Nb,useFactory:Vb,deps:[qb,la]},{provide:na,useFactory:Hb,deps:[Jt,Ub,qb,la],multi:!0}]}}}]),e}(),Xb=((Gb=function(){function e(t,n,r){_classCallCheck2(this,e),this.userService=t,this.router=n,this.alertService=r}return _createClass2(e,[{key:"canActivate",value:function(){if(this.userService.isLoggedIn()){if("true"==localStorage.getItem("isBackBtnPressed"))return localStorage.setItem("isBackBtnPressed","false"),this.alertService.warn("You cannot visit that page without logging out"),!1;var e=localStorage.getItem("loggedInUsername");return this.router.navigate(["/dashboard/"+e]),this.alertService.info("Welcome !!"),!1}return!0}}]),e}()).ngInjectableDef=ke({factory:function(){return new Gb(Ue(jm),Ue(Ad),Ue(Gf))},token:Gb,providedIn:"root"}),Gb),Jb=((Wb=function(){function e(t){_classCallCheck2(this,e),this.router=t}return _createClass2(e,[{key:"canActivate",value:function(){return!!localStorage.getItem("access_token")||(this.router.navigate(["/homepage"]),!1)}}]),e}()).ngInjectableDef=ke({factory:function(){return new Wb(Ue(Ad))},token:Wb,providedIn:"root"}),Wb),Kb=function e(){_classCallCheck2(this,e)},$b=new Rs(Ls,[Ns],(function(e){return function(e){for(var t={},n=[],r=!1,i=0;i<e.length;i++){var a=e[i];a.token===Yt&&!0===a.value&&(r=!0),1073741824&a.flags&&n.push(a.token),a.index=i,t[lr(a.token)]=a}return{factory:null,providersByKey:t,providers:e,modules:n,isRoot:r}}([Hr(512,bn,yn,[[8,[cp,Mm,Dm,Hm,Jm,Qm,Dg,zg,Vg,Xg,Zg,av]],[3,bn],Ge]),Hr(5120,ha,lo,[[3,ha]]),Hr(4608,el,tl,[ha,[2,Qs]]),Hr(5120,Li,co,[Ea]),Hr(5120,ia,aa,[]),Hr(5120,zn,oo,[]),Hr(5120,qn,so,[]),Hr(4608,su,lu,[fl]),Hr(6144,Et,null,[su]),Hr(4608,eu,nu,[]),Hr(5120,Pc,(function(e,t,n,r,i,a,o,s){return[new Zc(e,t,n),new ou(r),new ru(i,a,o,s)]}),[fl,Ea,la,fl,fl,eu,ua,[2,tu]]),Hr(4608,Mc,Mc,[Pc,Ea]),Hr(135680,Ac,Ac,[fl]),Hr(4608,Nc,Nc,[Mc,Ac,ia]),Hr(5120,Iv,bb,[]),Hr(5120,y_,yb,[]),Hr(4608,Y_,_b,[fl,Iv,y_]),Hr(5120,Sn,Cb,[Nc,Y_,Ea]),Hr(6144,Ic,null,[Ac]),Hr(4608,Fa,Fa,[Ea]),Hr(5120,xh,np,[Ad]),Hr(4608,Hd,Hd,[]),Hr(6144,qd,null,[Hd]),Hr(135680,Vd,Vd,[Ad,Xa,ba,Jt,qd]),Hr(4608,Ud,Ud,[]),Hr(5120,Wd,$d,[Ad,vl,Gd]),Hr(5120,op,ap,[rp]),Hr(5120,ca,(function(e){return[e]}),[op]),Hr(4608,hf,hf,[]),Hr(4608,Pp,Pp,[]),Hr(4608,eg,eg,[]),Hr(4608,Cm,wm,[fl,la,bm]),Hr(4608,km,km,[Cm,ym]),Hr(4608,jb,jb,[Ob]),Hr(5120,pm,(function(e,t,n,r){return[e,new Eb(t,n),new Mb(r)]}),[km,Ob,jb,Ad]),Hr(4608,vm,vm,[]),Hr(6144,gm,null,[vm]),Hr(4608,_m,_m,[gm]),Hr(6144,Jf,null,[_m]),Hr(4608,Xf,xm,[Jf,Jt]),Hr(4608,hm,hm,[Xf]),Hr(4608,ov,hb,[Sn,fl]),Hr(5120,Nb,Vb,[qb,la]),Hr(4608,Bb,Bb,[Nb]),Hr(4608,zb,zb,[Nb]),Hr(4608,Gf,Gf,[Ad]),Hr(4608,If,If,[]),Hr(4608,jm,jm,[hm,Ad,Gf,If]),Hr(4608,Xb,Xb,[jm,Ad,Gf]),Hr(4608,Jb,Jb,[Ad]),Hr(1073742336,pl,pl,[]),Hr(1024,nt,gu,[]),Hr(1024,za,(function(){return[Jd()]}),[]),Hr(512,rp,rp,[Jt]),Hr(256,Ub,"ngsw-worker.js",[]),Hr(256,qb,{enabled:!0},[]),Hr(1024,na,(function(e,t,n,r,i,a){return[(o=e,Oc("probe",Ec),Oc("coreTokens",Object.assign({},jc,(o||[]).reduce((function(e,t){return e[t.name]=t.token,e}),{}))),function(){return Ec}),ip(t),Hb(n,r,i,a)];var o}),[[2,za],rp,Jt,Ub,qb,la]),Hr(512,ra,ra,[[2,na]]),Hr(131584,Ga,Ga,[Ea,ua,Jt,nt,bn,ra]),Hr(1073742336,uo,uo,[Ga]),Hr(1073742336,vu,vu,[[3,vu]]),Hr(1024,Yd,Qd,[[3,Ad]]),Hr(512,nh,rh,[]),Hr(512,Nd,Nd,[]),Hr(256,Gd,{},[]),Hr(1024,qs,Zd,[Bs,[2,Us],Gd]),Hr(512,Hs,Hs,[qs,Bs]),Hr(512,ba,ba,[]),Hr(512,Xa,$a,[ba,[2,Ja]]),Hr(1024,Od,(function(){return[[{path:"homepage",component:Vf,canActivate:[Xb]},{path:"edit/:userId/:editId",component:Tm,children:[{path:"front",component:Nm},{path:"back",component:Vm}],canActivate:[Jb]},{path:"signup",component:Km,canActivate:[Xb]},{path:"dashboard/:userId",component:Og,canActivate:[Jb]},{path:"",redirectTo:"homepage",pathMatch:"full"},{path:"profile/:userId",component:Rg,children:[{path:"front",component:qg},{path:"back",component:Wg}],canActivate:[Jb]},{path:"team",component:Jg}]]}),[]),Hr(1024,Ad,tp,[Ga,nh,Nd,Hs,Jt,Xa,ba,Od,Gd,[2,Ed],[2,xd]]),Hr(1073742336,Kd,Kd,[[2,Yd],[2,Ad]]),Hr(1073742336,Kb,Kb,[]),Hr(1073742336,uf,uf,[]),Hr(1073742336,pf,pf,[]),Hr(1073742336,df,df,[]),Hr(1073742336,Df,Df,[]),Hr(1073742336,hg,hg,[]),Hr(1073742336,Sm,Sm,[]),Hr(1073742336,Om,Om,[]),Hr(1073742336,xb,xb,[]),Hr(1073742336,Pb,Pb,[[3,Pb]]),Hr(1073742336,Yb,Yb,[]),Hr(1073742336,Ls,Ls,[]),Hr(256,Yt,!0,[]),Hr(256,bm,"XSRF-TOKEN",[]),Hr(256,ym,"X-XSRF-TOKEN",[]),Hr(256,Ob,{tokenGetter:Fs,whitelistedDomains:["localhost:8000"]},[]),Hr(256,kb,"BrowserAnimations",[])])}));(function(){if(it)throw new Error("Cannot enable prod mode after platform setup.");rt=!1})(),mu().bootstrapModuleFactory($b).catch((function(e){return console.error(e)}))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);